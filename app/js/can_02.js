(function () {
    var f, aa = "undefined" != typeof window && window === this ? this : "undefined" != typeof global ? global : this;

    function ca() {
        aa.Symbol || (aa.Symbol = da);
        ca = function () {
        }
    }

    var ea = 0;

    function da(a) {
        return "jscomp_symbol_" + a + ea++
    }

    function ha() {
        ca();
        aa.Symbol.iterator || (aa.Symbol.iterator = aa.Symbol("iterator"));
        ha = function () {
        }
    }

    function ia(a) {
        ha();
        if (a[aa.Symbol.iterator])return a[aa.Symbol.iterator]();
        var b = 0;
        return {
            next: function () {
                return b == a.length ? {done: !0} : {done: !1, value: a[b++]}
            }
        }
    }

    function ka(a) {
        if (!(a instanceof Array)) {
            a = ia(a);
            for (var b, c = []; !(b = a.next()).done;)c.push(b.value);
            a = c
        }
        return a
    }

    function la(a, b) {
        function c() {
        }

        c.prototype = b.prototype;
        a.prototype = new c;
        a.prototype.constructor = a;
        for (var d in b)if (aa.Object.defineProperties) {
            var e = aa.Object.getOwnPropertyDescriptor(b, d);
            e && aa.Object.defineProperty(a, d, e)
        } else a[d] = b[d]
    }

    function ma(a) {
        this.data = a
    }

    ma.prototype.get = function (a, b) {
        var c;
        if (!this.data)throw Error("no viewConfig, unable to get: " + a);
        c = void 0 === this.data[a] ? b : this.data[a];
        if (void 0 === c)throw Error('Could not retrieve "' + a + '" from viewConfig');
        return c
    };
    var na = (new UAParser).getResult(), oa = na.browser.name, pa = na.browser.major, ra = (new ma(window.viewConfig || {})).get("magicButtonEnabled", null), sa = /\.247$/;
    "" == window.location.pathname || "/" == window.location.pathname || "/signup" == window.location.pathname || "/login" == window.location.pathname || na.browser.version.match(sa) || ("Chrome" == oa || "Chromium" == oa) && 27 <= pa || "Safari" == oa && 6 <= pa || "Firefox" == oa && 23 <= pa || "IE" == oa && 11 <= pa || "undefined" != typeof window.localStorage && window.localStorage.ignore_browser_cache || (ra.test(window.location.search) ? window.location.href = "/unsupported?playvideo\x3d1" : window.location.href = "/unsupported");
    function ta() {
        throw Error();
    }

    function ua(a, b, c) {
        for (var d = [], e = 2; e < arguments.length; ++e)d[e - 2] = arguments[e];
        if (null == a)throw Error(2 > arguments.length ? "argument is null" : va.apply(ta, [].concat([b], ka(d))));
        return a
    }

    function va(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d)c[d - 1] = arguments[d];
        var e = 0;
        return a.replace(/\{}/g, function () {
            return e < c.length ? c[e++] : "{}"
        })
    };
    function wa(a) {
        this.type = a
    }

    wa.prototype.required = function (a, b) {
        var c = b[a];
        if (null == c || typeof c != this.type)throw new TypeError("expected " + this.type + ' for property "' + a + '", found: ' + JSON.stringify(c));
        return c
    };
    wa.prototype.optional = function (a, b) {
        var c = b[a];
        if (null != c && typeof c != this.type)throw new TypeError("expected optional " + this.type + ' for property "' + a + '", found: ' + JSON.stringify(c));
        return c
    };
    var xa = new wa("string");
    var ya = ya || {}, za, t, v, Aa, Ba, Ca, Da, Ea, Ga, Ha, Ia, Ja, Ka, La, Ma, Na, y, Oa, Qa, Ra, Sa, Ua, Va, Wa, Xa, Ya, Za, $a, bb, cb, db, eb, fb, gb, hb, ib = [6, 8, 10, 12, 14, 16, 18, 21, 24, 28, 32, 36, 42, 48, 56, 64, 72, 80, 88, 96, 104, 120, 144], jb = 1 < window.devicePixelRatio, kb = window.navigator.userAgent.match(/Macintosh/) ? !0 : !1, lb = {
            Iz: "search",
            MI: "layout",
            TEXT: "text",
            AI: "backgrounds",
            cJ: "uploads"
        }, mb = /^#(video-)([a-z0-9-]+)$/, nb = 230 / 24, ob = {
           
        }, rb = /^(?:https?:\/\/)?support\.canva\.com\/.+/, sb = /(?:https?:\/\/)?(?:www\.)?youtu(?:be\.com\/watch\?(?:.*?&)?v=|\.be\/)([\w\-]+)(?:&?[\w\?=]*)?/, tb = [5, 4, 3, 2, 1, .67, .5, .333, .25, .1667, .125],
        ub = "#000000 #ffffff #cc0000 #ffcc00 #009900 #0066cc".split(" "), vb = /^(?:https?:\/\/|[\-0-9a-z]+\.)\S+$/i, xb = {
            TITLE: "title",
            ZI: "subtitle",
            BODY: "body"
        };

    function D(a) {
        this.fC = a.fallback;
        this.bx = a.localePrecedence;
        this.ks = {};
        this.F = a.messages;
        this.eG = this.bx[0];
        this.IG = !!a.returnKeys
    }

    D.prototype.format = function (a, b) {
        if (this.IG)return [].join.call(arguments, ":");
        var c = yb(this, a);
        return c.format.call(c, [].slice.call(arguments, 1))
    };
    function yb(a, b) {
        if (a.ks.hasOwnProperty(b))return a.ks[b];
        var c = a.eG, d;
        a.bx.some(function (a) {
            d = this.F[a] && this.F[a][b];
            return void 0 !== d
        }, a);
        d || (c = a.fC, d = a.F[c] && a.F[c][b]);
        if (!d)throw Error("Unknown message: " + b);
        c = new IntlMessageFormat(d, c, zb);
        return a.ks[b] = c
    }

    var zb = {
        number: {
            currency: {style: "currency", currency: "USD"},
            integer: {maximumFractionDigits: 0},
            fixed2: {minimumFractionDigits: 2, maximumFractionDigits: 2}
        }
    };

    function Ab() {
        this.Ga = window.cmsg;
        this.pu = this.Et = this.Dq = this.Jc = this.Vb = this.me = this.Yt = this.da = this.Zc = this.ff = this.Fc = this.zb = this.Ib = this.dd = this.De = this.Kq = this.qf = this.Z = null
    }

    function Bb(a) {
        a.Z || (a.Z = new Cb(a.Ga));
        return a.Z
    }

    function Db(a) {
        a.uv || (a.uv = new Eb(a.Ga));
        return a.uv
    }

    function Fb(a) {
        a.av || (a.av = new Gb(a.Ga));
        return a.av
    }

    function Hb(a) {
        a.Xc || (a.Xc = new Ib(a.Ga));
        return a.Xc
    }

    function Jb(a) {
        a.eb || (a.eb = new Kb(a.Ga));
        return a.eb
    }

    function Lb(a) {
        a.Kq || (a.Kq = new Mb(a.Ga));
        return a.Kq
    }

    function Nb(a) {
        a.Tu || (a.Tu = new Ob(a.Ga));
        return a.Tu
    }

    function Pb(a) {
        a.yb || (a.yb = new Qb(a.Ga));
        return a.yb
    }

    function Rb(a) {
        a.Fc || (a.Fc = new Sb(a.Ga));
        return a.Fc
    }

    function Tb(a) {
        a.ff || (a.ff = new Ub(a.Ga));
        return a.ff
    }

    function Vb(a) {
        a.Zc || (a.Zc = new Wb(a.Ga));
        return a.Zc
    }

    function Xb(a) {
        a.da || (a.da = new Yb(a.Ga));
        return a.da
    }

    function Zb(a) {
        a.zb || (a.zb = new $b(a.Ga));
        return a.zb
    }

    function ac(a) {
        a.Vb || (a.Vb = new bc(a.Ga));
        return a.Vb
    }

    function cc(a) {
        a.Et || (a.Et = new dc(a.Ga));
        return a.Et
    }

    function ec(a) {
        a.pu || (a.pu = new fc(a.Ga));
        return a.pu
    }

    function Cb(a) {
        D.apply(this, arguments)
    }

    Cb.prototype = Object.create(D.prototype);
    function gc(a) {
        return a.format("objectPanelInfoClose")
    }

    function hc(a) {
        return a.format("objectPanelInfoCloseThisInfoPanel")
    }

    function ic(a) {
        return a.format("objectPanelInfoUntitledImage")
    }

    function jc(a) {
        return a.format("objectPanelUploadsPanelUploadButtonLabel")
    }

    function kc(a) {
        return a.format("objectPanelUploadsPanelMarketplaceUploadButtonLabel")
    }

    function lc(a, b) {
        return a.format("objectPanelUploadsPanelUseProviderPhotos", b)
    }

    function mc(a, b) {
        return a.format("objectPanelUploadsPanelProviderSigninToUsePhotos", b)
    }

    function nc(a, b) {
        return a.format("objectPanelUploadsPanelFacebookFolderEmptyMessage", b)
    }

    function oc(a, b) {
        return a.format("objectPanelUploadsPanelFolderImageAlt", b)
    }

    function pc(a) {
        return a.format("objectPanelUploadsPanelDefaultFolderName")
    }

    function qc(a, b) {
        return a.format("objectPanelUploadsPanelSharePopOverPrivateLabelOtherOwner", b)
    }

    function rc(a) {
        return a.format("objectPanelTextPanelAddHeading")
    }

    function sc(a) {
        return a.format("objectPanelTextPanelAddSubHeading")
    }

    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function $b(a) {
        D.apply(this, arguments)
    }

    $b.prototype = Object.create(D.prototype);
    f = $b.prototype;
    f.Vu = function () {
        return this.format("creditCardCardNumberPlaceholder")
    };
    f.jx = function () {
        return this.format("creditCardMonthPlaceholder")
    };
    f.yz = function () {
        return this.format("creditCardYearPlaceholder")
    };
    f.iv = function () {
        return this.format("creditCardCvcPlaceholder")
    };
    f.save = function () {
        return this.format("creditCardSave")
    };
    function Eb(a) {
        D.apply(this, arguments)
    }

    Eb.prototype = Object.create(D.prototype);
    Eb.prototype.Ao = function () {
        return this.format("documentPlaceholderText")
    };
    Eb.prototype.mp = function () {
        return this.format("documentUntitledDesign")
    };
    function tc(a) {
        D.apply(this, arguments)
    }

    tc.prototype = Object.create(D.prototype);
    tc.prototype.Hp = function () {
        return this.format("brandKitEditorActionRetry")
    };
    tc.prototype.mt = function () {
        return this.format("brandKitEditorSavingError")
    };
    tc.prototype.py = function () {
        return this.format("brandKitEditorSaving")
    };
    tc.prototype.Ju = function () {
        return this.format("brandKitEditorAllChangesSaved")
    };
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function Kb(a) {
        D.apply(this, arguments)
    }

    Kb.prototype = Object.create(D.prototype);
    f = Kb.prototype;
    f.lI = function () {
        return this.format("editorControlsUpgrade")
    };
    f.Dt = function () {
        return this.format("editorControlsShare")
    };
    f.download = function () {
        return this.format("editorControlsDownload")
    };
    f.py = function () {
        return this.format("editorControlsSaving")
    };
    f.Ju = function () {
        return this.format("editorControlsAllChangesSaved")
    };
    function uc(a) {
        D.apply(this, arguments)
    }

    uc.prototype = Object.create(D.prototype);
    uc.prototype.error = function () {
        return this.format("homeDesignError")
    };
    function vc(a) {
        D.apply(this, arguments)
    }

    vc.prototype = Object.create(D.prototype);
    vc.prototype.error = function () {
        return this.format("sharedDesignsError")
    };
    vc.prototype.title = function () {
        return this.format("sharedDesignsTitle")
    };
    function wc(a) {
        D.apply(this, arguments)
    }

    wc.prototype = Object.create(D.prototype);
    wc.prototype.ie = function () {
        return this.format("homeTitleSearchResults")
    };
    function xc(a) {
        D.apply(this, arguments)
    }

    xc.prototype = Object.create(D.prototype);
    xc.prototype.Um = function () {
        return this.format("homeSideBarCreateFolder")
    };
    function yc(a) {
        D.apply(this, arguments)
    }

    yc.prototype = Object.create(D.prototype);
    yc.prototype.title = function () {
        return this.format("designImporterTitle")
    };
    yc.prototype.prompt = function () {
        return this.format("designImporterPrompt")
    };
    yc.prototype.empty = function () {
        return this.format("designImporterEmpty")
    };
    yc.prototype.mp = function () {
        return this.format("designImporterUntitledDesign")
    };
    function zc(a) {
        D.apply(this, arguments)
    }

    zc.prototype = Object.create(D.prototype);
    zc.prototype.ns = function (a) {
        return this.format("designCardMoreFolders", a)
    };
    function Ac(a) {
        D.apply(this, arguments)
    }

    Ac.prototype = Object.create(D.prototype);
    Ac.prototype.error = function () {
        return this.format("findUserInputError")
    };
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function Bc(a) {
        D.apply(this, arguments)
    }

    Bc.prototype = Object.create(D.prototype);
    Bc.prototype.empty = function () {
        return this.format("designStreamEmpty")
    };
    Bc.prototype.error = function (a, b) {
        return this.format("designStreamError", a, b)
    };
    function Cc(a) {
        D.apply(this, arguments)
    }

    Cc.prototype = Object.create(D.prototype);
    f = Cc.prototype;
    f.title = function () {
        return this.format("docTypeSelectorTitle")
    };
    f.kz = function () {
        return this.format("docTypeSelectorUseCustomDimensions")
    };
    f.error = function () {
        return this.format("docTypeSelectorError")
    };
    f.times = function () {
        return this.format("docTypeSelectorTimes")
    };
    f.width = function () {
        return this.format("docTypeSelectorWidth")
    };
    f.height = function () {
        return this.format("docTypeSelectorHeight")
    };
    f.Px = function () {
        return this.format("docTypeSelectorPixelsUnit")
    };
    f.Id = function () {
        return this.format("docTypeSelectorDesign")
    };
    f.fl = function () {
        return this.format("docTypeSelectorMore")
    };
    function Gb(a) {
        D.apply(this, arguments)
    }

    Gb.prototype = Object.create(D.prototype);
    Gb.prototype.kb = function (a) {
        return this.format("colorPickerBrandColor", a)
    };
    function Dc(a) {
        D.apply(this, arguments)
    }

    Dc.prototype = Object.create(D.prototype);
    Dc.prototype.save = function () {
        return this.format("editorFileMenuPaneSave")
    };
    Dc.prototype.CG = function () {
        return this.format("editorFileMenuPaneResizeUpgradePrompt")
    };
    Dc.prototype.ds = function () {
        return this.format("editorFileMenuPaneLearnMoreButtonLabel")
    };
    Dc.prototype.SC = function (a) {
        return this.format("editorFileMenuPaneLastSavedLabel", a)
    };
    function Ec(a) {
        D.apply(this, arguments)
    }

    Ec.prototype = Object.create(D.prototype);
    Ec.prototype.Zz = function () {
        return this.format("customDimensionsPaneActionResize")
    };
    Ec.prototype.times = function () {
        return this.format("customDimensionsPaneTimes")
    };
    Ec.prototype.Px = function () {
        return this.format("customDimensionsPanePixelsUnit")
    };
    function Fc(a) {
        D.apply(this, arguments)
    }

    Fc.prototype = Object.create(D.prototype);
    Fc.prototype.kz = function () {
        return this.format("documentResizePaneUseCustomDimensions")
    };
    Fc.prototype.hq = function () {
        return this.format("documentResizePaneCouldNotBeLoaded")
    };
    Fc.prototype.du = function () {
        return this.format("documentResizePaneTryLoadingAgain")
    };
    Fc.prototype.Zq = function () {
        return this.format("documentResizePaneFetchingDesignTypes")
    };
    function Gc(a) {
        D.apply(this, arguments)
    }

    Gc.prototype = Object.create(D.prototype);
    f = Gc.prototype;
    f.jB = function () {
        return this.format("magicResizePaneCopyAndResize")
    };
    f.hq = function () {
        return this.format("magicResizePaneCouldNotBeLoaded")
    };
    f.du = function () {
        return this.format("magicResizePaneTryLoadingAgain")
    };
    f.Zq = function () {
        return this.format("magicResizePaneFetchingDesignTypes")
    };
    f.pB = function () {
        return this.format("magicResizePaneCurrentDesignSize")
    };
    f.Rz = function () {
        return this.format("magicResizePaneAbracadabraResize")
    };
    f.qD = function () {
        return this.format("magicResizePaneOhSnap")
    };
    f.oD = function () {
        return this.format("magicResizePaneMultipleTabs")
    };
    function Mb(a) {
        D.apply(this, arguments)
    }

    Mb.prototype = Object.create(D.prototype);
    Mb.prototype.Yz = function () {
        return this.format("editorPageControlActionMoveUp")
    };
    Mb.prototype.Xz = function () {
        return this.format("editorPageControlActionMoveDown")
    };
    Mb.prototype.Vz = function () {
        return this.format("editorPageControlActionCopy")
    };
    Mb.prototype.Wz = function () {
        return this.format("editorPageControlActionDelete")
    };
    function Ib(a) {
        D.apply(this, arguments)
    }

    Ib.prototype = Object.create(D.prototype);
    function Hc(a) {
        return a.format("editorToolbarFilterOptionAdvanced")
    }

    function Ic(a, b) {
        return a.format("editorToolbarFilter" + b.replace(/\s*/g, ""))
    }

    function Jc(a, b) {
        var c = b.replace(/(^[a-z])|(\-[a-z])/g, function (a) {
            return (a[1] || a[0]).toUpperCase()
        });
        return a.format("editorToolbarFilterRange" + c)
    }

    function Kc(a) {
        return a.format("editorToolbarElementTransparency")
    }

    Ib.prototype.fl = function () {
        return this.format("editorToolbarMore")
    };
    Ib.prototype.lC = function () {
        return this.format("editorToolbarFontUploadUpgradePrompt")
    };
    Ib.prototype.ds = function () {
        return this.format("editorToolbarLearnMoreButtonLabel")
    };
    function Ob(a) {
        D.apply(this, arguments)
    }

    Ob.prototype = Object.create(D.prototype);
    function Lc(a) {
        return a.format("canvaForWorkUpgradeTeamBrandKitsTitle")
    }

    function Mc(a) {
        return a.format("canvaForWorkUpgradeLayoutCreatorsTitle")
    }

    function Nc(a) {
        return a.format("canvaForWorkUpgradeMagicallyResizeTitle")
    }

    function Oc(a) {
        return a.format("canvaForWorkUpgradePhotoFoldersTitle")
    }

    function Qb(a) {
        D.apply(this, arguments)
    }

    Qb.prototype = Object.create(D.prototype);
    f = Qb.prototype;
    f.title = function () {
        return this.format("shareViewTitle")
    };
    f.post = function () {
        return this.format("shareViewPost")
    };
    f.Dt = function () {
        return this.format("shareViewShare")
    };
    f.email = function () {
        return this.format("shareViewEmail")
    };
    f.gH = function () {
        return this.format("shareViewShareAsEditableDesign")
    };
    f.link = function () {
        return this.format("shareViewLink")
    };
    f.send = function () {
        return this.format("shareViewSend")
    };
    f.Dv = function () {
        return this.format("shareViewEmailInputPlaceholder")
    };
    function Pc(a) {
        D.apply(this, arguments)
    }

    Pc.prototype = Object.create(D.prototype);
    f = Pc.prototype;
    f.dA = function () {
        return this.format("exportPopOverAllPagesLabel")
    };
    f.LC = function (a) {
        return this.format("exportPopOverInvalidPageRange", a)
    };
    f.pG = function () {
        return this.format("exportPopOverPublishWithCropMarks")
    };
    f.$C = function () {
        return this.format("exportPopOverMakeBackgroundTransparent")
    };
    f.title = function () {
        return this.format("exportPopOverTitle")
    };
    function Sb(a) {
        D.apply(this, arguments)
    }

    Sb.prototype = Object.create(D.prototype);
    Sb.prototype.Rq = function () {
        return this.format("exportDialogErrorPleaseRetry")
    };
    function Ub(a) {
        D.apply(this, arguments)
    }

    Ub.prototype = Object.create(D.prototype);
    Ub.prototype.title = function (a) {
        return this.format("shareDialogTitle", a)
    };
    Ub.prototype.Ns = function (a) {
        return this.format("shareDialogPreparingDesign", a)
    };
    Ub.prototype.qq = function () {
        return this.format("shareDialogDesignReady")
    };
    function Wb(a) {
        D.apply(this, arguments)
    }

    Wb.prototype = Object.create(D.prototype);
    Wb.prototype.title = function () {
        return this.format("emailDialogTitle")
    };
    Wb.prototype.progress = function () {
        return this.format("emailDialogProgress")
    };
    Wb.prototype.Rq = function () {
        return this.format("emailDialogErrorPleaseRetry")
    };
    function Yb(a) {
        D.apply(this, arguments)
    }

    Yb.prototype = Object.create(D.prototype);
    f = Yb.prototype;
    f.Eu = function () {
        return this.format("publishViewActionClose")
    };
    f.Uz = function () {
        return this.format("publishViewActionCloseHint")
    };
    f.$h = function () {
        return this.format("publishViewActionOK")
    };
    f.Hp = function () {
        return this.format("publishViewActionRetry")
    };
    f.Ns = function (a, b) {
        return this.format("publishViewPreparingDesign", a, b)
    };
    f.RH = function () {
        return this.format("publishViewTitleErrorPage")
    };
    f.VB = function (a) {
        return this.format("publishViewErrorPageHtml", a)
    };
    function Qc(a) {
        return a.format("publishViewErrorGenericHtml", "https://support.canva.com/hc/requests/new")
    }

    f.qq = function () {
        return this.format("publishViewDesignReady")
    };
    f.CC = function () {
        return this.format("publishViewHintSeeAllDesigns")
    };
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function Rc(a) {
        D.apply(this, arguments)
    }

    Rc.prototype = Object.create(D.prototype);
    Rc.prototype.gg = function () {
        return this.format("brandPageOnboardingCloseButton")
    };
    function Sc(a) {
        D.apply(this, arguments)
    }

    Sc.prototype = Object.create(D.prototype);
    function Tc(a) {
        return a.format("twentyThreeSecondOnboardingSearchText")
    }

    function Uc(a) {
        return a.format("twentyThreeSecondOnboardingDragText")
    }

    function Vc(a) {
        return a.format("twentyThreeSecondOnboardingPublishText")
    }

    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function Wc(a) {
        D.apply(this, arguments)
    }

    Wc.prototype = Object.create(D.prototype);
    Wc.prototype.Gs = function () {
        return this.format("userMenuPersonalBrand")
    };
    Wc.prototype.signOut = function () {
        return this.format("userMenuSignOut")
    };
    function Xc(a) {
        D.apply(this, arguments)
    }

    Xc.prototype = Object.create(D.prototype);
    Xc.prototype.mp = function () {
        return this.format("notificationPopOverUntitledDesign")
    };
    Xc.prototype.gh = function () {
        return this.format("notificationPopOverErrorMessage")
    };
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function Yc(a) {
        D.apply(this, arguments)
    }

    Yc.prototype = Object.create(D.prototype);
    Yc.prototype.Hp = function () {
        return this.format("teamBillingActionRetry")
    };
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function Zc(a) {
        D.apply(this, arguments)
    }

    Zc.prototype = Object.create(D.prototype);
    Zc.prototype.title = function () {
        return this.format("shareFolderDialogTitle")
    };
    Zc.prototype.readOnly = function () {
        return this.format("shareFolderDialogReadOnly")
    };
    Zc.prototype.remove = function () {
        return this.format("shareFolderDialogRemove")
    };
    Zc.prototype.zg = function () {
        return this.format("shareFolderDialogIsOwner")
    };
    function $c(a) {
        D.apply(this, arguments)
    }

    $c.prototype = Object.create(D.prototype);
    $c.prototype.Dv = function () {
        return this.format("socialOnboardingEmailAddressInputPlaceholder")
    };
    $c.prototype.Lb = function () {
        return this.format("socialOnboardingDoneText")
    };
    function ad(a) {
        D.apply(this, arguments)
    }

    ad.prototype = Object.create(D.prototype);
    ad.prototype.copy = function () {
        return this.format("lightboxCopyButton")
    };
    ad.prototype.next = function () {
        return this.format("lightboxNext")
    };
    ad.prototype.previous = function () {
        return this.format("lightboxPrevious")
    };
    ad.prototype.page = function () {
        return this.format("lightboxPage")
    };
    function bd(a) {
        D.apply(this, arguments)
    }

    bd.prototype = Object.create(D.prototype);
    bd.prototype.mB = function (a) {
        return this.format("teamUpgradeCreateTrialPeriodPoint1Html", a)
    };
    bd.prototype.nB = function () {
        return this.format("teamUpgradeCreateTrialPeriodPoint2")
    };
    bd.prototype.oB = function () {
        return this.format("teamUpgradeCreateTrialPeriodPoint3Html")
    };
    function cd(a) {
        D.apply(this, arguments)
    }

    cd.prototype = Object.create(D.prototype);
    f = cd.prototype;
    f.zA = function (a) {
        return this.format("teamBillingSignupClaimHtml", a)
    };
    f.CH = function () {
        return this.format("teamBillingSignupStartTrial")
    };
    f.JG = function () {
        return this.format("teamBillingSignupRevertCard")
    };
    f.PC = function () {
        return this.format("teamBillingSignupItemsTitle")
    };
    f.Em = function () {
        return this.format("teamBillingSignupBillingError")
    };
    f.$H = function () {
        return this.format("teamBillingSignupTryAgain")
    };
    f.SB = function () {
        return this.format("teamBillingSignupEncryption")
    };
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function bc(a) {
        D.apply(this, arguments)
    }

    bc.prototype = Object.create(D.prototype);
    function dd(a) {
        return a.format("starOnboardingActionStayAndPlay")
    }

    function fd(a) {
        return a.format("starOnboardingActionKeepExploring")
    }

    bc.prototype.lG = function () {
        return this.format("starOnboardingProgressTitle")
    };
    bc.prototype.xH = function () {
        return this.format("starOnboardingSpecialInstructionsTitle")
    };
    bc.prototype.vH = function () {
        return this.format("starOnboardingSpecialInstructionsHtml")
    };
    bc.prototype.wH = function () {
        return this.format("starOnboardingSpecialInstructionsQuestionText")
    };
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function gd(a) {
        D.apply(this, arguments)
    }

    gd.prototype = Object.create(D.prototype);
    function fc(a) {
        D.apply(this, arguments)
    }

    fc.prototype = Object.create(D.prototype);
    fc.prototype.Dl = function () {
        return this.format("viewDesignsPopOverTitle")
    };
    fc.prototype.Cl = function () {
        return this.format("viewDesignsPopOverMessage")
    };
    fc.prototype.Bl = function () {
        return this.format("viewDesignsPopOverDone")
    };
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function hd(a) {
        D.apply(this, arguments)
    }

    hd.prototype = Object.create(D.prototype);
    hd.prototype.Dl = function () {
        return this.format("downloadPopOverTitle")
    };
    hd.prototype.Cl = function () {
        return this.format("downloadPopOverMessage")
    };
    hd.prototype.Bl = function () {
        return this.format("downloadPopOverDone")
    };
    function dc(a) {
        D.apply(this, arguments)
    }

    dc.prototype = Object.create(D.prototype);
    dc.prototype.Dl = function () {
        return this.format("sharePopOverTitle")
    };
    dc.prototype.Cl = function () {
        return this.format("sharePopOverMessage")
    };
    dc.prototype.Bl = function () {
        return this.format("sharePopOverDone")
    };
    function id(a) {
        D.apply(this, arguments)
    }

    id.prototype = Object.create(D.prototype);
    id.prototype.title = function () {
        return this.format("invoiceTitle")
    };
    id.prototype.total = function () {
        return this.format("invoiceTotal")
    };
    (function (a) {
        D.apply(this, arguments)
    }).prototype = Object.create(D.prototype);
    function E(a, b) {
        if (!a)throw new TypeError("Cannot adopt constructor " + a);
        if ("object" !== typeof b)throw new TypeError("Cannot adopt non-object value " + b);
        if (null === b)throw new TypeError("Cannot adopt null value");
        return Object.create(a.prototype, jd(b))
    }

    function jd(a) {
        var b = Object.create(null);
        Object.keys(a).forEach(function (c) {
            b[c] = {value: a[c], writable: !0, enumerable: !0, configurable: !0}
        });
        return b
    };
    function kd(a, b) {
        this.name = a;
        this.defaultValue = b
    }

    function ld(a) {
        this.values = a || {}
    }

    ld.prototype.get = function (a) {
        return a.name in this.values ? this.values[a.name] : a.defaultValue
    };
    function md(a) {
        this.Ta = a
    }

    function nd() {
        return new md(new ld(window.cflags))
    }

    var od = new kd("ad", !1), pd = new kd("ag", !0), qd = new kd("aj", !1), rd = new kd("au", !1), sd = new kd("ay", !1), td = new kd("av", !1), ud = new kd("aw", !1), vd = new kd("SSFB", !0), wd = new kd("SSTW", !0), xd = new kd("SSEM", !0), yd = new kd("SSPI", !1), zd = new kd("SSLI", !1), Ad = new kd("ao", !1), Bd = new kd("at", !1), Cd = new kd("az", !1), Dd = new kd("ba", !1), Ed = new kd("bf", !1), Fd = new kd("bk", !1), Gd = new kd("bw", !1), Hd = new kd("by", !1), Id = new kd("ca", !1), Jd = new kd("cn", !1), Kd = new kd("cv", !1), Ld = new kd("cw", !0), Md = new kd("cy", !1);
    md.prototype.Wm = function () {
        return !!this.Ta.get(rd)
    };
    function Nd(a) {
        return !!a.Ta.get(Jd)
    };
    var G = "undefined" !== typeof _ && "undefined" !== typeof Backbone && _.extend({}, Backbone.Events), H = null, Od = null, Pd = null;

    function Qd(a) {
        this.$a = a.$a;
        this.$b = a.$b;
        this.Ue = a.Ue;
        this.Ob = a.Ob;
        this.jp = a.jp;
        this.iq = a.iq
    }

    function Rd(a, b, c, d) {
        b = Sd(b);
        if (!b)return null;
        var e = J(a.$a);
        a = Td(a, b.qa());
        isNaN(parseFloat(c * d)) ? (b.Eb(a), e.addElement(b, !0)) : (a.Na(c || 0), a.Oa(d || 0), b.Eb(a), b.appendTo(e));
        Ud(b);
        Vd(b);
        return b
    }

    Qd.prototype.Fu = function (a, b, c) {
        var d;
        d = {height: a.sg().D(), isCutout: !1, mediaId: a.G(), mediaVersion: 0, type: "image", width: a.sg().C()};
        b = Rd(this, d, b, c);
        Xd(this.jp, Yd(a), b)
    };
    Qd.prototype.Hu = function (a, b, c, d) {
        switch (a.Nb()) {
            case Zd:
                a = $d(a, "image", d);
                Rd(this, a, b, c);
                break;
            case ae:
                a = $d(a, "svg");
                Rd(this, a, b, c);
                break;
            default:
                throw Error("Bad media. Composer unable to add media of type: " + a.Nb());
        }
    };
    Qd.prototype.Iu = function (a, b, c, d) {
        a = a.JH ? be(a, "svg") : be(a, "image", d);
        Rd(this, a, b, c)
    };
    function Yd(a) {
        var b = a.sg(), c = a.dc();
        return ce({
            files_: [{page: 0, quality: "THUMBNAIL", height: c.D(), url: c.ia(), width: c.C()}, {
                page: 0,
                quality: "SCREEN",
                height: b.D(),
                url: b.ia(),
                width: b.C()
            }], id: a.G(), origin: de, title: a.getName()
        })
    }

    function $d(a, b, c) {
        var d = a.na().Tb()[ee];
        return {height: d.D(), isCutout: !!c, mediaId: a.G(), mediaVersion: a.na().getVersion(), type: b, width: d.C()}
    }

    function be(a, b, c) {
        return {
            height: a.Ab().height,
            isCutout: !!c,
            mediaId: a.bb().G(),
            mediaVersion: 1,
            type: b,
            width: a.Ab().width
        }
    }

    function ge(a, b) {
        b.forEach(function (a) {
            a = Yd(a);
            he(this.jp, a)
        }, a)
    }

    function ie(a, b) {
        b.forEach(function (a) {
            je(this.Ue, a.G(), a.na().getVersion(), a.na().Tb())
        }, a)
    }

    function Td(a, b) {
        var c = b.clone(), d = ke(a.$a.Ha().Ab());
        (function () {
            var a = c.C() / c.D();
            c.ja(Math.min(c.D(), .95 * d.D()));
            c.la(a * c.D())
        })();
        (function () {
            var a = c.D() / c.C();
            c.la(Math.min(c.C(), .95 * d.C()));
            c.ja(a * c.C())
        })();
        return c
    }

    Qd.prototype.mm = function (a, b, c) {
        0 < b.length && this.iq(a, c).upload(b, le(a))
    };
    function me(a, b) {
        a.vv = b
    }

    function ne(a, b, c, d, e, g) {
        function h() {
            var a = b.getFile(ee);
            return new L(0, 0, a.C() * K, a.D() * K)
        }

        function k(a) {
            var b, d, g;
            b = a.clientX - e.Y() + c.Y();
            d = a.clientY - e.O() + c.O();
            g = Math.max(Math.min((a.clientX - fa) / qa, 1), 0);
            g = 1 > z ? Math.min(Math.max(z, 1 + g * (z - 1)), 1) : Math.min(Math.max(1, 1 + g * (z - 1)), z);
            a.clientX > I ? (p = !0, g = z) : p = !1;
            m(b, d, g)
        }

        function l(a) {
            var b, c, e = !1, h;
            b = d.get(0).getBoundingClientRect();
            c = oe(b);
            e = $(a.target).is(".hotspot");
            a = oe(F);
            h = (b.left - F.left) / K;
            b = (b.top - F.top) / K;
            $(document).off("mouseup", l);
            $(document).off("mousemove",
                k);
            !w && e ? q() : p && pe(c, a) ? (g(h, b, w), q()) : setTimeout(r, 50);
            $("#hotspots").remove();
            qe().write(function () {
                $("#overlays .align").removeClass("on")
            })
        }

        function m(a, b, c) {
            re(d[0], {bf: c, Pf: c, Nc: a, Oc: b});
            p && se(B.H(), d) && (null === ba && (ba = new te(d, F, {left: C, top: A})), a = ue(), ve(ba, N, a))
        }

        function n() {
            window.setTimeout(function () {
                d.remove()
            }, 650)
        }

        function q() {
            m(c.Y(), c.O(), 1);
            d.css("left", c.Y()).css("top", c.O()).css("opacity", 0).addClass("draggedMediaPlacing");
            n()
        }

        function r() {
            var a = "", b = "", e = d.get(0).getBoundingClientRect(),
                g = x.vv || c, h = e.left - g.Y(), e = e.top - g.O();
            100 < h ? a = "draggedMediaReturningLeft" : -100 > h && (a = "draggedMediaReturningRight");
            100 < e ? b = "draggedMediaReturningUp" : -100 > e && (b = "draggedMediaReturningDown");
            d.addClass(a).addClass(b).addClass("draggedMediaReturning");
            0 > g.O() && d.addClass("draggedMediaReturningFading").css("opacity", 0);
            m(g.Y(), g.O(), 1);
            x.vv = void 0;
            n()
        }

        var p = !1, u, w = !1, z, x = a, C, A, B, F, I, fa, qa, K = M, N = {}, ba = null;
        0 < d.find("img").length && (w = .1 < we(d.find("img").get(0)));
        u = xe(h(), function () {
            var a = ke(x.$a.Ha().Ab()),
                b = .95 * K;
            return new L(0, 0, a.C() * b, a.D() * b)
        }());
        z = Math.min(h().C(), u.C()) / c.C();
        C = e.Y() - c.Y();
        A = e.O() - c.O();
        B = J(a.$a);
        F = B.H().get(0).getBoundingClientRect();
        I = $("#objectPanel").get(0).getBoundingClientRect().right;
        fa = I - $(".uploadsLayoutColumn").outerWidth() / 2 + 20;
        qa = I - fa;
        O();
        d.on("dragstart", function (a) {
            a.preventDefault();
            return !1
        });
        d.css("width", c.C());
        d.css("height", c.D());
        d.css("transform-origin", C + "px " + A + "px");
        m(c.Y(), c.O(), 1);
        d.attr("class", "draggedMedia");
        $("#content").append(d);
        (function () {
            var a =
                d.find("img"), c = $("\x3cli\x3e\x3c/li\x3e");
            d.toggleClass("cutout", w);
            c.data("result", b).append(a.clone());
            d.data("li", c);
            a.data("screenWidth", u.C());
            a.data("screenHeight", u.D());
            ye(d, J(x.$a), !1)
        })();
        $(document).on("mousemove", k);
        $(document).on("mouseup", l)
    };
    function ze(a) {
        this.Xf = new ma(a)
    }

    var Ae = ["DESIGN_TUTORIAL", "FREE_NEW_USER", "C4W_INVITED_NEW_USER", "C4W_NEW_USER"];
    ze.prototype = Object.create(ma.prototype);
    ze.prototype.wi = function () {
        var a = this.Xf.get("brandColor", null);
        return a && Q(a)
    };
    ze.prototype.ge = function () {
        return this.Xf.get("onboardingMode", null)
    };
    function Be(a) {
        return a.Xf.get("enabledPublicationContexts", [])
    };
    function Ce(a) {
        this.ba = a;
        this.url = "/folders"
    }

    Ce.prototype.Um = P.method(function (a) {
        return R(this.ba, this.url + "/~", a).get(0).then(De)
    });
    Ce.prototype.hC = P.method(function (a) {
        a = this.url + "/~?" + Ee(a);
        return Fe(this.ba, a).get(0).then(Ge)
    });
    Ce.prototype.ob = P.method(function (a) {
        a = this.ia(a.ob());
        return Fe(this.ba, a).get(0).then(He)
    });
    Ce.prototype.ia = function (a) {
        var b = a.lc();
        return b ? [this.url, "~/system", b.pb(), b.Nb()].join("/") : [this.url, a.G()].join("/")
    };
    P.method(function (a) {
        var b = this.ia(a.ob()) + "?removeItems";
        return R(this.ba, b, a).return()
    });
    Ce.prototype.YC = P.method(function (a) {
        a = this.ia(a.ob()) + "?list\x26" + a.fd();
        return Fe(this.ba, a).get(0).then(Ie)
    });
    Ce.prototype.gD = P.method(function (a) {
        var b = this.ia(a.yi()) + "?moveItems";
        return R(this.ba, b, a).return()
    });
    Ce.prototype.hu = P.method(function (a) {
        var b;
        if (a.ob().lc())throw Error("System folders cannot be updated");
        b = this.url + "/" + a.ob().G();
        return R(this.ba, b, a).get(0).then(Je)
    });
    function Ke() {
    }

    Ke.prototype.fd = function () {
        var a = this;
        return Object.keys(a).map(function (b) {
            if ("object" !== typeof a[b])return b + "\x3d" + encodeURIComponent(a[b])
        }).filter(function (a) {
            return !!a
        }).join("\x26")
    };
    function Le(a, b) {
        a.to = b;
        return a
    }

    Ke.prototype.uz = function (a) {
        this.items = a;
        return this
    };
    function Me(a, b) {
        a.from = b;
        return a
    }

    Ke.prototype.Ld = function () {
        return this.items
    };
    Ke.prototype.yi = function () {
        if (this.from)return Ne(this.from)
    };
    function Oe() {
    }

    function Ne(a) {
        return Object.freeze(E(Oe, a))
    }

    Oe.prototype.G = function () {
        return this.id
    };
    Oe.prototype.lc = function () {
        if (this.systemFolder)return Object.freeze(E(Pe, this.systemFolder))
    };
    function le(a) {
        return a.lc() ? Ne({
            systemFolder: Object.freeze(E(Pe, {
                brand: a.ta(),
                type: a.lc(),
                user: a.pb()
            }))
        }) : Ne({id: a.G()})
    }

    function Pe() {
    }

    Pe.prototype.ta = function () {
        return this.brand
    };
    Pe.prototype.Nb = function () {
        return this.type
    };
    Pe.prototype.pb = function () {
        return this.user
    };
    function Qe() {
    }

    function Je(a) {
        return Object.freeze(E(Qe, a))
    }

    Qe.prototype.ob = function () {
        if (this.folder)return Re(this.folder)
    };
    Qe.prototype.pg = function () {
        return this.access
    };
    function Se(a) {
        a = void 0 === a ? {} : a;
        this.id = a.id || "";
        this.thumbnail = a.$t;
        this.systemFolder = a.ip || null;
        this.acl = a.dJ;
        this.access = a.Sz;
        this.name = a.name || null;
        this.description = a.description || null;
        this.brand = a.Sa || "";
        this.itemCount = a.yJ || 0;
        this.user = a.Pc || "";
        this.modifiedDate = a.DJ || 0;
        this.shared = a.HJ || !1;
        this.type = a.type || Te
    }

    var Te = "DESIGN";

    function Re(a) {
        return Object.freeze(E(Se, a))
    }

    f = Se.prototype;
    f.G = function () {
        return this.id
    };
    f.dc = function () {
        if (this.thumbnail)return Object.freeze(E(Ue, this.thumbnail))
    };
    f.lc = function () {
        return this.systemFolder
    };
    f.ti = function () {
        if (this.acl)return Object.freeze(E(Ve, this.acl))
    };
    f.pg = function () {
        if (this.access)return this.access
    };
    f.getName = function () {
        return this.name
    };
    f.ta = function () {
        return this.brand
    };
    f.pb = function () {
        return this.user
    };
    f.Nb = function () {
        return this.type
    };
    f.gk = function (a) {
        a = _.extend(_.pick(this, Object.keys(this)), a);
        return Re(a)
    };
    function Ue() {
    }

    Ue.prototype.D = function () {
        return this.height
    };
    Ue.prototype.C = function () {
        return this.width
    };
    Ue.prototype.ia = function () {
        return this.url
    };
    function Ve(a) {
        a = void 0 === a ? {} : a;
        this.entries = a.entries
    }

    Ve.prototype.gk = function (a) {
        a = _.extend(_.pick(this, Object.keys(this)), a);
        return Object.freeze(E(Ve, a))
    };
    Ve.prototype.getEntries = function () {
        if (this.entries)return this.entries.filter(function (a) {
            return !!a
        }).map(function (a) {
            return Object.freeze(E(We, a))
        })
    };
    function We(a) {
        a = void 0 === a ? {} : a;
        this.user = a.Pc;
        this.brand = a.Sa;
        this.access = a.Sz
    }

    We.prototype.gk = function (a) {
        a = _.extend(_.pick(this, Object.keys(this)), a);
        return Object.freeze(E(We, a))
    };
    We.prototype.ta = function () {
        return this.brand
    };
    We.prototype.pg = function () {
        return this.access
    };
    We.prototype.pb = function () {
        return this.user
    };
    function Xe() {
    }

    f = Xe.prototype;
    f.fd = function () {
        var a = this;
        return Object.keys(a).map(function (b) {
            if ("object" !== typeof a[b])return b + "\x3d" + encodeURIComponent(a[b])
        }).filter(function (a) {
            return !!a
        }).join("\x26")
    };
    f.Zf = function (a) {
        this.folder = a;
        return this
    };
    function Ye(a, b) {
        a.acl = b;
        return a
    }

    f.$f = function (a) {
        this.name = a;
        return this
    };
    f.pz = function (a) {
        this.description = a;
        return this
    };
    function Ze(a) {
        a.trash = !0;
        return a
    }

    f.ob = function () {
        if (this.folder)return Ne(this.folder)
    };
    f.ti = function () {
        if (this.acl)return Object.freeze(E(Ve, this.acl))
    };
    f.getName = function () {
        return this.name
    };
    function $e(a, b, c) {
        var d;
        d = function () {
            var c = [];
            a.ti() && a.ti().getEntries() && a.ti().getEntries().forEach(function (a) {
                a.ta() !== b && c.push({brand: a.ta(), access: a.pg()})
            });
            return c
        }();
        c && d.push({brand: b, access: c});
        c = Object.freeze(E(Ve, {entries: d}));
        return Ye((new Xe).Zf(le(a)), c)
    }

    function af() {
    }

    function Ie(a) {
        return Object.freeze(E(af, a))
    }

    af.prototype.Ld = function () {
        if (this.items)return this.items.filter(function (a) {
            return !!a
        }).map(function (a) {
            return Object.freeze(E(bf, a))
        })
    };
    af.prototype.kc = function () {
        return this.continuation
    };
    af.prototype.ob = function () {
        if (this.folder)return Re(this.folder)
    };
    af.prototype.pg = function () {
        return this.access
    };
    function bf() {
    }

    f = bf.prototype;
    f.G = function () {
        return this.id
    };
    f.dc = function () {
        if (this.thumbnail)return Object.freeze(E(Ue, this.thumbnail))
    };
    f.getName = function () {
        return this.name
    };
    f.Nb = function () {
        return this.type
    };
    f.bb = function () {
        var a;
        if (this.media && (a = cf(this.media)))return a
    };
    f.gk = function (a) {
        a = _.extend(_.pick(this, Object.keys(this)), a);
        return Object.freeze(E(bf, a))
    };
    function df() {
    }

    f = df.prototype;
    f.fd = function () {
        var a = this;
        return Object.keys(a).map(function (b) {
            if ("object" !== typeof a[b])return b + "\x3d" + encodeURIComponent(a[b])
        }).filter(function (a) {
            return !!a
        }).join("\x26")
    };
    f.Tj = function (a) {
        this.limit = a;
        return this
    };
    f.Zf = function (a) {
        this.folder = a;
        return this
    };
    f.Sj = function (a) {
        this.continuation = a;
        return this
    };
    f.cd = function () {
        return this.limit
    };
    f.ob = function () {
        if (this.folder)return Ne(this.folder)
    };
    f.kc = function () {
        return this.continuation
    };
    function ef() {
    }

    function He(a) {
        return Object.freeze(E(ef, a))
    }

    ef.prototype.ob = function () {
        if (this.folder)return Re(this.folder)
    };
    ef.prototype.pg = function () {
        return this.access
    };
    function ff() {
    }

    ff.prototype.fd = function () {
        var a = this;
        return Object.keys(a).map(function (b) {
            if ("object" !== typeof a[b])return b + "\x3d" + encodeURIComponent(a[b])
        }).filter(function (a) {
            return !!a
        }).join("\x26")
    };
    ff.prototype.Zf = function (a) {
        this.folder = a;
        return this
    };
    ff.prototype.ob = function () {
        if (this.folder)return Ne(this.folder)
    };
    function gf() {
    }

    function Ge(a) {
        return Object.freeze(E(gf, a))
    }

    gf.prototype.rg = function () {
        if (this.folders)return this.folders.filter(function (a) {
            return !!a
        }).map(function (a) {
            return Re(a)
        })
    };
    gf.prototype.kc = function () {
        return this.continuation
    };
    function hf() {
    }

    f = hf.prototype;
    f.fd = function () {
        var a = this;
        return Object.keys(a).map(function (b) {
            if ("object" !== typeof a[b])return b + "\x3d" + encodeURIComponent(a[b])
        }).filter(function (a) {
            return !!a
        }).join("\x26")
    };
    f.Tj = function (a) {
        this.limit = a;
        return this
    };
    f.Zh = function (a) {
        this.brand = a;
        return this
    };
    f.Vj = function (a) {
        this.user = a;
        return this
    };
    f.Sj = function (a) {
        this.continuation = a;
        return this
    };
    f.uz = function (a) {
        this.items = a;
        return this
    };
    f.cd = function () {
        return this.limit
    };
    f.ta = function () {
        return this.brand
    };
    f.pb = function () {
        return this.user
    };
    f.kc = function () {
        return this.continuation
    };
    function Ee(a) {
        return Object.keys(a).map(function (a) {
            var c = this[a];
            if (Array.isArray(c))return a + "\x3d" + c.map(encodeURIComponent).join(",");
            if ("object" !== typeof c)return a + "\x3d" + encodeURIComponent(c)
        }, a).filter(Boolean).join("\x26")
    }

    function jf() {
    }

    function De(a) {
        return Object.freeze(E(jf, a))
    }

    jf.prototype.pg = function () {
        return this.access
    };
    jf.prototype.ob = function () {
        if (this.folder)return Re(this.folder)
    };
    function kf() {
    }

    f = kf.prototype;
    f.fd = function () {
        var a = this;
        return Object.keys(a).map(function (b) {
            if ("object" !== typeof a[b])return b + "\x3d" + encodeURIComponent(a[b])
        }).filter(function (a) {
            return !!a
        }).join("\x26")
    };
    f.$f = function (a) {
        this.name = a;
        return this
    };
    f.Zh = function (a) {
        this.brand = a;
        return this
    };
    f.Vj = function (a) {
        this.user = a;
        return this
    };
    f.tm = function (a) {
        this.type = a;
        return this
    };
    f.getName = function () {
        return this.name
    };
    f.ta = function () {
        return this.brand
    };
    f.pb = function () {
        return this.user
    };
    f.Nb = function () {
        return this.type
    };
    function lf() {
        this.xhr = null
    }

    lf.prototype.cancel = function () {
        this.xhr && (this.xhr.abort(), this.xhr = null)
    };
    lf.prototype.finish = function () {
        this.xhr = null
    };
    function mf(a) {
        this.Np = a && a.analyticsContext || null;
        this.ym = a && a.authToken || null;
        this.zm = a && a.authzToken || null;
        this.Up = a && a.brandRestriction || null;
        this.Wp = a && a.buildName || null;
        this.Xp = a && a.buildSha || null;
        this.ig = a && a.csrfTokens || {};
        this.So = a && a.serverRoot || null;
        this.vy = !!this.So;
        this.ZG = this.So ? this.So + "/_ajax" : "/_ajax"
    }

    function nf() {
        return new mf(window.httpServiceConfig)
    }

    mf.prototype.copy = function (a) {
        var b = {
            analyticsContext: this.Np,
            authToken: this.ym,
            authzToken: this.zm,
            brandRestriction: this.Up,
            buildName: this.Wp,
            buildSha: this.Xp,
            serverRoot: this.So
        }, c;
        for (c in a)b[c] = a[c];
        if (null === a.csrfTokens)c = null; else {
            c = {};
            a = a.csrfTokens || {};
            for (var d in this.ig)c[d] = this.ig[d];
            for (d in a)c[d] = a[d]
        }
        b.csrfTokens = c;
        return new mf(b)
    };
    function of(a) {
        var b = a.indexOf("/", 1);
        return -1 == b ? a : a.substring(0, b)
    }

    function pf(a) {
        return 200 <= a && 300 > a
    }

    mf.prototype.get = function (a, b) {
        var c = new lf;
        this.send("GET", a, null, !0, null, c, null, b);
        return c
    };
    function Fe(a, b) {
        var c;
        return (new P(function (d, e) {
            c = a.get(b, function (a, b) {
                pf(a) ? d([b, a]) : e([b, a])
            })
        })).cancellable().catch(P.CancellationError, function (a) {
            c.cancel();
            throw a;
        })
    }

    mf.prototype.post = function (a, b, c, d) {
        var e = new lf;
        qf(this, "POST", a, b, !0, 0, e, c, d);
        return e
    };
    function R(a, b, c) {
        var d;
        return (new P(function (e, g) {
            d = a.post(b, c, null, function (a, b) {
                pf(a) ? e([b, a]) : g([b, a])
            })
        })).cancellable().catch(P.CancellationError, function (a) {
            d.cancel();
            throw a;
        })
    }

    function rf(a, b, c, d) {
        if (a.vy)throw Error("synchronous XHRs cannot be made with withCredentials");
        a.send("POST", b, d, !1, c, new lf, null, function () {
        })
    }

    function sf(a, b, c) {
        var d = new lf;
        qf(a, "DELETE", b, null, !0, 0, d, null, c);
        return d
    }

    function tf(a, b) {
        var c;
        return (new P(function (d, e) {
            c = sf(a, b, function (a, b) {
                pf(a) ? d([b, a]) : e([b, a])
            })
        })).cancellable().catch(P.CancellationError, function (a) {
            c.cancel();
            throw a;
        })
    }

    function qf(a, b, c, d, e, g, h, k, l) {
        var m = of(c);
        if (m in a.ig) {
            var n = a.ig[m];
            a.send(b, c, d, e, n, h, k, function (q, r) {
                418 == q && 1 > g ? (a.ig[m] == n && delete a.ig[m], qf(a, b, c, d, e, g + 1, h, k, l)) : (l && l(q, r), h.finish())
            })
        } else a.send("GET", "/csrf" + m, null, e, null, h, null, function (n, r) {
            200 == n ? (m in a.ig || (a.ig[m] = String(r)), qf(a, b, c, d, e, g, h, k, l)) : (l(n, null), h.finish())
        })
    }

    mf.prototype.send = function (a, b, c, d, e, g, h, k) {
        function l() {
            4 == n.readyState && m()
        }

        function m() {
            var a, b, c;
            try {
                a = n.status;
                var d, e;
                try {
                    d = n.getResponseHeader("X-Canva-Auth")
                } catch (h) {
                }
                try {
                    e = n.getResponseHeader("X-Canva-Authz")
                } catch (h) {
                }
                d && (q.ym = "!" != d ? d : null);
                e && (q.zm = "!" != e ? e : null);
                b = n.responseText
            } catch (h) {
                if (h.message && h.message.match(/c00c023f/))a = 0, b = ""; else throw g.finish(), h;
            }
            b = b && b.trim ? b.trim() : "";
            d = b.substring(0, 20);
            if (0 < d.length) {
                if ("'\"])}while(1);\x3c/x\x3e//" != d) {
                    k(500, null);
                    g.finish();
                    return
                }
                b =
                    b.substring(20);
                try {
                    c = JSON.parse(b)
                } catch (h) {
                    k(500, null);
                    g.finish();
                    return
                }
            } else c = null;
            k(a, c);
            g.finish()
        }

        b = this.ZG + b;
        var n = g.xhr = new XMLHttpRequest, q = this;
        n.open(a, b, d);
        this.vy && (n.withCredentials = !0);
        "GET" != a && e && n.setRequestHeader("X-Csrf-Token", e);
        this.Np && n.setRequestHeader("X-Canva-Analytics", this.Np);
        this.ym && n.setRequestHeader("X-Canva-Auth", this.ym);
        this.zm && n.setRequestHeader("X-Canva-Authz", this.zm);
        this.Up && n.setRequestHeader("X-Canva-Brand", this.Up);
        this.Wp && n.setRequestHeader("X-Canva-Build-Name",
            this.Wp);
        this.Xp && n.setRequestHeader("X-Canva-Build-Sha", this.Xp);
        null === c ? a = null : "object" == typeof c && "undefined" !== typeof Blob && c instanceof Blob ? (n.setRequestHeader("Content-Type", c.type), h && n.upload.addEventListener("progress", h, !1), a = c) : (n.setRequestHeader("Content-Type", "application/json;charset\x3dUTF-8"), a = JSON.stringify(c));
        d ? (n.onreadystatechange = l, n.send(a)) : (n.send(a), m())
    };
    function uf(a) {
        this.ba = a;
        this.url = "/metrics"
    };
    function vf() {
    }

    vf.prototype.$f = function (a) {
        this.name = a;
        return this
    };
    function wf() {
    }

    wf.prototype = Object.create(vf.prototype);
    wf.prototype.constructor = wf;
    wf.prototype.uu = function (a) {
        this.events = a;
        return this
    };
    function xf() {
    }

    function yf(a) {
        return Object.freeze(E(xf, a))
    };
    function zf() {
    }

    zf.prototype.now = function () {
        return Date.now()
    };
    var Af = new zf;
    var Cf = new Bf;

    function Bf() {
    }

    f = Bf.prototype;
    f.setInterval = function (a, b) {
        return window.setInterval(a, b)
    };
    f.clearInterval = function (a) {
        window.clearInterval(a)
    };
    f.setTimeout = function (a, b) {
        return window.setTimeout(a, b)
    };
    f.clearTimeout = function (a) {
        window.clearTimeout(a)
    };
    f.requestAnimationFrame = function (a) {
        return window.requestAnimationFrame(a)
    };
    f.cancelAnimationFrame = function (a) {
        window.cancelAnimationFrame(a)
    };
    function Df(a) {
        window.requestAnimationFrame(function () {
            window.requestAnimationFrame(a)
        })
    };
    function Ef(a, b, c, d) {
        this.name = a;
        this.bq = b;
        this.aD = c;
        this.startTime = d;
        this.events = {}
    }

    function Ff(a, b) {
        a.events[b] = a.bq.now() - a.startTime
    }

    Ef.prototype.done = function () {
        if (Object.keys(this.events).length) {
            var a = this.aD, b = this.name, c = this.events, d = new wf;
            d.metricType = "TIMELINE";
            b = d.$f(b).uu(c);
            a = a.$G;
            R(a.ba, a.url, b).get(0).then(yf)
        }
    };
    function Gf(a, b) {
        this.$G = a;
        this.bq = Af;
        this.RF = b
    }

    function Hf(a) {
        var b = window.cstart;
        if (void 0 === b)throw Error("cstart undefined");
        return new Gf(a, b)
    }

    function If(a) {
        return new Ef("canva.editor.load", a.bq, a, a.RF)
    };
    function Jf(a) {
        this.Qb = a;
        this.mn = a.Y();
        this.nn = a.O();
        this.sv = this.rv = 0;
        if (a.ye) {
            var b = a.Nj;
            this.mn = b.Y();
            this.nn = b.O();
            this.rv = (b.Y() - a.Y()) * M;
            this.sv = (b.O() - a.O()) * M
        }
    }

    f = Jf.prototype;
    f.hb = function () {
        var a = this.Qb.hb() + this.rv, b = this.Qb.ab().Y() * M;
        return a + b
    };
    f.nb = function () {
        var a = this.Qb.nb() + this.sv, b = this.Qb.ab().O() * M;
        return a + b
    };
    f.Y = function () {
        return this.Qb.ab().Y() + this.mn
    };
    f.Qa = Jf.prototype.Y;
    f.O = function () {
        return this.Qb.ab().O() + this.nn
    };
    f.Aa = Jf.prototype.O;
    f.C = function () {
        return this.Qb.ab().C()
    };
    f.ec = Jf.prototype.C;
    f.D = function () {
        return this.Qb.ab().D()
    };
    f.bc = Jf.prototype.D;
    f.Wa = function () {
        return this.Y() + this.C()
    };
    f.Bb = Jf.prototype.Wa;
    f.va = function () {
        return this.O() + this.D()
    };
    f.lb = Jf.prototype.va;
    f.zi = function () {
        return this.Y() + this.C() / 2
    };
    f.Ua = function () {
        return 0
    };
    f.setSize = function (a, b) {
        var c = this.Qb.ab();
        c.la(a);
        c.ja(b);
        Kf(this.Qb, c)
    };
    f.la = function (a) {
        var b = this.Qb.ab();
        b.la(a);
        Kf(this.Qb, b)
    };
    f.ja = function (a) {
        var b = this.Qb.ab();
        b.ja(a);
        Kf(this.Qb, b)
    };
    f.Na = function (a) {
        var b = this.Qb.ab();
        b.Na(a - this.mn);
        Kf(this.Qb, b)
    };
    f.Oa = function (a) {
        var b = this.Qb.ab();
        b.Oa(a - this.nn);
        Kf(this.Qb, b)
    };
    f.setPosition = function (a, b) {
        var c = this.Qb.ab();
        c.setPosition(a - this.mn, b - this.nn);
        Kf(this.Qb, c)
    };
    function Lf(a) {
        this.Gd = a;
        a = Array.min(this.Gd.map(function (a) {
            return a.Qa()
        }));
        var b = Array.max(this.Gd.map(function (a) {
            return a.Bb()
        })), c = Array.min(this.Gd.map(function (a) {
            return a.Aa()
        })), d = Array.max(this.Gd.map(function (a) {
            return a.lb()
        }));
        this.width = b - a;
        this.height = d - c
    }

    f = Lf.prototype;
    f.hb = function () {
        return Array.min(this.Gd.map(function (a) {
            return a.hb()
        }))
    };
    f.nb = function () {
        return Array.min(this.Gd.map(function (a) {
            return a.nb()
        }))
    };
    f.Y = function () {
        return Array.min(this.Gd.map(function (a) {
            return a.Qa()
        }))
    };
    f.Qa = Lf.prototype.Y;
    f.O = function () {
        return Array.min(this.Gd.map(function (a) {
            return a.Aa()
        }))
    };
    f.Aa = Lf.prototype.O;
    f.C = function () {
        return this.width
    };
    f.ec = Lf.prototype.C;
    f.D = function () {
        return this.height
    };
    f.bc = Lf.prototype.D;
    f.Wa = function () {
        return this.Y() + this.C()
    };
    f.Bb = Lf.prototype.Wa;
    f.va = function () {
        return this.O() + this.D()
    };
    f.lb = Lf.prototype.va;
    f.zi = function () {
        return this.Y() + this.C() / 2
    };
    f.Ua = function () {
        return 0
    };
    f.ca = function () {
        return this.Gd[0].ca()
    };
    f.qa = function () {
        return new L(this.Y(), this.O(), this.C(), this.D())
    };
    f.Ri = function (a) {
        return a ? pe(this.qa(), a.qa()) : !1
    };
    f.setSize = function () {
    };
    f.la = function () {
    };
    f.ja = function () {
    };
    f.Na = function (a) {
        var b = a - this.Y();
        this.Gd.forEach(function (a) {
            a.Na(a.Y() + b)
        })
    };
    f.Oa = function (a) {
        var b = a - this.O();
        this.Gd.forEach(function (a) {
            a.Oa(a.O() + b)
        })
    };
    f.setPosition = function (a, b) {
        var c = a - this.Y(), d = b - this.O();
        this.Gd.forEach(function (a) {
            a.setPosition(a.Y() + c, a.O() + d)
        })
    };
    function te(a, b, c) {
        this.elem = a;
        this.Ye = b;
        this.height = a.height();
        this.width = a.width();
        this.mu = void 0 !== c;
        this.origin = c
    }

    f = te.prototype;
    f.hb = function () {
        return this.elem[0].getBoundingClientRect().left + $("#canvaDocument").scrollLeft() - $("#canvaDocument").offset().left
    };
    f.nb = function () {
        var a = $("#canvaDocument"), b = a.scrollTop(), a = a.offset().top;
        return this.elem[0].getBoundingClientRect().top + b - a
    };
    f.Y = function () {
        return (this.elem[0].getBoundingClientRect().left - this.Ye.left) / M
    };
    f.Qa = te.prototype.Y;
    f.O = function () {
        return (this.elem[0].getBoundingClientRect().top - this.Ye.top) / M
    };
    f.Aa = te.prototype.O;
    f.C = function () {
        return this.elem[0].getBoundingClientRect().width / M
    };
    f.ec = te.prototype.C;
    f.D = function () {
        return this.elem[0].getBoundingClientRect().height / M
    };
    f.bc = te.prototype.D;
    f.Wa = function () {
        return this.Y() + this.C()
    };
    f.Bb = te.prototype.Wa;
    f.va = function () {
        return this.O() + this.D()
    };
    f.lb = te.prototype.va;
    f.zi = function () {
        return this.Y() + this.C() / 2
    };
    f.Ua = function () {
        return 0
    };
    f.setSize = function () {
    };
    f.la = function () {
    };
    f.ja = function () {
    };
    f.Na = function (a) {
        var b;
        this.mu ? (b = Mf(this.elem[0]).bf, a = a * M + this.Ye.left + (b - 1) * this.origin.left, re(this.elem[0], {Nc: a})) : this.elem.css("left", a * M + this.Ye.left)
    };
    f.Oa = function (a) {
        var b;
        this.mu ? (b = Mf(this.elem[0]).Pf, a = a * M + this.Ye.top + (b - 1) * this.origin.top, re(this.elem[0], {Oc: a})) : this.elem.css("top", a * M + this.Ye.top)
    };
    f.setPosition = function (a, b) {
        var c, d;
        this.mu ? (c = Mf(this.elem[0]), d = a * M + this.Ye.left + (c.bf - 1) * this.origin.left, c = b * M + this.Ye.top + (c.Pf - 1) * this.origin.top, re(this.elem[0], {
            Nc: d,
            Oc: c
        })) : this.elem.css("left", a * M + this.Ye.left).css("top", b * M + this.Ye.top)
    };
    function Nf(a) {
        this.Pc = a.Pc;
        this.Sa = a.Sa;
        this.$g = a.$g;
        this.Uh = a.Uh;
        this.rf = this.Id = null;
        this.qo = [];
        this.ready = !1;
        this.pi = a.pi;
        this.mg = a.mg;
        this.ga = a.ga
    }

    function Of(a) {
        var b = a.G(), c = a.oh(), d = a.rr(), e = a.ac(), g;
        a:{
            if (g = a.avatar)if (g = g.sizes && g.sizes["200"] || null) {
                g = g.ia();
                break a
            }
            g = null
        }
        return {id: b, username: c, Gs: d, displayName: e, RC: g, oy: a.Kk() && a.Kk().join(", ")}
    }

    function Pf(a, b) {
        var c = $.extend({}, b);
        a.Id && (c.design = a.Id);
        c.experience = a.pi;
        for (var d in a.mg)a.mg.hasOwnProperty(d) && (c["Experiment:" + d] = a.mg[d]);
        a.Sa && (c.brand = a.Sa);
        a.$g && (c.cohort = a.$g);
        a.Uh && (c.tier = a.Uh);
        try {
            var e = window.crypto || window.msCrypto, g = new Uint8Array(16);
            e.getRandomValues(g);
            c.insert_id = btoa(String.fromCharCode.apply(null, g))
        } catch (h) {
        }
        return c
    }

    f = Nf.prototype;
    f.track = function () {
    };
    f.identify = function (a) {
        this.Pc = a
    };
    f.alias = function () {
    };
    f.Bf = function () {
        return this.ready
    };
    f.set = function () {
    };
    f.km = function () {
    };
    f.union = function () {
    };
    function Qf(a, b, c, d, e, g) {
        var h = {};
        h.type = b;
        h.section = c;
        h.subsection = d;
        h.location = e;
        g && _.extend(h, g);
        a.track("button_click", h)
    }

    function Rf(a, b) {
        var c = H;
        c.Id = a;
        c.rf = b;
        c.track("design_open", {design: c.Id, source: "editor", template: c.rf})
    }

    function Sf(a, b) {
        var c = H;
        c.track("design_shared", {design: c.Id, template: c.rf, medium: a, location: b})
    }

    function Tf(a, b, c, d) {
        a.track("experiment_enroll", {type: b, section: "editor", subsection: c, location: d})
    }

    function Uf(a, b, c, d) {
        a.track("link_click", {type: b, section: "editor", subsection: c, location: d})
    }

    function Vf(a, b, c, d) {
        a.track("dialog_close", {type: b, section: "editor", subsection: c, location: d})
    }

    function Wf(a, b) {
        a.track("upgrade_cta_clicked", {location: b, variant: void 0})
    };
    function Xf(a) {
        Nf.call(this, {
            pi: a.pi, mg: a.mg, Pc: a.Pc, Sa: a.Sa, $g: a.$g, Uh: a.Uh, ga: function (a, c, d) {
                window.console.log("Google track: ", a, c, d)
            }, tJ: function (a) {
                window.console.log("Facebook track pixelId: ", a)
            }, MJ: function (a) {
                window.console.log("Twitter trackPid: ", a)
            }
        })
    }

    _.extend(Xf.prototype, Nf.prototype);
    f = Xf.prototype;
    f.track = function (a, b) {
        window.console.log("analytics:track", this.Pc, a, Pf(this, b))
    };
    f.km = function (a, b) {
        window.console.log("analytics:trackNow", this.Pc, a, Pf(this, b))
    };
    f.identify = function (a) {
        this.Pc = a;
        window.console.log("analytics:identify", a)
    };
    f.alias = function (a) {
        window.console.log("analytics:alias", this.Pc, a);
        this.Pc = a
    };
    f.set = function (a, b) {
        window.console.log("analytics:set", this.Pc, a);
        b && window.setTimeout(b, 0)
    };
    f.union = function (a) {
        window.console.log("analytics:union", this.Pc, a)
    };
    function Yf(a) {
        function b(b) {
            for (this.ready = !0; this.qo && 0 < this.qo.length;)this.qo.shift()();
            this.qo = null;
            if (b && a.Pc) {
                var c = (new UAParser).getResult();
                b = c.browser.name;
                var g = c.browser.version, h = c.device.type, c = c.os.name;
                h || "Android" != c && "iOS" != c || (h = "mobile");
                this.set({"Most recent browser": b + " " + g, timezone: (new Date).getTimezoneOffset() / -60});
                this.union({"Operating Systems": [c], Browsers: [b], Devices: [h]})
            }
        }

        Nf.call(this, a);
        var c = window.analytics;
        c && (c.ready(b.bind(this, !Zf)), Zf || (Zf = !0, c.load(a.WH),
            c.page()))
    }

    var Zf = !1;
    _.extend(Yf.prototype, Nf.prototype);
    f = Yf.prototype;
    f.track = function (a, b) {
        window.analytics && window.analytics.track(a, Pf(this, b))
    };
    f.km = function (a, b) {
        window.analytics && window.analytics.track(a, Pf(this, b))
    };
    f.identify = function (a, b, c, d) {
        "object" == typeof b && (b = {
            id: b.id,
            username: b.username,
            personalBrand: b.Gs,
            displayName: b.displayName,
            largeAvatarUrl: b.RC,
            roles: b.oy,
            onboarding: b.zx
        });
        window.analytics && window.analytics.identify(a, b, c, d)
    };
    f.alias = function (a) {
        window.analytics && window.analytics.alias(a)
    };
    f.set = function (a, b) {
        window.analytics && window.analytics.identify(a, b)
    };
    f.union = function () {
    };
    function $f(a) {
        var b = window.ga, c = a.user, d = a.brand, e = a.cohort, g = a.tier, h = String(a.experience), k = a.experiments, l = a.impl;
        switch (l) {
            case "console":
                a = new Xf({pi: h, mg: k, Pc: c, Sa: d, $g: e, Uh: g});
                break;
            case "segment":
                a = new Yf({WH: a.segmentWriteKey, pi: h, mg: k, Pc: c, Sa: d, $g: e, Uh: g, ga: b});
                break;
            default:
                throw Error("Cant find analytics implementation " + l);
        }
        c && a.identify(c);
        return a
    };
    function ag(a) {
        this.ba = a
    }

    f = ag.prototype;
    f.ph = function (a) {
        throw bg(a[0].errorKey);
    };
    f.bl = function (a) {
        return "CreditCardInvalid" === a[0].errorType
    };
    f.kB = P.method(function (a, b) {
        return R(this.ba, "/billing/brands/" + encodeURIComponent(a) + "/account", {
            brand: a,
            stripeToken: b
        }).get(0).get("account").then(cg).catch(this.bl, this.ph)
    });
    function dg(a, b, c) {
        a.ba.get("/billing/brands/" + encodeURIComponent(b) + "/account", function (a, b) {
            200 != a ? c(a, null) : c(a, cg(b))
        })
    }

    function eg(a, b) {
        return new P(function (a, d) {
            dg(this, b, function (b, g) {
                pf(b) ? a(g) : d(b)
            })
        }.bind(a))
    }

    f.En = function (a, b, c) {
        a = "/billing/design/" + encodeURIComponent(a);
        0 !== b.length && (a += "?pages\x3d" + b.join(","));
        return this.ba.get(a, function (a, b) {
            var g;
            200 == a ? b ? (g = $.extend(new fg, b), g.newItems && (g.newItems = gg(g.newItems)), g.paidItems && (g.paidItems = gg(g.paidItems)), g.card && (g.card = Object.freeze(E(hg, g.card)))) : g = null : g = null;
            c && c(a, g)
        })
    };
    function ig(a, b, c, d) {
        return a.ba.post("/billing/design/" + encodeURIComponent(b), c.map(function (a) {
            return jg(a)
        }), null, function (a, b) {
            var c;
            b ? (c = E(kg, b), c.licenses && (c.licenses = c.licenses.map(lg))) : c = null;
            d && d(a, c)
        })
    }

    function mg(a, b) {
        return new P(function (a) {
            var d = [{nj: 10, hi: 11, name: "PACK_10"}, {nj: 20, hi: 22, name: "PACK_20"}, {
                nj: 50,
                hi: 55,
                name: "PACK_50"
            }, {nj: 100, hi: 110, name: "PACK_100"}].filter(function (a) {
                return a.hi > b
            });
            a(d)
        }.bind(a))
    }

    function ng(a, b, c) {
        return a.ba.post("/billing/brand/account?buycredit", {creditPack: encodeURIComponent(b)}, null, function (a, b) {
            200 != a ? c(a, b && b.error && b.error.message || "Unkown error (" + a + ")") : c(a, Object.freeze(E(og, b.invoiceItem)))
        })
    }

    f.getSubscription = P.method(function (a) {
        return Fe(this.ba, a.brand ? "/billing/brands/" + a.brand + "/subscription" + (null != a.excludeStandard ? "?excludeStandard\x3d" + (a.excludeStandard ? "true" : "false") : "") : "/billing/subscriptions/" + a.id).get(0).then(pg)
    });
    f.iI = P.method(function (a) {
        return R(this.ba, a.brand ? "/billing/brands/" + a.brand + "/subscription" : "/billing/subscriptions/" + a.id, a).get(0).then(qg).catch(this.bl, this.ph)
    });
    P.method(function (a) {
        return R(this.ba, "/billing/brands/" + a.brand + "/subscription?refund", a).get(0).then(rg).catch(this.bl, this.ph)
    });
    P.method(function (a) {
        return R(this.ba, "/billing/campaign", a).spread(sg)
    });
    P.method(function (a) {
        return tf(this.ba, "/billing/campaign/" + encodeURIComponent(a)).spread()
    });
    P.method(function (a, b) {
        return Fe(this.ba, "/billing/coupon/" + encodeURIComponent(a) + "?validate\x3d" + encodeURIComponent(b)).spread(tg)
    });
    P.method(function (a) {
        a = "/billing/brands/" + encodeURIComponent(a.ta()) + "/invoices?" + a.fd();
        return Fe(this.ba, a).get(0).then(ug)
    });
    P.method(function (a) {
        a = "/billing/invoices/" + encodeURIComponent(a.G()) + "?" + a.fd();
        return Fe(this.ba, a).get(0).then(vg)
    });
    P.method(function (a) {
        a = a.ta() ? "/billing/brands/" + encodeURIComponent(a.ta()) + "/invoice?upcoming" : "/billing/brand/invoice?upcoming";
        return Fe(this.ba, a).get(0).then(wg).catch(this.bl, this.ph)
    });
    P.method(function (a) {
        var b = a.ta() ? "/billing/brands/" + encodeURIComponent(a.ta()) + "/invoice?create" : "/billing/brand/invoice?create";
        return R(this.ba, b, a).get(0).then(xg)
    });
    P.method(function (a) {
        return R(this.ba, "/billing/invoices/" + encodeURIComponent(a.invoiceId) + "?pay", a).get(0).then(yg).catch(this.bl, this.ph)
    });
    function zg() {
    }

    zg.prototype.G = function () {
        return this.id
    };
    zg.prototype.pb = function () {
        return this.user
    };
    zg.prototype.Hc = function () {
        return this.status
    };
    function og() {
    }

    og.prototype.getDate = function () {
        return this.date
    };
    og.prototype.pb = function () {
        return this.user
    };
    og.prototype.ta = function () {
        return this.brand
    };
    og.prototype.G = function () {
        return this.id
    };
    function Ag() {
    }

    function Bg(a) {
        a = E(Ag, a);
        a.licenses = a.licenses.map(lg);
        a.credits = a.credits.map(Cg);
        a.subscriptionCharges = a.subscriptionCharges.map(Dg);
        return Object.freeze(a)
    }

    Ag.prototype.lr = function () {
        return this.licenses
    };
    function Eg() {
    }

    function Cg(a) {
        a = E(Eg, a);
        a.date = new Date(a.date);
        return Object.freeze(a)
    }

    Eg.prototype.wr = function () {
        return this.value
    };
    Eg.prototype.getDate = function () {
        return this.date
    };
    function Fg() {
    }

    function Dg(a) {
        a = E(Fg, a);
        a.fromDate = new Date(a.fromDate);
        a.toDate = new Date(a.toDate);
        return Object.freeze(a)
    }

    Fg.prototype.getSubscription = function () {
        return this.subscription
    };
    function Gg() {
    }

    Gg.prototype.getSubscription = function () {
        return this.subscription
    };
    function pg(a) {
        a = E(Gg, a);
        a.subscription = Hg(a.subscription);
        return a
    }

    function Ig() {
    }

    Ig.prototype.G = function () {
        return this.id
    };
    Ig.prototype.ta = function () {
        return this.brand
    };
    Ig.prototype.Hc = function () {
        return this.status
    };
    function Hg(a) {
        a = E(Ig, a);
        a.plan = Object.freeze(E(Jg, a.plan));
        null != a.trialEnd && (a.trialEnd = new Date(a.trialEnd));
        null != a.paidUntil && (a.paidUntil = new Date(a.paidUntil));
        null != a.periodEnd && (a.periodEnd = new Date(a.periodEnd));
        return a
    }

    function Jg() {
    }

    Jg.prototype.G = function () {
        return this.id
    };
    Jg.prototype.ac = function () {
        return this.displayName
    };
    Jg.prototype.vr = function () {
        return this.trialPeriodDays
    };
    function Kg(a) {
        return a.billingInterval
    }

    Jg.prototype.ae = function () {
        return this.price
    };
    function Lg(a) {
        return ("YEARLY" === Kg(a) ? 1 : 12) * a.ae()
    }

    function Mg() {
    }

    Mg.prototype.Zh = function (a) {
        this.brand = a;
        return this
    };
    function Ng() {
    }

    Ng.prototype.getSubscription = function () {
        return this.subscription
    };
    function qg(a) {
        a = E(Ng, a);
        a.subscription = Hg(a.subscription);
        return a
    }

    function Og() {
    }

    function rg(a) {
        return Object.freeze(E(Og, a))
    }

    function Pg() {
    }

    Pg.prototype.G = function () {
        return this.id
    };
    Pg.prototype.ac = function () {
        return this.displayName
    };
    Pg.prototype.Nb = function () {
        return this.type
    };
    Pg.prototype.vr = function () {
        return this.trialPeriodDays
    };
    function Qg(a) {
        a = E(Pg, a);
        null != a.created && (a.created = new Date(a.created));
        null != a.expiry && (a.expiry = new Date(a.expiry));
        return a
    }

    function Rg() {
    }

    Rg.prototype.pb = function () {
        return this.user
    };
    Rg.prototype.ta = function () {
        return this.brand
    };
    function Sg() {
    }

    function sg(a) {
        a = E(Sg, a);
        a.campaign = Qg(a.campaign);
        return a
    }

    function Tg() {
    }

    function tg(a) {
        a = E(Tg, a);
        var b = E(Rg, a.coupon);
        b.campaign = Qg(b.campaign);
        null != b.dateRedeemed && (b.dateRedeemed = new Date(b.dateRedeemed));
        a.coupon = b;
        return a
    }

    function hg(a) {
        a = void 0 === a ? {} : a;
        this.brand = a.Sa || "";
        this.last4 = a.zJ || "";
        this.expMonth = a.qJ || null;
        this.expYear = a.rJ || null
    }

    hg.prototype.ta = function () {
        return this.brand
    };
    function Ug() {
    }

    function Vg(a) {
        a = E(Ug, a);
        a.card = Object.freeze(E(hg, a.card));
        a.addedDate && (a.addedDate = new Date(a.addedDate));
        a.deletedDate && (a.deletedDate = new Date(a.deletedDate));
        return Object.freeze(a)
    }

    Ug.prototype.mh = function () {
        return this.card
    };
    function Wg() {
    }

    function cg(a) {
        a = E(Wg, a);
        a.archivedCards && (a.archivedCards = a.archivedCards.map(Vg));
        return Object.freeze(a)
    }

    Wg.prototype.ta = function () {
        return this.brand
    };
    Wg.prototype.mh = function () {
        if (this.card)return Object.freeze(E(hg, this.card))
    };
    function Xg(a) {
        a = void 0 === a ? {} : a;
        this.media = a.media || "";
        this.version = a.version || 0;
        this.title = a.title || "";
        this.contributorName = a.iB || null;
        this.thumbUrl = a.Xy || null;
        this.price = a.nj || 0;
        this.sessionCreationDate = a.GJ || null;
        this.layout = a.ha || ""
    }

    f = Xg.prototype;
    f.bb = function () {
        return this.media
    };
    f.getVersion = function () {
        return this.version
    };
    f.La = function () {
        return this.title
    };
    f.ae = function () {
        return this.price
    };
    function Yg(a) {
        return a.sessionCreationDate
    }

    f.kr = function () {
        return this.layout
    };
    f.Fn = function () {
        return this.contributorName
    };
    f.kw = function () {
        return this.thumbUrl
    };
    function lg(a) {
        return a ? $.extend(new Xg, a) : null
    }

    function Zg(a) {
        a = void 0 === a ? {} : a;
        this.license = a.AJ || "";
        this.thumbnail = a.$t || "";
        this.contributorName = a.iB || ""
    }

    function jg(a) {
        return a.license
    }

    Zg.prototype.be = function () {
        return this.thumbnail
    };
    Zg.prototype.Fn = function () {
        return this.contributorName
    };
    function $g(a) {
        if (!a)return null;
        a = $.extend(new Zg, a);
        a.license = lg(a.license);
        return a
    }

    function gg(a) {
        return a ? a.map($g) : null
    }

    function fg(a) {
        a = void 0 === a ? {} : a;
        this.newItems = a.il || [];
        this.paidItems = a.xl || [];
        this.creditBalance = a.lJ || 0;
        this.subscriptionCredit = a.IJ || 0;
        this.card = a.Qc || null;
        this.documentVersion = a.pJ || 0
    }

    fg.prototype.$d = function () {
        return this.newItems
    };
    fg.prototype.mh = function () {
        return this.card
    };
    function ah(a) {
        var b = a.creditBalance;
        a.subscriptionCredit && (b += a.subscriptionCredit);
        return b
    }

    function bh(a) {
        return a.newItems.reduce(function (a, c) {
            return a + jg(c).ae()
        }, 0)
    }

    fg.prototype.Hk = function () {
        var a = this.paidItems.filter(function (a) {
            return 0 !== jg(a).ae() && null !== Yg(jg(a))
        });
        if (0 == a.length)return null;
        a = a.map(function (a) {
            return Yg(jg(a))
        });
        return Math.min.apply(Math, a)
    };
    function ch(a) {
        return 0 < bh(a) && ah(a) < bh(a)
    }

    function dh(a) {
        a = a.mh();
        if (null == a)return !0;
        if (null == a.expMonth || null == a.expYear)return !1;
        var b = new Date, c = b.getUTCMonth() + 1, b = b.getUTCFullYear();
        return !!(a.expYear < b || a.expYear == b && a.expMonth < c)
    }

    function kg() {
    }

    kg.prototype.lr = function () {
        return this.licenses
    };
    kg.prototype.Hk = function () {
        var a = this.lr().filter(function (a) {
            return 0 !== a.ae() && null !== Yg(a)
        });
        if (0 == a.length)return null;
        a = a.map(function (a) {
            return Yg(a)
        });
        return Math.min.apply(Math, a)
    };
    function eh() {
    }

    function ug(a) {
        return Object.freeze(E(eh, a))
    }

    function fh() {
    }

    function vg(a) {
        a = E(fh, a);
        a.invoice = Object.freeze(E(zg, a.invoice));
        a.details && (a.details = Bg(a.details));
        return Object.freeze(a)
    }

    function gh() {
    }

    function wg(a) {
        a = E(gh, a);
        a.invoice = Object.freeze(E(zg, a.invoice));
        a.details = Bg(a.details);
        return Object.freeze(a)
    }

    function hh() {
    }

    function xg(a) {
        a = E(hh, a);
        return Object.freeze(a)
    }

    function ih() {
    }

    function yg(a) {
        a = E(ih, a);
        return Object.freeze(a)
    }

    function jh() {
        Xg.call(this);
        this.XC = []
    }

    jh.prototype = Object.create(Xg.prototype);
    jh.prototype.constructor = jh;
    jh.prototype.lr = function () {
        return this.XC
    };
    function L(a, b, c, d) {
        this.left = a;
        this.top = b;
        this.width = c;
        this.height = d
    }

    function kh(a) {
        return a ? new L(a.left || 0, a.top || 0, a.width || 0, a.height || 0) : lh.clone()
    }

    function oe(a) {
        return kh({left: a.left, top: a.top, width: a.width, height: a.height})
    }

    function mh(a, b) {
        a = a || null;
        b = b || null;
        return null === a && null === b ? !0 : null === a || null === b ? !1 : a.height === b.height && a.left === b.left && a.top === b.top && a.width === b.width
    }

    var lh = new L(0, 0, 0, 0);
    f = L.prototype;
    f.serialize = function () {
        return {left: this.left, top: this.top, width: this.width, height: this.height}
    };
    f.clone = function () {
        return new L(this.left, this.top, this.width, this.height)
    };
    f.Y = function () {
        return this.left
    };
    f.Qa = L.prototype.Y;
    f.O = function () {
        return this.top
    };
    f.Aa = L.prototype.O;
    f.Wa = function () {
        return this.left + this.width
    };
    f.Bb = L.prototype.Wa;
    f.va = function () {
        return this.top + this.height
    };
    f.lb = L.prototype.va;
    f.C = function () {
        return this.width
    };
    f.ec = L.prototype.C;
    f.D = function () {
        return this.height
    };
    f.bc = L.prototype.D;
    f.Gi = function () {
        return {width: this.width, height: this.height}
    };
    function nh(a) {
        return {x: a.left + a.width / 2, y: a.top + a.height / 2}
    }

    f.Na = function (a) {
        this.left = a;
        return this
    };
    f.Oa = function (a) {
        this.top = a;
        return this
    };
    f.setPosition = function (a, b) {
        this.left = a;
        this.top = b;
        return this
    };
    f.la = function (a) {
        this.width = a;
        return this
    };
    f.ja = function (a) {
        this.height = a;
        return this
    };
    f.setSize = function (a, b) {
        this.width = a;
        this.height = b;
        return this
    };
    function oh(a) {
        return a.width / a.height
    }

    f.translate = function (a, b) {
        this.left += a;
        this.top += b;
        return this
    };
    f.scale = function (a, b) {
        void 0 === b && (b = a);
        this.left *= a;
        this.top *= b;
        this.width *= a;
        this.height *= b;
        return this
    };
    function ph(a, b, c, d, e) {
        a.translate(-b, -c);
        a.scale(d, e);
        a.translate(b, c)
    }

    function qh(a, b) {
        a.left -= b;
        a.top -= b;
        a.width += 2 * b;
        a.height += 2 * b
    }

    function rh(a, b, c) {
        a.width += b;
        a.height += c;
        return a
    }

    function sh(a, b) {
        a.left = b.left - (a.width - b.width) / 2;
        a.top = b.top - (a.height - b.height) / 2;
        return a
    }

    function th(a, b) {
        var c = oh(a);
        oh(a) > oh(b) ? (a.height = b.height, a.width = c * a.height) : (a.width = b.width, a.height = a.width / c);
        sh(a, b);
        return a
    }

    function xe(a, b) {
        var c = oh(a);
        oh(a) < oh(b) ? (a.height = b.height, a.width = c * a.height) : (a.width = b.width, a.height = a.width / c);
        sh(a, b);
        return a
    }

    f.round = function () {
        this.left = Math.round(this.left);
        this.top = Math.round(this.top);
        this.width = Math.round(this.width);
        this.height = Math.round(this.height);
        return this
    };
    function pe(a, b) {
        return a.Wa() <= b.Y() || a.va() <= b.O() || a.Y() >= b.Wa() || a.O() >= b.va() ? !1 : !0
    }

    function uh(a, b) {
        return a.Y() <= b.Y() && a.O() <= b.O() && a.Wa() >= b.Wa() && a.va() >= b.va()
    }

    function vh(a, b) {
        a.Wa() > b.Wa() && a.translate(b.Wa() - a.Wa(), 0);
        a.Y() < b.Y() && a.translate(b.Y() - a.Y(), 0);
        a.va() > b.va() && a.translate(0, b.va() - a.va());
        a.O() < b.O() && a.translate(0, b.O() - a.O());
        return a
    }

    function wh(a, b, c) {
        0 != (c & 1) && a.Na(b.C() - a.Wa());
        0 != (c & 2) && a.Oa(b.D() - a.va());
        return a
    };
    var xh = {
        Page1: {items: [{type: "columns", children: [{type: "item"}]}]},
        Page2: {items: [{type: "columns", children: [{type: "item", width: 66.67}, {type: "item"}]}]},
        Page3: {items: [{type: "columns", children: [{type: "item"}, {type: "item"}]}]},
        Page4: {items: [{type: "item"}, {type: "item"}]},
        Page5: {items: [{type: "item"}, {type: "item"}, {type: "item"}]},
        Page6: {items: [{type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}]}]},
        Page7: {items: [{type: "item", height: 60}, {type: "columns", children: [{type: "item"}, {type: "item"}]}]},
        Page8: {
            items: [{type: "item", height: 66.67}, {
                type: "columns",
                children: [{type: "item", width: 33.33}, {type: "item"}]
            }]
        },
        Page8_1: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
            }]
        },
        Page8_2: {
            items: [{
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}]}, {type: "item"}]
            }]
        },
        Page9: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}]}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}]
            }]
        },
        Page10: {
            items: [{
                type: "columns", children: [{
                    type: "item",
                    width: 33.33
                }, {
                    type: "rows",
                    children: [{
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 50
                    }, {type: "item"}]
                }]
            }]
        },
        Page11: {
            items: [{type: "item", height: 66.67}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page12: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 66.67}, {type: "item"}],
                height: 66.67
            }, {type: "columns", children: [{type: "item", width: 33.33}, {type: "item"}]}]
        },
        Page13: {
            items: [{
                type: "columns", children: [{type: "item", width: 66.67}, {
                    type: "rows", children: [{type: "item"},
                        {type: "item"}, {type: "item"}]
                }]
            }]
        },
        Page14: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 33.33}, {type: "item"}],
                    width: 66.67
                }, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
            }]
        },
        Page15: {
            items: [{type: "item", height: 66.67}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page16: {
            items: [{type: "item", height: 50}, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 50}, {type: "item"}],
                    width: 33.33
                }, {type: "item"}]
            }]
        },
        Page17: {
            items: [{
                type: "item",
                height: 40
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
            }]
        },
        Page18: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page19: {items: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]},
        Page20: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}]}, {
                type: "columns",
                children: [{type: "item"}, {
                    type: "rows",
                    children: [{type: "columns", children: [{type: "item"}, {type: "item"}]}, {type: "item"}]
                }]
            }]
        },
        Page21: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}]
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page22: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 66.67}, {type: "item"}],
                    width: 66.67
                }, {type: "rows", children: [{type: "item", height: 33.33}, {type: "item"}]}]
            }]
        },
        Page23: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}]
            }, {type: "item"}, {type: "columns", children: [{type: "item"}, {type: "item"}]}]
        },
        Page24: {
            items: [{type: "item", height: 75}, {
                type: "columns", children: [{type: "item"},
                    {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page25: {
            items: [{type: "item"}, {
                type: "columns",
                children: [{type: "item", width: 50}, {type: "item"}]
            }, {type: "columns", children: [{type: "item", width: 50}, {type: "item"}]}]
        },
        Page27: {
            items: [{
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}], width: 25}, {type: "item"}]
            }, {type: "columns", children: [{type: "item"}, {type: "item"}]}]
        },
        Page28: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page29: {
            items: [{type: "item"},
                {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
        },
        Page30: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}]}, {
                type: "columns",
                children: [{type: "item", width: 50}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 25
                }, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
            }]
        },
        Page31: {
            items: [{type: "item", height: 50}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}],
                height: 25
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page32: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 50}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 25
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}]}]
                }, {type: "item"}]
            }]
        },
        Page33: {
            items: [{type: "columns", children: [{type: "item", width: 33.33}, {type: "item"}]}, {
                type: "columns",
                children: [{type: "item", width: 66.67}, {type: "item"}]
            }, {type: "columns", children: [{type: "item", width: 33.33}, {type: "item"}]}]
        },
        Page34: {
            items: [{
                type: "columns", children: [{
                    type: "rows", children: [{type: "item", height: 33.33},
                        {type: "item"}], width: 33.33
                }, {
                    type: "rows",
                    children: [{type: "item", height: 66.67}, {type: "item"}],
                    width: 33.33
                }, {type: "rows", children: [{type: "item", height: 33.33}, {type: "item"}]}]
            }]
        },
        Page35: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 66.67}, {type: "rows", children: [{type: "item"}, {type: "item"}]}],
                height: 66.67
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page36: {
            items: [{type: "item"}, {
                type: "columns", children: [{
                    type: "rows", children: [{
                        type: "columns", children: [{type: "item"},
                            {type: "item"}]
                    }, {type: "item"}]
                }, {type: "item"}, {type: "item"}]
            }]
        },
        Page37: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 75}, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
            }, {
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}], width: 25}, {type: "item"}]
            }]
        },
        Page38: {
            items: [{type: "item"}, {
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}]}, {type: "item"}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}]
                }]
            }]
        },
        Page39: {
            items: [{type: "item", height: 80},
                {
                    type: "columns",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
                }]
        },
        Page40: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page41: {items: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]},
        Page42: {
            items: [{type: "item"}, {type: "item"}, {
                type: "columns",
                children: [{type: "item"}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}]
                }, {type: "item"}, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
            }]
        },
        Page43: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {
                    type: "rows",
                    children: [{type: "item"}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}]
                    }, {type: "item"}, {type: "columns", children: [{type: "item"}, {type: "item"}]}]
                }]
            }]
        },
        Page44: {
            items: [{
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}, {type: "item"}]}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}]
                }, {type: "rows", children: [{type: "item"}, {type: "item"}, {type: "item"}]}]
            }]
        },
        Page45: {
            items: [{
                type: "columns", children: [{type: "item"},
                    {type: "item"}, {type: "item"}, {type: "item"}]
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page46: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}]
            }, {type: "columns", children: [{type: "item"}, {type: "item"}]}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page47: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}]}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page48: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}], height: 25}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}],
                height: 25
            }, {
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}]}, {type: "item"}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}]
                }]
            }]
        },
        Page49: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 25}, {type: "item", width: 25}, {type: "item"}],
                height: 25
            }, {
                type: "columns", children: [{type: "item"},
                    {type: "rows", children: [{type: "item", height: 50}, {type: "item"}]}], height: 50
            }, {type: "columns", children: [{type: "item", width: 25}, {type: "item", width: 25}, {type: "item"}]}]
        },
        Page50: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 75}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}]
                    }],
                    width: 66.67
                }, {type: "rows", children: [{type: "item"}, {type: "item"}]}],
                height: 66.67
            }, {
                type: "columns",
                children: [{type: "item", width: 33.33}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 16.67
                },
                    {type: "item"}]
            }]
        },
        Page51: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 25
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 25
            }, {type: "item"}]
        },
        Page52: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 50}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                    width: 25
                }, {type: "rows", children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]}]
            }]
        },
        Page53: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                    width: 25
                }, {type: "item", width: 50}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
                }]
            }]
        },
        Page54: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 25
            }, {type: "item", height: 50}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page55: {
            items: [{
                type: "columns", children: [{type: "item", width: 50}, {
                    type: "item",
                    width: 25
                }, {type: "item"}], height: 50
            }, {
                type: "columns",
                children: [{type: "item", width: 50}, {type: "item", width: 25}, {type: "item"}],
                height: 25
            }, {type: "columns", children: [{type: "item", width: 50}, {type: "item", width: 25}, {type: "item"}]}]
        },
        Page56: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 40}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 20
                }, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}], width: 20}, {
                    type: "item",
                    width: 60
                }, {
                    type: "rows", children: [{type: "item"},
                        {type: "item"}]
                }]
            }]
        },
        Page57: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}]}, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "item", width: 66.67}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}]
                }]
            }]
        },
        Page58: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 66.67}, {type: "item"}]
                }, {type: "item"}, {type: "rows", children: [{type: "item", height: 66.67}, {type: "item"}]}]
            }, {
                type: "columns", children: [{type: "item"},
                    {type: "rows", children: [{type: "item", height: 33.33}, {type: "item"}]}, {type: "item"}]
            }]
        },
        Page59: {
            items: [{
                type: "columns",
                children: [{type: "rows", children: [{type: "item", height: 33.33}, {type: "item"}]}, {
                    type: "rows",
                    children: [{type: "item", height: 66.67}, {type: "item"}]
                }, {type: "rows", children: [{type: "item", height: 33.33}, {type: "item"}]}],
                height: 60
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page60: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}], height: 33.33},
                {
                    type: "columns",
                    children: [{
                        type: "rows",
                        children: [{type: "item", height: 25}, {type: "item", height: 50}, {type: "item"}]
                    }, {
                        type: "rows",
                        children: [{
                            type: "columns",
                            children: [{type: "item"}, {type: "item"}],
                            height: 25
                        }, {type: "item", height: 25}, {type: "item"}]
                    }, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
                }]
        },
        Page61: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}], height: 50}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 16.67
            },
                {type: "columns", children: [{type: "item"}, {type: "item"}]}]
        },
        Page62: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 50}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 25
                }, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
            }, {
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}], width: 25}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 25
                }, {type: "item"}]
            }]
        },
        Page63: {
            items: [{
                type: "columns", children: [{type: "item", width: 80}, {
                    type: "rows", children: [{type: "item"},
                        {type: "item"}, {type: "item"}, {type: "item"}]
                }], height: 80
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page64: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 20
            }, {type: "item", height: 60}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page65: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}]}, {
                type: "columns", children: [{
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}], width: 16.67
                }, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "item"}]
            }]
        },
        Page66: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 40}, {type: "item", width: 20}, {type: "item"}],
                height: 25
            }, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 50}, {type: "item"}],
                    width: 20
                }, {type: "item", width: 60}, {
                    type: "rows", children: [{
                        type: "item",
                        height: 50
                    }, {type: "item"}]
                }],
                height: 50
            }, {type: "columns", children: [{type: "item", width: 40}, {type: "item", width: 20}, {type: "item"}]}]
        },
        Page67: {
            items: [{type: "columns", children: [{type: "item", width: 33.33}, {type: "item"}]}, {
                type: "columns",
                children: [{type: "item", width: 33.33}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "rows", children: [{type: "item"}, {type: "item"}], width: 16.67}, {type: "item"}]
            }, {type: "columns", children: [{type: "item", width: 66.67}, {type: "item"}]}]
        },
        Page68: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}], height: 16.67
            }, {
                type: "columns",
                children: [{type: "item", width: 75}, {type: "rows", children: [{type: "item"}, {type: "item"}]}],
                height: 66.67
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page69: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 75}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}]
                    }],
                    width: 40
                }, {
                    type: "rows", children: [{
                        type: "columns", children: [{type: "item"},
                            {type: "item"}, {type: "item"}], height: 25
                    }, {type: "item"}]
                }],
                height: 66.67
            }, {
                type: "columns",
                children: [{type: "item", width: 40}, {type: "item", width: 40}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}]
                }]
            }]
        },
        Page70: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 50}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item", width: 33.33}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "item"}]
            }, {
                type: "columns", children: [{
                    type: "item",
                    width: 50
                }, {type: "rows", children: [{type: "item"}, {type: "item"}], width: 16.67}, {type: "item"}]
            }]
        },
        Page71: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 20
            }, {
                type: "columns",
                children: [{type: "item", width: 75}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}]
                }],
                height: 60
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page72: {
            items: [{
                type: "columns", children: [{
                    type: "rows", children: [{
                        type: "columns", children: [{type: "item"},
                            {type: "item"}], height: 33.33
                    }, {type: "item"}], width: 50
                }, {type: "item", width: 25}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}]
                }]
            }, {
                type: "columns",
                children: [{type: "item", width: 25}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 25
                }, {type: "item"}]
            }]
        },
        Page73: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}]}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns", children: [{type: "item"}, {type: "item"},
                    {type: "item"}]
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page74: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 25
            }, {
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}], width: 25}, {
                    type: "item",
                    width: 50
                }, {type: "rows", children: [{type: "item"}, {type: "item"}]}],
                height: 50
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page75: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 66.67}, {
                    type: "rows",
                    children: [{type: "item", height: 50}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 25
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}]}]
                }], height: 66.67
            }, {
                type: "columns",
                children: [{type: "item", width: 33.33}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "rows", children: [{type: "item"}, {type: "item"}], width: 16.67}, {type: "item"}]
            }]
        },
        Page76: {
            items: [{
                type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"},
                    {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page77: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 16.67
            }, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 50}, {type: "item"}],
                    width: 25
                }, {type: "item", width: 50}, {type: "rows", children: [{type: "item", height: 50}, {type: "item"}]}],
                height: 66.67
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page78: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 30}, {type: "item", width: 45}, {type: "item"}],
                height: 30
            }, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 15
                }, {type: "item", width: 70}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}]
                }],
                height: 45
            }, {type: "columns", children: [{type: "item", width: 30}, {type: "item", width: 45}, {type: "item"}]}]
        },
        Page79: {
            items: [{
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}, {type: "item"}]}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}]
                }, {type: "rows", children: [{type: "item"}, {type: "item"}, {type: "item"}]}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}]
                }, {type: "rows", children: [{type: "item"}, {type: "item"}, {type: "item"}]}]
            }]
        },
        Page80: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}]}, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page81: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "columns", children: [{type: "item"}, {type: "item"}]}, {type: "item"}],
                    width: 33.33
                }, {
                    type: "rows",
                    children: [{type: "item"}, {
                        type: "columns",
                        children: [{type: "item", width: 50}, {type: "item"}]
                    }],
                    width: 33.33
                }, {type: "item"}],
                height: 40
            }, {type: "item", height: 40}, {
                type: "columns", children: [{type: "item", width: 16.67},
                    {type: "item", width: 16.67}, {type: "item", width: 16.67}, {
                        type: "item",
                        width: 16.67
                    }, {type: "item", width: 16.67}, {type: "item"}]
            }]
        },
        Page82: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 50}, {
                        type: "columns",
                        children: [{type: "item", width: 50}, {
                            type: "rows",
                            children: [{type: "item"}, {type: "item"}],
                            width: 25
                        }, {type: "rows", children: [{type: "item"}, {type: "item"}]}],
                        height: 25
                    }, {type: "item"}]
                }, {
                    type: "rows", children: [{
                        type: "columns", children: [{type: "item", width: 50}, {
                            type: "rows", children: [{type: "item"},
                                {type: "item"}], width: 25
                        }, {type: "rows", children: [{type: "item"}, {type: "item"}]}], height: 25
                    }, {type: "item"}]
                }]
            }]
        },
        Page83: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 25
            }, {
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}], width: 20}, {
                    type: "item",
                    width: 60
                }, {type: "rows", children: [{type: "item"}, {type: "item"}]}],
                height: 50
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page84: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 66.67}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
            }, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 50}, {type: "item"}],
                    width: 16.67
                }, {type: "rows", children: [{type: "item", height: 50}, {type: "item"}], width: 16.67}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item", width: 66.67}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 16.67
                }, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}]
                }]
            }]
        },
        Page86: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 16.67
            }, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "item", width: 66.67}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}]
                }],
                height: 50
            }, {type: "columns", children: [{type: "item"}, {type: "item"}]}]
        },
        Page87: {
            items: [{
                type: "columns", children: [{
                    type: "rows",
                    children: [{type: "item", height: 66.67}, {
                        type: "columns",
                        children: [{type: "item", width: 50}, {
                            type: "rows",
                            children: [{type: "item"}, {type: "item"}],
                            width: 25
                        }, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
                    }]
                }, {
                    type: "rows",
                    children: [{
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 33.33
                    }, {type: "item"}]
                }], height: 75
            }, {
                type: "columns",
                children: [{type: "item", width: 25}, {type: "item", width: 50}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 12.5
                }, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
            }]
        },
        Page88: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 50}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 12.5
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}], height: 12.5}, {type: "item"}],
                    width: 25
                }, {
                    type: "rows",
                    children: [{type: "item", height: 25}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 12.5
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}], height: 12.5}, {type: "item"}],
                    width: 25
                }, {
                    type: "rows", children: [{type: "item", height: 25},
                        {type: "item", height: 50}, {type: "item"}]
                }]
            }]
        },
        Page89: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 50}, {
                    type: "rows",
                    children: [{type: "item", height: 50}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 25
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}]}],
                    width: 25
                }, {
                    type: "rows",
                    children: [{
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 25
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}], height: 25}, {type: "item"}]
                }]
            }, {
                type: "columns", children: [{
                    type: "rows", children: [{type: "item"},
                        {type: "item"}], width: 25
                }, {type: "rows", children: [{type: "item"}, {type: "item"}], width: 25}, {type: "item"}]
            }]
        },
        Page90: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]}]
        },
        Page91: {
            items: [{
                type: "columns", children: [{
                    type: "item",
                    width: 66.67
                }, {type: "rows", children: [{type: "item"}, {type: "item"}], width: 16.67}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}]
                }], height: 33.33
            }, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {
                    type: "rows",
                    children: [{type: "item", height: 75}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}]
                    }],
                    width: 33.33
                }, {
                    type: "rows",
                    children: [{
                        type: "columns",
                        children: [{
                            type: "rows",
                            children: [{type: "item"}, {type: "item"}],
                            width: 33.33
                        }, {type: "item"}]
                    },
                        {type: "item"}]
                }]
            }]
        },
        Page92: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 66.67}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}, {type: "item"}]
                    }],
                    width: 50
                }, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item", width: 33.33}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {
                    type: "rows", children: [{
                        type: "columns", children: [{type: "item"}, {type: "item"}, {type: "item"}],
                        height: 33.33
                    }, {type: "item"}]
                }]
            }]
        },
        Page93: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}],
                height: 20
            }, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 20
                }, {type: "item", width: 60}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}]
                }],
                height: 60
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page94: {
            items: [{
                type: "columns", children: [{type: "item"},
                    {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}], height: 16.67
            }, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 25}, {type: "item", height: 25}, {
                        type: "item",
                        height: 25
                    }, {type: "item"}],
                    width: 16.67
                }, {type: "item", width: 66.67}, {
                    type: "rows",
                    children: [{type: "item", height: 25}, {type: "item", height: 25}, {
                        type: "item",
                        height: 25
                    }, {type: "item"}]
                }],
                height: 66.67
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page95: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 50}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "rows", children: [{type: "item"}, {type: "item"}, {type: "item"}]}]
            }, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "rows", children: [{type: "item"}, {type: "item"}, {type: "item"}], width: 16.67}, {
                    type: "rows", children: [{type: "item"}, {type: "item"}, {type: "item"}],
                    width: 16.67
                }, {type: "item"}]
            }]
        },
        Page96: {
            items: [{
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{
                        type: "columns",
                        children: [{type: "item"}, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
                    }, {type: "item"}]
                }, {type: "item"}, {type: "item"}, {
                    type: "rows",
                    children: [{type: "item"}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
                    }]
                }],
                height: 33.33
            }, {
                type: "columns", children: [{
                    type: "rows", children: [{type: "item"}, {
                        type: "columns", children: [{
                            type: "rows", children: [{
                                type: "columns",
                                children: [{type: "rows", children: [{type: "item"}, {type: "item"}]}, {type: "item"}]
                            }, {type: "item"}]
                        }, {type: "item"}]
                    }]
                }, {type: "item"}]
            }]
        },
        Page97: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns", children: [{type: "item"},
                    {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page98: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 50}, {
                    type: "rows",
                    children: [{type: "item", height: 50}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 25
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}]}],
                    width: 25
                }, {
                    type: "rows",
                    children: [{
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 25
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}], height: 25}, {type: "item"}]
                }]
            }, {
                type: "columns",
                children: [{
                    type: "rows",
                    children: [{type: "item", height: 50}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 25
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}]}],
                    width: 25
                }, {
                    type: "rows",
                    children: [{
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 25
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}], height: 25}, {type: "item"}],
                    width: 25
                }, {type: "item"}]
            }]
        },
        Page99: {
            items: [{type: "columns", children: [{type: "item"}, {type: "item"}]}, {
                type: "columns", children: [{
                    type: "rows", children: [{type: "item"},
                        {type: "item"}], width: 12.5
                }, {type: "rows", children: [{type: "item"}, {type: "item"}], width: 12.5}, {
                    type: "item",
                    width: 50
                }, {type: "rows", children: [{type: "item"}, {type: "item"}], width: 12.5}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}]
                }]
            }, {type: "columns", children: [{type: "item"}, {type: "item"}]}, {
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}], width: 12.5}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 12.5
                }, {type: "item", width: 50}, {
                    type: "rows", children: [{type: "item"},
                        {type: "item"}], width: 12.5
                }, {type: "rows", children: [{type: "item"}, {type: "item"}]}]
            }]
        },
        Page100: {
            items: [{
                type: "columns",
                children: [{type: "item", width: 50}, {
                    type: "rows",
                    children: [{type: "item", height: 50}, {
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 25
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}]}],
                    width: 25
                }, {
                    type: "rows",
                    children: [{
                        type: "columns",
                        children: [{type: "item"}, {type: "item"}],
                        height: 25
                    }, {type: "columns", children: [{type: "item"}, {type: "item"}], height: 25}, {type: "item"}]
                }],
                height: 50
            }, {
                type: "columns",
                children: [{type: "item", width: 25}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 12.5
                }, {type: "rows", children: [{type: "item"}, {type: "item"}], width: 12.5}, {
                    type: "item",
                    width: 25
                }, {type: "item"}],
                height: 25
            }, {
                type: "columns",
                children: [{type: "rows", children: [{type: "item"}, {type: "item"}], width: 12.5}, {
                    type: "rows",
                    children: [{type: "item"}, {type: "item"}],
                    width: 12.5
                }, {type: "item", width: 25}, {type: "item", width: 25}, {type: "item"}]
            }]
        },
        Page101: {
            items: [{
                type: "columns", children: [{type: "item"},
                    {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page102: {
            items: [{
                type: "columns", children: [{type: "item"},
                    {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"},
                    {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        },
        Page103: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns", children: [{type: "item"}, {type: "item"},
                    {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"},
                    {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"},
                    {type: "item"}]
            }]
        },
        Page104: {
            items: [{
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"},
                    {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"},
                    {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"},
                    {type: "item"}, {type: "item"}]
            }, {
                type: "columns",
                children: [{type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}, {type: "item"}]
            }]
        }
    };

    function yh(a) {
        a && a.id && null != a.version && (this.id = a.id, this.version = a.version)
    }

    function zh(a) {
        return Ah(new yh(a.layout), a)
    }

    function Ah(a, b) {
        $.extend(!0, a, _.omit(b, "layout"));
        return a
    }

    f = yh.prototype;
    f.getName = function () {
        return this.name
    };
    f.Te = function () {
        var a = {elements: this.elements, width: this.width, height: this.height, dpi: this.dpi}, b = this.serialize();
        if (b && a.elements) {
            var c = (new Bh(b)).di().serialize();
            a.elements.forEach(function (a) {
                a.origin = c
            })
        }
        return a
    };
    f.serialize = function () {
        return this.id && this.version ? {id: this.id, version: this.version} : null
    };
    f.la = function (a) {
        this.width = a
    };
    f.ja = function (a) {
        this.height = a
    };
    f.C = function () {
        return this.width
    };
    f.D = function () {
        return this.height
    };
    function Ch(a) {
        function b(a) {
            a.mediaId && c.push(new Dh(a.mediaId, a.mediaVersion));
            a.fontMedia && c.push(new Dh(a.fontMedia.id, a.fontMedia.version));
            a.htmlFontMedia && a.htmlFontMedia.forEach(function (a) {
                c.push(new Dh(a.id, a.version))
            })
        }

        var c = [];
        a.elements && a.elements.length && a.elements.forEach(function (a) {
            b(a);
            a.contents && a.contents.length && a.contents.forEach(b)
        });
        return c
    };
    function Eh(a) {
        var b = Array.prototype.concat.apply([], arguments);
        b.length || (b = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
        this.m = new Float32Array(b)
    }

    function Fh(a) {
        var b = new Eh;
        b.m[2] = a[0];
        b.m[5] = a[1];
        return b
    }

    function Gh(a) {
        return [a.m[2], a.m[5]]
    }

    f = Eh.prototype;
    f.multiply = function (a) {
        var b = new Eh;
        b.m[0] = this.m[0] * a.m[0] + this.m[1] * a.m[3] + this.m[2] * a.m[6];
        b.m[1] = this.m[0] * a.m[1] + this.m[1] * a.m[4] + this.m[2] * a.m[7];
        b.m[2] = this.m[0] * a.m[2] + this.m[1] * a.m[5] + this.m[2] * a.m[8];
        b.m[3] = this.m[3] * a.m[0] + this.m[4] * a.m[3] + this.m[5] * a.m[6];
        b.m[4] = this.m[3] * a.m[1] + this.m[4] * a.m[4] + this.m[5] * a.m[7];
        b.m[5] = this.m[3] * a.m[2] + this.m[4] * a.m[5] + this.m[5] * a.m[8];
        b.m[6] = this.m[6] * a.m[0] + this.m[7] * a.m[3] + this.m[8] * a.m[6];
        b.m[7] = this.m[6] * a.m[1] + this.m[7] * a.m[4] + this.m[8] * a.m[7];
        b.m[8] =
            this.m[6] * a.m[2] + this.m[7] * a.m[5] + this.m[8] * a.m[8];
        this.m = b.m;
        return this
    };
    f.transform = function (a) {
        var b = new Eh;
        b.m = this.m;
        this.m = a.m;
        return this.multiply(b)
    };
    f.translate = function (a, b) {
        var c = new Eh;
        c.m[2] = a;
        c.m[5] = b;
        return this.transform(c)
    };
    f.reflect = function () {
        var a = new Eh;
        a.m[0] = -1;
        a.m[4] = -1;
        return this.transform(a)
    };
    f.scale = function (a, b) {
        var c = new Eh;
        c.m[0] = a;
        c.m[4] = void 0 === b ? a : b;
        return this.transform(c)
    };
    f.rotate = function (a) {
        if (0 === a || 360 === Math.abs(a))return this;
        var b = new Eh, c = a * Math.PI / 180;
        a = Math.cos(c);
        c = Math.sin(c);
        b.m[0] = a;
        b.m[1] = c;
        b.m[3] = -1 * c;
        b.m[4] = a;
        return this.transform(b)
    };
    f.toArray = function () {
        return Array.prototype.slice.call(this.m)
    };
    function Hh() {
        this.r = 255;
        this.g = 0;
        this.b = 255;
        this.h = 300;
        this.s = 100;
        this.pm = 50
    }

    function Ih(a, b, c, d) {
        a.h = b;
        a.s = c;
        a.pm = d;
        var e;
        e = b / 60;
        c /= 100;
        d /= 100;
        b = Math.floor(e);
        var g = e - b;
        e = d * (1 - c);
        var h = d * (1 - g * c);
        c = d * (1 - (1 - g) * c);
        b %= 6;
        d = [Math.round(255 * [d, h, e, e, c, d][b]), Math.round(255 * [c, d, d, h, e, e][b]), Math.round(255 * [e, e, c, d, d, h][b])];
        a.r = d[0];
        a.g = d[1];
        a.b = d[2];
        return a
    }

    f = Hh.prototype;
    f.wr = function () {
        return this.pm
    };
    function Jh(a, b, c, d) {
        a.r = b;
        a.g = c;
        a.b = d;
        var e;
        b = a.r;
        c = a.g;
        d = a.b;
        b /= 255;
        c /= 255;
        d /= 255;
        var g = Math.max(b, c, d), h = Math.min(b, c, d);
        if (g == h)e = h = 0; else {
            var k = g - h, h = k / g;
            switch (g) {
                case b:
                    e = (c - d) / k + (c < d ? 6 : 0);
                    break;
                case c:
                    e = (d - b) / k + 2;
                    break;
                case d:
                    e = (b - c) / k + 4
            }
            e /= 6
        }
        e = [360 * e, 100 * h, 100 * g];
        a.h = e[0];
        a.s = e[1];
        a.pm = e[2];
        return a
    }

    function Kh(a) {
        var b = new Hh;
        if (!/^#?[0-9a-f]{1,6}$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "' + a + '"');
        "#" == a.charAt(0) && (a = a.slice(1));
        var c = Math.ceil(a.length / 3);
        return Jh(b, Lh(a, 0 * c, c), Lh(a, 1 * c, c), Lh(a, 2 * c, c))
    }

    function Mh(a) {
        return 0 == (a.r & -256 | a.g & -256 | a.b & -256)
    }

    f.ka = function () {
        return "#" + (256 + this.r).toString(16).slice(-2) + (256 + this.g).toString(16).slice(-2) + (256 + this.b).toString(16).slice(-2)
    };
    f.clone = function () {
        var a = new Hh;
        a.r = this.r;
        a.g = this.g;
        a.b = this.b;
        a.h = this.h;
        a.s = this.s;
        a.pm = this.pm;
        return a
    };
    f.distanceTo = function (a) {
        var b = (this.r + a.r) / 2, c = this.r - a.r, d = this.g - a.g;
        a = this.b - a.b;
        return (512 + b) * c * c / 256 + 4 * d * d + (767 - b) * a * a / 256
    };
    function Ph(a) {
        return Math.round(Math.sqrt(.241 * a.r * a.r + .691 * a.g * a.g + .068 * a.b * a.b))
    }

    function Qh(a) {
        return Ih(new Hh, a.h, a.s, 100)
    }

    function Rh(a, b, c) {
        return Jh(new Hh, Math.round(a.r + (b.r - a.r) * c), Math.round(a.g + (b.g - a.g) * c), Math.round(a.b + (b.b - a.b) * c))
    }

    f.equals = function (a) {
        return null != a && a.serialize() === this.serialize()
    };
    f.serialize = Hh.prototype.ka;
    f.toString = Hh.prototype.ka;
    function Q(a) {
        try {
            return Sh(a)
        } catch (b) {
        }
        return null
    }

    function Sh(a) {
        var b = String(a);
        if ("#" === b.slice(0, 1))return Kh(b);
        if ("hsl(" === b.slice(0, 4)) {
            a = new Hh;
            var c = /^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(b);
            if (!c)throw new SyntaxError('Invalid HSL color: "' + b + '"');
            var b = +c[2], d = +c[3], b = b / 100, d = d / 100, e = b * (.5 > d ? d : 1 - d), g = d + e, c = [+c[1], 100 * (0 < d ? 2 * e / g : b), 100 * g];
            return Ih(a, c[0], c[1], c[2])
        }
        if ("rgb(" === b.slice(0, 4)) {
            a = new Hh;
            c = /^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(b);
            if (!c)throw new SyntaxError('Invalid RGB color: "' + b + '"');
            return Jh(a,
                +c[1], +c[2], +c[3])
        }
        if (6 >= b.length)return Kh(b);
        throw Error("could not parse color: " + a);
    }

    function Th(a, b, c) {
        0 > c && (c += 1);
        1 < c && --c;
        return c < 1 / 6 ? a + 6 * (b - a) * c : .5 > c ? b : c < 2 / 3 ? a + (b - a) * (2 / 3 - c) * 6 : a
    }

    function Lh(a, b, c) {
        var d = parseInt(a.charAt(b), 16) | 0;
        return 16 * d + (1 == c ? d : parseInt(a.charAt(b + 1), 16) | 0)
    }

    function Uh(a, b, c) {
        return Jh(new Hh, a.r + Math.round(c * (b.r - a.r)), a.g + Math.round(c * (b.g - a.g)), a.b + Math.round(c * (b.b - a.b)))
    };
    function Vh() {
    }

    Vh = Backbone.View.extend({className: "colorPicker showColorCode"});
    f = Vh.prototype;
    f.initialize = function (a) {
        this.Ve = a.Ve;
        this.Va = (a.Va || Vh.Az).clone();
        this.ql = this.ql.bind(this);
        this.sl = this.sl.bind(this);
        this.rl = this.rl.bind(this);
        this.tl = this.tl.bind(this)
    };
    f.events = function () {
        return {
            "mousedown .colorPickerSpectrum": this.$E,
            "mousedown .colorPickerValue": this.aF,
            "keydown .colorPickerHexCode": this.TE,
            "input .colorPickerHexCode": this.DE
        }
    };
    f.Fi = function () {
        return this.Va.clone()
    };
    f.am = function (a) {
        a.equals(this.Va) || (this.Va = a.clone(), Wh(this), Xh(this), Yh(this), this.trigger("preview", this.Fi()))
    };
    f.render = function () {
        this.$el.addClass("on");
        this.$el.html(Vh.TEMPLATE({colorCodeLabel: this.Ve.format("colorPickerColorCode")}));
        Wh(this);
        Xh(this);
        Yh(this);
        return this
    };
    f.remove = function () {
        var a = this;
        this.$el.removeClass("on");
        this.$el.one("animationend", function () {
            $(document).off("mousemove", a.ql);
            $(document).off("mouseup", a.sl);
            $(document).off("mousemove", a.rl);
            $(document).off("mouseup", a.tl);
            Backbone.View.prototype.remove.call(a)
        });
        return this
    };
    function Wh(a) {
        var b = Zh(a.Va.h), c = (Vh.Bu - Vh.Wj) * a.Va.s / 100, d = c * Math.cos(b), b = c * Math.sin(b);
        a.$(".colorPickerSpectrum \x3e .marker").css("transform", "translate(" + d + "px, " + b + "px)");
        a.$(".colorPickerValue").css("background-color", Qh(a.Va).ka())
    }

    function Xh(a) {
        var b = (Vh.Du - 2 * Vh.Wj) * (100 - a.Va.wr()) / 100;
        a.$(".colorPickerValue \x3e .marker").css("transform", "translateX(" + b + "px)")
    }

    function Yh(a) {
        var b = a.$(".colorPickerHexCode");
        b.blur();
        b.val(a.Va.ka().slice(1))
    }

    function $h(a, b) {
        var c = b.clientX, d = b.clientY, e = a.$(".colorPickerSpectrum").get(0).getBoundingClientRect(), g = e.left + e.width / 2, e = e.top + e.height / 2;
        Ih(a.Va, ai(g, e, c, d), 100 * Math.min(bi(g, e, c, d) / (Vh.Bu - Vh.Wj), 1), a.Va.wr());
        Wh(a);
        Yh(a);
        a.trigger("preview", a.Fi())
    }

    function ci(a, b) {
        var c = b.clientX, d = a.$(".colorPickerValue").get(0).getBoundingClientRect(), e = a.Va;
        Ih(e, e.h, e.s, 100 - 100 * Math.max(0, Math.min((c - d.left - Vh.Wj) / (Vh.Du - 2 * Vh.Wj), 1)));
        Xh(a);
        Yh(a);
        a.trigger("preview", a.Fi())
    }

    f.$E = function (a) {
        0 === a.button && (a.preventDefault(), $h(this, a), this.undelegateEvents(), this.$(".colorPickerSpectrum").addClass("mousedown"), $(document).on("mousemove", this.ql), $(document).on("mouseup", this.sl))
    };
    f.ql = function (a) {
        $h(this, a)
    };
    f.sl = function (a) {
        $(document).off("mousemove", this.ql);
        $(document).off("mouseup", this.sl);
        this.$(".colorPickerSpectrum").removeClass("mousedown");
        this.delegateEvents();
        $h(this, a)
    };
    f.aF = function (a) {
        0 === a.button && (a.preventDefault(), ci(this, a), this.undelegateEvents(), this.$(".colorPickerValue").addClass("mousedown"), $(document).on("mousemove", this.rl), $(document).on("mouseup", this.tl))
    };
    f.rl = function (a) {
        ci(this, a)
    };
    f.tl = function (a) {
        $(document).off("mousemove", this.rl);
        $(document).off("mouseup", this.tl);
        this.$(".colorPickerValue").removeClass("mousedown");
        this.delegateEvents();
        ci(this, a)
    };
    f.TE = function (a) {
        if (13 === a.which || 27 === a.which)a.preventDefault(), this.trigger("confirm")
    };
    f.DE = function () {
        var a = this.$(".colorPickerHexCode").val(), a = a.replace(/\W+/g, "").slice(0, 6).replace(/[^0-9a-f]/gi, "0");
        this.Va = Q(a) || Jh(new Hh, 0, 0, 0);
        Wh(this);
        Xh(this);
        this.trigger("preview", this.Fi())
    };
    Vh.Az = Jh(new Hh, 255, 255, 255);
    Vh.Bu = 100;
    Vh.Wj = 10;
    Vh.Du = 200;
    Vh.TEMPLATE = _.template('\x3cdiv class\x3d"colorPickerSpectrum"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerValue"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerColorCode"\x3e\x3c%- data.colorCodeLabel %\x3e #\x3cinput class\x3d"colorPickerHexCode" maxlength\x3d"6" spellcheck\x3d"false"\x3e\x3c/div\x3e', {variable: "data"});
    function di() {
    }

    di = Backbone.View.extend({className: "colorPalette"});
    f = di.prototype;
    f.initialize = function (a) {
        this.Ve = a.Ve;
        this.jk = a.jk;
        this.If = a.If;
        this.Kf = a.Kf;
        this.cv = (this.Va = a.Va) && this.Va.clone();
        this.Ss = !1;
        this.Uc = null;
        this.Sl = a.Sl;
        this.Tl = null
    };
    f.events = function () {
        return {
            "click .colorPaletteAdd": this.cE,
            "click .colorPaletteEntry": this.BD,
            mousedown: this.ZE,
            "mousedown .colorPaletteEntry": this.YE
        }
    };
    f.render = function () {
        function a(a) {
            return b[a] ? !1 : b[a] = !0
        }

        var b = {}, c = $("\x3cdiv\x3e").appendTo(this.$el);
        this.$el.addClass("on");
        if (this.Kf && 0 < fi(this.Kf).length) {
            var d = fi(this.Kf).filter(a);
            c.append(di.Gz({colors: d, label: this.Ve.kb(d.length)}));
            this.$el.addClass("includesBrandKit");
            20 < d.length && this.$el.addClass("heapsOfBrandColors")
        }
        d = fi(this.If.Ne()).filter(a);
        c.append(di.Qz({colors: d}));
        this.Sl && (this.$el.addClass("colorPaletteScrollable"), c.addClass("disableAncestorScroll"), this.Tl = new gi(c),
            this.Tl.render());
        this.listenTo(this.If, "paletteEntry:add", this.rD);
        this.listenTo(this.If, "paletteEntry:remove", this.kF);
        return this
    };
    f.Fi = function () {
        return this.Va && this.Va.clone()
    };
    f.am = function (a) {
        a.equals(this.Va) || (this.Va = a.clone(), this.trigger("preview", a));
        this.Uc && (this.Uc.am(a), this.$(".colorPaletteAdd").css("color", a.ka()));
        return this
    };
    f.confirm = function () {
        this.Va && !this.Va.equals(this.cv) && hi(this);
        return this
    };
    function ii(a) {
        a.Uc && (a.Uc.remove(), a.Uc = null, a.trigger("hideColorPicker"));
        a.Ss && (ji(a), a.Ss = !1);
        a.$(".colorPaletteAdd").css("color", "transparent")
    }

    f.remove = function () {
        ii(this);
        this.Tl && (this.Tl.remove(), this.Tl = null);
        this.$el.removeClass("on");
        this.$el.one("animationend", Backbone.View.prototype.remove.bind(this));
        return this
    };
    function hi(a) {
        a.cv = a.Fi();
        a.trigger("confirm")
    }

    function ji(a) {
        if (a.Va) {
            var b = a.Va.ka();
            a.$(".colorPaletteEntry").toArray().some(function (a) {
                return $(a).data("color") === b
            }) || (ki(a.If, a.Va), hi(a))
        }
    }

    f.BD = function (a) {
        a.preventDefault();
        a = $(a.currentTarget).data("color");
        if (a = Q(a))this.am(a), this.Uc || this.confirm()
    };
    f.cE = function (a) {
        a.preventDefault();
        this.Uc ? ii(this) : this.Uc || (this.Uc = new Vh({
            Ve: this.Ve,
            Va: this.Va
        }), this.listenTo(this.Uc, "preview", this.jF), this.listenTo(this.Uc, "confirm", this.fE), this.Uc.render(), this.jk.hf(this.Uc.$el, this.$(".colorPaletteAdd")), this.trigger("showColorPicker"))
    };
    f.ZE = function (a) {
        0 === a.button && (0 < $(a.target).closest(".colorPaletteAdd, .colorPaletteEntry").length ? a.preventDefault() : ii(this))
    };
    f.YE = function (a) {
        if (0 === a.button && (a.preventDefault(), !$(a.currentTarget).parent().hasClass("colorPaletteBrand"))) {
            var b = $(a.currentTarget).data("color"), c = li(new mi({target: a.currentTarget}), a.clientX, a.clientY);
            this.listenTo(c, "end", function (a) {
                var e = Q(b);
                !e || this.$el.is(a) || this.$el.get(0).contains(a) || (ni(this.If, e), hi(this));
                this.stopListening(c)
            })
        }
    };
    f.rD = function (a) {
        if (!this.Kf || !oi(this.Kf, a)) {
            a = a.ka();
            var b = $("\x3cli\x3e");
            b.addClass("colorPaletteEntry");
            b.data("color", a);
            b.css("color", a);
            b.insertAfter(this.$(".colorPaletteAdd"))
        }
    };
    f.kF = function (a) {
        var b = a.ka();
        this.$(".workingPalette .colorPaletteEntry").filter(function () {
            return $(this).data("color") === b
        }).remove()
    };
    f.jF = function (a) {
        this.Uc && (this.Ss = !0, this.am(a))
    };
    f.fE = function () {
        ii(this);
        this.confirm()
    };
    di.Gz = _.template('\x3cdiv class\x3d"pinnedPalette\x3c% if (data.colors.length \x3d\x3d\x3d 1) { %\x3e pinnedPaletteBrief\x3c% } %\x3e"\x3e\x3ch3 class\x3d"colorPaletteLabel"\x3e\x3c%- data.label %\x3e\x3c/h3\x3e\x3cmenu class\x3d"colorPaletteGroup"\x3e\x3c% data.colors.forEach(function(hexString) { %\x3e\x3cli class\x3d"colorPaletteEntry" data-color\x3d"\x3c%- hexString %\x3e" style\x3d"color: \x3c%- hexString %\x3e;"\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/menu\x3e\x3c/div\x3e', {variable: "data"});
    di.Qz = _.template('\x3cdiv class\x3d"workingPalette"\x3e\x3cmenu class\x3d"colorPaletteGroup"\x3e\x3cli class\x3d"colorPaletteAdd"\x3e\x3c/li\x3e\x3c% data.colors.forEach(function(hexString) { %\x3e\x3cli class\x3d"colorPaletteEntry" data-color\x3d"\x3c%- hexString %\x3e" style\x3d"color: \x3c%- hexString %\x3e;"\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/menu\x3e\x3c/div\x3e', {variable: "data"});
    function mi(a) {
        this.target = a.target;
        this.tf = null;
        this.cn = {x: 0, y: 0};
        this.dn = void 0 !== a.dn ? a.dn : 5;
        this.Av = !1;
        this.im = null;
        this.lx = this.tC.bind(this);
        this.mx = this.uC.bind(this)
    }

    f = mi.prototype;
    f.trigger = Backbone.Events.trigger;
    f.on = Backbone.Events.on;
    f.off = Backbone.Events.off;
    f.listenTo = Backbone.Events.listenTo;
    function li(a, b, c) {
        a.cn.x = b;
        a.cn.y = c;
        a.tf = a.target.cloneNode(!0);
        document.addEventListener("mousemove", a.lx);
        document.addEventListener("mouseup", a.mx);
        return a
    }

    f.release = function (a) {
        document.removeEventListener("mousemove", this.lx);
        document.removeEventListener("mouseup", this.mx);
        $(this.target).removeClass("fauxDraggerTarget");
        this.tf && this.tf.parentNode && this.tf.parentNode.removeChild(this.tf);
        this.tf = null;
        this.trigger("end", a);
        this.off()
    };
    f.tC = function (a) {
        var b = a.pageX - this.cn.x;
        a = a.pageY - this.cn.y;
        this.Av ? $(this.tf).css("top", this.im.top + a + "px").css("left", this.im.left + b + "px") : (Math.abs(b) > this.dn || Math.abs(a) > this.dn) && this.Fq()
    };
    f.uC = function (a) {
        a.preventDefault();
        a.target instanceof Element && this.release(a.target)
    };
    f.Fq = function () {
        this.im = this.target.getBoundingClientRect();
        $(this.tf).css("top", this.im.top + "px").css("left", this.im.left + "px").addClass("fauxDraggerClone");
        $(this.target).addClass("fauxDraggerTarget");
        document.body.appendChild(this.tf);
        this.trigger("start");
        this.Av = !0
    };
    function pi(a, b) {
        this.item = {elements: [], Fl: null, timestamp: 0};
        this.ap = a;
        this.Py = (b || "anonymous") + "-copybuffer"
    }

    function qi(a) {
        var b = JSON.stringify({
            elements: a.item.elements.map(function (a) {
                return a.serialize()
            }), timestamp: a.item.timestamp
        });
        try {
            a.ap.setItem(a.Py, b)
        } catch (c) {
        }
    }

    function ri(a) {
        var b;
        return a.ap && (b = a.ap.getItem(a.Py)) && (b = JSON.parse(b), b.timestamp > a.item.timestamp) ? {
            elements: (b.elements || []).map(function (a) {
                return Sd(a)
            }), Fl: null, timestamp: b.timestamp
        } : null
    }

    function si(a, b) {
        var c = gb;
        c.item.timestamp = Date.now();
        c.item.elements = a;
        c.item.Fl = b ? b : null;
        c.ap && qi(c)
    }

    function ti() {
        var a = gb, b = ri(a);
        return b ? b : {elements: a.item.elements, Fl: a.item.Fl, timestamp: a.item.timestamp}
    };
    function ui(a, b) {
        this.wa = a;
        this.Wy = b || null;
        this.yp = this.Fo = null
    }

    ui.prototype.read = function (a) {
        this.Fo || (vi++, wi.splice(vi, 0, this));
        this.Fo = a;
        if (xi == yi || xi == zi)this.wa.requestAnimationFrame(Ai), xi = Bi;
        return this
    };
    ui.prototype.write = function (a) {
        this.yp || (Ci++, Di.splice(Ci, 0, this));
        this.yp = a;
        xi == yi && (this.wa.requestAnimationFrame(Ai), xi = Bi);
        return this
    };
    function qe(a) {
        return new ui(Cf, a)
    }

    var yi = 0, Bi = 1, zi = 3, xi = yi, wi = [], Di = [], vi = 0, Ci = 0;

    function Ai() {
        var a, b;
        xi = 2;
        Ci = -1;
        for (a = 0; a < wi.length; a++) {
            vi = a;
            b = wi[a];
            var c = b.Fo;
            b.Fo = null;
            c && c.call(b.Wy, b)
        }
        wi.length = 0;
        vi = -1;
        xi = zi;
        for (a = 0; a < Di.length; a++)Ci = a, b = Di[a], c = b.yp, b.yp = null, c && c.call(b.Wy, b);
        Di.length = 0;
        Ci = -1;
        xi != Bi && (xi = yi)
    };
    function Ei() {
        this.ba = Ja;
        this.url = "/designschool"
    }

    function Fi(a) {
        var b = v.Pa();
        return R(a.ba, a.url + "/" + encodeURIComponent(b) + "/complete", null).get(0).then(Gi)
    };
    function Hi() {
    }

    function Gi(a) {
        return Object.freeze(E(Hi, a))
    };
    function Ii(a) {
        this.analytics = a.analytics;
        this.kq = a.kq;
        this.Kt = !1;
        this.window = a.window
    }

    function Ji(a, b) {
        if (!a.Kt) {
            var c = a.kq();
            c.on("signup", function () {
                $(window).off("beforeunload");
                a.window.location = "/brand/onboarding/upgrader"
            });
            c.on("hide", function () {
                a.Kt = !1
            });
            Ki(c, b);
            a.Kt = !0
        }
    };
    function Li(a, b) {
        this.action = a;
        this.param = b
    }

    var Mi = {$I: "tab", Iz: "search", GI: "folder"};

    function Ni() {
        var a = window.location.hash;
        if (!a)return null;
        a = a.slice(1).split("\x3d");
        if (2 !== a.length)return null;
        var b;
        b = a[0];
        var c = _.values(Mi);
        b = b && -1 < c.indexOf(b) ? b : null;
        if (!b)return null;
        var d;
        try {
            d = decodeURIComponent(a[1])
        } catch (e) {
            d = a[1]
        }
        a = d;
        c = _.values(lb);
        return "tab" === b && -1 === c.indexOf(a) || !/^[\w ]+$/.test(d) ? null : new Li(b, d || null)
    };
    function Oi(a) {
        this.colors = Pi(a);
        this.Qm = null
    }

    function Pi(a) {
        if (a) {
            var b = {};
            return a.filter(function (a) {
                a = a.ka();
                return b[a] ? !1 : b[a] = !0
            })
        }
        return ub.map(Q)
    }

    function oi(a, b) {
        return 0 <= fi(a).indexOf(b.ka())
    }

    Oi.prototype.tc = function () {
        this.Qm = null
    };
    function Qi(a, b) {
        Mh(b) && !oi(a, b) && (a.colors.push(b), a.tc())
    }

    function Ri(a, b) {
        Mh(b) && oi(a, b) && (a.colors = a.colors.filter(function (a) {
            return !a.equals(b)
        }), a.tc())
    }

    Oi.prototype.unshift = function (a) {
        Mh(a) && !oi(this, a) && (this.colors.unshift(a), this.tc())
    };
    function Si() {
        var a = new Oi;
        a.colors = [];
        a.tc();
        return a
    }

    Oi.prototype.Ke = function () {
        return this.colors
    };
    function fi(a) {
        a.Qm || (a.Qm = a.colors.map(function (a) {
            return a.ka()
        }));
        return a.Qm
    }

    Oi.prototype.serialize = function () {
        this.tc();
        return this.colors.filter(function (a) {
            return -1 == ub.indexOf(a.ka())
        }).map(function (a) {
            return a.serialize()
        })
    };
    function Ti(a) {
        function b(a) {
            return Q(a.hexString)
        }

        return (a = a.Ke()) ? new Oi(a.map(b).filter(Boolean)) : new Oi([])
    };
    function Ui(a) {
        function b() {
            p && (p = !1, $("#overlays .rotationGuide").addClass("willSnap"))
        }

        function c(a) {
            a.shiftKey && $("#overlays .rotationGuide").hasClass("willSnap") && (p = !0, $("#overlays .rotationGuide").removeClass("willSnap"))
        }

        function d(a) {
            var b = q + ai(l, m, void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY) - r;
            $("#overlays .rotation.align").addClass("on");
            var c = b % 45;
            0 > c && (c += 45);
            var d = b > n.Ua(), e = d && 42 < c, d = !d && 3 > c, g = 3 > c || 42 <
                c;
            if (a.shiftKey)z = !1, $("#overlays .rotationGuide").removeClass("willSnap"), g || (p = !1); else {
                g ? $("#overlays .rotationGuide").addClass("willSnap") : (z = !1, $("#overlays .rotationGuide").removeClass("willSnap"));
                if (z)return !1;
                e ? (b = b + 45 - c, z = !0) : d && ($("#overlays .rotationGuide").addClass("willSnap"), b -= c, z = !0)
            }
            a = b;
            $("#overlays .rotationGuide").css("transform", Vi({rotateZ: a}));
            c = a = b;
            0 > c && (c = 360 + c);
            u.html(Math.round(c) + "\x26deg;").css("transform", Vi({rotateZ: 360 - a}));
            Wi(n, b);
            n instanceof Xi && Yi(n);
            return !1
        }

        function e() {
            Zi();
            n.Mc = !1;
            w.off("mousemove|touchmove", d).off("mouseup|touchend", e);
            g.removeClass("on");
            n.Se && n.Se();
            $(".cornerHandles .rotate").empty();
            $("#overlays .align").removeClass("on");
            $("#overlays .rotationGuide").removeClass("willSnap");
            $(document).off("keydown", c);
            $(document).off("keydown", b);
            if (q != n.Ua()) {
                var a = {elementIndex: n.ea(), pageIndex: T(t, n.ca()), "new": {rotation: n.Ua()}, old: {rotation: q}};
                y.register(new U($i, a))
            }
        }

        aj();
        G.trigger("hideContextualControlsRequested");
        var g = $(this);
        g.addClass("on");
        var h =
            $(this).parents(".selectionBox").data("element"), k = h.offset(), l = k.left + h.width() / 2, m = k.top + h.height() / 2, n = h.data("canvaElement"), q = n.Ua(), r = ai(l, m, void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY), p = !1, u = $('\x3cspan class\x3d"degrees"\x3e\x3c/span\x3e');
        $(".cornerHandles .rotate").append(u);
        $(document).on("keydown", c);
        $(document).on("keyup", b);
        var w = new V($(document));
        n.Mc = !0;
        w.on("mousemove|touchmove", d).on("mouseup|touchend",
            e);
        a = bj(n);
        var z = !1, h = $("#overlays").get(0).getBoundingClientRect();
        $("#overlays .rotation.align").first().css("left", a.x - h.left + "px").css("top", a.y - h.top + "px");
        $("#overlays .rotationGuide").first().css("left", a.x - h.left + "px").css("top", a.y - h.top + "px").css("margin-top", -1 * cj(n) / 2 + "px").css("height", cj(n) + "px");
        return !1
    };
    function dj(a, b) {
        this.Qp = a;
        this.namespace = void 0 === b ? null : b
    }

    function ej() {
        if (window.localStorage)return new dj(window.localStorage, void 0);
        throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");
    }

    dj.prototype.setItem = function (a, b) {
        try {
            return this.Qp.setItem(null == this.namespace ? a : this.namespace + "." + a, b), !0
        } catch (c) {
            return !1
        }
    };
    dj.prototype.getItem = function (a) {
        return this.Qp.getItem(null == this.namespace ? a : this.namespace + "." + a)
    };
    dj.prototype.removeItem = function (a) {
        this.Qp.removeItem(null == this.namespace ? a : this.namespace + "." + a)
    };
    function fj(a) {
        this.sa = a.sa;
        this.Yc = a.Yc;
        this.li = a.li;
        this.Kc = a.Kc;
        this.F = a.F;
        this.analytics = a.analytics;
        this.wd = a.wd;
        this.uc = a.uc;
        this.dh = a.dh
    }

    fj.prototype.go = function (a, b, c, d, e, g) {
        a = a && a.content;
        b = gj(b);
        if (!a)throw Error("Malformed document. Missing content.");
        hj(this, a, b, c, d, e, g)
    };
    function hj(a, b, c, d, e, g, h) {
        a.analytics.identify(a.dh.G(), Of(a.dh));
        b = {
            content: b,
            pd: c,
            RB: !(-1 == Ae.indexOf(d.ge()) && !d.ge()),
            Yc: a.Yc,
            li: a.li,
            jg: d,
            $z: g,
            QH: h,
            F: a.F,
            md: e,
            Ov: function () {
                var b = ["C4W_UPGRADED_USER", "C4W_INVITED_EXISTING_USER"], c = d.ge(), e;
                if (t) {
                    if (-1 != Ae.indexOf(d.ge())) {
                        var g = a.F;
                        g.Jc || (g.Jc = new gd(g.Ga));
                        (new ij(t, d, g.Jc)).go()
                    }
                    g = new jj(a.Kc, d, a.F, a.sa, a.analytics, a.uc);
                    if (!c && a.uc && "1" == a.uc.getItem("onboardingPhase")) {
                        if (a.sa.Ta.get(Kd)) {
                            var h = Math.random();
                            .33 > h ? kj(a) : .66 > h ? lj(a) : mj(a)
                        } else Tf(a.analytics,
                            "no_hint", "header", "publish_pop_over");
                        a.uc.setItem("onboardingPhase", "2");
                        a.analytics.identify(a.dh.G(), {zx: "first_design"})
                    }
                    "FREE_NEW_USER" === c ? (a.uc && a.sa.Ta.get(Ld) ? (b = a.uc.getItem("onvidexp"), b || (b = Math.random(), b = .33 > b ? "no_video" : .66 > b ? "mandatory_video" : "baseline", a.uc.setItem("onvidexp", b), Tf(a.analytics, b, "onboarding", "onboarding_video")), b = "no_video" !== b) : b = !0, b && g.go(), nj(a), e = "regular") : oj(g) ? (g.go(), nj(a), new pj({
                        analytics: a.analytics,
                        te: "five_saves_view_designs",
                        wd: a.wd,
                        Sh: 5,
                        title: ec(a.F).Dl(),
                        content: $('\x3cp class\x3d"viewYourDesigns"\x3e\x3c/p\x3e').text(ec(a.F).Cl()),
                        Lb: ec(a.F).Bl(),
                        anchor: $("#editorLogo"),
                        ak: "homepage"
                    }), e = "layouts") : -1 < b.indexOf(c) && (qj({
                        ge: c,
                        Wm: a.sa.Wm(),
                        oG: 0 <= Be(d).indexOf("TEAM_TEMPLATE"),
                        Vb: ac(a.F)
                    }).start(), e = "c4w");
                    e && a.analytics.identify(a.dh.G(), {zx: e})
                }
            }
        };
        rj(b)
    }

    function nj(a) {
        a.uc && a.uc.setItem("onboardingPhase", "1")
    }

    function kj(a, b) {
        var c;
        c = a.F;
        c.Dq || (c.Dq = new hd(c.Ga));
        c = c.Dq;
        b = _.defaults({}, b, {
            analytics: a.analytics,
            te: "download_hint",
            wd: a.wd,
            Sh: 5,
            title: c.Dl(),
            content: c.Cl(),
            Lb: c.Bl(),
            anchor: $("button.editorActionExport"),
            ak: "download",
            position: sj
        });
        new pj(b)
    }

    function lj(a, b) {
        var c = cc(a.F);
        b = _.defaults({}, b, {
            analytics: a.analytics,
            te: "share_hint",
            wd: a.wd,
            Sh: 5,
            title: c.Dl(),
            content: c.Cl(),
            Lb: c.Bl(),
            anchor: $("button.editorActionShare"),
            ak: "share",
            position: sj
        });
        return new pj(b)
    }

    function mj(a) {
        var b = cc(a.F);
        lj(a, {
            Lb: b.format("sharePopOverNext") + " \x26#8594;",
            te: "download_share_hint_1"
        }).on("remove", function () {
            kj(a, {te: "download_share_hint_2", Sh: 0})
        })
    };
    function tj(a, b, c) {
        var d = this;
        this.pd = b;
        this.Ti = a.keywords || [];
        this.locale = a.locale || null;
        this.Cg = Si();
        this.oi = Si();
        this.Ze = Si();
        a.palette && a.palette.forEach(function (a) {
            var b = "!" === a.charAt(0);
            if (a = Q(b ? a.slice(1) : a))b ? Qi(this.oi, a) : (Qi(this.Cg, a), Qi(this.Ze, a))
        }, this);
        0 === this.Cg.Ke().length && (this.Cg = new Oi, this.Ze = new Oi, this.oi.Ke().forEach(function (a) {
            Ri(this.Cg, a);
            Ri(this.Ze, a)
        }, this));
        this.aa = [];
        this.ck = null;
        this.title = new uj(c, a.title, this.Ha().getName());
        this.title.on("change", this.wC.bind(this));
        this.om = {title: {}, subtitle: {}, body: {}};
        $.extend(this.om, a.defaultFonts);
        this.Om = {
            title: {fontSize: 42, fontFamily: "Abril Fatface"},
            subtitle: {fontSize: 24, fontFamily: "Trocchi"},
            body: {fontSize: 16, fontFamily: "Arimo"}
        };
        $.extend(this.Om, a.canvaDefaultFonts);
        a = vj(this, a);
        a.pages ? a.pages.forEach(function (a) {
            d.aa.push(new wj(d, a))
        }) : this.aa.push(new wj(this, this.Te()));
        xj(this, 0)
    }

    f = tj.prototype;
    f.Ha = function () {
        return this.pd
    };
    f.Te = function () {
        return this.pd.Te()
    };
    f.trigger = Backbone.Events.trigger;
    f.listenTo = Backbone.Events.listenTo;
    f.stopListening = Backbone.Events.stopListening;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.off = Backbone.Events.off;
    _.extend(tj.prototype, Backbone.Events);
    f = tj.prototype;
    f.Ne = function () {
        return this.Ze
    };
    f.Go = function () {
        var a = this, b = this.Ze, c = Si();
        this.Cg.Ke().forEach(function (a) {
            Qi(c, a)
        });
        this.aa.forEach(function (b) {
            b.Ne().Ke().forEach(function (b) {
                oi(a.oi, b) || Qi(c, b)
            })
        });
        for (var b = b.Ke(), d = c.Ke(), e = b.length - 1, g = d.length - 1; 0 <= e;)0 > g || b[e].ka() !== d[g].ka() ? this.trigger("paletteEntry:remove", b[e]) : g--, e--;
        for (; 0 <= g;)this.trigger("paletteEntry:add", d[g]), g--;
        this.Ze = c
    };
    function ki(a, b) {
        if (Mh(b)) {
            var c = fi(a.Ze);
            0 < c.length && c[0] === b.ka() || (ni(a, b), Ri(a.oi, b), a.Cg.unshift(b), a.Ze.unshift(b), a.trigger("paletteEntry:add", b))
        }
    }

    function ni(a, b) {
        Mh(b) && oi(a.Ze, b) && (Qi(a.oi, b), Ri(a.Cg, b), Ri(a.Ze, b), a.trigger("paletteEntry:remove", b))
    }

    function yj(a) {
        return fi(a.Cg).concat(a.oi.Ke().map(function (a) {
            return "!" + a.ka()
        }))
    }

    f.serialize = function () {
        var a;
        a = this.aa.reduce(function (a, c) {
            c.Td || a.push(c.serialize());
            return a
        }, []);
        a = {
            canvaDefaultFonts: this.Om,
            defaultFonts: this.om,
            layout: this.Ha().G(),
            pages: a,
            palette: yj(this),
            title: this.title.Lk()
        };
        this.Ti && 0 < this.Ti.length && (a.keywords = this.Ti);
        return a
    };
    f.La = function () {
        return this.title
    };
    f.nh = function () {
        return this.Ti
    };
    function zj(a, b) {
        a.Ti = b;
        "" !== a.Ti.join("") && (a.trigger("change:keywords", a), a.trigger("change", a))
    }

    f.Gk = function () {
        return this.locale
    };
    f.setLocale = function (a) {
        var b = this.locale;
        this.locale = a;
        this.locale !== b && (this.trigger("change:locale", this), this.trigger("change", this))
    };
    function J(a) {
        for (var b = 0; b < a.aa.length; b++)if (a.aa[b].selected)return a.aa[b];
        return a.aa[0]
    }

    f.gw = function () {
        return this.aa
    };
    f.zf = function () {
        return this.aa.length
    };
    function Aj(a) {
        return a.aa.filter(function (a) {
            return !a.Td
        })
    }

    f.Pr = function () {
        return !!this.pd.nr()
    };
    function xj(a, b) {
        b = Math.min(Math.max(0, b), a.aa.length - 1);
        var c = a.aa[b], d = c.selected;
        c.Kg(!0);
        d !== c.selected && a.trigger("page:change:selected", a, c)
    }

    function T(a, b) {
        return b ? a.aa.indexOf(b) : -1
    }

    function Bj(a) {
        var b = new wj(a, a.Te());
        if (0 < a.aa.length) {
            var c = Cj(a.aa[a.aa.length - 1]);
            0 < c.length && (c = c[c.length - 1].clone(), c.appendTo(b), Dj(c))
        }
        a.aa.push(b);
        a.trigger("page:add", a, b);
        b.oa().forEach(function (a) {
            b.trigger("element:add", b, a)
        });
        return b
    }

    function Ej(a, b, c, d) {
        var e = a.aa.indexOf(b), g = !0;
        !1 === d && (g = !1);
        Fj(b, a);
        -1 == e ? (a.aa.splice(c, 0, b), a.trigger("page:add", a, b, c, g)) : (a.aa.splice(c, 0, a.aa.splice(e, 1)[0]), a.trigger("page:move", a, b, e, c));
        -1 == e && b.oa().forEach(function (a) {
            b.trigger("element:add", b, a)
        })
    }

    function Gj(a, b) {
        var c = T(a, J(a)), d = a.aa.indexOf(b);
        -1 < d && a.aa.splice(d, 1);
        Fj(b, null);
        c > d && c--;
        xj(a, Math.max(0, Math.min(a.aa.length - 1, c)));
        a.trigger("page:remove", a, b, d)
    }

    f.Da = function () {
        var a = [], b = this.aa.map(function (a) {
            return a.Da()
        });
        return a.concat.apply(a, b)
    };
    function Hj() {
        return t.aa.some(function (a) {
            return 0 < a.Da().length
        })
    }

    f.oa = function () {
        var a = [], b = this.aa.map(function (a) {
            return a.oa()
        });
        return a.concat.apply(a, b)
    };
    function Ij(a) {
        a = a.oa();
        var b = a.filter(function (a) {
            return a.yg()
        });
        a.filter(function (a) {
            return a.Or()
        }).forEach(function (a) {
            a.fw().forEach(function (a) {
                b.push(a)
            })
        });
        return b
    }

    function Jj(a) {
        var b = {};
        Ij(a).filter(function (a) {
            return a.cc()
        }).map(function (a) {
            return a.cc()
        }).forEach(function (a) {
            Kj(Aa, a) && (b[a.G()] = a)
        });
        return _.values(b)
    }

    function Lj(a) {
        return Ij(a).some(function (a) {
            return (a = a.cc()) && !Kj(Aa, a) ? !0 : !1
        })
    }

    f.Me = function (a) {
        return $.extend(!0, {}, this.Om[a], this.om[a])
    };
    function Mj(a, b) {
        var c = a.Me(b);
        c && a.oa().filter(function (a) {
            return a instanceof Nj && a.style === b
        }).forEach(function (a) {
            var b = $.extend(!0, {}, a.Sd), g;
            for (g in c)a.Sd[g] || (-1 < Oj.indexOf(g) && ("fontFamily" == g ? a.ef(0, c[g]) : "fontSize" == g ? a.Lc(0, c[g]) : "bold" == g ? a.Gg(0, c[g]) : "italic" == g ? a.Ig(0, c[g]) : "justification" == g && a.Rf(0, c[g])), "color" == g && a.setColor(0, Q(c[g])));
            a.Sd = b;
            a.tc()
        })
    }

    function vj(a, b) {
        var c = $.extend(!0, {}, b);
        (function (a) {
            var b = [];
            (a.pages || []).forEach(function (a) {
                (a.elements || []).forEach(function (a) {
                    "text" === a.type ? b.push(a) : "svg" === a.type && a.contents && a.contents.forEach(function (a) {
                        "text" === a.type && b.push(a)
                    })
                })
            });
            return b
        })(c).forEach(function (b) {
            var c = Object.keys(xb).map(function (a) {
                return xb[a]
            }), g = b.style;
            -1 < c.indexOf(g) && (c = a.Me(g), void 0 === b.fontFamily && (b.fontFamily = c.fontFamily), void 0 === b.fontSize && (b.fontSize = c.fontSize))
        });
        return c
    }

    function Pj(a) {
        function b(a) {
            var e, g;
            for (g in a)a.hasOwnProperty(g) && (e = a[g], c = c && ("number" === typeof e ? !isNaN(e) : !0), "object" == typeof e && b(e));
            Array.isArray(a) && a.forEach(function (a) {
                c = c && ("number" === typeof a ? !isNaN(a) : !0);
                "object" == typeof e && b(e)
            })
        }

        var c = !0;
        b(a);
        return c
    }

    f.isEmpty = function () {
        return 0 === this.oa().length
    };
    f.wC = function () {
        this.trigger("change:title", this);
        this.trigger("change", this)
    };
    f.resize = function (a) {
        this.pd = a;
        this.aa.forEach(function (b) {
            b.resize(a)
        });
        this.trigger("resize");
        this.trigger("change")
    };
    f.eu = function (a, b) {
        this.pd = b;
        this.aa.forEach(function (b, d) {
            b.eu(a.pages[d])
        });
        this.trigger("resize");
        this.trigger("change")
    };
    function Qj() {
        Error.captureStackTrace && Error.captureStackTrace(this, Qj)
    }

    Qj.prototype = Object.create(Error.prototype);
    function Rj() {
        Qj.call(this)
    }

    Rj.prototype = Object.create(Qj.prototype);
    function Sj() {
        Qj.call(this)
    }

    Sj.prototype = Object.create(Qj.prototype);
    function Tj() {
        Qj.call(this)
    }

    Tj.prototype = Object.create(Qj.prototype);
    function Uj() {
        this.jt = []
    }

    Uj.prototype.update = function (a) {
        this.jt.push(a)
    };
    Uj.prototype.serialize = function () {
        if (0 == this.jt.length)return null;
        var a = this.jt.reduce(function (a, c) {
            a.min = Math.min(a.min, c);
            a.max = Math.max(a.max, c);
            a.sum += c;
            a.count++;
            return a
        }, {min: Infinity, max: -Infinity, count: 0, sum: 0});
        return {min: a.min, max: a.max, sum: a.sum, count: a.count, mean: a.sum / a.count}
    };
    function Vj(a) {
        this.ba = a;
        this.path = "/documents"
    }

    f = Vj.prototype;
    f.duplicate = function (a) {
        return R(this.ba, this.path + "?duplicate\x3d" + encodeURIComponent(a.G()), a).get(0).then(Wj)
    };
    f.delete = function (a) {
        return R(this.ba, this.path + "/" + encodeURIComponent(a) + "?delete", null).return()
    };
    f.move = function (a, b, c) {
        return R(this.ba, this.path + "/" + encodeURIComponent(a) + "?move", {
            owner: {
                user: b,
                brand: c
            }
        }).get(0).get("doc")
    };
    f.qj = function (a) {
        return R(this.ba, this.path + "/" + encodeURIComponent(a) + "?publicify", null).return()
    };
    f.Oj = function (a) {
        return R(this.ba, this.path + "/" + encodeURIComponent(a) + "?unpublicify", null).return()
    };
    f.Tp = function (a) {
        return R(this.ba, this.path + "/" + encodeURIComponent(a) + "?brandPublicify", null).return()
    };
    f.Vp = function (a) {
        return R(this.ba, this.path + "/" + encodeURIComponent(a) + "?brandUnpublicify", null).return()
    };
    f.jm = function (a) {
        return R(this.ba, this.path + "/" + encodeURIComponent(a) + "?templatify", null).return()
    };
    f.lm = function (a) {
        return R(this.ba, this.path + "/" + encodeURIComponent(a) + "?untemplatify", null).return()
    };
    f.getDocument = function (a) {
        a = [this.path, null != a.doc ? "/" + encodeURIComponent(a.doc) : "", a.excludePages ? "?excludePages" : ""].join("");
        return Fe(this.ba, a).get(0).then(Xj)
    };
    function Yj(a, b) {
        var c = [a.path + "?", null != b.continuation ? "\x26continuation\x3d" + encodeURIComponent(b.continuation) : "", null != b.designType ? "\x26designType\x3d" + encodeURIComponent(b.designType) : "", b.excludeApiDocuments ? "\x26excludeApiDocuments" : "", b.excludeEmpty ? "\x26excludeEmpty" : "", null != b.ids ? "\x26ids\x3d" + encodeURIComponent(b.ids) : "", null != b.limit ? "\x26limit\x3d" + encodeURIComponent(b.limit) : "", null != b.principal ? "\x26brand\x3d" + encodeURIComponent(b.principal.brand) : "", null != b.principal ? "\x26user\x3d" +
        encodeURIComponent(b.principal.user) : "", null != b.principalRole ? "\x26principalRole\x3d" + encodeURIComponent(b.principalRole) : "", b["public"] ? "\x26public" : "", b.published ? "\x26published" : "", null != b.withoutTags ? "\x26withoutTags\x3d" + encodeURIComponent(b.withoutTags) : ""].join("").replace("?\x26", "?");
        return Fe(a.ba, c).spread(function (a) {
            return {documents: Zj(a.documents), continuation: a.continuation}
        })
    }

    f.search = function (a) {
        a = this.path + "/search?" + a.fd();
        return Fe(this.ba, a).get(0).then(ak)
    };
    function bk(a) {
        var b = Ca;
        return Fe(b.ba, b.path + "/" + encodeURIComponent(a) + "/media").get(0).then(ck)
    };
    function dk() {
        this.remix = this.edit = this.view = this["default"] = null
    }

    dk.prototype.Nk = function () {
        return this.view
    };
    function ek(a) {
        var b = new dk;
        a && $.extend(b, a);
        return b
    }

    function fk() {
    }

    function Wj(a) {
        return Object.freeze(E(fk, a))
    }

    fk.prototype.getDocument = function () {
        return gk(this.document)
    };
    fk.prototype.getSession = function () {
        return this.session
    };
    fk.prototype.Nb = function () {
        if (this.type)return gj(this.type)
    };
    function hk() {
    }

    function ik(a) {
        var b = new hk;
        b.doc = a;
        return b
    }

    function jk() {
    }

    function Xj(a) {
        return Object.freeze(E(jk, a))
    }

    jk.prototype.getDocument = function () {
        return gk(this.document)
    };
    function kk() {
    }

    kk.prototype.sp = function (a) {
        this.ids = a.slice(0);
        return this
    };
    kk.prototype.qz = function (a) {
        this.designType = a;
        return this
    };
    function lk(a) {
        var b = new kk;
        b.excludeApiDocuments = a;
        return b
    }

    function mk(a) {
        a.excludeEmpty = !0;
        return a
    }

    kk.prototype.sm = function (a, b) {
        this.continuation = a;
        this.limit = b;
        return this
    };
    function nk(a, b, c) {
        a.principal = {user: b, brand: c};
        a.principalRole = "OWNER";
        return a
    }

    function ok() {
    }

    ok.prototype.D = function () {
        return this.height
    };
    ok.prototype.bw = function () {
        return this.images
    };
    ok.prototype.getVersion = function () {
        return this.version
    };
    ok.prototype.C = function () {
        return this.width
    };
    function pk() {
    }

    pk.prototype.ca = function () {
        return this.page
    };
    pk.prototype.ia = function () {
        return this.url
    };
    function qk(a) {
        return a ? $.extend(new pk, a) : null
    }

    function rk() {
    }

    rk.prototype.G = function () {
        return this.id
    };
    rk.prototype.getVersion = function () {
        return this.version
    };
    rk.prototype.bw = function () {
        return this.images
    };
    function sk(a) {
        a = E(rk, a);
        var b = a.images;
        if (b)for (var c in b)b[c] = tk(b[c]);
        return a
    }

    function ck(a) {
        return a.map(sk)
    }

    function uk() {
    }

    function ak(a) {
        return Object.freeze(E(uk, a))
    }

    uk.prototype.Kn = function () {
        return this.results ? this.results.map(vk) : []
    };
    function wk() {
    }

    function vk(a) {
        return Object.freeze(E(wk, a))
    }

    wk.prototype.La = function () {
        return this.title
    };
    wk.prototype.kr = function () {
        return this.layout
    };
    wk.prototype.G = function () {
        return this.id
    };
    wk.prototype.dc = function () {
        return tk(this.thumbnail)
    };
    function xk() {
    }

    f = xk.prototype;
    f.Ek = function () {
        return this.extensions
    };
    f.G = function () {
        return this._id
    };
    f.yf = function () {
        return this.draft
    };
    f.ca = function (a) {
        try {
            return this.yf().content.pages[a]
        } catch (b) {
        }
    };
    f.zf = function () {
        var a, b, c = 0, d;
        if (a = this.draft) {
            var e = a.imageSets;
            if ("preview"in e)for (b = e.preview.images, a = 0; a < b.length; a++)d = b[a].page, d > c && (c = d);
            if ("thumbnail"in e)for (b = e.thumbnail.images, a = 0; a < b.length; a++)d = b[a].page, d > c && (c = d)
        }
        return c
    };
    function yk(a) {
        if (a = a.draft.imageSets.thumbnail) {
            if (a = $.extend(new ok, a), a.images) {
                var b;
                b = (b = a.images) ? b.map(qk) : null;
                a.images = b
            }
        } else a = null;
        return a
    }

    f.lw = function () {
        var a = this.draft;
        return a && a.imageSets.thumbnail ? a.imageSets.thumbnail.height : 0
    };
    function zk(a, b) {
        var c = a.draft;
        if (c && c.imageSets && c.imageSets.thumbnail)for (var c = c.imageSets.thumbnail.images, d = 0; d < c.length; d++)if (c[d].page == b + 1)return c[d].url;
        return null
    }

    f.mw = function () {
        var a = this.draft;
        return a && a.imageSets.thumbnail ? a.imageSets.thumbnail.width : 0
    };
    f.La = function () {
        try {
            return this.draft.content.title.trim() || null
        } catch (a) {
            return null
        }
    };
    f.getVersion = function () {
        var a = this.draft;
        return a ? a.version : -1
    };
    f.zg = function (a, b) {
        return this.acl ? this.acl.rules.some(function (c) {
            return c.role == Ak && c.principal.brand == b.G() && c.principal.user == a.G()
        }) : !1
    };
    var Ak = "OWNER";

    function gk(a) {
        var b = new xk;
        $.extend(b, a);
        b.extensions = ek(a.extensions);
        return b
    }

    function Zj(a) {
        return a.map(function (a) {
            return gk(a)
        })
    };
    function Bk(a, b, c, d) {
        this.Gb = a;
        this.ba = b;
        this.context = c;
        this.Pg = null;
        this.Wt = d;
        this.Pi = !1;
        this.Rk = this.Jx = this.ai = this.kj = this.ag = null
    }

    f = Bk.prototype;
    f.start = function () {
        null != this.context.id && (Ck(this, 6666), Dk(this))
    };
    function Ck(a, b) {
        b != a.ai && (null != a.ag && window.clearInterval(a.ag), a.ai = b, a.ag = null != b ? window.setInterval(function () {
            a.save()
        }, b) : null)
    }

    function Dk(a) {
        6E5 != a.Jx && (null != a.kj && window.clearInterval(a.kj), a.Jx = 6E5, a.kj = window.setInterval(function () {
            a.sync()
        }, 6E5))
    }

    f.save = function () {
        this.context.Qe() && this.sync()
    };
    f.sync = function () {
        function a(a) {
            var e = b.ai;
            a = a.throttle;
            if (b.Pg == c) {
                b.Pg = null;
                var g = e;
                !0 === a ? g = Math.min(2 * b.ai, 6E5) : !1 === a && (g = Math.max(b.ai - 1E3, 6666));
                g != b.ai && Ck(b, g)
            }
            return e
        }

        if (this.Pi && null != this.context.id && !this.Pg) {
            var b = this, c = new Ek(b.ba, b.context);
            b.Pg = c;
            b.Pg.sync().then(a).then(b.Wt.update.bind(b.Wt))
        }
    };
    f.close = function () {
        this.Pi = !1;
        this.Pg && (this.Pg.stop(), this.Pg = null);
        this.ag && (window.clearInterval(this.ag), this.ag = null);
        this.kj && (window.clearInterval(this.kj), this.kj = null)
    };
    f.Ct = function (a) {
        this.context.Ct(a)
    };
    f.post = function (a, b) {
        var c;
        c = this.context;
        var d = null;
        3 != c.rc && (c.ve != a ? (c.rc = 3, c.state = null) : (c.rc = 0, c.state = b, c.ve++, d = c.ve));
        Fk(c);
        c = d;
        null != c && (this.Rk = b);
        return c
    };
    f.Xi = function (a) {
        this.Rk || (this.Rk = a)
    };
    function Gk(a, b) {
        return !(!a.Rk || _.isEqual(a.Rk, b))
    }

    f.qj = function (a) {
        var b = this.context.G();
        if (this.context.Qe())return P.reject(new Sj);
        if (!this.context.Nd())return P.reject(new Rj);
        if (!b)return P.reject(new Tj);
        switch (a) {
            case "BRAND":
                return this.Gb.Tp(b);
            case "GLOBAL":
                return this.Gb.qj(b)
        }
        return P.reject(new Qj)
    };
    f.Oj = function (a) {
        var b = this.context.G();
        if (!b)return P.reject(new Tj);
        switch (a) {
            case "BRAND":
                return this.Gb.Vp(b);
            case "GLOBAL":
                return this.Gb.Oj(b)
        }
        return P.reject(new Qj)
    };
    f.jm = function () {
        var a = this.context.G();
        return a ? this.Gb.jm(a) : P.reject(Error("synced context has no id"))
    };
    f.lm = function () {
        var a = this.context.G();
        return a ? this.Gb.lm(a) : P.reject(Error("synced context has no id"))
    };
    f.Pa = function () {
        return this.context.G()
    };
    function Hk(a) {
        return a.context.Ek()["default"]
    }

    function Ik() {
        return v.context.Ek().edit
    }

    f.timestamp = function () {
        return this.context.nw()
    };
    f.version = function () {
        return this.context.ve
    };
    f.qc = function () {
        return this.context.qc
    };
    f.Qe = function () {
        return this.context.Qe()
    };
    f.Qi = function () {
        return this.context.Qi()
    };
    f.state = function () {
        return this.context.Nd()
    };
    function Jk(a, b, c, d, e, g, h, k, l) {
        this.id = a;
        this.ve = c;
        this.Pm = d;
        this.qc = e;
        this.Vl = g;
        this.state = k;
        this.Xw = null;
        this.timestamp = h;
        this.aC = l;
        this.Uw = this.rc = b;
        this.hp = null
    }

    f = Jk.prototype;
    f.G = function () {
        return this.id
    };
    f.Ek = function () {
        return this.aC
    };
    f.nw = function () {
        return this.timestamp
    };
    f.Qe = function () {
        return 0 == this.rc || 1 == this.rc
    };
    f.Qi = function () {
        return 3 != this.rc
    };
    f.Nd = function () {
        return this.state
    };
    f.Ct = function (a) {
        if (this.hp)throw Error("Cannot overwrite DocumentContext sync listener");
        this.hp = a
    };
    function Lk(a, b, c) {
        b == a.ve && c == a.qc && 0 == a.rc && (a.rc = 1, Fk(a))
    }

    function Mk(a, b, c) {
        3 != a.rc && a.qc == b && (b = c.document.draft, b.version <= a.qc || (a.timestamp = b.timestamp, a.qc = b.version, a.Vl = b.session, a.Vl != a.Pm && (a.ve++, a.rc = 3, a.state = null), Fk(a)))
    }

    function Nk(a, b, c, d, e) {
        3 != a.rc && (e = e.document.draft, a.qc == d && (a.Xw = b, a.ve == c && (a.rc = 2), a.timestamp = e.timestamp, a.qc = e.version, a.Vl = e.session, Fk(a)))
    }

    function Ok(a, b, c, d) {
        3 == a.rc || a.qc > c || (a.timestamp = d.timestamp, a.qc = d.version, a.Vl = d.session, a.Vl != a.Pm ? (a.ve++, a.rc = 3, a.state = null) : a.ve == b && (a.rc = 2), Fk(a))
    }

    function Fk(a) {
        a.rc != a.Uw && null != a.id && (a.Uw = a.rc, a.hp && a.hp(a.rc))
    }

    function Ek(a, b) {
        this.ba = a;
        this.context = b;
        this.Qg = this.request = this.Kb = null
    }

    function Pk(a) {
        var b = .2 * Math.random() - .1;
        return null == a ? 5E3 : 6E5 < a ? 6E5 : a * (1.6 + b)
    }

    Ek.prototype.stop = function () {
        this.Kb = null;
        this.request && (this.request.cancel(), this.request = null);
        null != this.Qg && (window.clearTimeout(this.Qg), this.Qg = null)
    };
    Ek.prototype.sync = function () {
        if (this.Kb)throw Error("already syncing");
        return new P(function (a) {
            this.Kb = a;
            Qk(this, Pk(null))
        }.bind(this))
    };
    Ek.prototype.finish = function (a, b) {
        var c = this.Kb;
        c && (this.Kb = null, c({success: a, throttle: b}))
    };
    function Rk(a, b) {
        var c = null, d = !1, e = b;
        if (null != a) {
            var g = _.extend({}, a), h = _.extend({}, b), k = [], l;
            for (l in h)h.hasOwnProperty(l) && "pages" != l && (_.isEqual(h[l], g[l]) || k.push(l));
            g = g.pages;
            h = h.pages;
            if (g && h) {
                l = g.length == h.length;
                var m = !_.isEqual(g, h);
                if (0 == k.length && l && m) {
                    for (k = 0; k < g.length; k++)if (!_.isEqual(g[k], h[k]))if (null == c)c = k; else {
                        c = null;
                        break
                    }
                    null != c && (e = h[c])
                } else m || 1 != k.length || "title" != k[0] || (e = {title: b.title}, d = !0)
            }
        }
        return {SH: d, Gx: c, dG: e}
    }

    function Qk(a, b) {
        function c(c, e) {
            window.clearTimeout(a.Qg);
            a.request = null;
            a.Qg = null;
            var g = e && null != e.throttle ? !!e.throttle : null, l = !1;
            n && 200 == c ? Nk(d, m, h, k, e) : n && 409 == c ? Ok(d, h, k, e) : n || 200 != c ? 0 != c && (l = !0) : Mk(d, k, e);
            l ? a.Qg = window.setTimeout(function () {
                Qk(a, Pk(b))
            }, b) : a.finish(200 == c, g)
        }

        var d = a.context, e = d.G(), g = d.Pm, h = d.ve, k = d.qc, l, m = d.Nd(), n = d.Qe();
        if (n && m)l = Rk(d.Xw, m), e = "/documents" + (null == e ? "" : "/" + encodeURIComponent(e) + "/content"), l.SH ? e += "/title" : null != l.Gx && (e += "/pages/" + l.Gx), e += "?version\x3d" +
            encodeURIComponent(k.toString()) + (null == g ? "" : "\x26session\x3d" + encodeURIComponent(g.toString())); else {
            if (null == e)return;
            e = "/documents/" + encodeURIComponent(e) + (null == g ? "" : "?session\x3d" + encodeURIComponent(g.toString()))
        }
        a.Qg = window.setTimeout(function () {
            var c = a.Kb;
            a.Kb = null;
            a.request && a.request.cancel();
            a.request = null;
            a.Qg = null;
            a.Kb = c;
            Qk(a, Pk(b))
        }, b);
        n ? (a.request = a.ba.post(e, l.dG, null, c), Lk(d, h, k)) : a.request = a.ba.get(e, c)
    };
    function Sk(a) {
        this.ba = a;
        this.url = "/doctypes"
    }

    Sk.prototype.createDocumentType = function (a) {
        return R(this.ba, this.url, a).get(0).then(Tk)
    };
    function Uk(a, b) {
        var c = a.url + "?" + b.fd();
        return Fe(a.ba, c).get(0).then(Vk)
    }

    Sk.prototype.Ha = function (a) {
        return Fe(this.ba, this.url + "/" + encodeURIComponent(a.G())).get(0).then(Wk)
    };
    function Xk() {
    }

    function Yk(a) {
        return Object.freeze(E(Xk, a))
    }

    Xk.prototype.G = function () {
        return this.id
    };
    Xk.prototype.getName = function () {
        return this.name
    };
    function Zk() {
    }

    function $k(a) {
        return Object.freeze(E(Zk, a))
    }

    Zk.prototype.C = function () {
        return this.width
    };
    var al = {UI: "PIXELS", II: "INCHES", BI: "CENTIMETERS", OI: "MILLIMETERS"};
    Zk.prototype.D = function () {
        return this.height
    };
    function bl(a, b, c) {
        c = cl(c);
        return a + c + " ? " + b + c
    }

    function cl(a) {
        switch (a) {
            case "PIXELS":
                return "px";
            case "CENTIMETERS":
                return "cm";
            case "INCHES":
                return "in";
            case "MILLIMETERS":
                return "mm";
            default:
                throw Error("Unknown units: " + a);
        }
    }

    Zk.prototype.print = function () {
        return bl(this.C(), this.D(), this.units)
    };
    function ke(a) {
        var b;
        switch (a.units) {
            case "PIXELS":
                return a;
            case "CENTIMETERS":
                b = a.C() / 2.54 * 96;
                a = a.D() / 2.54 * 96;
                break;
            case "INCHES":
                b = 96 * a.C();
                a = 96 * a.D();
                break;
            case "MILLIMETERS":
                b = a.C() / 25.4 * 96;
                a = a.D() / 25.4 * 96;
                break;
            default:
                throw Error("Unknown units: " + a.units);
        }
        return $k({units: "PIXELS", width: b, height: a})
    }

    function dl(a, b) {
        var c, d;
        d = ke(a);
        switch (b) {
            case "PIXELS":
                return d;
            case "CENTIMETERS":
                c = d.C() / 96 * 2.54;
                d = d.D() / 96 * 2.54;
                break;
            case "INCHES":
                c = d.C() / 96;
                d = d.D() / 96;
                break;
            case "MILLIMETERS":
                c = d.C() / 96 * 25.4;
                d = d.D() / 96 * 25.4;
                break;
            default:
                throw Error("Unknown units: " + a.units);
        }
        return $k({units: b, width: c, height: d})
    }

    function el() {
    }

    function gj(a) {
        return Object.freeze(E(el, a))
    }

    el.prototype.dc = function () {
        if (this.thumbnail)return Object.freeze(E(fl, this.thumbnail))
    };
    function fl() {
    }

    fl.prototype.C = function () {
        return this.width
    };
    fl.prototype.getKey = function () {
        return this.key
    };
    fl.prototype.ia = function () {
        return this.url
    };
    fl.prototype.D = function () {
        return this.height
    };
    f = el.prototype;
    f.nr = function () {
        return this.multiPage
    };
    f.pr = function () {
        return this.newPageElements
    };
    f.aw = function () {
        if (this.imageExportSettings)return Object.freeze(E(gl, this.imageExportSettings))
    };
    function gl() {
    }

    f.getName = function () {
        return this.name
    };
    f.G = function () {
        return this.id
    };
    f.gr = function () {
        return this.category
    };
    f.ta = function () {
        return this.brand
    };
    f.Ab = function () {
        return $k(this.dimensions)
    };
    function hl(a, b) {
        var c = bl(a, b, "PIXELS");
        return gj({
            id: "custom",
            name: c,
            sentenceName: "design",
            dimensions: {width: a, height: b, units: "PIXELS"},
            visible: !1,
            order: 0,
            multiPage: !0,
            showAsNew: !1,
            custom: {width: a, height: b, units: "PIXELS"},
            imageExportSettings: {
                dpi: 96,
                filetype: "JPG",
                compression: null,
                jpqQuality: null,
                jpgTargetFilesizeKb: null
            },
            pdfExportSettings: {dpi: 300}
        })
    }

    function il(a) {
        a = a.pr();
        return Array.isArray(a) ? a.filter(function (a) {
            return "fixed" === a.type
        }) : []
    }

    function jl(a) {
        a = il(a);
        a = _.min(_.pluck(a, "left"));
        return Math.min(0, a)
    }

    function kl(a) {
        a = il(a);
        a = _.min(_.pluck(a, "top"));
        return Math.min(0, a)
    }

    function ll(a) {
        var b = il(a), b = _.max(b.map(function (a) {
            return a.top + a.height
        })), c = kl(a);
        return Math.max(ke(a.Ab()).D(), b) - c
    }

    function ml(a) {
        var b = il(a), b = _.max(b.map(function (a) {
            return a.left + a.width
        })), c = jl(a);
        return Math.max(ke(a.Ab()).C(), b) - c
    }

    f.Te = function () {
        var a = this.aw(), b = ke(this.Ab());
        return {elements: this.pr(), width: b.C(), height: b.D(), dpi: a && a.dpi}
    };
    function nl() {
    }

    nl.prototype.fd = function () {
        var a = this;
        return Object.keys(a).map(function (b) {
            if ("object" !== typeof a[b])return b + "\x3d" + encodeURIComponent(a[b])
        }).filter(function (a) {
            return !!a
        }).join("\x26")
    };
    nl.prototype.re = function (a) {
        this.id = a;
        return this
    };
    nl.prototype.G = function () {
        return this.id
    };
    function ol() {
    }

    function Wk(a) {
        return Object.freeze(E(ol, a))
    }

    function pl() {
    }

    f = pl.prototype;
    f.fd = function () {
        var a = this;
        return Object.keys(a).map(function (b) {
            if ("object" !== typeof a[b])return b + "\x3d" + encodeURIComponent(a[b])
        }).filter(function (a) {
            return !!a
        }).join("\x26")
    };
    function ql(a) {
        a.multiPage = !0;
        return a
    }

    f.$f = function (a) {
        this.name = a;
        return this
    };
    f.Zh = function (a) {
        this.brand = a;
        return this
    };
    function rl(a) {
        var b = new pl;
        b.dimensions = a;
        return b
    }

    f.dc = function () {
        if (this.thumbnail)return Object.freeze(E(fl, this.thumbnail))
    };
    f.nr = function () {
        return this.multiPage
    };
    f.pr = function () {
        return this.newPageElements
    };
    f.aw = function () {
        if (this.imageExportSettings)return Object.freeze(E(gl, this.imageExportSettings))
    };
    f.getName = function () {
        return this.name
    };
    f.gr = function () {
        return this.category
    };
    f.ta = function () {
        return this.brand
    };
    f.Ab = function () {
        if (this.dimensions)return $k(this.dimensions)
    };
    function sl() {
    }

    function Tk(a) {
        a = _.extend({}, a, {docType: a.docType && gj(a.docType)});
        return Object.freeze(E(sl, a))
    }

    sl.prototype.Ha = function () {
        return this.docType
    };
    function tl() {
    }

    f = tl.prototype;
    f.fd = function () {
        var a = this;
        return Object.keys(a).map(function (b) {
            if ("object" !== typeof a[b])return b + "\x3d" + encodeURIComponent(a[b])
        }).filter(function (a) {
            return !!a
        }).join("\x26")
    };
    f.Tj = function (a) {
        this.limit = a;
        return this
    };
    f.Sj = function (a) {
        this.continuation = a;
        return this
    };
    function ul(a) {
        a.fetchCategories = !0;
        return a
    }

    f.cd = function () {
        return this.limit
    };
    f.kc = function () {
        return this.continuation
    };
    function vl() {
    }

    function Vk(a) {
        function b(a) {
            return !!a
        }

        a = _.extend({}, a, {
            categories: a.categories && a.categories.filter(b).map(Yk),
            docTypes: a.docTypes && a.docTypes.filter(b).map(gj)
        });
        return Object.freeze(E(vl, a))
    }

    vl.prototype.kc = function () {
        return this.continuation
    };
    function wl(a) {
        this.ba = a
    }

    function xl(a) {
        return "0" == a.toString() ? "0" : /^2[0-9]{2}$/.test(a.toString()) ? "2xx" : /^3[0-9]{2}$/.test(a.toString()) ? "3xx" : /^4[0-9]{2}$/.test(a.toString()) ? "4xx" : /^5[0-9]{2}$/.test(a.toString()) ? "5xx" : "418"
    }

    function yl(a) {
        this.cancel = a;
        this.Wi = []
    }

    yl.prototype.cancel = function () {
        this.cancel && this.cancel()
    };
    function zl(a, b) {
        a.Wi.forEach(function (a) {
            a.status !== b && "*" !== a.status || a.handler(b)
        })
    }

    yl.prototype.on = function (a, b) {
        1 === arguments.length ? this.Wi.push({status: "*", handler: a}) : this.Wi.push({status: a, handler: b})
    };
    yl.prototype.off = function (a, b) {
        var c = [];
        this.Wi.forEach(function (d) {
            d.status === a && d.handler === b && c.push(d)
        });
        var d = this;
        c.forEach(function () {
            var a = d.Wi.indexOf(c);
            d.Wi.splice(a, 1)
        })
    };
    wl.prototype.Tm = function (a, b, c) {
        return this.ba.post("/export", a, null, function (a, e) {
            var g = new Al(xl(a));
            if (200 == a) {
                var h = Bl(e["export"]);
                b && (g = g.re(h.G()), g.hh = h, b(g))
            } else c && c(g)
        })
    };
    wl.prototype.Gc = function (a, b, c) {
        return this.ba.get("/export/" + encodeURIComponent(a.G().toString()) + "?attachment\x3d" + encodeURIComponent(a.attachment + ""), function (d, e) {
            var g = (new Al(xl(d))).re(a.G());
            if (200 == d) {
                var h = Bl(e["export"]);
                g.hh = h;
                var h = g.Gc().Hc(), k = [];
                "COMPLETE" == h ? (k = g.Gc().output.exportBlobs, 0 < k.length && (h = k[0].ia(), g.url = h)) : "FAILED" == h ? g.message = e.error : "CANCELLED" == h && (g.message = "The export job was cancelled");
                b && b(g)
            } else c && c(g)
        })
    };
    wl.prototype.lk = function (a, b, c) {
        function d(a) {
            var d = a && a.Gc() ? a.Gc().Hc() : "FAILED";
            h(d);
            if (d = a.hh)d = a.hh.Hc(), d = "COMPLETE" == d || "FAILED" == d || "CANCELLED" == d;
            d && (g(), r = !0);
            a.Bf() && b && b(a);
            var e;
            (e = a.hh.Hc()) && ("FAILED" == e || "CANCELLED" == e) && c && c(a.Lo)
        }

        function e(a) {
            var b = a && a.Gc() ? a.Gc().Hc() : "FAILED";
            h(b);
            a.Lo && "0" == a.Lo || (r = !1)
        }

        function g() {
            n && window.clearTimeout(n);
            q && window.clearTimeout(q)
        }

        function h(a) {
            a !== z && zl(u, a);
            z = a
        }

        var k = this, l, m, n, q, r = !1, p = Cl(a), u = new yl(function () {
            g();
            l && l.cancel();
            m && m.cancel();
            r = !0
        }), w = 1E3, z;
        (function () {
            g();
            l = k.Tm(p, function (a) {
                function b() {
                    g();
                    n = window.setTimeout(function () {
                        var c = new Dl(a.Gc().G());
                        m = k.Gc(c, d, e);
                        r || (w = Math.min(3E4, 1.6 * w), b())
                    }, w)
                }

                b();
                var c = a && a.Gc() ? a.Gc().Hc() : "FAILED";
                h(c)
            }, function (a) {
                var b = a && a.Gc() ? a.Gc().Hc() : "FAILED";
                h(b);
                g();
                c && c(a.Lo)
            })
        })();
        return u
    };
    function El() {
    }

    El.prototype.G = function () {
        return this.id
    };
    El.prototype.Hc = function () {
        return this.status
    };
    El.prototype.sr = function () {
        return this.spec
    };
    function Bl(a) {
        if (!a)return null;
        a = $.extend(new El, a);
        if (a.output) {
            var b;
            if (b = a.output) {
                if (b = $.extend(new Fl, b), b.exportBlobs) {
                    var c;
                    c = (c = b.exportBlobs) ? c.map(Gl) : null;
                    b.exportBlobs = c
                }
            } else b = null;
            a.output = b
        }
        a.spec && (b = (b = a.spec) ? $.extend(new Hl, b) : null, a.spec = b);
        return a
    }

    function Il() {
    }

    Il.prototype.getKey = function () {
        return this.key
    };
    Il.prototype.ca = function () {
        return this.page
    };
    Il.prototype.ia = function () {
        return this.url
    };
    function Gl(a) {
        return a ? $.extend(new Il, a) : null
    }

    function Fl() {
    }

    Fl.prototype.getFileName = function () {
        return this.fileName
    };
    Fl.prototype.D = function () {
        return this.height
    };
    Fl.prototype.C = function () {
        return this.width
    };
    function Hl() {
    }

    function Jl(a, b) {
        a.mediaDpi = b;
        return a
    }

    Hl.prototype.rm = function (a) {
        this.format = a;
        return this
    };
    Hl.prototype.$v = function () {
        return this.format
    };
    function Kl(a, b) {
        a.mediaQuality = b;
        return a
    }

    Hl.prototype.tm = function (a) {
        this.type = a;
        return this
    };
    function Ll() {
        this.attachment = !0
    }

    function Cl(a) {
        var b = new Ll, c;
        for (c in a)a.hasOwnProperty(c) && (b[c] = a[c]);
        return b
    }

    function Ml(a, b) {
        a.docId = b;
        return a
    }

    function Nl(a, b) {
        a.docVersion = b;
        return a
    }

    function Ol(a, b) {
        a.spec = b;
        return a
    }

    Ll.prototype.sr = function () {
        return this.spec
    };
    Ll.prototype.validate = function () {
        if (void 0 === this.docId || null === this.docId || void 0 === this.spec || null === this.spec || !this.spec.validate())throw Error("Invalid create export request");
    };
    function Dl(a) {
        this.id = a;
        this.attachment = !0
    }

    Dl.prototype.G = function () {
        return this.id
    };
    Dl.prototype.validate = function () {
        if (void 0 !== this.id && null !== this.id)throw Error("Invalid get export request");
    };
    function Al(a) {
        this.Lo = a
    }

    f = Al.prototype;
    f.Gc = function () {
        return this.hh
    };
    f.re = function (a) {
        this.id = a;
        return this
    };
    f.G = function () {
        return this.id
    };
    f.ia = function () {
        return this.url
    };
    f.Bf = function () {
        return this.hh && "COMPLETE" == this.hh.Hc()
    };
    function Pl(a) {
        this.ba = a;
        this.path = "/profile"
    }

    Pl.prototype.pb = P.method(function (a) {
        return Fe(this.ba, this.path + "/users/" + encodeURIComponent(a)).get(0).then(Ql)
    });
    function Rl(a) {
        return Fe(a.ba, a.path + "/user/uiinfo").get(0)
    }

    function Sl(a, b) {
        Rl(a).then(function (a) {
            if (!0 === a[b])return a;
            a[b] = !0;
            return R(this.ba, this.path + "/user/uiinfo", a).get(0)
        }.bind(a))
    }

    Pl.prototype.ta = function (a) {
        return Fe(this.ba, this.path + "/brands/" + encodeURIComponent(a)).get(0).then(Tl)
    };
    P.method(function (a) {
        var b = this.path + "/brands/" + encodeURIComponent(a.ta()) + "/invitations";
        return R(this.ba, b, a).spread(Ul)
    });
    P.method(function (a) {
        a = this.path + "/brands/" + encodeURIComponent(a.ta()) + "/invitations?" + (null != a.kc() ? "\x26continuation\x3d" + encodeURIComponent(a.kc()) : "") + (null != a.cd() ? "\x26limit\x3d" + encodeURIComponent(a.cd()) : "") + (a.ir() ? "\x26countOnly\x3d" + encodeURIComponent(a.ir()) : "");
        return Fe(this.ba, a).spread(Vl)
    });
    P.method(function (a) {
        var b = this.path + "/brands/" + encodeURIComponent(a.ta()) + "/invitations?update\x3dtrue";
        return R(this.ba, b, a).spread(Wl)
    });
    P.method(function (a) {
        a = this.path + "/brands/" + encodeURIComponent(a.ta()) + "/members?" + (a.nC() ? "\x26includeAvatars\x3d" + encodeURIComponent(a.nC()) : "") + (a.oC() ? "\x26includeEmails\x3d" + encodeURIComponent(a.oC()) : "") + (a.ir() ? "\x26countOnly\x3d" + encodeURIComponent(a.ir()) : "") + (null != a.kc() ? "\x26continuation\x3d" + encodeURIComponent(a.kc()) : "") + (null != a.cd() ? "\x26limit\x3d" + encodeURIComponent(a.cd()) : "");
        return Fe(this.ba, a).spread(Xl)
    });
    P.method(function (a) {
        var b = this.path + "/brands/" + encodeURIComponent(a.ta()) + "/members";
        return R(this.ba, b, a).spread(Yl)
    });
    function Zl() {
    }

    Zl.prototype.clone = function () {
        return Object.freeze(E(Zl, JSON.parse(JSON.stringify(this))))
    };
    Zl.prototype.equals = function (a) {
        function b(a) {
            for (var d in a) {
                var e = a[d];
                null === e ? delete a[d] : e instanceof Object && b(e)
            }
            return a
        }

        return _.isEqual(b(JSON.parse(JSON.stringify(this))), b(JSON.parse(JSON.stringify(a))))
    };
    function $l(a) {
        if (a.colorPalettes)return a.colorPalettes.filter(Boolean).map(am)
    }

    function bm() {
    }

    function am(a) {
        return Object.freeze(E(bm, a))
    }

    bm.prototype.Ke = function () {
        if (this.colors)return this.colors.filter(Boolean).map(cm)
    };
    bm.prototype.getName = function () {
        return this.name
    };
    function dm(a) {
        if (a.textStylePalettes)return a.textStylePalettes.filter(Boolean).map(em)
    }

    function fm() {
    }

    function em(a) {
        return Object.freeze(E(fm, a))
    }

    fm.prototype.getName = function () {
        return this.name
    };
    function gm(a) {
        if (a.textStyles)return a.textStyles.filter(Boolean).map(hm)
    }

    function im() {
    }

    function hm(a) {
        return Object.freeze(E(im, a))
    }

    function jm(a) {
        if (a.font)return Object.freeze(E(km, a.font))
    }

    im.prototype.getName = function () {
        return this.name
    };
    function km() {
    }

    km.prototype.vi = function () {
        return this.bold
    };
    km.prototype.Ai = function () {
        return this.italic
    };
    km.prototype.Gi = function () {
        return this.size
    };
    km.prototype.bb = function () {
        return this.media
    };
    Zl.prototype.wi = function () {
        if (this.brandColor)return cm(this.brandColor)
    };
    function lm() {
    }

    function cm(a) {
        return Object.freeze(E(lm, a))
    }

    lm.prototype.getName = function () {
        return this.name
    };
    function mm(a) {
        a = void 0 === a ? {} : a;
        this.id = a.id || "";
        this.displayName = a.displayName || null;
        this.brandname = a.fJ || null;
        this.personal = a.EJ || !1;
        this.contributor = a.jJ || !1;
        this.thirdParty = a.LJ || !1;
        this.brandColor = a.kb || null
    }

    mm.prototype.G = function () {
        return this.id
    };
    mm.prototype.ac = function () {
        return this.displayName
    };
    mm.prototype.wi = function () {
        return this.brandColor
    };
    function Tl(a) {
        if (!a)return null;
        var b = E(mm, a);
        a.brandKit && (b.brandKit = Object.freeze(E(Zl, a.brandKit)));
        return b
    }

    function nm(a) {
        a = void 0 === a ? {} : a;
        this.id = a.id || "UNKNOWN_USER_ID";
        this.username = a.username || "";
        this.personalBrand = a.Gs || "";
        this.displayName = a.displayName || "";
        this.homepage = a.wJ || null;
        this.city = a.iJ || null;
        this.countryCode = a.kJ || null;
        this.headerDesign = a.vJ || null;
        this.avatar = a.eJ || null;
        this.roles = a.oy || [];
        this.deactivated = a.nJ || !1
    }

    f = nm.prototype;
    f.G = function () {
        return this.id
    };
    f.oh = function () {
        return this.username
    };
    f.rr = function () {
        return this.personalBrand
    };
    f.ac = function () {
        return this.displayName
    };
    f.Kk = function () {
        return this.roles
    };
    function Ql(a) {
        if (!a)return null;
        a = E(nm, a);
        a.avatar && (a.avatar = om(a.avatar));
        return a
    }

    function pm(a) {
        a = void 0 === a ? {} : a;
        this.version = a.version || 0;
        this.sizes = a.sizes || {}
    }

    pm.prototype.getVersion = function () {
        return this.version
    };
    function om(a) {
        if (!a)return null;
        a = E(pm, a);
        var b;
        var c = a.sizes, d = {};
        if (c) {
            for (b in c) {
                var e = b, g;
                g = (g = c[b]) ? E(qm, g) : null;
                d[e] = g
            }
            b = d
        } else b = null;
        a.sizes = b;
        return a
    }

    function qm(a) {
        a = void 0 === a ? {} : a;
        this.size = a.size || 0;
        this.width = a.width || 0;
        this.height = a.height || 0;
        this.url = a.url || ""
    }

    qm.prototype.Gi = function () {
        return this.size
    };
    qm.prototype.C = function () {
        return this.width
    };
    qm.prototype.D = function () {
        return this.height
    };
    qm.prototype.ia = function () {
        return this.url
    };
    var rm = om({
        version: 0,
        sizes: {
            50: {
                size: 50,
                width: 50,
                height: 50,
                url: "https://static.canva.com/static/images/default_avatar_50.png"
            },
            200: {
                size: 200,
                width: 200,
                height: 200,
                url: "https://static.canva.com/static/images/default_avatar_200.png"
            }
        }
    });

    function sm() {
    }

    function Ul(a) {
        return Object.freeze(E(sm, a))
    }

    function tm() {
    }

    tm.prototype.kc = function () {
        return this.continuation
    };
    tm.prototype.getCount = function () {
        return this.count
    };
    function Vl(a) {
        return Object.freeze(E(tm, a))
    }

    function um(a) {
        a = void 0 === a ? {} : a;
        this.members = a.BJ
    }

    um.prototype.kc = function () {
        return this.continuation
    };
    um.prototype.getCount = function () {
        return this.count
    };
    function Xl(a) {
        return Object.freeze(E(um, a))
    }

    function vm() {
    }

    vm.prototype.ta = function () {
        return this.brand
    };
    function Yl(a) {
        return Object.freeze(E(vm, a))
    }

    function wm() {
    }

    function Wl(a) {
        return Object.freeze(E(wm, a))
    };
    function xm(a) {
        this.ba = a;
        this.path = "/social"
    }

    xm.prototype.createComment = function (a) {
        return R(this.ba, this.path + "/comments/" + encodeURIComponent(a.uJ()), a).get(0).then(ym)
    };
    function zm(a, b) {
        var c = a.path + "/documents/" + encodeURIComponent(b.Pa()) + "/emails";
        return R(a.ba, c, b).return()
    };
    function Am() {
    }

    Am.prototype.G = function () {
        return this.id
    };
    Am.prototype.getContent = function () {
        return this.content
    };
    function Bm() {
    }

    function ym(a) {
        return Object.freeze(E(Bm, a))
    }

    Bm.prototype.G = function () {
        return this.id
    };
    function Cm() {
    }

    function Dm(a, b) {
        a.documentId = b;
        return a
    }

    Cm.prototype.Pa = function () {
        return this.documentId
    };
    function Em(a, b) {
        a.mode = b;
        return a
    }

    function Fm(a, b) {
        a.extension = b;
        return a
    }

    function Gm(a, b) {
        a.emails = b;
        return a
    }

    function Hm(a, b) {
        a.utmSource = b;
        return a
    };
    function Im() {
    }

    function Jm() {
        var a = E(Im, window.clientInfo), b;
        b = E(Km, a.brandInfo);
        b.brand = Tl(b.brand);
        b.brandKit && (b.brandKit = Object.freeze(E(Zl, b.brandKit)));
        b.subscription && (b.subscription = Hg(b.subscription));
        b = Object.freeze(b);
        a.brandInfo = b;
        b = E(Lm, a.user);
        b.avatar = om(b.avatar);
        b = Object.freeze(b);
        a.user = b;
        return Object.freeze(a)
    }

    function Mm(a) {
        return a.brandInfo
    }

    function Km() {
    }

    Km.prototype.ta = function () {
        return this.brand
    };
    function Nm(a) {
        return a.brandKit || null
    }

    Km.prototype.getSubscription = function () {
        return this.subscription || null
    };
    function Lm() {
    }

    f = Lm.prototype;
    f.G = function () {
        return this.id
    };
    f.Zv = function () {
        return this.email
    };
    f.oh = function () {
        return this.username
    };
    f.ac = function () {
        return this.displayName
    };
    f.Kk = function () {
        return this.roles
    };
    f.rr = function () {
        return this.personalBrand
    };
    f.Gk = function () {
        return this.locale
    };
    function Om(a) {
        return Ql({
            id: a.G(),
            username: a.oh(),
            personalBrand: a.rr(),
            displayName: a.ac(),
            avatar: a.avatar,
            roles: a.Kk()
        })
    };
    function Pm() {
    }

    Pm = Backbone.View.extend();
    Pm.prototype.initialize = function (a) {
        a = _.defaults({}, a, {hk: !0, content: $(), Aj: !0, Bj: !0});
        this.wa = a.wa;
        this.hk = !!a.hk;
        this.content = a.content;
        this.yc = new Qm({style: this.Gn(), wa: this.wa});
        this.listenTo(this.yc, "maskClick", this.blur);
        this.result = 1;
        this.Aj = !!a.Aj;
        this.ed = !!a.ed;
        this.Bj = !!a.Bj;
        this.title = a.Bj ? a.title : ""
    };
    Pm.Dz = 300;
    f = Pm.prototype;
    f.blur = function () {
        this.hk && (this.result = 0, this.remove())
    };
    f.cancel = function () {
        this.result = 1;
        this.remove()
    };
    f.fail = function () {
        this.result = 3;
        this.remove()
    };
    f.events = function () {
        return {"click .close": this.px, "click .dialogMaskCloseButton": this.px, "click button.done": this.ok}
    };
    f.Gn = function () {
        return Rm
    };
    f.ok = function () {
        this.result = 2;
        this.remove()
    };
    f.px = function (a) {
        a.preventDefault();
        this.cancel()
    };
    f.remove = function () {
        var a = this;
        this.$el.children(".dialog").addClass("disappearing");
        this.yc.hide();
        this.trigger("hide", this.result);
        this.wa.setTimeout(function () {
            a.trigger("remove", a);
            Backbone.View.prototype.remove.call(a)
        }, Pm.Dz);
        return this
    };
    f.render = function () {
        this.$el.html(this.template(this.Za()));
        this.$(".content").append(this.content);
        this.$(".dialog").data("Canva_Views_Dialog", this);
        return this
    };
    f.Za = function () {
        return {showCloseButton: this.Aj, showDialogMaskCloseButton: this.ed, showTitle: this.Bj, title: this.title}
    };
    function Sm(a, b) {
        a.$("h2").text(b);
        a.title = b
    }

    f.show = function () {
        function a(d) {
            d.target === d.currentTarget && (b.off("animationend transitionend", a), c.trigger("showTransitionEnd", c))
        }

        var b, c = this;
        this.render();
        b = this.$el.children(".dialog");
        this.yc.show(this.$el);
        this.trigger("show", this);
        Df(function () {
            b.removeClass("preparing");
            b.on("animationend transitionend", a)
        });
        return this
    };
    f.template = _.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');
    function Tm() {
    }

    Tm = Pm.extend({className: "fontUploadDialog"});
    Tm.create = function () {
        return new Tm({})
    };
    f = Tm.prototype;
    f.events = function () {
        return _.extend(Pm.prototype.events.call(this), {
            "click .fontUploadDialogConfirm": this.RD,
            "click .fontUploadDialogFinish": this.ok,
            "click .fontUploadDialogCancel": this.qA
        })
    };
    f.initialize = function () {
        Pm.prototype.initialize.call(this, {wa: Cf, Aj: !0, hk: !0, ed: !1});
        this.error = null;
        this.cr = "the font you are uploading.";
        this.opentype = opentype;
        this.progress = !1
    };
    f.render = function () {
        Pm.prototype.render.call(this);
        Um(this);
        this.$(".fontFileInput").remove();
        var a = $('\x3cinput class\x3d"fontFileInput" type\x3d"file" accept\x3d".ttf,.otf,.woff"\x3e');
        this.$el.append(a);
        a.on("change", this.xD.bind(this));
        return this
    };
    f.xD = function () {
        var a = {message: "Your font file could not be read. Try a different font. If this problem persists, contact support."}, b = this.$(".fontFileInput")[0].files;
        if (b.length && /.*\.(ttf|otf|woff)$/gi.test(b[0].name)) {
            if (this.error = null, this.Bn = b[0], this.cr = this.Bn.name, this.opentype) {
                var c = new FileReader;
                c.onload = function () {
                    if (c.result)try {
                        var b = this.opentype.parse(c.result);
                        b && b.supported ? b.names && b.names.fullName && b.names.fullName.en && (this.cr = b.names.fullName.en) : this.error = a
                    } catch (e) {
                        this.error =
                            a
                    } else this.error = a;
                    this.show()
                }.bind(this);
                c.readAsArrayBuffer(this.Bn);
                return
            }
        } else this.error = {message: "Are you sure that is a font? Please check the file and try again."};
        this.show()
    };
    f.RD = function () {
        this.$(".fontUploadDialogDisclaimerCheck").prop("checked") ? (this.progress = 1, this.$(".fontUploadDialogBlurb").html("Please wait while the font is uploaded to your brand kit. It will be ready in a jiffy."), this.$(".fontUploadDialogConfirm").addClass("buttonProgress").html('\x3cspan class\x3d"buttonProgressIndicator"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonProgressText"\x3eUploading\x26hellip;\x3c/span\x3e'), this.Bn && this.trigger("fontUpload", this.Bn)) : Vm(this)
    };
    function Vm(a) {
        a.$(".fontUploadDialogDisclaimerError").addClass("on");
        setTimeout(function () {
            this.$(".fontUploadDialogDisclaimerError").removeClass("on")
        }.bind(a), 3200)
    }

    f.It = function (a) {
        this.error = a;
        Um(this)
    };
    function Um(a) {
        a.$(".fontUploadDialogContents").remove();
        a.$(".dialog .content").append(a.fB({
            canEditFontName: !1,
            error: null != a.error ? a.error.message : !1,
            supportUrl: null != a.error ? a.error.KJ : null,
            supportTitle: null != a.error ? a.error.JJ : "fonts",
            fontName: a.cr,
            progress: a.progress || !1
        }))
    }

    f.qA = function () {
        this.trigger("fontUploadCancel");
        this.cancel()
    };
    f.fB = _.template('\x3cdiv class\x3d"fontUploadDialogContents"\x3e\x3c% if (error) { %\x3e\x3ch2\x3eSorry, something went wrong\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogError"\x3e\x3cp\x3e\x3c%- error %\x3e\x3c/p\x3e\x3c% if (supportUrl !\x3d null) { %\x3e\x3cp\x3ePlease see the support article on \x3ca href\x3d"\x3c%- supportUrl %\x3e" target\x3d"_blank"\x3e\x3c%- supportTitle %\x3e\x3c/a\x3e for more info.\x3c/p\x3e\x3c% } %\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogFinish"\x3eOK\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ch2\x3eBefore you upload, please confirm the following:\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogDisclaimer"\x3e\x3cp\x3e\x3cstrong\x3eFont name\x3c/strong\x3e: \x3c% if (canEditFontName) { %\x3e\x3cinput class\x3d"fontUploadDialogFontName" autocomplete\x3d"off" value\x3d"\x3c%- fontName %\x3e"\x3e\x3c% } else { %\x3e\x3c%- fontName %\x3e\x3c% } %\x3e\x3c/p\x3e\x3cp\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerError"\x3eYou must confirm this before uploading.\x3c/span\x3e\x3clabel\x3e\x3cinput class\x3d"fontUploadDialogDisclaimerCheck" type\x3d"checkbox"\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerText"\x3eI own this font or have the right to use it for my intended purpose.\x3c/span\x3e\x3c/label\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogConfirm"\x3eYes. Upload away!\x3c/button\x3e\x3cspan class\x3d"fontUploadDialogCancel"\x3eCancel the upload.\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');
    function Wm() {
    }

    Wm = Backbone.View.extend({className: "multipageDialog"});
    f = Wm.prototype;
    f.initialize = function (a) {
        this.wa = Cf;
        this.Fb = 0;
        this.Yq = a.Yq || [];
        this.we = void 0 === a.we || a.we;
        this.ed = !!a.ed;
        this.yc = new Qm({wa: this.wa, style: Rm});
        this.aa = a.aa;
        this.aa.forEach(function (a) {
            this.listenTo(a, "next", this.oH);
            this.listenTo(a, "back", this.pH)
        }, this)
    };
    f.events = function () {
        return {click: this.Gf, "click .dialogMaskCloseButton": this.hide}
    };
    f.hide = function () {
        this.$el.addClass("multipageDialogDisappearing");
        this.yc.hide();
        this.wa.setTimeout(function () {
            this.trigger("hide")
        }.bind(this), 300)
    };
    f.Gf = function (a) {
        $(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper") && this.we && this.hide()
    };
    f.render = function () {
        var a = this;
        (function () {
            a.Yq.forEach(function (b) {
                a.$el.addClass(b)
            })
        })();
        (function () {
            a.aa.forEach(function (a) {
                a.$el.detach()
            });
            a.$el.empty()
        })();
        a.ed && a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');
        (function () {
            a.aa.forEach(function (b) {
                var c, d;
                c = $("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");
                d = $("\x3cdiv\x3e").addClass("multipageDialogPage");
                c.append(d);
                d.append(b.render().$el);
                a.$el.append(c)
            })
        })();
        Xm(this, this.Fb);
        return this
    };
    f.show = function () {
        this.$el.addClass("multipageDialogAppearing");
        this.yc.show(this.render().$el);
        this.wa.setTimeout(function () {
            this.$el.removeClass("multipageDialogAppearing")
        }.bind(this), 300)
    };
    f.oH = function () {
        var a = this.Fb + 1;
        a >= this.aa.length ? this.hide() : Xm(this, a)
    };
    f.pH = function () {
        var a = this.Fb - 1;
        0 > a ? this.hide() : Xm(this, a)
    };
    function Xm(a, b) {
        a.trigger("pageChange", a.aa[b]);
        var c = a.$(".multipageDialogPageWrapper"), d = a.$(".multipageDialogPage");
        a.Fb = b;
        c.css("transform", "translateY(" + -100 * b + "%)");
        d.removeClass("multipageDialogCurrentPage");
        d.eq(b).addClass("multipageDialogCurrentPage")
    };
    function Ym(a) {
        var b = {}, c = a.dg, c = c.left + c.width / 2, d = a.mf.C(), e = c - a.margin - a.qe.Y(), g = a.qe.Wa() - c - a.margin, h = 0, h = g >= d || g >= e ? c + a.margin : c - a.margin - d;
        b.left = Math.round(h - a.kl.Y()) + "px";
        c = a.dg;
        c = c.top + c.height / 2;
        d = a.mf.D();
        e = c - a.margin - a.qe.O();
        g = a.qe.va() - c - a.margin;
        h = 0;
        h = g >= d || g >= e ? c + a.margin : c - a.margin - d;
        b.top = Math.round(h - a.kl.O()) + "px";
        return b
    }

    function Zm(a) {
        this.Zj = a.Zj;
        this.Ok = a.Ok;
        this.margin = a.margin || 0;
        this.fm = a.fm
    }

    Zm.prototype.hf = function (a, b) {
        if (0 !== b.length && 0 !== a.length) {
            this.Zj(a);
            var c = a.get(0), d = b.get(0), e = c.offsetParent || c.ownerDocument.body, g = this.Ok().get(0) || c.ownerDocument.body, c = oe(c.getBoundingClientRect()), d = oe(d.getBoundingClientRect()), e = oe(e.getBoundingClientRect()), g = oe(g.getBoundingClientRect());
            qh(d, this.margin);
            qh(g, -this.margin);
            g = this.fm({margin: this.margin, dg: d, mf: c, kl: e, qe: g});
            a.css(g)
        }
    };
    function $m() {
    }

    $m = Pm.extend();
    $m.prototype.initialize = function (a) {
        Pm.prototype.initialize.call(this, _.extend(a, {wa: Cf}))
    };
    $m.prototype.render = function () {
        Pm.prototype.render.call(this);
        this.$(".dialog").addClass("alert");
        this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOK\x3c/button\x3e\x3c/p\x3e');
        return this
    };
    var sj = "top", an = {LEFT: "left", NI: "leftTop", aJ: sj, bJ: "topLeft", XI: "rightTop"};

    function X() {
    }

    X = Pm.extend();
    f = X.prototype;
    f.initialize = function (a) {
        Pm.prototype.initialize.call(this, _.extend(a, {wa: Cf}));
        this.Lb = a.Lb || "Done";
        this.Ht = void 0 !== a.Ht ? a.Ht : !0;
        this.Yj = null;
        this.Rx = a.position instanceof Array ? a.position : [a.position || sj];
        this.position = null;
        this.Od = _.defaults({}, a.Od, {left: 0, top: 0});
        this.zo = a.zo || !1;
        this.on("hide", this.kv);
        this.keydown = this.keydown.bind(this)
    };
    f.sG = function () {
        $(document).off("keydown", this.keydown)
    };
    f.Gn = function () {
        return bn
    };
    f.getCurrentPosition = function () {
        return this.position
    };
    f.render = function () {
        Pm.prototype.render.call(this);
        this.$(".dialog").addClass("popover").addClass(this.zo ? "paddingLess" : "").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');
        this.Ht && this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e' + this.Lb + "\x3c/button\x3e\x3c/p\x3e");
        return this
    };
    f.je = function (a) {
        if (!this.Yj) {
            var b = _.debounce(this.hf.bind(this), 300);
            window.addEventListener("resize", b, !1);
            this.on("remove", function () {
                window.removeEventListener("resize", b, !1)
            })
        }
        this.show();
        $(document).on("keydown", this.keydown);
        this.on("remove", this.sG);
        cn(this, a);
        this.hf();
        return this
    };
    function dn() {
        this.Is = this.af = this.dialogLeft = this.dialogTop = null
    }

    f.hf = function () {
        for (var a, b, c = 0; c < this.Rx.length; c++) {
            a = b = this.Rx[c];
            var d = this.zo ? 7 : 19, e = this.zo ? 20 : 40, g = this.Yj, h = g.offset(), k = h.top - $(document).scrollTop(), l = g.outerWidth(), g = g.outerHeight(), m = this.$(".dialog").outerHeight(), n = this.$(".dialog").outerWidth(), q = this.$el.width(), r = new dn, p = Math.round(h.left + l / 2 - n / 2), u = void 0;
            switch (a) {
                case sj:
                    r.dialogLeft = p + n + 10 > q ? q - n - 10 : p;
                    r.dialogLeft += this.Od.left;
                    r.dialogTop = Math.round(k) + g + d + this.Od.top;
                    u = p - r.dialogLeft;
                    r.af = "calc(50% - 8.5px + " + u + "px)";
                    break;
                case "topLeft":
                    r.dialogLeft = h.left + n + 10 > q ? q - n - 10 : h.left;
                    r.dialogLeft += this.Od.left;
                    r.dialogTop = Math.round(k) + g + d + this.Od.top;
                    r.af = r.dialogLeft + d;
                    break;
                case "left":
                    r.dialogLeft = h.left + l + this.Od.left;
                    r.dialogTop = k - m / 2 + d + this.Od.top;
                    break;
                case "leftTop":
                    r.dialogLeft = h.left + l + this.Od.left + d;
                    r.dialogTop = k + g / 2 - e + this.Od.top;
                    10 > r.dialogTop && (r.Is = r.dialogTop - 10, r.dialogTop = 10);
                    break;
                case "rightTop":
                    r.dialogLeft = h.left - n + this.Od.left - d, r.dialogTop = k + g / 2 - e + this.Od.top, 10 > r.dialogTop && (r.Is = r.dialogTop - 10,
                        r.dialogTop = 10)
            }
            d = a = r;
            e = this.$(".dialog");
            if (!(d.dialogLeft + e.outerWidth() > $(window).width() || d.dialogTop + e.outerHeight() > $(window).height()))break
        }
        this.position = b;
        this.$(".dialog").css("top", a.dialogTop).css("left", a.dialogLeft);
        c = this.$(".pointer");
        c.removeClass(_.values(an).join(" ")).addClass(b);
        c.css("left", a.af || "");
        c.css("margin-top", a.Is || "");
        return this
    };
    function cn(a, b) {
        a.kv();
        a.Yj = b;
        b.addClass("on");
        b.blur()
    }

    f.kv = function () {
        this.Yj && this.Yj.removeClass("on")
    };
    f.keydown = function (a) {
        27 === a.which && (this.cancel(), a.stopPropagation(), a.preventDefault())
    };
    function rj(a) {
        kb && $("html").addClass("isMac");
        $("#content").addClass("preparing");
        en();
        window.setTimeout(function () {
            fn(a.content, a.pd, a.jg, a.F, a.$z, a.QH);
            gn();
            hn({md: a.md, F: a.F});
            jn(a);
            $("#zoomIn").on("click", kn);
            $("#zoomOut").on("click", ln);
            mn(a.F);
            a.RB && nn();
            on();
            a.Ov && a.Ov();
            $("body").hasClass("preroll") ? (window.setTimeout(function () {
                window.requestAnimationFrame(pn)
            }, 600), window.setTimeout(function () {
                qn()
            }, 2E3)) : window.setTimeout(function () {
                    $("#content").removeClass("preparing").addClass("on")
                },
                600)
        }, 20)
    }

    function pn() {
        var a = $(".preroll .prerollDelay6");
        if (1 > a.length)window.requestAnimationFrame(pn); else $(a).one("animationend", qn)
    }

    function qn() {
        $("#content").removeClass("preparing").addClass("on");
        window.setTimeout(function () {
            if (!(new ze(window.viewConfig)).ge()) {
                var a = nf();
                rn(new sn(nd(), H, new Pl(a), new tn(a)))
            }
        }, 1E3);
        $("#search").css("transform", "translateX(0)");
        $("body").removeClass("preroll")
    }

    function en() {
        Ra = Qa = Oa = 0;
        var a = un("editorPageToolbarStylesheet");
        if (null != a)for (var b = 0; b < a.length && !(".pageToolbar" == a[b].selectorText ? (Ra = parseInt(a[b].style.marginTop, 10), Oa = parseInt(a[b].style.width, 10)) : ".pageToolbar.vertical" == a[b].selectorText && (Qa = parseInt(a[b].style.width, 10)), Qa && Oa && Ra); b++);
    }

    function un(a) {
        for (var b = null, c = 0; c < document.styleSheets.length; c++)if (document.styleSheets[c].ownerNode.id == a) {
            b = document.styleSheets[c];
            break
        }
        return null == b ? null : b.cssRules || null
    }

    function on() {
        if (!vn && !wn) {
            var a = $("#objectPanel");
            xn();
            var b = $(".layer", a).eq(0).width(), c = Math.ceil(b / 110), d = Math.ceil(b / 180), b = Math.ceil(b / 145), e = un("objectPanelStylesheet");
            null != e && (e[0].style.width = Math.round(100 / c * 10) / 10 + "%", e[1].style.width = Math.round(100 / d * 10) / 10 + "%", e[2].style.width = Math.round(100 / b * 10) / 10 + "%");
            yn();
            window.setTimeout(function () {
                a.find(".results \x3e .layer \x3e .inner \x3e .browseCategories").each(function () {
                    zn($(this), !0)
                })
            }, 20);
            $("#canvaDocument").nextAll(".hScrollTrack").andSelf().css("left",
                $("#objectPanel").outerWidth(!0));
            An == M && Sa && Sa.ar()
        }
    }

    function Bn(a) {
        return v.Qi() ? v.Qe() ? new P(function (b, c) {
            function d(a) {
                2 == a ? (e(), b()) : 1 != a && 0 != a && (e(), c())
            }

            function e() {
                window.clearTimeout(g);
                G.off("session:sync", d)
            }

            var g = window.setTimeout(function () {
                e();
                c()
            }, a || 1500);
            G.on("session:sync", d);
            v.save()
        }) : P.resolve() : P.reject()
    };
    function Cn(a) {
        this.ba = a.ba;
        this.Bs = a.Bs;
        this.Id = a.Id;
        this.xa = a.xa;
        this.Nq = a.Nq;
        this.Zt = a.Zt;
        this.Rp = a.Rp;
        this.Jq = a.Jq
    }

    Cn.prototype.KG = function () {
        if (!this.Nq && this.xa && this.xa.Qi() && !$("#savingError").hasClass("on")) {
            if (0 < this.Zt.Mj.length)return "You're in the middle of uploading an image. Are you sure you want to leave the Canva editor?";
            if (this.xa.Qe())return this.xa.save(), "We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";
            var a = t;
            if (a && Gk(this.xa, a.serialize()))return a.trigger("change"), "We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";
            this.xa.close();
            this.Rp || (a = Math.floor((Date.now() - this.Bs) / 1E3), rf(this.ba, "/session/editor/" + encodeURIComponent(this.Id) + "?close", this.Jq, {
                docId: this.Id,
                session: this.xa.context.Pm,
                durationSecs: a
            }))
        }
    };
    var Oj = "bold fontFamily fontSize italic justification letterSpacing lineHeight list textTransform".split(" ");

    function Dn(a) {
        a = a.children(".inner").get(0);
        a = En(a);
        for (var b = window.getSelection(), c = a.filter(function (a) {
            return Fn(b, a, !1)
        }), d = a.map(function (a) {
            return a.textContent || ""
        }).join(""), e = "", g = 0, h = b.rangeCount; g != h; g++)e += b.getRangeAt(g).toString();
        d = Gn(d, e);
        (e = a.length) && "BR" == a[e - 1].nodeName && --e;
        return c.length >= e && d
    }

    function Gn(a, b) {
        if (a == b)return !0;
        var c = a.replace(/^\s*/, "").replace(/\s*$/, "").replace(/(?!^)\s+(?!$)/gi, " "), d = b.replace(/^\s*/, "").replace(/\s*$/, "").replace(/(?!^)\s+(?!$)/gi, " ");
        return c == d
    }

    function Hn(a) {
        var b = window.getSelection();
        return 0 < b.rangeCount && (b = b.getRangeAt(0).cloneRange(), b.collapse(!0), a = a.get(0)) ? (b.setStart(a, 0), b.toString().slice(-1)) : ""
    }

    function In(a) {
        var b = window.getSelection();
        if (0 == b.rangeCount)return -1;
        a = a.children(".inner");
        if (0 == a.length)return -1;
        a = a.get(0);
        return Jn(b, a) ? b.toString().length : -1
    }

    function Kn(a) {
        var b = window.getSelection();
        if (0 == b.rangeCount)return !0;
        a = a.children(".inner");
        if (0 == a.length)return !0;
        a = a.get(0);
        return Jn(b, a) ? b.isCollapsed : !0
    }

    function Jn(a, b) {
        if (!b)return !1;
        var c = a.getRangeAt(0), d = c.startContainer, c = c.endContainer;
        if (!d || !c)return !1;
        var d = 3 == d.nodeType || 4 == d.nodeType ? Ln(d) : d, e = 3 == c.nodeType || 4 == c.nodeType ? Ln(c) : c, c = !(b != d && b != e), d = !(!b.contains(d) && !b.contains(e));
        return c || d
    }

    function Mn(a, b) {
        var c = a.Ma(b).children(".inner");
        Nn(c);
        On(c);
        c.find("*").css({"font-size": "", "line-height": "", "letter-spacing": "", color: ""});
        c.find("br").removeAttr("color");
        Pn(a, b)
    }

    function Pn(a, b) {
        function c(a) {
            if (1 !== a.length)return !1;
            a = a.get(0);
            if (a.nodeType !== Node.ELEMENT_NODE)return !1;
            var b = a.nodeName.toLowerCase();
            return "ul" === b || "li" === b ? !1 : 1 === a.parentNode.childNodes.length
        }

        for (var d = a.mc(b), e = a.Ma(b).children(".inner").contents(), g = e, h = !1; c(e);)Qn(d, e.get(0)), h = !0, e = e.contents();
        h && (g.replaceWith(e), a.Mh(b, d))
    }

    function Qn(a, b) {
        function c(a) {
            a = a.match(/"[^"]*"|'[^']*'|[^\s"',]+/g);
            if (!a)return "";
            a = a[0];
            var b = a.charAt(0);
            if ('"' === b || "'" === b)a = a.slice(1, -1).trim();
            return a
        }

        var d = b.nodeName.toLowerCase();
        if ("b" === d || "strong" === d)a.bold = !0; else {
            var e = b.style.fontWeight;
            a.bold = "bold" === e || "600" <= e && "900" >= e
        }
        "i" === d || "em" === d ? a.italic = !0 : (e = b.style.fontStyle, a.italic = "italic" === e || "oblique" === e);
        e = Q(b.style.color);
        b.color && (e = Q(b.color));
        e && (a.color = e.ka());
        e = null;
        (e = "font" === d ? c(b.face) : c(b.style.fontFamily)) &&
        (d = Rn(e)) && (a.fontFamily = d)
    }

    function Sn(a) {
        var b = [], c = [], d = a.children(".inner").get(0);
        En(d).forEach(function (d) {
            "br" !== d.nodeName.toLowerCase() && (d = Tn(Ln(d), a), Array.prototype.push.apply(b, d.Zd), Array.prototype.push.apply(c, d.ad))
        });
        return {Zd: b, ad: c}
    }

    function Un(a) {
        return a.filter(function () {
            return 0 !== this.offsetHeight || 0 !== this.offsetWidth
        })
    }

    function Vn(a, b) {
        var c = a.offsetTop - b.offsetTop;
        return 0 <= c || c >= b.offsetHeight - a.offsetHeight
    }

    function Wn(a) {
        function b() {
            if (this.nodeType === Node.ELEMENT_NODE) {
                var a = this.nodeName.toLowerCase();
                if ("br" !== a && "script" !== a && "style" !== a) {
                    var c = $(this).contents();
                    if ("span" === a) {
                        if (this.classList.contains("fauxCaret"))return;
                        if (this.classList.contains("char")) {
                            if (1 === c.length && c[0].nodeType === Node.TEXT_NODE && 1 === c[0].data.length)return;
                            c.replaceAll(this)
                        }
                    }
                    c.each(b)
                }
            } else this.nodeType === Node.TEXT_NODE && (a = this.data.split("").map(function (a) {
                var b = document.createElement("span");
                b.classList.add("char");
                b.appendChild(document.createTextNode(a));
                return b
            }), $(this).replaceWith(a))
        }

        var c = String(a.data("fontFamily"));
        La && Xn(c) || a.children(".inner").each(b)
    }

    function Yn(a, b) {
        !b && a.data("kernPairs") || a.find(".char").each(function () {
            var a = $(this), b = a.contents();
            0 < b.length ? a.replaceWith(b) : a.remove()
        })
    }

    var Zn = !1;

    function $n(a, b) {
        function c(a) {
            return " " === a || "\n" === a || "\t" === a || "\r" === a || " ?" === a || "\u2028" === a || "\u2029" === a || "" === a
        }

        Wn(a);
        var d = [], e = a.children(".inner"), g = e.find(".char"), h = a.data("letterSpacing") || 0, k = 0 !== h ? h / 1E3 + "em" : "0";
        if (function () {
                return b.reduce(function (a, b) {
                    return a + b
                }, 0)
            }() === g.length) {
            e.addClass("explicitLineBreaksLayoutMode");
            e.find(".implicitLineBreak").remove();
            a.removeData("ephemeralLetterSpacing");
            a.css("letter-spacing", k);
            a.data("cachedLineLengths", b);
            document.body.contains(a[0]) ||
            (e.addClass("doNotTransform"), a.addClass("doNotTransform"), a.appendTo("#limbo"), d.push(function () {
                a.detach();
                a.removeClass("doNotTransform");
                e.removeClass("doNotTransform")
            }));
            var l = 0, m = -1, n = 0, q = 0, r = 0;
            b.forEach(function (a) {
                var b = l, e = Math.min(b + a, g.length);
                if (!(b >= e)) {
                    for (var h = b, k = e - 1; h <= k && c(g[h].firstChild.data);)h++;
                    for (; h <= k && c(g[k].firstChild.data);)k--;
                    d.push(function () {
                        g.slice(b, h).addClass("superfluousWhitespace");
                        g.slice(k + 1, e).addClass("superfluousWhitespace")
                    });
                    h <= k && (0 <= m && Vn(g[m], g[h]) &&
                    d.push(function () {
                        $("\x3cbr\x3e").addClass("implicitLineBreak").insertBefore(g[b])
                    }), m = k, h !== k && (a = g[k].offsetLeft + g[k].offsetWidth - g[h].offsetLeft, a > n && (n = a, q = h, r = k)));
                    l = e
                }
            });
            k = e[0].offsetWidth;
            if (n > k) {
                var p = Un(g.slice(q, r + 1)).length, k = (k - n) / p, p = parseFloat(window.getComputedStyle(e[0]).getPropertyValue("font-size")), u = Math.max(h - 1E3 / 12, 1E3 * k / p), w = a.data("index") || 0;
                d.push(function () {
                    var b = a.data("canvaElement");
                    b && b.yy(w, u)
                })
            }
            d.forEach(function (a) {
                a()
            });
            Zn = !0;
            ao(a);
            Zn = !1
        }
    }

    function bo(a, b) {
        if (!Zn) {
            Yn(a, b);
            a.removeData("cachedLineLengths");
            var c = a.children(".inner");
            c.hasClass("explicitLineBreaksLayoutMode") && (c.removeClass("explicitLineBreaksLayoutMode"), c.find(".implicitLineBreak").remove(), c.find(".superfluousWhitespace").removeClass("superfluousWhitespace"), ao(a))
        }
    }

    function Nn(a) {
        for (var b = a.find("*"), c = b.length - 1; 0 <= c; c--) {
            var d = b[c], e = d.nodeName.toLowerCase();
            "br" !== e && "div" !== e && "ul" !== e && "li" !== e && "p" !== e && (("span" !== e && "font" !== e || 0 !== d.attributes.length) && "" !== d.textContent.trim() || $(d).contents().replaceAll(d))
        }
        a.get(0).normalize()
    }

    function On(a) {
        function b(a, b) {
            if (!a || !b)return !1;
            var e;
            if (a.nodeType === Node.ELEMENT_NODE) {
                e = a.nodeName.toLowerCase();
                if ("br" === e || "div" === e || "ul" === e || "li" === e || "p" === e)return !1;
                for (; (a = a.lastChild) && a.nodeType === Node.ELEMENT_NODE;)if ("br" === a.nodeName.toLowerCase())return !1
            }
            return b.nodeType === Node.ELEMENT_NODE && (e = b.nodeName.toLowerCase(), "ul" === e || "li" === e) ? !1 : !0
        }

        a.find("div, p").each(function () {
            var a = $(this);
            b(this.previousSibling, this.firstChild || this.nextSibling) && $("\x3cbr\x3e").insertBefore(this);
            b(this.lastChild || this.previousSibling, this.nextSibling) && $("\x3cbr\x3e").insertAfter(this);
            a.replaceWith(a.contents())
        })
    }

    function co(a) {
        function b(a) {
            var b;
            $.browser.msie ? (b = document.selection.createRange(), b.collapse(!0), b = b.parentElement()) : b = window.getSelection().getRangeAt(0).startContainer;
            return a.contains(b)
        }

        var c = [], d = [], e = window.getSelection(), g = a.children(".inner").get(0);
        Kn(a) ? 1 == e.rangeCount && b(g) && (g = e.getRangeAt(0).startContainer, g = Tn(Ln(g), a), c = c.concat(g.Zd), d = d.concat(g.ad)) : En(g).filter(function (a) {
            return Fn(e, a, !0) && a.nodeType == Node.TEXT_NODE
        }).forEach(function (b) {
            b = Tn(Ln(b), a);
            c = c.concat(b.Zd);
            d =
                d.concat(b.ad)
        });
        c = c.filter(function (a, b) {
            return c.lastIndexOf(a) === b
        });
        d = d.filter(function (a, b) {
            return d.lastIndexOf(a) === b
        });
        return {Zd: c, ad: d}
    }

    function Tn(a, b) {
        var c, d, e = [], g = [], h = b.children(".inner").get(0);
        c = b.get(0);
        var k = b.data("fontName"), l = b.data("fill");
        if (a == h || a == c)c = k, d = Q(l), c && e.push(c), d && g.push(d.ka()); else {
            for (; a !== h;)"font" == a.tagName.toLowerCase() && ((c = a.getAttribute("face")) && e.push(c), (d = Q($(a).css("color") || a.getAttribute("color"))) && g.push(d.ka())), a = a.parentElement;
            0 == e.length && k && e.push(k);
            0 == g.length && l && g.push(l)
        }
        return {Zd: e, ad: g}
    }

    function En(a) {
        for (var b = [], c = 0; c < a.childNodes.length; c++) {
            var d = a.childNodes[c];
            0 == d.childNodes.length ? b.push(d) : b = b.concat(En(d))
        }
        return b
    }

    function Ln(a) {
        if (a.parentElement)return a.parentElement;
        for (a = a.parentNode; a && a.nodeType !== Node.ELEMENT_NODE;)a = a.parentNode;
        return a
    }

    function Fn(a, b, c) {
        if (a.containsNode)return a.containsNode(b, c);
        c = document.createRange();
        c.selectNodeContents(b);
        b = 0;
        for (var d; b < a.rangeCount; ++b) {
            d = a.getRangeAt(b);
            try {
                if (0 >= d.compareBoundaryPoints(d.START_TO_START, c) && 0 <= d.compareBoundaryPoints(d.END_TO_END, c))return !0
            } catch (e) {
                if (e.code !== DOMException.WRONG_DOCUMENT_ERR)throw e;
            }
        }
        return !1
    }

    function eo(a) {
        if (!a)return [];
        for (var b = /<font[^>]+\bface="([^"]+)/gi, c, d = []; c = b.exec(a);)c = c[1].replace(/('|&#39;)/g, ""), d.push(c);
        return _.uniq(d)
    }

    function fo(a) {
        var b = a.html().toString();
        a.data("fontFamily") && (b += '\x3cfont face\x3d"' + a.data("fontFamily") + '"\x3e\x3c/font\x3e');
        return eo(b).filter(function (a) {
            return null !== go(La, a)
        })
    }

    function ho(a, b) {
        b ? this.Ma(a).data("fontMedia", {id: b.G(), version: b.getVersion()}) : this.Ma(a).removeData("fontMedia")
    }

    function io(a, b) {
        function c(a) {
            return {id: a.G(), version: a.getVersion()}
        }

        b && 0 < b.length ? this.Ma(a).data("htmlFontMedia", b.map(c)) : this.Ma(a).removeData("htmlFontMedia")
    }

    function jo(a, b, c, d) {
        function e(a) {
            if (a) {
                var d = "'" + m.family + "'";
                $.browser.msie || (d += ", " + m.He);
                h.css("font-family", d).css("font-weight", void 0 !== m.weight ? m.weight : "");
                ao(h);
                g.trigger("change:fontFamily", this, h, b)
            }
            c && c(a)
        }

        var g = this, h = this.Ma(a), k = h.data("fontName"), l = !1;
        b && Xn(String(b)) && (l = !0);
        d || h.find("font").removeAttr("face");
        b !== k && (this.Ll(a), this.Jo(a), bo(h), l && Nn(h));
        if (void 0 === b)h.removeData("fontName").removeData("fontFamily").removeData("fontWeight").removeData("fontMedia").removeData("htmlFontMedia").css("font-family",
            "").css("font-weight", ""), c && c(!0); else if (La) {
            h.data("fontFamily", b);
            var m = go(La, b);
            d = ko(b);
            m || d ? (h.data("fontName", m.name || m.family).data("fontFamily", m.family), this.Xl(a, d), lo(d, b, e)) : c && c(!1)
        } else c && c(!1)
    }

    function mo(a, b, c) {
        var d = this.Ma(a), e = parseFloat(d.data("fontSize")) / b;
        if (isNaN(e) || 2 <= e || .5 >= e)this.Ll(a), this.Jo(a), bo(d);
        void 0 === b ? d.removeData("fontSize").css("font-size", "") : (d.data("fontSize", b).css("font-size", b * nb + "%"), !0 !== c && ao(d, !0))
    }

    function no(a) {
        this.Lc(this.mb(), a)
    }

    function oo(a) {
        return this.Ma(a).data("fontSize") || 24
    }

    function po(a, b) {
        var c = this.Ma(a);
        void 0 === b ? c.removeData("justification").css("text-align", "") : c.data("justification", b).css("text-align", b)
    }

    function qo(a, b) {
        function c(a, b, c) {
            a.children(".inner").find("*").filter(function () {
                var a = Q($(this).css("color") || $(this).attr("color"));
                return a && a.equals(b)
            }).attr("color", c ? c.ka() : "")
        }

        function d(a, b, c) {
            b ? a.data("fill", b.ka()).css("color", b.ka()) : a.removeData("fill").css("color", "");
            c && a.find("*").removeAttr("color").css("color", "")
        }

        var e = this.Ma(a), g = Dn(e), h = Kn(e), k = e.is(".focused"), l = Q(e.data("fill")), m = Q(co(e).ad[0]);
        k && b && document.execCommand("foreColor", !1, b.ka());
        k && h ? (g = 0 < co(e).ad.length,
            l = m && m.equals(l), !g || l ? d(e, b, !1) : c(e, m, b)) : (g || h) && d(e, b, k)
    }

    function ro(a, b) {
        var c = this.Ma(a);
        c.is(".focused") && document.execCommand("bold", !1, null);
        if (Dn(c) || Kn(c))void 0 === b ? c.removeData("bold").removeClass("bold") : (c.data("bold", b), b ? c.addClass("bold") : c.removeClass("bold"));
        ao(c, !0)
    }

    function so(a, b) {
        var c = this.Ma(a);
        c.is(".focused") && document.execCommand("italic", !1, null);
        if (Dn(c) || Kn(c))void 0 === b ? c.removeData("italic").removeClass("italic") : (c.data("italic", b), b ? c.addClass("italic") : c.removeClass("italic"));
        ao(c, !0)
    }

    function to(a, b) {
        function c() {
            var b;
            l.focus();
            e() ? b = !0 : (l.click(), b = e());
            b && (document.execCommand("selectAll", !1, null), document.execCommand("insertUnorderedList", !1, null), Mn(g, a), document.execCommand("selectAll", !1, null), d());
            l.attr("contentEditable", m)
        }

        function d() {
            window.setTimeout(function () {
                ao(h, !0)
            }, 0)
        }

        function e() {
            return null !== window.getSelection().focusNode && "BODY" !== window.getSelection().focusNode.tagName
        }

        var g = this, h = this.Ma(a), k = 0 < h.find("li").length;
        if (!!b !== k) {
            var l = h.children(".inner"),
                m = String(l.prop("contentEditable"));
            l.attr("contentEditable", "true");
            l.focus();
            uo(l, c)
        }
        b ? h.data("list", !0) : h.removeData("list")
    }

    function vo(a, b) {
        var c = this.Ma(a);
        b ? c.data("textTransform", b).css("text-transform", b) : c.removeData("textTransform").css("text-transform", "none")
    }

    function wo(a, b) {
        var c = this.Ma(a), d = c.children(".inner");
        b ? (c.data("lineHeight", b), d.css("line-height", b / 100)) : (c.removeData("lineHeight"), d.css("line-height", 1.4));
        ao(c, !0)
    }

    function xo(a) {
        return this.Ma(a).data("lineHeight") || 140
    }

    function yo(a, b) {
        var c = this.Ma(a);
        c.removeData("ephemeralLetterSpacing");
        void 0 === b || 0 === b ? (c.removeData("letterSpacing"), c.css("letter-spacing", "0")) : (c.data("letterSpacing", b), c.css("letter-spacing", b / 1E3 + "em"));
        ao(c, !0)
    }

    function zo(a, b) {
        var c = this.Ma(a), d = 0 !== b ? b / 1E3 + "em" : "0";
        c.data("ephemeralLetterSpacing", b);
        c.css("letter-spacing", d)
    }

    function Ao(a) {
        a = this.Ma(a);
        var b = a.data("ephemeralLetterSpacing"), c = a.data("letterSpacing") || 0;
        b !== c && a.css("letter-spacing", 0 !== c ? c / 1E3 + "em" : "0");
        a.removeData("ephemeralLetterSpacing")
    }

    function Bo(a) {
        a = this.Ma(a);
        var b = a.data("ephemeralLetterSpacing");
        return void 0 !== b ? b : a.data("letterSpacing") || 0
    }

    function Co(a) {
        return this.Ma(a).data("kernPairs") || {}
    }

    function Do(a, b) {
        var c = this.Ma(a).data("kernPairs");
        return c && c.hasOwnProperty(b) ? parseFloat(c[b]) : 0
    }

    function Eo(a) {
        a = this.Ma(a);
        a.data("kernPairs") && (a.removeData("kernPairs"), Yn(a, !0))
    }

    function Fo(a) {
        var b = this.Ma(a);
        a = this.Fk(a);
        if (0 < Object.keys(a).length) {
            if (Wn(b), a = b.data("kernPairs") || null)if (b = b[0].querySelectorAll(".char"), 0 !== b.length)for (var c = b[0].firstChild.data, d = 1; d < b.length; d++) {
                var e = b[d].firstChild.data, c = a[c + e] || 0;
                0 === c ? b[d].removeAttribute("style") : b[d].style.marginLeft = c / 1E3 + "em";
                c = e
            }
        } else Yn(b)
    }

    function Go(a, b, c) {
        if (2 === c.length) {
            var d = this.Ma(a);
            a = this.Fk(a);
            a[c] = b;
            d.data("kernPairs", a)
        }
    }

    function Ho(a, b) {
        this.Ma(a).data("kernPairs", b)
    }

    function Io() {
        var a = this.xi();
        0 < a.parents("#overlays").length && Jo(a)
    }

    function Ko(a) {
        var b = this.Fk(a), c = [];
        b && 0 !== Object.keys(b).length && Object.keys(b).forEach(function (a) {
            c.push({pair: a, adjustment: b[a]})
        });
        return c
    }

    function Lo(a) {
        if (void 0 === a || 0 === a.length)return null;
        var b = {};
        a.forEach(function (a) {
            b[a.pair] = a.adjustment
        });
        return b
    }

    function Mo(a) {
        function b(a) {
            if (a = ko(a))return {id: a.G(), version: a.getVersion()}
        }

        function c() {
            var a = h.data("cachedLineLengths");
            if (!a) {
                a = h[0].style;
                if ("" === a.fontFamily || "" === a.width)return;
                a = h.data("fontScaling");
                if (void 0 !== a && 1 !== a || h.hasClass("focused"))return;
                var a = h, b = a.clone();
                b.addClass("doNotTransform");
                b.children(".inner").addClass("doNotTransform");
                b.appendTo("#limbo");
                Wn(b);
                for (var c = b.find(".char"), d = 0, e = [], k = Un(c), u = 1; u < k.length; u++)if (!Vn(k[u - 1], k[u])) {
                    var w = c.index(k[u]);
                    e.push(w - d);
                    d = w
                }
                e.push(c.length - d);
                b.remove();
                a.data("cachedLineLengths", e);
                a = e
            }
            g.lineLengths = a
        }

        function d() {
            var b = e.wy(a);
            0 !== b.length && (g.kerning = b)
        }

        var e = this, g = {index: a}, h = this.Ma(a), k = String(h.data("fontFamily")), k = Xn(k);
        (function () {
            var a = h.clone();
            bo(a, !0);
            g.html = a.children(".inner").html()
        })();
        (function () {
            Oj.forEach(function (a) {
                var b = h.data(a);
                void 0 !== b && (g[a] = b)
            });
            h.data("fill") && (g.color = h.data("fill"))
        })();
        k || (c(), d());
        (function () {
            var a = ko(g.fontFamily);
            a ? g.fontMedia = {id: a.G(), version: a.getVersion()} :
            h.data("fontMedia") && (g.fontMedia = h.data("fontMedia"));
            var c = fo(h).map(b).filter(function (a) {
                return !!a
            }).filter(function (b) {
                return !a || b.id !== a.id
            });
            0 < c.length ? g.htmlFontMedia = c : h.data("htmlFontMedia") && (g.htmlFontMedia = h.data("htmlFontMedia"))
        })();
        return g
    };
    function Bh(a) {
        this.type = a.type;
        this.id = a.id || "";
        this.version = a.version || 0
    }

    Bh.prototype.Nb = function () {
        return this.type
    };
    Bh.prototype.G = function () {
        return this.id
    };
    Bh.prototype.di = function () {
        this.type = No;
        return this
    };
    Bh.prototype.serialize = function () {
        return this.type === No || this.type === Oo ? {
            type: this.type,
            id: this.id,
            version: this.version
        } : this.type ? {type: this.type} : null
    };
    // dao base element
    function Y(a) {
        this.F = Ma;
        this.ma = $('\x3cdiv class\x3d"element" /\x3e');
        this.ma.data("canvaElement", this);
        this.selected = !1;
        this.Il = !0;
        this.fb = this.rotation = this.height = this.width = this.top = this.left = 0;
        this.page = this.Ub = null;
        this.hg = !1;
        this.Bc = 0;
        this.link = "";
        this.Hl = this.Td = !1;
        this.jf = this.origin = null;
        this.Bm = !0;
        this.dk = 1;
        var b = Hb(this.F);
        this.Rb = null;
        this.gm = {Link: b.format("editorToolbarElementLink"), Transparency: Kc(b)};
        this.xg(1) && (this.gm["Flip Horizontally"] = b.format("editorToolbarElementFlipHorizontally"));
        this.xg(2) && (this.gm["Flip Vertically"] = b.format("editorToolbarElementFlipVertically"));
        this.pp = !0;
        a && (b = kh({
            left: a.left,
            top: a.top,
            width: a.width,
            height: a.height
        }), this.Eb(b), null != a.rotation && (this.rotation = a.rotation), null != a.flipOrientation && (this.fb = a.flipOrientation), 0 <= Object.keys(a).indexOf("userEdited") && (this.pp = a.userEdited), 0 <= Object.keys(a).indexOf("transparency") && (this.Bc = a.transparency), 0 <= Object.keys(a).indexOf("link") && (this.link = a.link), null != a.origin && (this.origin = new Bh(a.origin)))
    }

    f = Y.prototype;
    f.trigger = Backbone.Events.trigger;
    f.listenTo = Backbone.Events.listenTo;
    f.stopListening = Backbone.Events.stopListening;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.off = Backbone.Events.off;
    _.extend(Y.prototype, Backbone.Events);
    f = Y.prototype;
    f.Sy = function () {
        return !1
    };
    f.transform = function (a) {
        var b = Gh(Fh([this.Y(), this.O()]).transform(a));
        Wi(this, Po(this.Ua(), 180 * Math.atan2(a.m[3], a.m[4]) / Math.PI * -1));
        this.setPosition(b[0], b[1])
    };
    f.H = function () {
        return this.ma
    };
    function Qo(a) {
        a = a.ma[0].children;
        for (var b = 0; b < a.length; b++) {
            var c = a[b];
            if (c.classList.contains("inner"))return $(c)
        }
        return $()
    }

    function Ro(a) {
        return a.elements && 0 !== a.elements.length
    }

    f.yw = function () {
        return !1
    };
    f.ex = function () {
        this.Td = !0
    };
    f.Ii = function () {
        return !1
    };
    f.xw = function () {
        return !1
    };
    f.Eo = function () {
    };
    f.og = function () {
    };
    f.wf = function () {
    };
    f.rj = function () {
        this.Hl = !0
    };
    f.Ch = function () {
        this.Hl = !1
    };
    function So(a) {
        return _.map(a.gm, function (a, c) {
            return {name: a, id: c, enabled: !0}
        })
    }

    f.Cf = function () {
        return !0
    };
    function To(a, b) {
        function c() {
            d.off("placeholderImage:loaded", e);
            d.Qn(b)
        }

        if (void 0 === a.ya || void 0 === a.Mb)throw Error("loadImagesAndFilters must be called on elements that have placeable and filterable images");
        var d = a, e = _.after(a.ya.length, c);
        a.on("placeholderImage:loaded", e);
        0 === a.ya.length ? window.setTimeout(c, 0) : a.ya.forEach(function (a, b) {
            a.update(function () {
                d.trigger("placeholderImage:loaded", b)
            })
        })
    }

    f.Qn = function (a) {
        function b() {
            c.Ho();
            a && a()
        }

        if (void 0 === this.ya || void 0 === this.Mb)throw Error("initializeFilters must be called on elements that have placeable and filterable images");
        var c = this, d = _.after(this.Mb.length, b);
        0 === this.Mb.length ? window.setTimeout(b, 0) : this.Mb.forEach(function (a) {
            a.initialize(d)
        })
    };
    f.Md = function () {
        return this.origin
    };
    function Uo(a, b) {
        for (var c = [], d = {}, e = _.pluck(a, "index"), g, h = 0; h < b.length; h++)d = {}, g = e.indexOf(h), -1 < g ? d = a[g] : d.index = h, c.push(Vo(d.filter, b[d.index]));
        return c
    }

    function Wo(a, b, c) {
        for (var d = [], e = {}, g = _.pluck(a, "index"), h, k = 0; k < b; k++)e = {}, h = g.indexOf(k), -1 < h ? e = a[h] : e.index = k, h = c.is(".svg.element") ? c.find("svg image.placeholder").eq(k).parent() : c.find(".placeholder").eq(k).parent(), d.push(new Xo(e, h));
        return d
    }
    // dao element
    function Sd(a) {
        switch (a.type) {
            case "text":
                return new Nj(a);
            case "image":
                return new Yo(a);
            case "graphic":
                return "print" !== Zo ? a = new $o(a) : (a = new Xi(a), a.Lw = !0), a;
            case "svg":
                return new Xi(a);
            case "grid":
                return new ap(a);
            case "fixed":
                return new bp(a);
            case "group":
                return new cp(a)
        }
        return null
    }

    f.tc = function () {
        delete this.Ac
    };
    f.remove = function () {
        this.page && this.page.tj(this, !1, !0);
        this.Rb && this.Rb.remove();
        this.Rb = this.Ub = this.page = null
    };
    f.ea = function () {
        return this.page ? this.page.oa().indexOf(this) : -1
    };
    f.ca = function () {
        return this.page
    };
    f.bm = function (a) {
        this.Bc = a;
        this.sb()
    };
    f.ow = function () {
        return this.Bc
    };
    function dp(a) {
        return mb.test(a) || rb.test(a) || sb.test(a) || vb.test(a)
    }

    function ep(a, b) {
        dp(b) ? a.link = b || "" : a.link = ""
    }

    function fp(a) {
        return dp(a.link) ? a.link : ""
    }

    f.Na = function (a) {
        gp(this, a);
        this.sb()
    };
    function gp(a, b) {
        void 0 !== b && !isNaN(b) && isFinite(b) && (a.left = b)
    }

    function hp(a, b) {
        a.left -= b;
        a.sb()
    }

    function ip(a, b) {
        a.top -= b;
        a.sb()
    }

    function jp(a, b) {
        a.left += b;
        a.sb()
    }

    function kp(a, b) {
        a.top += b;
        a.sb()
    }

    f.Y = function () {
        return this.left
    };
    function lp(a) {
        return {Bc: a.Bc, rotation: a.Ua(), top: a.O(), left: a.Y(), width: a.C(), height: a.D()}
    }

    function mp(a) {
        var b = {left: 0, top: 0, right: 0, bottom: 0, width: 0, height: 0}, c = M;
        if (a.Ub) {
            var d = a.H().get(0);
            a = a.Ub.get(0);
            d.parentNode && a.parentNode && (d = d.getBoundingClientRect(), a = a.getBoundingClientRect(), b.left = (d.left - a.left) / c, b.right = (d.right - a.left) / c, b.top = (d.top - a.top) / c, b.bottom = (d.bottom - a.top) / c, b.width = b.right - b.left, b.height = b.bottom - b.top)
        }
        return b
    }

    f.Qa = function () {
        return mp(this).left
    };
    f.Bb = function () {
        return mp(this).right
    };
    f.Aa = function () {
        return mp(this).top
    };
    f.lb = function () {
        return mp(this).bottom
    };
    f.ec = function () {
        return mp(this).width
    };
    f.bc = function () {
        return mp(this).height
    };
    f.hb = function () {
        var a = Math.round(this.left * M);
        return (this.page.hb() || 0) + a
    };
    f.Oa = function (a) {
        np(this, a);
        this.sb()
    };
    function np(a, b) {
        void 0 !== b && !isNaN(b) && isFinite(b) && (a.top = b)
    }

    f.O = function () {
        return this.top
    };
    f.nb = function () {
        var a = Math.round(this.top * M);
        return (this.page.nb() || 0) + a
    };
    f.Gu = function () {
    };
    f.by = function () {
    };
    f.setPosition = function (a, b) {
        gp(this, a);
        np(this, b);
        this.sb()
    };
    f.la = function (a) {
        void 0 !== a && !isNaN(a) && isFinite(a) && (this.width = a);
        a = op(this);
        this.H().css("width", a)
    };
    f.C = function () {
        return this.width
    };
    function op(a) {
        return Math.round(a.C() * M)
    }

    f.ja = function (a) {
        void 0 !== a && !isNaN(a) && isFinite(a) && (this.height = a);
        a = cj(this);
        this.H().css("height", a)
    };
    f.D = function () {
        return this.height
    };
    function cj(a) {
        return Math.round(a.D() * M)
    }

    f.setSize = function (a, b) {
        this.la(a);
        this.ja(b)
    };
    function bj(a) {
        a = a.H().get(0).getBoundingClientRect();
        return {x: a.left + a.width / 2, y: a.top + a.height / 2}
    }

    f.zi = function () {
        return this.Y() + this.C() / 2
    };
    f.Eb = function (a) {
        var b = a.Y(), c = a.O();
        gp(this, b);
        np(this, c);
        this.setSize(a.C(), a.D())
    };
    f.qa = function () {
        return new L(this.Y(), this.O(), this.C(), this.D())
    };
    function Wi(a, b) {
        a.rotation = b;
        a.sb()
    }

    f.Ua = function () {
        return this.rotation
    };
    f.yj = function (a) {
        this.fb = a
    };
    f.Kh = function (a) {
        var b = this.fb ^ a;
        this.yj(a);
        1 != b && 2 != b || this.mj();
        this.sb()
    };
    f.xg = function () {
        return !1
    };
    f.mj = function () {
    };
    f.Wa = function () {
        return this.left + this.width
    };
    f.va = function () {
        return this.top + this.height
    };
    f.kf = function () {
    };
    f.Yg = function () {
        return !0
    };
    f.Km = function () {
        return !0
    };
    f.fk = function () {
        return !0
    };
    f.Lm = function () {
        return !1
    };
    f.de = function () {
        return !1
    };
    f.qb = function () {
        return !1
    };
    f.Ru = function () {
        return !1
    };
    f.Ni = function () {
        return !1
    };
    f.Kg = function (a) {
        this.selected = a
    };
    function pp(a) {
        return 0 < a.H().parents(".group").length
    }

    f.sb = function (a) {
        var b = this.H(), c = Math.round(this.left * M), d = Math.round(this.top * M);
        if (0 < this.H().parents("#overlays").length && !pp(this))var e = this.page || t.aa[0], c = c + Math.round(e.hb()), d = d + Math.round(e.nb());
        b.css("transform", Vi({Nc: c, Oc: d, rotateZ: this.rotation}));
        b.css("opacity", (100 - this.Bc) / 100);
        this.xg(0) && this.op();
        !a && this.Ub && this.Ca()
    };
    f.op = function () {
    };
    function qp(a) {
        var b = 2.5 * a.C();
        a.H().css("perspective", b + "px")
    }

    f.clone = function () {
        return Sd(this.serialize())
    };
    f.appendTo = function (a) {
        -1 == a.elements.indexOf(this) ? a.addElement(this) : rp(a, this, a.oa().length)
    };
    f.Ri = function (a) {
        return a ? pe(this.qa(), a.qa()) : !1
    };
    f.insertAfter = function (a) {
        var b = a.ea();
        if (-1 != b) {
            var c = a.page, d = c.elements.indexOf(this);
            -1 == d ? rp(c, this, b + 1) : d < b ? rp(c, this, b) : d > b && rp(c, this, b + 1);
            !this.Ub && a.Ub && (this.Ub = a.Ub);
            this.Ba()
        }
    };
    f.insertBefore = function (a) {
        var b = a.ea();
        if (-1 != b) {
            var c = a.ca(), d = c.elements.indexOf(this);
            -1 == d ? rp(c, this, b) : d < b - 1 ? rp(c, this, b - 1) : d > b && rp(c, this, b);
            !this.Ub && a.Ub && (this.Ub = a.Ub)
        }
    };
    f.Ba = function () {
        function a() {
            b.Ub && b.Ca()
        }

        var b = this;
        this.Il && (gp(this), np(this), this.sb(!0), this.la(), this.ja(), this.sb(), this.Rb && this.Rb.Bf() ? this.Rb.update(!1, a) : a())
    };
    f.Ca = function () {
        var a = this.H(), b = this.hb(), c = this.nb() + (this.Aa() - this.O()) * M, d = a.data("toolbar"), a = a.data("textToolbar");
        d ? (a = $(".multipleSelectionBox"), b = new L(b, c, this.ec() * M, this.bc() * M), 0 >= a.length ? (sp(d, b), tp(Hb(this.F), d, this)) : (b = new L(parseInt(a.css("left"), 10), parseInt(a.css("top"), 10), a.width(), a.height()), sp(d, b))) : a && tp(Hb(this.F), a, this);
        up(this)
    };
    function up(a) {
        qe(a).write(function () {
            var a = this.H(), c = a.data("selectionBox");
            if (c) {
                var d = this.hb(), e = this.nb(), g = this.Ua(), h = op(this), a = cj(this) || a.height(), k = 0, l = 0, m = 80 > h || 80 > a;
                this.Je && this.Je() && (k = this.H().css("font-size").replace("px", ""), k = this.Je() / 1E3 * parseInt(k, 10) * M);
                this.qC && (l = (this.padding || 0) * M);
                c.css("transform", Vi({
                    Nc: d,
                    Oc: e,
                    rotateZ: g
                })).css("width", h + 2 * (k + l)).css("height", a + 2 * (k + l));
                c.toggleClass("tightTargets", m);
                vp(c, g)
            }
        })
    }

    f.Qd = function () {
        var a = this.H(), b = a.data("toolbar"), c = a.data("selectionBox");
        b && b.remove();
        c && c.remove();
        a.removeData("selectionBox").removeData("toolbar");
        wp();
        G.trigger("hideContextualControlsRequested")
    };
    f.serialize = function () {
        var a = {
            elementIndex: this.ea(),
            left: this.left,
            top: this.top,
            width: this.width,
            height: this.height,
            rotation: this.rotation,
            transparency: this.Bc,
            userEdited: this.pp
        };
        this.link && (a.link = this.link);
        var b = this.origin && this.origin.serialize();
        b && (a.origin = b);
        0 != this.fb && (a.flipOrientation = this.fb);
        return a
    };
    f.yg = function () {
        return !1
    };
    f.Or = function () {
        return !1
    };
    f.Ne = function () {
        return this.Ac || (this.Ac = new Oi)
    };
    f.Tk = function () {
        return !1
    };
    f.Mk = function () {
        return {}
    };
    f.By = function () {
    };
    var xp = Sh("#ffffff"), yp = Sh("#272c33"), zp = Sh("#7d8693");
    Y.prototype.kk = function () {
        return !1
    };
    function Ap(a) {
        var b;
        b = J(t);
        var c = Mm(Jm()).ta().wi();
        b = (c = c ? Q("#" + c) : null) ? {
            Ah: c,
            Hh: 150 > Ph(c) ? Jh(new Hh, 255, 255, 255) : Jh(new Hh, 0, 0, 0),
            Th: 150 > Ph(c) ? Rh(c, Jh(new Hh, 255, 255, 255), .7) : Rh(c, Jh(new Hh, 0, 0, 0), .7)
        } : !Bp(b) || b.Tn() ? {
            Ah: Jh(new Hh, 255, 255, 255),
            Hh: Jh(new Hh, 0, 0, 0),
            Th: Jh(new Hh, 127, 127, 127)
        } : {Ah: Jh(new Hh, 0, 0, 0), Hh: Jh(new Hh, 255, 255, 255), Th: Jh(new Hh, 127, 127, 127)};
        c = a.jf;
        c === b || c && b && c.Ah.equals(b.Ah) && c.Hh.equals(b.Hh) && c.Th.equals(b.Th) || (a.jf = b, a.Bm = !0)
    }

    function Cp(a, b) {
        b != a.dk && (a.dk = b, a.Bm = !0)
    }

    Y.prototype.Ol = function () {
    };
    function Dp() {
        return 0 == this.td().length
    }

    function Ep() {
        var a = this.bd();
        if (!a)return null;
        var b = this.ab(), c = this.ya ? this.ya[this.ub()].fb : this.fb;
        return wh(a, b, c)
    }

    function Fp() {
        var a = this.H(), b = this.td(), c = this.ab();
        c.scale(M).round();
        var d = a.data("toolbar");
        d && d.css("display", "none");
        d = a.data("cropControls");
        d || (d = $('\x3cdiv class\x3d"cropControls"\x3e\x3cdiv class\x3d"viewPort"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"masked" /\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cropBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3cimg class\x3d"uncropped" /\x3e\x3c/div\x3e\x3c/div\x3e'), d.data("canvaElement",
            this), a.data("cropControls", d), d.appendTo("#overlays"));
        var e = d.find(".viewPort");
        e.css(Gp(c, 0));
        e.children(".inner").css("width", c.C()).css("height", c.D());
        var g = b.attr("src") || b.attr("xlink:href"), b = d.find("img.masked, img.uncropped");
        b.attr("src") != g && b.each(function () {
            Hp(Ip, $(this), g)
        });
        var h = a.data("selectionBox"), b = Jp(h);
        d.css(Gp(b, this.Ua()));
        var k = this.bd();
        k.scale(M).round();
        var l = this.ya ? this.ya[this.ub()].fb : this.fb;
        Kp(e.find("img.masked"), k, l);
        k.translate(c.Y(), c.O());
        c = d.find(".cropBox");
        c.css(Gp(k, 0));
        Kp(c.find("img.uncropped"), null, l);
        h.addClass("cropping");
        Lp(a);
        a = a.data("confirmationToolbar");
        c = k.clone().translate(b.Y(), b.O());
        sp(a, c)
    }

    function Mp(a, b) {
        var c = this.bd(), d = this.ab();
        d.Na(0).Oa(0);
        a > d.Y() ? a = d.Y() : a + c.C() < d.Wa() && (a = d.Wa() - c.C());
        b > d.O() ? b = d.O() : b + c.D() < d.va() && (b = d.va() - c.D());
        c.Na(a).Oa(b);
        this.cf(c)
    }

    function Np(a) {
        var b = this.ub();
        -1 < b && Op(this.ya[b], a)
    }

    function Pp() {
        var a = this.H();
        a.removeClass("cropping");
        var b = a.data("confirmationToolbar"), c = a.data("cropControls");
        a.removeData("confirmationToolbar").removeData("cropControls");
        b && b.remove();
        c && c.remove();
        (a = a.data("selectionBox")) && a.removeClass("cropping")
    }

    function Qp() {
        this.H().removeClass("cropping");
        var a = this.td();
        if (a) {
            var b = this.Dn().scale(M).round();
            a.css(Gp(b, 0)).attr("data-image-rect", JSON.stringify(this.bd().serialize()))
        }
    }

    function Rp() {
        var a = this.ub();
        return this.Af(0 <= a ? a : 0)
    }

    function Sp() {
        var a = this.ub();
        if (-1 === a)return !1;
        a = this.tg(a);
        return void 0 !== a.mediaId && void 0 !== a.mediaVersion
    }

    function Tp(a) {
        function b(b) {
            if (c.data("mediaId") === a.pa && c.data("mediaVersion") === a.ra) {
                var d = !!b;
                b = !!b && b.src || "";
                d && Hp(Ip, c, b);
                a.oo && a.oo(d)
            }
        }

        var c = a.Fr;
        c.data("mediaId", a.pa);
        c.data("mediaVersion", a.ra);
        var d = a.zn["print" === Zo ? Up : ee];
        Hp(Ip, c, a.zn[Vp].ia());
        Wp(Ip, d.ia()).then(b).catch(b.bind(null, void 0))
    }

    function Yo(a) {
        var b = this;
        Y.call(this, a);
        this.background = !!a.isBackground;
        this.jv = !!a.isDark;
        this.backgroundColor = a.backgroundColor || null;
        this.pa = "string" === typeof a.mediaId ? a.mediaId : null;
        this.ra = "number" === typeof a.mediaVersion ? a.mediaVersion : null;
        this.Cb = void 0 === a.mediaApproved || !!a.mediaApproved;
        Zp(this) ? (this.Mn = !0, this.nk = !1) : (this.Mn = void 0 !== a.isCutout, this.nk = !this.Mn || a.isCutout);
        this.ct = !!a.isRecolorable || this.nk;
        this.hg = !Zp(this);
        var c = null !== this.cc(), d = this.H();
        d.addClass("image").toggleClass("hasMedia",
            c);
        if (c) {
            var e = $("\x3cdiv\x3e").addClass("imageWrapper");
            e.append("\x3cimg\x3e");
            e.appendTo(d);
            this.ib = new Xo({mediaId: this.pa, mediaVersion: this.ra, mediaApproved: this.Cb}, e);
            this.Rb = Vo(a.filter, this.ib);
            this.gt()
        } else this.Rb = this.ib = null;
        this.ct && this.backgroundColor && d.css("background-color", this.backgroundColor);
        this.Tc = new L((this.width - .5 * this.width) / 2, (this.height - .5 * this.height) / 2, .5 * this.width, .5 * this.height);
        this.ua = new L(-this.Tc.Y(), -this.Tc.O(), this.width, this.height);
        this.Nj = this.qa();
        this.ye = !1;
        if (d = a.imageBox)Kf(this, new L(-1 * d.left, -1 * d.top, this.width, this.height)), this.cf(kh(d)), this.Nj = this.bd(), this.bh(), a = kh({
            left: a.left,
            top: a.top,
            width: a.width,
            height: a.height
        }), this.Eb(a);
        this.background && Dj(this);
        c || window.requestAnimationFrame(function () {
            G.trigger("elementLoaded", b);
            G.trigger("elementLoaded:image", b)
        })
    }

    Yo.prototype = Object.create(Y.prototype);
    f = Yo.prototype;
    f.constructor = Yo;
    f.Li = Dp;
    f.vt = Mp;
    f.Eg = Pp;
    f.ab = Rp;
    f.Dn = Ep;
    f.Ii = function () {
        return !!this.Rb
    };
    f.xw = function () {
        return !0
    };
    f.Sb = function () {
        return this.Rb
    };
    f.qg = function (a) {
        return 0 === a ? this.Rb : null
    };
    f.Cf = function () {
        return !(!this.Rb || !this.Rb.Bf())
    };
    f.MC = Yo.prototype.Cf;
    f.Eo = function (a, b) {
        $p(this.Rb, b)
    };
    f.og = function () {
        this.Rb.og()
    };
    f.wf = function () {
        this.Rb.wf()
    };
    f.Qn = function (a) {
        function b() {
            c.Ho();
            G.trigger("elementLoaded", c);
            G.trigger("elementLoaded:image", c);
            a && a()
        }

        var c = this;
        this.Rb && this.Rb.initialize(b)
    };
    f.Ho = function () {
        if (this.MC()) {
            var a = this.H().data("toolbar");
            a && a.find(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")
        }
    };
    f.Lm = function () {
        return !this.qb() && !this.de()
    };
    function Zp(a) {
        return a.Cb && null === a.cc()
    }

    f.appendTo = function (a) {
        this.qb() ? (rp(a, this, 0), aq(a)) : Y.prototype.appendTo.call(this, a)
    };
    f.serialize = function () {
        var a = Y.prototype.serialize.call(this), b = null;
        this.Rb && (b = bq(this.Rb)) && (a.filter = b);
        a.type = "image";
        a.mediaId = this.pa;
        a.mediaVersion = this.ra;
        a.isBackground = this.background;
        a.isRecolorable = this.ct;
        a.isCutout = this.nk;
        a.isDark = this.jv;
        this.backgroundColor && (a.backgroundColor = this.backgroundColor);
        this.Cb || (a.mediaApproved = !1);
        this.ye && (a.imageBox = this.ua.serialize());
        return a
    };
    f.la = function (a) {
        void 0 === a && (a = this.width);
        var b = this.H(), c = a != this.width;
        this.ua && c && !b.is(".cropping") && (b = a / this.width, this.ua.scale(b, 1), this.Tc.scale(b, 1));
        this.ib && Op(this.ib, this.ye ? this.ua : new L(0, 0, a, this.height));
        Y.prototype.la.call(this, a)
    };
    f.ja = function (a) {
        void 0 === a && (a = this.height);
        var b = this.H(), c = a != this.height;
        this.ua && c && !b.is(".cropping") && (b = a / this.height, this.ua.scale(1, b), this.Tc.scale(1, b));
        this.ib && Op(this.ib, this.ye ? this.ua : new L(0, 0, this.width, a));
        Y.prototype.ja.call(this, a)
    };
    f.xg = function () {
        return !0
    };
    f.yj = function (a) {
        wh(this.ua, this.Tc, this.fb ^ a);
        this.Tc.Na(-this.ua.Y());
        this.Tc.Oa(-this.ua.O());
        this.fb = a
    };
    f.op = function () {
        Kp(this.H().find(".imageWrapper"), null, this.fb)
    };
    f.mj = function () {
        if (za) {
            qp(this);
            var a = this.H().find(".imageWrapper");
            a.addClass("flipping");
            a.one("transitionend", function () {
                a.removeClass("flipping")
            })
        }
    };
    f.Ba = function () {
        Y.prototype.Ba.call(this);
        var a = this.H();
        if (this.ye && !a.is(".cropping")) {
            var b = this.Dn().scale(M).round();
            $("img", a).css(Gp(b, 0))
        }
    };
    f.Ca = function () {
        Y.prototype.Ca.call(this);
        this.H().is(".cropping") ? this.rk() : this.Eg()
    };
    f.qm = function (a) {
        Zp(this) || Kj(a, this.cc()) || (this.Zl(!1), this.ra = this.pa = null)
    };
    f.yg = function () {
        return !0
    };
    f.cc = function () {
        return null != this.pa && null != this.ra ? new Dh(this.pa, this.ra) : null
    };
    f.gt = function () {
        var a = this.cc();
        a && this.Jg(a.G(), a.getVersion())
    };
    f.Jg = function (a, b) {
        function c(a) {
            a ? d.Qn() : G.trigger("elementLoadingError", d)
        }

        this.pa = a;
        this.ra = b;
        var d = this, e = Ia.vb(a, b);
        e ? Tp({zn: e, Fr: d.H().find("img"), pa: a, ra: b, oo: c}) : c(!1)
    };
    f.Oi = function () {
        return this.Cb
    };
    f.Zl = function (a) {
        this.Cb = a;
        this.H().toggleClass("unapproved", !a);
        this.Ca()
    };
    f.Jh = function () {
    };
    f.td = function () {
        return this.H().find("img")
    };
    f.ub = function () {
        return 0
    };
    f.Jk = function (a) {
        return 0 != a ? $() : $("img", this.H()).eq(0)
    };
    f.Oe = function () {
        return 1
    };
    f.Af = function () {
        return this.Tc.clone()
    };
    f.tg = function () {
        return null
    };
    f.Ei = function () {
        return this.ib
    };
    f.Sf = function () {
    };
    f.Ml = function () {
    };
    function Kf(a, b) {
        var c = a.Tc.Y(), d = a.Tc.O();
        a.Tc = b.clone();
        a.ua.translate(c - a.Tc.Y(), d - a.Tc.O())
    }

    f.bd = function () {
        return this.ua.clone()
    };
    f.Br = function () {
        return !0
    };
    f.rk = function () {
        var a = this.H();
        this.lp || (this.lp = !0, this.Nj = new L(this.left + (this.ye ? this.ua.Y() : 0), this.top + (this.ye ? this.ua.O() : 0), this.ua.C(), this.ua.D()));
        var b = this.page.hb() || 0, c = this.page.nb() || 0, d = this.Nj.clone();
        d.scale(M).translate(b, c).round();
        a.data("selectionBox").css(Gp(d, this.Ua()));
        Fp.call(this);
        0 == $(".viewPort .frameHandle").length && (b = $('\x3ca class\x3d"frameHandle tl" href\x3d"#"\x3e\x3cspan class\x3d"tl"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle tr" href\x3d"#"\x3e\x3cspan class\x3d"tr"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle br" href\x3d"#"\x3e\x3cspan class\x3d"br"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle bl" href\x3d"#"\x3e\x3cspan class\x3d"bl"\x3e\x3c/span\x3e\x3c/a\x3e'),
        (a = a.data("cropControls")) && a.find(".viewPort").append(b))
    };
    f.Qd = function () {
        Y.prototype.Qd.call(this);
        this.Eg()
    };
    f.cf = function (a) {
        this.ua = a.clone()
    };
    f.bh = function () {
        Qp.call(this);
        var a = this.H();
        this.td().css("position", "absolute");
        a.css("overflow", "hidden");
        var b = this.Tc.clone();
        b.translate(this.Nj.Y(), this.Nj.O());
        a.addClass("cropping");
        this.Eb(b);
        a.removeClass("cropping");
        this.Tc.Na(-this.ua.Y()).Oa(-this.ua.O());
        this.ye = !0;
        this.lp = !1
    };
    function Dj(a) {
        var b = a.Hb();
        a.background = !0;
        a.hg = !1;
        a.H().addClass("background");
        a.page && (rp(a.page, a, 0), aq(a.page), a.page.trigger("change:background", a.page));
        a.Hb() !== b && a.Ca();
        a.tc()
    }

    function cq(a) {
        var b = a.Hb();
        a.background = !1;
        a.hg = !Zp(a);
        a.H().removeClass("background");
        a.de() && null !== a.backgroundColor && a.Wl(null);
        a.Hb() !== b && a.Ca();
        a.page && a.page.trigger("change:background", a.page);
        a.tc()
    }

    f.qb = function () {
        return this.background
    };
    f.Ru = function () {
        return !0
    };
    f.Hb = function () {
        return this.ct && (!this.de() || this.qb())
    };
    f.de = function () {
        var a = this;
        this.Mn || null === this.cc() || (this.Mn = !0, Ga.bb(this.pa, (new dq).Vd(this.ra), function (b, c) {
            a.nk = c.na().de()
        }));
        return this.nk
    };
    f.jc = function () {
        var a = [];
        if (this.Hb()) {
            var b = Q(this.backgroundColor || "#ffffff");
            b && a.push(b)
        }
        return a
    };
    f.Ie = function () {
        return null !== this.backgroundColor ? Q(this.backgroundColor) : null
    };
    f.Wl = function (a) {
        var b = this.H();
        a ? (this.backgroundColor = a.ka(), b.css("background-color", this.backgroundColor)) : (this.backgroundColor = null, b.css("background-color", ""));
        this.qb() && this.page && this.page.trigger("change:background", this.page);
        this.tc()
    };
    f.Rd = function (a, b) {
        if (0 !== a)throw Error("ImageElement.setChangeableColorAtIndex - invalid index: " + a.toString());
        this.Wl(b)
    };
    f.Ne = function () {
        if (this.Ac)return this.Ac;
        var a = new Oi;
        this.jc().forEach(function (b) {
            Qi(a, b)
        });
        return this.Ac = a
    };
    function Xi(a) {
        this.Lf = [];
        this.Fa = this.wb = this.Jp = null;
        this.Xa = $();
        this.Fj = [];
        this.Qt = $();
        this.ya = [];
        this.Mb = [];
        this.Lw = this.loaded = !1;
        Y.call(this, a);
        if (void 0 !== a && void 0 !== a.mediaId) {
            this.pa = a.mediaId;
            this.ra = a.mediaVersion;
            this.Cb = void 0 === a.mediaApproved ? !0 : a.mediaApproved;
            var b = this.H();
            b.addClass("svg");
            var c = $('\x3cimg class\x3d"placeholder" /\x3e');
            b.append(c);
            this.listenTo(this, "change:fontSize", this.ux);
            this.listenTo(this, "change:fontFamily", this.ux);
            this.contents = a.contents ? a.contents.slice(0) :
                null;
            a.scale && (this.scale = a.scale);
            a.fillColors && (this.zk = a.fillColors.map(function (a) {
                return {index: a.index, color: eq(a.color)}
            }), Object.freeze(this.zk));
            this.Jg(this.pa, this.ra)
        }
    }

    Xi.prototype = Object.create(Y.prototype);
    f = Xi.prototype;
    f.constructor = Xi;
    f.Li = Dp;
    f.Eg = Pp;
    f.ab = Rp;
    f.Br = Sp;
    f.Dn = Ep;
    f.ci = Fo;
    f.nv = Lo;
    f.wc = oo;
    f.cw = Do;
    f.Fk = Co;
    f.dw = Bo;
    f.mr = xo;
    f.Jo = Ao;
    f.Ll = Eo;
    f.wy = Ko;
    f.tt = Mo;
    f.Gg = ro;
    f.setColor = qo;
    f.yy = zo;
    f.Xl = ho;
    f.zt = io;
    f.ef = jo;
    f.Lc = mo;
    f.Uo = no;
    f.Ig = so;
    f.Rf = po;
    f.Vo = Go;
    f.zy = Ho;
    f.At = yo;
    f.Bt = wo;
    f.Yl = to;
    f.Wo = vo;
    f.Tt = Io;
    f.xg = function () {
        return this.Lw
    };
    f.cl = function () {
        return !0
    };
    f.Ii = function () {
        return !0
    };
    f.op = function () {
        Kp(this.H().children("svg"), null, this.fb)
    };
    f.mj = function () {
        qp(this);
        var a = this.H().children("svg");
        a.get(0).classList.add("flipping");
        a.one("transitionend", function () {
            a.get(0).classList.remove("flipping")
        })
    };
    f.by = function () {
        Sl(Ha, "hasUpdatedSvgPlaceholder");
        $(".dragAPhotoInHere").remove()
    };
    function fq() {
        $(".dragAPhotoInHere").each(function (a, b) {
            b.setAttribute("class", "dragAPhotoInHere hidden")
        })
    }

    function gq() {
        $(".dragAPhotoInHere").each(function (a, b) {
            b.setAttribute("class", "dragAPhotoInHere")
        })
    }

    f.qm = function (a) {
        Kj(a, this.cc()) || (this.Zl(!1), this.ra = this.pa = null)
    };
    f.yg = function () {
        return !0
    };
    f.Gu = function () {
        function a() {
            window.clearTimeout(x);
            z.setAttribute("fill", C);
            z.setAttribute("fill-opacity", "1")
        }

        function b() {
            x = window.setTimeout(c, 100)
        }

        function c() {
            z.setAttribute("fill", "black");
            z.setAttribute("fill-opacity", "0.4")
        }

        function d() {
            function b(g) {
                jQuery.contains(document.documentElement, z) || ($(".page.selected, #overlays").off("mousemove", b), $(".page.selected, #overlays").off("mouseover", d));
                g.clientX >= e.left && g.clientX <= e.right && g.clientY >= e.top && g.clientY <= e.bottom ? ($("#overlays .selectionBox").css("cursor",
                    "pointer"), a()) : ($("#overlays .selectionBox").css("cursor", "move"), c())
            }

            var e = z.getBoundingClientRect();
            $(".page.selected, #overlays").on("mousemove", b);
            $(".page.selected, #overlays").on("mouseout", function () {
                $(".page.selected, #overlays").off("mousemove", b)
            })
        }

        var e = 50 / 54;
        if (!(1 > this.Lf.length)) {
            var g = this.Lf[this.Lf.length - 1], h = hq(this).last();
            if (!h.parent().hasClass("filled")) {
                var h = $(h).parent("g.canva"), k = g.C(), l = g.D(), m = l / 15, n = .2 * l, l = l / 3.5, q = l * e, r = g.Y(), p = g.O(), e = function (a, b) {
                    var c = document.createElementNS("http://www.w3.org/2000/svg",
                        "text");
                    c.setAttribute("width", q);
                    c.setAttribute("x", r + k / 2);
                    c.setAttribute("y", b);
                    c.setAttribute("font-size", m);
                    c.setAttribute("text-anchor", "middle");
                    c.setAttribute("class", "dragAPhotoInHere");
                    c.appendChild(document.createTextNode(a));
                    return c
                }, g = p + l + n + 1.44 * m, u = g + 1.2 * m, w = u + 1.2 * m;
                h.append(function (a, b) {
                    var c = document.createElementNS("http://www.w3.org/2000/svg", "image");
                    c.setAttributeNS("http://www.w3.org/1999/xlink", "href", "https://static.canva.com/static/images/placeholder_arrow.png");
                    c.setAttribute("width", a);
                    c.setAttribute("height",
                        b);
                    c.setAttribute("x", r + k / 2 - q / 1.5);
                    c.setAttribute("y", p + n);
                    c.setAttribute("class", "dragAPhotoInHere");
                    return c
                }(q, l));
                h.append(e("DRAG A PHOTO", g));
                h.append(e("IN HERE OR", u));
                l = function (a, b) {
                    var c = q / 16, d = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    d.setAttribute("width", q);
                    d.setAttribute("x", r + k / 2);
                    d.setAttribute("y", b + 3 * c);
                    d.setAttribute("font-size", m - 2);
                    d.setAttribute("fill", "white");
                    d.setAttribute("text-anchor", "middle");
                    d.setAttribute("class", "uploadYourOwn");
                    d.setAttribute("z-index",
                        1);
                    d.setAttribute("class", "uploadAPhoto dragAPhotoInHere");
                    d.appendChild(document.createTextNode(a));
                    return d
                }("UPLOAD YOUR OWN", w);
                h.append(l);
                var z = function (a) {
                    var b = q / 16, c = q / 16, d = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                    d.setAttribute("width", a.width + 2 * b + 20);
                    d.setAttribute("x", a.x - b - 10);
                    d.setAttribute("y", a.y - c);
                    d.setAttribute("height", a.height + 2 * b);
                    d.setAttribute("fill", "black");
                    d.setAttribute("fill-opacity", "0.4");
                    d.setAttribute("rx", a.height / 1.6);
                    d.setAttribute("ry", a.height /
                        1.6);
                    d.setAttribute("class", "uploadAPhoto uploadAPhotoButton dragAPhotoInHere");
                    d.setAttribute("z-index", 2);
                    return d
                }(l.getBBox());
                z.onmouseover = a;
                l.onmouseover = a;
                var x = 0, C = "#00c4cc";
                z.onmouseout = b;
                l.onmouseout = b;
                $(".page.selected, #overlays").on("mouseover", d);
                l.parentNode.removeChild(l);
                h.append(z);
                h.append(l)
            }
        }
    };
    f.Gm = function (a, b) {
        function c() {
            k.Xa.each(function (a, b) {
                k.Mh(a, k.mc(a), z, !0);
                $(b).css("opacity", "")
            });
            k.Ba();
            l.forEach(function (a) {
                var b = a.index, c = k.Ma(b);
                k.Mh(b, a, function (b) {
                    b && void 0 !== a.lineLengths && $n(c, a.lineLengths);
                    z()
                }, !0)
            });
            k.Lf = iq(q, ".photoPlaceholder");
            k.hg = 0 < k.Oe();
            jq(q, k.Lf);
            kq(q, k.Lf);
            lq(q, k.Lf);
            0 !== k.H().parent().length && k.Gu();
            m && (k.ya = Wo(m, k.Oe(), h), k.Mb = Uo(m, k.ya), Object.freeze(k.Mb), Object.freeze(k.ya));
            k.ya.forEach(function (a, b) {
                mh(a.ua.clone(), lh) && Op(a, mq(k, b))
            });
            k.ya.some(g) &&
            fq();
            To(k, function () {
                w = !0;
                e()
            })
        }

        function d() {
            u = !0;
            window.setTimeout(e, 0)
        }

        function e() {
            w && u && !k.loaded && (k.sb(), k.loaded = !0, q.css("position", "absolute"), b && b(!0))
        }

        function g(a) {
            return nq(a)
        }

        var h = this.H(), k = this, l = this.contents ? this.contents.filter(function (a) {
            return "text" == a.type
        }) : [], m = this.contents ? this.contents.filter(function (a) {
            return "image" == a.type
        }) : [];
        if (oq(a, !0)) {
            var n = pq(), n = qq(a, n), q = $(n).filter("svg");
            rq(q);
            q = $(q.get(0).cloneNode(!0));
            q.appendTo(h);
            this.wb = sq(q);
            this.width && this.height ||
            (this.la(this.wb.C()), this.ja(this.wb.D()));
            this.Xa = tq(q, Db(this.F));
            this.Xa.css("opacity", 0).data("canvaElement", this).appendTo(h);
            uq(this);
            vq(this).each(function () {
                var a = $(this).data("designObject");
                k.listenTo(a, "change:width", k.tx);
                k.listenTo(a, "change:height", k.sx)
            });
            n = wq(q, this.Xa);
            this.Fj = n.Fj;
            this.Fj.forEach(function (a) {
                k.listenTo(a, "change", k.xx)
            });
            this.Qt = n.xB;
            this.Qt.appendTo(h);
            this.zk && this.zk.forEach(function (a) {
                k.Rd(a.index, a.color)
            });
            var r = [], p = [];
            this.Xa.each(function () {
                var a = $(this).data("fontFamily"),
                    b = Sn($(this)).Zd;
                a && r.push(a);
                r = r.concat(b)
            });
            l.forEach(function (a) {
                var b = eo('\x3cfont face\x3d"' + a.fontFamily + '"\x3e\x3c/font\x3e' + a.html);
                r = r.concat(b);
                a.lineLengths && k.Ma(a.index).data("cachedLineLengths", a.lineLengths);
                p = p.concat(xq([a.fontMedia]) || []);
                p = p.concat(xq(a.htmlFontMedia) || [])
            });
            p = p.filter(Boolean);
            k.Fa = yq(q);
            k.Fa && (k.scale && zq(k), k.la(k.C()), k.ja(k.D()));
            var u = !1, w = !1, n = this.Xa.length + l.length, z = _.after(n, d);
            0 === n && d();
            this.tc();
            Aq(La, p, r, c)
        } else b(!1)
    };
    f.Ba = function () {
        Y.prototype.Ba.call(this);
        Bq(this);
        Yi(this);
        Cq(this)
    };
    f.Sb = function () {
        var a = this.ub();
        return -1 < a ? this.Mb[a] : null
    };
    f.qg = function (a) {
        return this.Mb[a] || null
    };
    f.Cf = function () {
        return !(!this.Sb() || !this.Sb().Bf())
    };
    f.og = function () {
        this.Sb() && this.Sb().og()
    };
    f.wf = function () {
        this.Sb() && this.Sb().wf()
    };
    f.Ho = function () {
        if (this.Sb() && this.Sb().Bf()) {
            var a = this.H().data("imageToolbar");
            a && a.find(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")
        }
    };
    f.Eo = function (a, b) {
        $p(this.Mb[a], b)
    };
    f.ux = function (a, b) {
        var c = b.data("designObject");
        c && this.loaded && Dq(c)
    };
    var Eq = 0;

    function pq() {
        Eq = Eq == Math.pow(2, 53) ? 0 : Eq + 1;
        return "CANVA" + Eq + "_"
    }

    function Fq(a) {
        return 0 < $("g", a).filter(function () {
                return -1 != "nw n ne w c e sw s se".split(" ").indexOf(this.id)
            }).length
    }

    function yq(a) {
        function b(a, b) {
            var c = b.firstElementChild;
            c ? b.insertBefore(a, c) : b.appendChild(a)
        }

        function c(a, c, d, e, g) {
            if (0 != a.length) {
                var h = a.get(0), k = document.createElementNS("http://www.w3.org/2000/svg", "g"), l = document.createElementNS("http://www.w3.org/2000/svg", "clipPath"), m = pq(), n = pq(), p = document.createElementNS("http://www.w3.org/2000/svg", "rect"), r = document.createElementNS("http://www.w3.org/2000/svg", "rect"), N = a.get(0).cloneNode(!0), ba = document.createElementNS("http://www.w3.org/2000/svg",
                    "rect");
                l.id = m;
                p.setAttribute("width", e);
                p.setAttribute("height", g);
                p.setAttribute("x", c);
                p.setAttribute("y", d);
                l.appendChild(p);
                k.id = n;
                N.removeAttribute("id");
                $("g.canva, .textPlaceholder, .photoPlaceholder", N).remove();
                k.appendChild(N);
                q.appendChild(k);
                q.appendChild(l);
                a.children(":not(.canva)").remove();
                a.data("clipId", m);
                a.data("useId", n);
                h.setAttribute("clip-path", "url(#" + m + ")");
                ba.setAttribute("width", e);
                ba.setAttribute("height", g);
                ba.setAttribute("x", c);
                ba.setAttribute("y", d);
                ba.setAttribute("class",
                    "repeat");
                ba.setAttribute("visibility", "hidden");
                ba.setAttribute("pointer-events", "none");
                r.setAttribute("width", e);
                r.setAttribute("height", g);
                r.setAttribute("class", "repeat");
                r.setAttribute("visibility", "hidden");
                r.setAttribute("pointer-events", "none");
                r.setAttribute("class", "canva dimensions");
                b(ba, h);
                h.insertBefore(r, ba);
                h.setAttribute("class", "canva tiled");
                Gq(a)
            }
        }

        if (!Fq(a))return null;
        var d = a.parent(), e = a.prev(), g = sq(a), h = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            repeat: !1,
            Eh: !0,
            Of: !0
        }, k = $("\x3cdiv\x3e\x3c/div\x3e");
        k.appendTo($("#limbo"));
        k.css("opacity", 0).css("width", g.C() * M).css("height", g.D() * M).append(a);
        var l = a.get(0), m = g.C(), n = g.D();
        $("g", a).each(function (a, b) {
            -1 != ["n", "e", "s", "w"].indexOf(b.id) && (h.repeat |= b.classList.contains("repeat"));
            -1 != ["ne", "e", "se"].indexOf(b.id) ? (h.right = Math.max(h.right, m - b.getBBox().x), h.right == m && (h.right = 0)) : -1 != ["n", "c", "s"].indexOf(b.id) && (h.left = Math.max(h.left, b.getBBox().x));
            -1 != ["sw", "s", "se"].indexOf(b.id) ? (h.bottom = Math.max(h.bottom, n - b.getBBox().y), h.bottom == n &&
            (h.bottom = 0)) : -1 != ["w", "c", "e"].indexOf(b.id) && (h.top = Math.max(h.top, b.getBBox().y))
        });
        h.Eh = !l.classList.contains("verticalOnly");
        h.Of = !l.classList.contains("horizontalOnly");
        if (h.repeat) {
            var q = document.createElementNS("http://www.w3.org/2000/svg", "defs");
            b(q, l);
            var g = h.left + h.right, r = h.top + h.bottom, p = l.classList.contains("horizontalOnly"), l = l.classList.contains("verticalOnly");
            c($("g#n", a), h.left, 0, m - g, p ? n : h.top);
            c($("g#s", a), h.left, n - h.bottom, m - g, p ? n : h.bottom);
            c($("g#c", a), h.left, h.top, m - g, n - r);
            c($("g#w", a), 0, h.top, l ? m : h.left, n - r);
            c($("g#e", a), m - h.right, h.top, l ? m : h.right, n - r)
        }
        0 < d.length ? 0 < e.length ? a.insertAfter(e) : a.prependTo(d) : a.detach();
        k.remove();
        return h
    }

    function Gq(a) {
        var b = a.data("clipId"), c = a.data("useId"), d = a.get(0);
        if (b && c) {
            var b = d.querySelector(".repeat"), e = d.querySelector(".dimensions");
            if (b && e) {
                var g = Number(b.getAttribute("width")), h = Number(b.getAttribute("height")), b = Number(e.getAttribute("width")), e = Number(e.getAttribute("height")), g = Math.ceil(g / b), h = Math.ceil(h / e);
                if (!(isNaN(g * h) || !isFinite(g * h) || 0 > h || 0 > g || g === Number(a.data("columns")) && h === Number(a.data("rows")))) {
                    a.find("use").remove();
                    for (var k = 0; k < g; k++)for (var l = 0; l < h; l++) {
                        var m = document.createElementNS("http://www.w3.org/2000/svg",
                            "use"), n = k * b - .5 * k, q = l * e - .5 * l;
                        m.setAttributeNS("http://www.w3.org/1999/xlink", "href", "#" + c);
                        m.setAttribute("transform", "translate(" + n + "," + q + ")");
                        d.appendChild(m)
                    }
                    a.data("columns", g);
                    a.data("rows", h)
                }
            }
        }
    }

    function iq(a, b) {
        var c = [];
        if (0 === a.find(b).length)return c;
        var d = a.parent(), e = a.prev(), g = sq(a), h = $("\x3cdiv\x3e\x3c/div\x3e");
        h.appendTo($("#limbo"));
        h.css("width", g.C()).css("height", g.D());
        a.appendTo(h);
        a.attr("stroke", "transparent").attr("stroke-width", 0).forceLayout();
        var k = a.get(0).getBoundingClientRect();
        $(b, a).each(function (a, b) {
            var d = $(b).clone();
            d.attr("fill", "transparent").appendTo($(b).parents("g, svg").first()).forceLayout();
            var e = oe(d.get(0).getBoundingClientRect());
            d.remove();
            e.translate(-k.left,
                -k.top);
            c.push(e)
        });
        0 < d.length ? 0 < e.length ? a.insertAfter(e) : a.prependTo(d) : a.detach();
        h.remove();
        return c
    }

    function tq(a, b) {
        var c = $(), d = iq(a, ".textPlaceholder"), e = $(".canva .textPlaceholder", a);
        d.forEach(function (a, d) {
            var k = e.eq(d), l = k.data() || {}, m = $(['\x3cdiv class\x3d"text"\x3e\x3cdiv class\x3d"inner"\x3e', l.placeholderText || b.format("documentSvgPlaceholderText"), "\x3c/div\x3e\x3c/div\x3e"].join(""));
            m.data("textIndex", d).data("placeholderElement", k).data("placeholderText", l.placeholderText).data("rect", a).data("justification", l.justification || "center").css("text-align", l.justification || "center").data("fontSize",
                l.fontSize || 24).css("font-size", (l.fontSize || 24) * nb + "%").data("defaultFontSize", l.fontSize || 24).data("original-fill", l.fill).data("is-primary-color", l.fill && xp.equals(Q(l.fill))).data("is-secondary-color", l.fill && yp.equals(Q(l.fill))).data("is-tertiary-color", l.fill && zp.equals(Q(l.fill))).data("fill", l.fill).css("color", l.fill || "").data("fontName", l.fontName).data("fontFamily", l.fontFamily).css("font-family", l.fontFamily ? l.fontFamily : "").data("bold", l.bold).data("italic", l.italic).data("lineSpacing",
                l.lineSpacing || 1.2).css("line-height", l.lineSpacing || 1.2).data("dynamicFontSize", l.dynamicFontSize).data("dynamicHeight", l.dynamicHeight).data("dynamicWidth", l.dynamicWidth);
            0 < k.parents().filter(function () {
                return this.classList.contains("stack")
            }).length || Hq(m);
            k = new Iq(m, 0, 0);
            m.data("designObject", k);
            c = c.add(m)
        });
        return c
    }

    function wq(a, b) {
        function c(a, b, c) {
            var d = [];
            $(a).find(".textPlaceholder").each(function (e, g) {
                var r = c.filter(function () {
                    return $(this).data("placeholderElement").get(0) == g
                });
                if (1 === r.length) {
                    var p = new Iq(r.eq(0), b.Y(), b.O());
                    r.data("stackId", a.getAttribute("data-stack-id")).data("designObject", p);
                    d.push(p)
                }
            });
            return d
        }

        var d = $(), e = [], g = iq(a, ".canva.stack");
        a.find(".canva.stack").each(function (a, k) {
            var l = g[a], m = 0 < $(k).parents("#n, #c, #s").length, n = 0 < $(k).parents("#w, #c, #e").length, q = c(k, l, b), l = {
                valign: k.getAttribute("data-valign"),
                box: l.serialize(), resizeHorizontal: m, resizeVertical: n, contents: q
            }, l = new Jq(l);
            e.push(l);
            m = $('\x3cdiv class\x3d"stack"\x3e\x3c/div\x3e');
            n = b.filter(function () {
                return $(this).data("stackId") == k.getAttribute("data-stack-id")
            });
            m.data("sourceElement", k).data("stack", l).append(n);
            d = d.add(m)
        });
        return {Fj: e, xB: d}
    }

    function Hq(a) {
        var b = a.data("placeholderElement"), c = 0 < b.parents("#n, #c, #s").length, b = 0 < b.parents("#w, #c, #e").length;
        c || b ? b ? a.data("dynamicHeight", !0) : c && a.data("dynamicWidth", !0) : a.data("dynamicFontSize", !0)
    }

    function jq(a, b) {
        b.forEach(function (b, d) {
            var e = new L(0, 0, 1438, 560);
            th(e, b);
            a.find("image.placeholder").eq(d).attr("x", e.Y()).attr("y", e.O()).attr("width", e.C()).attr("height", e.D())
        })
    }

    function kq(a, b) {
        b.forEach(function (b, d) {
            var e = Math.max(b.C(), b.D()), e = new L(0, 0, e, e), g = a.find("image.placeholder").eq(d), h = document.createElementNS("http://www.w3.org/2000/svg", "rect");
            sh(th(e, b).scale(Math.max(1, 1.3)), b);
            var k = isFinite(e.left) && isFinite(e.top) && isFinite(e.width) && isFinite(e.height);
            isNaN(e.left) || isNaN(e.top) || isNaN(e.width) || isNaN(e.height) || !k || (h.classList.add("vignette"), $(h).appendTo(g.parent()).attr("fill", "none").attr("clip-path", g.attr("clip-path")).attr("x", e.Y()).attr("y",
                e.O()).attr("width", e.C()).attr("height", e.D()))
        })
    }

    function lq(a, b) {
        b.forEach(function (b, d) {
            var e = a.find("image.placeholder").get(d), g = e.cloneNode(!0);
            g.classList.remove("placeholder");
            g.classList.add("broken");
            var h = sh(b.clone().scale(.33), b);
            $(g).appendTo(e.parentNode).attr("x", h.Y()).attr("y", h.O()).attr("width", h.C()).attr("height", h.D());
            g.setAttributeNS("http://www.w3.org/1999/xlink", "href", "https://static.canva.com/static/images/broken_image_icon.svg")
        })
    }

    function Kq(a, b, c, d) {
        if (!c)return b.clone().scale(d.scale);
        b = b.clone();
        b.scale(d.scale);
        c = a.parents("g#ne, g#e, g#se");
        0 < c.length && (c = c.data("offsetX") || 0, b.translate(d.scale * c, 0));
        c = a.parents("g#n, g#c, g#s");
        0 < c.length && (c = c.data("deltaX") || 0, rh(b, c * d.scale, 0));
        c = a.parents("g#sw, g#s, g#se");
        0 < c.length && (c = c.data("offsetY") || 0, b.translate(0, d.scale * c));
        c = a.parents("g#w, g#c, g#e");
        0 < c.length && (a = c.data("deltaY") || 0, rh(b, 0, a * d.scale));
        return b
    }

    f = Xi.prototype;
    f.tx = function (a, b) {
        if (this.Fa && this.Fa.Eh && 0 !== b) {
            var c = rh(this.qa(), b, 0);
            switch (a.se.data("justification")) {
                case Lq:
                    c.translate(-b / 2, 0);
                    break;
                case Mq:
                    c.translate(-b, 0)
            }
            Nq(this, c);
            this.sb()
        }
    };
    f.sx = function (a, b) {
        if (this.Fa && this.Fa.Of && 0 !== b) {
            var c = rh(this.qa(), 0, b);
            c.translate(0, -b / 2);
            Nq(this, c);
            this.sb()
        }
    };
    function Nq(a, b) {
        var c = a.Ca, d = a.sb;
        a.Ca = function () {
        };
        a.sb = function () {
        };
        a.Eb(b);
        a.sb = d;
        a.Ca = c
    }

    f.xx = function (a) {
        if (this.Fa && (this.Fa.Eh || this.Fa.Of)) {
            var b = !1, c = a.qa(), d = this.H().children(".stack").filter(function () {
                return $(this).data("stack") === a
            }), d = Kq($(d.data("sourceElement")), a.Ik(), !0, Oq(this));
            if (this.Fa.Of) {
                var e = c.va() - d.va(), b = b || 0 !== e;
                this.ja(this.D() + e)
            }
            this.Fa.Eh && (c = c.Wa() - d.Wa(), b = b || 0 !== c, this.la(this.C() + c));
            b && this.Ba()
        }
    };
    function zq(a) {
        var b, c = a.wb;
        b = {scale: a.scale, deltaX: a.C() / a.scale - c.C(), deltaY: a.D() / a.scale - c.D()};
        var c = b.scale, d = b.deltaX;
        b = b.deltaY;
        a.setSize(a.wb.C() * c, a.wb.D() * c);
        d && a.la(c * d + a.C());
        b && a.ja(c * b + a.D())
    }

    f.setSize = function (a, b) {
        var c = this.width;
        Pq(a, this.width) && !Pq(b, this.height) ? this.ja(b) : Pq(b, this.height) && !Pq(a, this.width) ? this.la(a) : (Y.prototype.la.call(this, a), Y.prototype.ja.call(this, b), Bq(this), Cq(this), uq(this), void 0 !== a && !isNaN(a) && isFinite(a) && this.ya.forEach(function (b) {
            var e = b.ua.clone();
            e.scale(a / c);
            Op(b, e)
        }))
    };
    f.la = function (a) {
        var b;
        Y.prototype.la.call(this, a);
        if (this.Fa && void 0 !== this.width && void 0 !== a && 0 != $("svg", this.H()).length) {
            this.Xa.each(function () {
                var a = $(this);
                a.data("dynamicWidth") && bo(a)
            });
            b = sq($("svg", this.H()));
            b.D() == this.wb.D() ? (a = this.wb.D() * this.width / this.height, b = this.wb.clone()) : (a = b.D() * this.width / this.height, b = b.clone());
            b.la(a);
            b = [b.Y(), b.O(), b.C(), b.D()].join(" ");
            $("svg", this.H()).get(0).setAttribute("viewBox", b);
            b = this.Fa.left + this.Fa.right;
            var c = this.wb.C() - b, d = a - b, e = d / c, g = -this.Fa.left *
                (e - 1), h = this;
            $("g#n, g#c, g#s", this.H()).each(function () {
                var a = void 0 === $(this).data("scaleY") ? 1 : $(this).data("scaleY"), b = $(this).data("offsetY") || 0;
                "c" == this.id && (b = -h.Fa.top * (a - 1));
                h.Fa.repeat ? ($(".repeat", this).attr("width", d), (a = $("#" + $(this).data("clipId") + " rect").get(0)) && a.setAttribute("width", d)) : $(this).attr("transform", "translate(" + g.toString() + ", " + b.toString() + ") scale(" + e.toString() + ", " + a.toString() + ")");
                $(this).data("deltaX", d - c).data("scaleX", e)
            });
            var k = d - c - 1;
            $("g#ne, g#e, g#se",
                this.H()).each(function () {
                    var a = $(this).data("offsetY") || 0, b = void 0 === $(this).data("scaleY") ? 1 : $(this).data("scaleY");
                    "e" == this.id && (a = -h.Fa.top * (b - 1));
                    "e" == this.id && h.Fa.repeat ? $(this).attr("transform", "translate(" + k.toString() + ")").data("offsetX", k) : $(this).attr("transform", "translate(" + k.toString() + ", " + a.toString() + ") scale(1, " + b.toString() + ")").data("offsetX", k)
                });
            $("g#nw, g#w, g#sw", this.H()).each(function () {
                var a = $(this).data("offsetY") || 0, b = void 0 === $(this).data("scaleY") ? 1 : $(this).data("scaleY");
                "w" == this.id && (a = -h.Fa.top * (b - 1));
                "w" == this.id && h.Fa.repeat ? $(this).attr("transform", "translate(1, 0)").data("offsetX", 1) : $(this).attr("transform", "translate(1," + a.toString() + ") scale(1," + b.toString() + ")").data("offsetX", 1)
            });
            Bq(this);
            Cq(this)
        }
    };
    f.ja = function (a) {
        Y.prototype.ja.call(this, a);
        if (this.Fa && void 0 !== this.height && void 0 !== a && 0 != $("svg", this.H()).length) {
            var b;
            b = sq($("svg", this.H()));
            b.C() == this.wb.C() ? (a = this.wb.C() * this.height / this.width, b = this.wb.clone()) : (a = b.C() * this.height / this.width, b = b.clone());
            b.ja(a);
            $("svg", this.H()).get(0).setAttribute("viewBox", b.Y() + " " + b.O() + " " + b.C() + " " + b.D());
            b = this.Fa.top + this.Fa.bottom;
            var c = this.wb.D() - b, d = a - b, e = d / c, g = -this.Fa.top * (e - 1), h = this;
            $("g#w, g#c, g#e", this.H()).each(function () {
                var a =
                    void 0 === $(this).data("scaleX") ? 1 : $(this).data("scaleX"), b = $(this).data("offsetX") || 0;
                "c" == this.id && (b = -h.Fa.left * (a - 1));
                h.Fa.repeat ? ($(".repeat", this).attr("height", d), (a = $("#" + $(this).data("clipId") + " rect").get(0)) && a.setAttribute("height", d)) : $(this).attr("transform", "translate(" + b.toString() + ", " + g.toString() + ") scale(" + a.toString() + ", " + e.toString() + ")");
                $(this).data("deltaY", d - c).data("scaleY", e)
            });
            var k = d - c - 1;
            $("g#sw, g#s, g#se", this.H()).each(function () {
                var a = $(this).data("offsetX") || 0, b =
                    void 0 === $(this).data("scaleX") ? 1 : $(this).data("scaleX");
                "s" == this.id && (a = -h.Fa.left * (b - 1));
                "s" == this.id && h.Fa.repeat ? $(this).attr("transform", "translate(0, " + k.toString() + ")").data("offsetY", k) : $(this).attr("transform", "translate(" + a.toString() + ", " + k.toString() + ") scale(" + b.toString() + ", 1)").data("offsetY", k)
            });
            $("g#nw, g#n, g#ne", this.H()).each(function () {
                var a = $(this).data("offsetX") || 0, b = void 0 === $(this).data("scaleX") ? 1 : $(this).data("scaleX");
                "n" == this.id && (a = -h.Fa.left * (b - 1));
                "n" == this.id &&
                h.Fa.repeat ? $(this).attr("transform", "translate(0, 1)").data("offsetY", 1) : $(this).attr("transform", "translate(" + a.toString() + ", 1) scale(" + b.toString() + ", 1)").data("offsetY", 1)
            });
            Bq(this);
            Cq(this)
        }
    };
    function Qq(a) {
        return a.wb ? a.C() / a.wb.C() : 0
    }

    function Oq(a) {
        var b = {scale: Qq(a), deltaX: 0, deltaY: 0};
        if (!a.Fa)return b;
        var c = null, d = sq($("svg", a.H()));
        a.wb.C() != d.C() && a.wb.D() != d.D() ? c = a.width / d.C() : a.wb.D() == d.D() ? c = a.height / a.wb.D() : (a.wb.C(), d.C(), c = a.width / a.wb.C());
        b.scale = c;
        b.deltaX = d.C() - a.wb.C();
        b.deltaY = d.D() - a.wb.D();
        return b
    }

    function Yi(a) {
        a.Xa.each(function () {
            var b = $(this), c = b.data("fontSize"), d = void 0 !== b.data("stackId"), e = Oq(a), c = c * e.scale;
            b.css("font-size", c * nb + "%");
            !d && b.data("placeholderElement") && b.data("rect") && b.data("designObject") && (d = b.data("placeholderElement"), c = b.data("rect").clone(), c = Kq(d, c, !!a.Fa, e), e = b.data("designObject"), a.stopListening(e, "change:width"), a.stopListening(e, "change:height"), e.Eb(c), a.listenTo(e, "change:width", a.tx), a.listenTo(e, "change:height", a.sx), c.scale(M).round(), b.css(c.serialize()))
        })
    }

    function vq(a) {
        return a.Xa.filter(function () {
            return 0 == $(this).data("placeholderElement").parents().filter(function () {
                    return this.classList.contains("stack")
                }).length
        })
    }

    function uq(a) {
        if (a.Xa && 0 != a.Xa.length) {
            var b = vq(a), c = Oq(a);
            b.each(function () {
                $(this).data("designObject").scale(c.scale)
            })
        }
    }

    function Bq(a) {
        a.H().find(".canva.tiled").each(function () {
            Gq($(this))
        })
    }

    function Cq(a) {
        a.Fj.forEach(function (b, c) {
            var d = Oq(a), e = a.H().find(".canva.stack").eq(c), e = Kq(e, b.Ik(), !!a.Fa, d), g = e.clone().scale(M).round();
            a.Qt.eq(c).css(g.serialize());
            a.stopListening(b, "change");
            b.Eb(e, d.scale);
            b.ha();
            a.listenTo(b, "change", a.xx)
        })
    }

    f.remove = function () {
        Rq(this);
        this.uj();
        this.Xa.each(function () {
            var a = $(this);
            a.hasClass("focused") && 0 < a.parents("#overlays").length && Jo(a)
        });
        Y.prototype.remove.call(this);
        this.stopListening();
        this.Xa.remove();
        this.Fj.forEach(function (a) {
            a.remove()
        })
    };
    f.Qd = function () {
        Y.prototype.Qd.call(this);
        Rq(this);
        this.uj();
        this.Eg()
    };
    function Rq(a) {
        a.Xa.each(function () {
            var a = $(this).data("textToolbar"), c = a && a.data("colorPalette");
            a && a.find(".dd-container").ddslick("destroy");
            a && a.remove();
            c && c.remove();
            $(this).removeData("textToolbar")
        })
    }

    f.uj = function () {
        var a = this.H().data("imageToolbar");
        a && a.remove();
        this.H().removeData("imageToolbar")
    };
    f.Ca = function () {
        Y.prototype.Ca.call(this);
        Sq(this);
        var a = this.H(), b = a.data("selectionBox");
        b && this.Fa && (this.Fa.Of && b.addClass("verticalScale"), this.Fa.Eh && b.addClass("horizontalScale"));
        if (a.is(".cropping"))this.rk(); else {
            this.Eg();
            var c = this, d = $("#overlays");
            if (0 !== d.length) {
                var b = d.find(".svg.text.focused"), b = b.filter(function () {
                    return c == $(this).data("canvaElement")
                }), e = a.get(0).getBoundingClientRect(), g = new L(c.hb(), e.top - d.offset().top, e.width, e.height), d = b && b.data("textToolbar");
                0 < b.length &&
                d && (Tq(d, b), sp(d, g, 2));
                hq(this).each(function () {
                    if (this.classList.contains("active")) {
                        var b = a.data("imageToolbar");
                        b && (sp(b, g, 2), b.find(".imageToolbarDelete").removeClass("disabled").addClass("enabled"), b.find(".imageToolbarCrop").removeClass("disabled").addClass("enabled"))
                    }
                })
            }
        }
    };
    f.cc = function () {
        return null !== this.pa && null !== this.ra ? new Dh(this.pa, this.ra) : null
    };
    f.fw = function () {
        for (var a = [], b = 0; b < this.Oe(); b++) {
            var c = this.Ei(b);
            c && a.push(c)
        }
        return a
    };
    f.Or = function () {
        return !0
    };
    f.Lh = function (a) {
        Hp(Ip, this.H().find("img.placeholder"), a)
    };
    f.Jg = function (a, b) {
        this.pa = a;
        this.ra = b;
        var c = Ia.vb(a, b);
        c ? Uq(this, c) : G.trigger("elementLoadingError", this)
    };
    function Uq(a, b) {
        function c(a) {
            a = window.atob(a.substr(a.indexOf(",") + 1));
            k.Gm(a, e)
        }

        function d(a, b) {
            var c = 0 > a.indexOf("?") ? "?" : "\x26", g;
            g = $.ajax({dataType: "text", url: a});
            g.done(function (a) {
                k.Gm(a, e)
            });
            g.fail(function () {
                b ? G.trigger("elementLoadingError", k) : d(a + c, !0)
            })
        }

        function e(a) {
            if (a) {
                var b = k;
                b.H().children("img.placeholder").remove();
                b.Ba()
            }
            h(a)
        }

        function g(a) {
            function b(a) {
                var c = !!a;
                k.Lh(c && a.src || "");
                k.H().find("img.placeholder").removeClass("placeholder");
                k.H().addClass("raster");
                h(c)
            }

            Wp(Ip, a).then(b).catch(b.bind(null,
                void 0))
        }

        function h(a) {
            a ? window.requestAnimationFrame(function () {
                k.Ba();
                k.Ol();
                G.trigger("elementLoaded", k);
                G.trigger("elementLoaded:svg", k)
            }) : G.trigger("elementLoadingError", k)
        }

        var k = a, l = b["print" == Zo ? Up : ee], m = b[Vp], n = l.ia();
        l.url.match(/^data:image\/svg\+xml;base64,/i) ? c(n) : l.url.match(/\.svg(\?|$)/) ? (k.Lh("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"), d(l.ia())) : (k.Lh(m.ia()), g(l.ia()))
    }

    f.Oi = function () {
        return this.Cb
    };
    f.Zl = function (a) {
        this.Cb = a;
        this.H().toggleClass("unapproved", !a);
        this.Ca()
    };
    function Vq(a) {
        a = 1 / Qq(a) / M;
        return "stroke-width: " + 1 * a + "px; " + ("stroke-dasharray: " + 3 * a + " " + 3 * a + ";")
    }

    function Sq(a) {
        var b = a.td();
        Wq(a);
        0 < b.length && (b = b.get(0), "https://static.canva.com/static/images/placeholder.jpg" != b.getAttribute("xlink:href") && b.classList.add("active"), b.parentNode.querySelector(".outline").setAttribute("style", Vq(a)))
    }

    function Wq(a) {
        hq(a).each(function () {
            this.classList.contains("active") && (this.classList.remove("active"), this.parentNode.querySelector(".outline").removeAttribute("style"))
        })
    }

    f.kf = function () {
        Wq(this)
    };
    f.Jh = function (a) {
        this.Li() || (this.Jp = a, Sq(this), this.H().hasClass("selected") && Xq(this.H(), Hb(this.F)))
    };
    f.tg = function (a) {
        return (a = this.ya[a]) ? a.serialize() : null
    };
    f.Ei = function (a) {
        return this.ya[a] || null
    };
    f.Sf = function (a, b) {
        function c() {
            d.trigger("placeholderImage:loaded", a)
        }

        fq();
        var d = this, e = this.ya[a];
        b.mediaId ? (Op(Yq(Zq($q(e, b.mediaId, b.mediaVersion, c), b.origin ? new Bh(b.origin) : null), b.mediaApproved), kh(b.imageBox)).yj(b.flipOrientation), fq()) : this.Ml(a)
    };
    f.iy = function () {
        this.Ml(this.ub())
    };
    f.Ml = function (a) {
        a === this.ub() && (this.Jp = null, Wq(this));
        var b = mq(this, a);
        Op(ar(this.ya[a]), b);
        this.Mb[a].remove();
        gq()
    };
    function mq(a, b) {
        var c = a.Af(b), d = new L(0, 0, 1438, 560);
        c && th(d, c).translate(-c.Y(), -c.O());
        return d
    }

    function hq(a) {
        return a.H().find("svg image.placeholder")
    }

    function br(a) {
        return hq(a).filter(function () {
            return "https://static.canva.com/static/images/placeholder.jpg" != $(this).attr("xlink:href")
        }).first()
    }

    f.td = function () {
        return this.Jp || br(this)
    };
    f.ub = function () {
        return hq(this).index(this.td())
    };
    f.Jk = function (a) {
        return hq(this).eq(a)
    };
    f.Oe = function () {
        return this.Lf.length
    };
    f.rk = function () {
        Fp.call(this);
        var a = this.H().data("cropControls");
        $(".viewPort", a).css("display", "none");
        if (0 == $("svg", a).length) {
            var b = this.td().clone().get(0), c = this.ab().scale(1 / Qq(this)).round(), d = document.createElementNS("http://www.w3.org/2000/svg", "svg"), e = document.createElementNS("http://www.w3.org/2000/svg", "g"), c = [c.Y(), c.O(), c.C(), c.D()].join(" ");
            d.appendChild(e);
            e.appendChild(b);
            d.setAttribute("viewBox", c);
            b = $(d).children("g").get(0);
            b.classList.add("cropLayer");
            b.classList.add("masked");
            a.append(d)
        }
        d = this.ab();
        d.scale(M).round();
        a.find("svg").css("transform", Vi({Nc: d.Y(), Oc: d.O()})).css("width", d.C()).css("height", d.D())
    };
    f.vt = function (a, b) {
        Mp.call(this, a, b);
        var c = this.H().data("cropControls"), d = this.td(), c = $("g.cropLayer image", c), e = this.ab(), g = this.bd();
        g.translate(e.Y(), e.O()).scale(1 / Qq(this));
        d.attr("x", g.Y()).attr("y", g.O());
        c.attr("x", g.Y()).attr("y", g.O())
    };
    f.cf = function (a) {
        Np.call(this, a);
        var b = this.H().data("cropControls"), b = $("g.cropLayer image", b), c = this.ab();
        a = a.clone();
        a.translate(c.Y(), c.O()).scale(1 / Qq(this));
        b.attr("x", a.Y()).attr("y", a.O()).attr("width", a.C()).attr("height", a.D())
    };
    f.Af = function (a) {
        var b = Qq(this);
        a = this.Lf[a].clone();
        a.scale(b);
        return a
    };
    f.bd = function () {
        var a = this.td(), b = this.ab(), a = new L(parseFloat(a.attr("x")), parseFloat(a.attr("y")), parseFloat(a.attr("width")), parseFloat(a.attr("height")));
        a.scale(Qq(this)).translate(-b.Y(), -b.O());
        return a
    };
    f.bh = function () {
        var a = this.H();
        a.removeClass("cropping");
        var b = this.td(), a = a.data("cropControls"), a = $("g.cropLayer image", a);
        b.attr("x", a.attr("x"));
        b.attr("y", a.attr("y"));
        b.attr("width", a.attr("width"));
        b.attr("height", a.attr("height"))
    };
    f.serialize = function () {
        function a(a, b) {
            var c = "", c = a === cr ? cr : a.ka();
            return {index: b, color: c}
        }

        var b = Y.prototype.serialize.call(this);
        b.type = "svg";
        b.mediaId = this.pa;
        b.mediaVersion = this.ra;
        this.Cb || (b.mediaApproved = !1);
        0 !== Qq(this) && (b.scale = Oq(this).scale);
        var c = this, d = [], e;
        this.loaded ? (this.ya.forEach(function (a, b) {
            var e;
            if (nq(a) || !a.Cb) {
                e = a.serialize();
                var l = bq(c.Mb[b]);
                l && (e.filter = l);
                d.push(e)
            }
        }), this.Xa && this.Xa.each(function (a) {
            a = c.mc(a);
            a.type = "text";
            d.push(a)
        }), 0 < d.length && (b.contents = d), e = this.jc().map(a),
        0 < e.length && (b.fillColors = e)) : (this.scale && (b.scale = this.scale), this.contents && (b.contents = this.contents.slice(0)), this.zk && (b.fillColors = this.zk.map(function (b, c) {
            return a(b.color, c)
        })));
        return b
    };
    f.xi = function () {
        return this.Xa ? this.Xa.filter(".focused") : $()
    };
    f.Ne = function () {
        if (this.Ac)return this.Ac;
        var a = new Oi;
        this.Xa && this.Xa.each(function (b, c) {
            Sn($(c)).ad.forEach(function (b) {
                (b = Q(b)) && Qi(a, b)
            })
        });
        this.jc().forEach(function (b) {
            b instanceof Hh && Qi(a, b)
        });
        return this.Ac = a
    };
    f.Ma = function (a) {
        return this.Xa ? this.Xa.eq(a) : $()
    };
    f.mb = function () {
        return this.Xa.index(this.xi())
    };
    f.mc = function (a) {
        if (0 > a || a >= this.Xa.length)throw Error("SvgElement.getTextAtIndex - invalid index: " + a.toString());
        var b = this.Xa.eq(a);
        a = this.tt(a);
        var c = b.data("designObject");
        c && (a.preferredFontSize = c.Co);
        b = b.children(".inner");
        a.width = b.prop("clientWidth");
        a.height = b.prop("clientHeight");
        return a
    };
    f.Mh = function (a, b, c, d) {
        if (0 <= a && this.Xa && a < this.Xa.length) {
            var e = this.Xa.eq(a), g = e.children(".inner");
            g.html(b.html);
            var h = ("true" == g.attr("contentEditable")).toString();
            g.attr("contentEditable", "true");
            for (var k = window.getSelection(), l = [], m = 0; m < k.rangeCount; m++)l.push(k.getRangeAt(m));
            m = g.get(0) || null;
            document.body.contains(m) && k.selectAllChildren(m);
            this.ef(a, b.fontFamily, c, d);
            this.Xl(a, dr(b.fontMedia));
            this.setColor(a, Q(b.color));
            k.removeAllRanges();
            l.forEach(function (a) {
                try {
                    k.addRange(a)
                } catch (b) {
                }
            });
            this.Lc(a, b.fontSize * Oq(this).scale);
            this.Gg(a, b.bold);
            this.Ig(a, b.italic);
            this.Rf(a, b.justification);
            this.Yl(a, b.list);
            this.Wo(a, b.textTransform);
            a = e.data("designObject");
            void 0 !== b.preferredFontSize && (a.Co = b.preferredFontSize);
            g.attr("contentEditable", h);
            m && m.hasAttribute("_moz_abspos") && m.setAttribute("_moz_abspos", "transparent");
            bo(e)
        }
    };
    f.Lc = function (a, b) {
        var c = this.Ma(a);
        if (void 0 === b)c.removeData("fontSize").css("font-size", ""); else {
            var d = Oq(this).scale, e = c.data("fontSize"), g = b / d;
            c.data("fontSize", b / d).css("font-size", b * nb + "%");
            if (e !== g) {
                d = g / e;
                if (.5 > d || 2 < d)this.Ll(a), this.Jo(a), bo(c);
                this.trigger("change:fontSize", this, c, b)
            }
        }
    };
    f.wc = function (a) {
        a = oo.call(this, a);
        var b = Oq(this).scale;
        return a * b
    };
    f.Uo = function (a) {
        var b = this.xi().data("designObject"), c = Oq(this).scale;
        b.Co = a / c;
        no.apply(this, arguments)
    };
    f.jc = function () {
        var a = er(this);
        return _.sortBy(a, function (a, c) {
            return parseInt(c.match(/\d+/)[0], 10)
        })
    };
    function er(a) {
        var b = {};
        a.H().children("svg").find(".color").each(function () {
            for (var a, d = 0; d < this.classList.length; d++) {
                var e = this.classList.item(d);
                if (e.match(/^color-\d+$/)) {
                    a = e;
                    break
                }
            }
            a && (d = eq(this.getAttribute("fill"))) && (b[a] = d)
        });
        return b
    }

    f.kk = function () {
        var a = this.H().children("svg").get(0);
        return !!a && a.classList.contains("baseColors")
    };
    f.Ol = function () {
        function a(a, b, c) {
            return Rh(Q(a), b, c)
        }

        var b = this.jf, c = this.dk;
        null !== this.jf && this.kk() && (this.H().children("svg").find(".primaryColor").each(function () {
            this.setAttribute("fill", a(this.getAttribute("data-color"), b.Ah, c).ka())
        }), this.H().children("svg").find(".secondaryColor").each(function () {
            this.setAttribute("fill", a(this.getAttribute("data-color"), b.Hh, c).ka())
        }), this.H().children("svg").find(".tertiaryColor").each(function () {
            this.setAttribute("fill", a(this.getAttribute("data-color"),
                b.Th, c).ka())
        }), this.Xa.each(function (d, e) {
            var g = !!jQuery.data(e, "is-primary-color"), h = !!jQuery.data(e, "is-secondary-color"), k = !!jQuery.data(e, "is-tertiary-color"), l = jQuery.data(e, "original-fill");
            g ? this.setColor(d, a(l, b.Ah, c)) : h ? this.setColor(d, a(l, b.Hh, c)) : k && this.setColor(d, a(l, b.Th, c))
        }.bind(this)))
    };
    f.Rd = function (a, b) {
        var c = er(this), c = _.sortBy(_.keys(c), function (a) {
            return parseInt(a.match(/\d+/)[0], 10)
        })[a];
        this.H().children("svg").find("." + c).each(function () {
            var a = this.getAttribute("data-color");
            this.setAttribute("fill", fr(b) || a)
        });
        this.tc()
    };
    //dao text
    function Nj(a, b) {
        function c() {
            g.Mh(0, a, d, !0);
            g.Sd = $.extend(!0, {}, a.stylesOverriden);
            g.Il = !1
        }

        function d(a) {
            n = !0;
            r = a;
            m && e()
        }

        function e() {
            var c = q && r;
            g.loaded = !0;
            h.removeClass("textElementLoading");
            c ? (g.Il = !0, g.Ba(), g.ja(), np(g), gp(g), g.sb(), G.trigger("elementLoaded", g), G.trigger("elementLoaded:text", g)) : (c = g, Y.prototype.ja.call(c, a.height), Y.prototype.la.call(c, a.width), $n(c.H(), a.lineLengths || []), c.xk = !0, c.H().toggleClass("failed", c.xk), c.Il = !0, G.trigger("elementLoadingError", g));
            b && b(g)
        }

        Y.call(this,
            a);//
        var g = this, h = this.H(), k = Db(this.F);
        h.addClass("text").addClass("textElementLoading").data("placeholderText", a.placeholderText || k.Ao()).append('\x3cdiv class\x3d"inner"\x3e' + k.Ao() + "\x3c/div\x3e");
        this.style = a.style;
        this.padding = a.padding;
        this.border = a.border;
        this.ao = !0;
        !1 === a.lockedWidth && (this.ao = !1);
        var k = (xq([a.fontMedia]) || []).filter(Boolean), l = xq(a.htmlFontMedia);
        l && (k = k.concat(l));
        l = eo(a.html);
        a.fontFamily && l.push(a.fontFamily);
        var m = !1, n = !1, q = !1, r = !1;
        this.Sd = {};
        0 < k.length ? gr(La, k, c) : c();
        this.loaded = !1;
        this.NF = a;
        Aq(La, k, l, function (a) {
            m = !0;
            q = a;
            n && e()
        })
    }

    Nj.prototype = Object.create(Y.prototype);
    f = Nj.prototype;
    f.constructor = Nj;
    f.ci = Fo;
    f.nv = Lo;
    f.wc = oo;
    f.cw = Do;
    f.Fk = Co;
    f.dw = Bo;
    f.mr = xo;
    f.Jo = Ao;
    f.Ll = Eo;
    f.wy = Ko;
    f.tt = Mo;
    f.Gg = ro;
    f.setColor = qo;
    f.yy = zo;
    f.Xl = ho;
    f.zt = io;
    f.ef = jo;
    f.Lc = mo;
    f.Uo = no;
    f.Ig = so;
    f.Rf = po;
    f.Vo = Go;
    f.zy = Ho;
    f.At = yo;
    f.Bt = wo;
    f.Yl = to;
    f.Wo = vo;
    f.Tt = Io;
    f.Yg = function () {
        return this.loaded && !this.xk
    };
    f.Km = function () {
        return this.loaded && !this.xk
    };
    f.Sy = function () {
        return !0
    };
    f.cl = function () {
        return this.ao
    };
    f.Se = function () {
        this.ao = !0
    };
    f.gu = function () {
        this.ao = !1
    };
    function hr(a) {
        if (!a.Tg) {
            var b = a.Ma(0), c = window.getSelection(), d = c.focusNode, c = c.toString();
            if (d && d.parentNode && d.parentNode.classList.contains("char"))(b = d && d.parentNode && d.parentNode.nextSibling) && b.classList.contains("fauxCaret") && (b = b.nextSibling), b && b.classList.contains("char") && (c = d.textContent + b.textContent); else if (1 === c.length && 8203 === c.charCodeAt(0) && (c = ""), 0 === c.length) {
                d = Hn(b);
                a:{
                    c = window.getSelection();
                    if (0 < c.rangeCount && (c = c.getRangeAt(0).cloneRange(), c.collapse(!0), b = b.get(0))) {
                        c.setEnd(b,
                            1);
                        b = c.toString().slice(0, 1);
                        8203 === b.charCodeAt(0) && (b = c.toString().slice(1, 2));
                        break a
                    }
                    b = ""
                }
                c = d + b
            } else 1 === c.length && (c = Hn(b) + c);
            2 === c.length && (a.Tg = c)
        }
        a.Tg && (a.Tg = a.Tg.replace(/\s/gi, ""), 2 !== a.Tg.length && (a.Tg = void 0));
        return a.Tg
    }

    function ir(a) {
        var b = hr(a);
        return b ? a.cw(0, b) : 0
    }

    f.Ay = function (a) {
        var b = hr(this);
        b && (this.Vo(0, a, b), this.ci(0))
    };
    f.Ew = function () {
        var a = hr(this);
        if (a) {
            var b = ir(this);
            this.Vo(0, Math.min(b + 10, 200), a);
            this.ci(0)
        }
    };
    f.lv = function () {
        var a = hr(this);
        if (a) {
            var b = ir(this);
            this.Vo(0, Math.max(b - 10, -200), a);
            this.ci(0)
        }
    };
    f.ef = function (a, b, c, d) {
        this.Sd.fontFamily = !0;
        jo.call(this, a, b, c, d)
    };
    f.Lc = function (a, b, c) {
        this.Sd.fontSize = !0;
        mo.call(this, a, b, c)
    };
    f.Gg = function (a, b) {
        this.Sd.bold = !0;
        ro.call(this, a, b)
    };
    f.Ig = function (a, b) {
        this.Sd.italic = !0;
        so.call(this, a, b)
    };
    f.Rf = function (a, b) {
        this.Sd.justification = !0;
        po.call(this, a, b)
    };
    f.setColor = function (a, b) {
        this.Sd.color = !0;
        qo.call(this, a, b);
        this.tc()
    };
    f.la = function (a) {
        var b = void 0 !== a && a !== this.width;
        Y.prototype.la.call(this, a);
        a = this.C();
        Qo(this).css("width", Math.round(a));
        b && bo(this.H())
    };
    f.ja = function () {
        var a = Qo(this).prop("scrollHeight") || 0;
        Y.prototype.ja.call(this, a)
    };
    f.sb = function () {
        Qo(this).css("transform", "translateY(" + jr(this) + "em) scale(" + M + ")").css("transform-origin", "top left").css("width", this.C());
        Y.prototype.sb.apply(this, arguments)
    };
    f.xi = function () {
        return this.ma
    };
    f.Ne = function () {
        if (this.Ac)return this.Ac;
        var a = new Oi;
        Sn(this.ma).ad.forEach(function (b) {
            (b = Q(b)) && Qi(a, b)
        });
        return this.Ac = a
    };
    f.Ma = function (a) {
        return 0 !== a ? $() : this.ma
    };
    f.mb = function () {
        return 0
    };
    f.mc = function (a) {
        a = this.tt(a);
        a.height = this.D();
        return a
    };
    f.Mh = function (a, b, c, d) {
        var e = this, g = this.H(), h = (xq(b.htmlFontMedia) || []).filter(Boolean), k = this.nv(b.kerning), l = b.lineLengths;
        Qo(this).html(b.html);
        this.zt(a, h);
        this.Xl(a, dr(b.fontMedia));
        this.Lc(a, b.fontSize);
        this.Gg(a, b.bold);
        this.Ig(a, b.italic);
        this.Rf(a, b.justification);
        this.At(a, b.letterSpacing);
        this.Bt(a, b.lineHeight);
        this.Yl(a, b.list);
        this.Wo(a, b.textTransform);
        this.setColor(a, Q(b.color));
        l && g.data("cachedLineLengths", l);
        this.Sd = $.extend(!0, {}, b.stylesOverriden);
        this.tc();
        this.ef(a, b.fontFamily,
            function (b) {
                b && (k && e.ci(a), l && $n(g, l));
                c && c(b)
            }, d);
        k && this.zy(a, k)
    };
    function kr(a, b) {
        a.border = b ? {width: b} : {width: 0};
        a.Ba()
    }

    f.Je = function () {
        return this.border && this.border.width || 0
    };
    function lr(a, b) {
        a.padding = b ? b : 0;
        a.Ba()
    }

    f.qC = function () {
        return this.padding
    };
    f.Ba = function () {
        Y.prototype.Ba.call(this);
        var a = this.H(), b = "#000000", c = Sn(a).ad;
        0 < c.length && (b = c[c.length - 1]);
        this.Je() ? a.css("border", this.Je() / 1E3 * M + "em solid " + b) : a.css("border", "none");
        a.css("padding", this.padding * M + "px")
    };
    function jr(a) {
        var b = 0, c = 0;
        a = a.mr(0);
        140 !== a && (b = .2, c = (a - 100) / 200);
        return (b - c) * M
    }

    f.remove = function () {
        var a = this.H();
        0 < a.parents("#overlays").length && Jo(a);
        Y.prototype.remove.call(this)
    };
    f.Ca = function () {
        Y.prototype.Ca.call(this);
        var a = this.H(), b = this.hb(), c = this.nb() + (this.Aa() - this.O()) * M, d = a.data("textToolbar"), e = a.data("selectionBox");
        d && (e && !e.hasClass("horizontalScale") && e.addClass("horizontalScale"), Tq(d, a), b = new L(b, c, this.ec() * M, this.bc() * M), pp(this) && (a = a.parents(".group").data("canvaElement")) && (b = new L(a.hb(), a.nb(), a.ec() * M, a.bc() * M)), sp(d, b, 2))
    };
    f.Qd = function () {
        Y.prototype.Qd.call(this);
        var a = this.H(), b = a.data("textToolbar"), c = $(".textToolbarJustification", b).data("dropdown"), d = $(".textToolbarList", b).data("dropdown");
        b && b.find(".dd-container").ddslick("destroy");
        b && b.remove();
        c && c.remove();
        d && d.remove();
        a.removeData("textToolbar")
    };
    f.serialize = function () {
        var a = Y.prototype.serialize.call(this);
        if (!this.loaded) {
            var b = this.NF;
            Object.keys(a).forEach(function (c) {
                b[c] = a[c]
            });
            return b
        }
        var c = this.mc(0);
        a.type = "text";
        a.style = this.style;
        a.border = this.border;
        a.padding = this.padding;
        a.stylesOverriden = $.extend(!0, {}, this.Sd);
        for (var d in c)a[d] = c[d];
        return a
    };
    function ap(a) {
        function b() {
            var a = {type: "columns", children: [{type: "item"}, {type: "item"}]};
            return [a, a]
        }

        var c = this;
        void 0 === a && (a = {});
        a.width = a.width || 300;
        a.height = a.height || 300;
        Y.call(this, a);
        var d = parseInt(a.spacing, 10);
        this.spacing = isNaN(d) || !isFinite(d) || 0 > d ? 10 : d;
        this.items = a.items || b();
        this.hg = !0;
        d = this.H();
        d.addClass("grid").css("width", this.width * M).css("height", this.height * M);
        mr(this, nr(this.items));
        a = a.contents || [];
        this.ya = Wo(a, this.Oe(), d);
        Object.freeze(this.ya);
        this.Mb = Uo(a, this.ya);
        Object.freeze(this.Mb);
        To(this, function () {
            window.requestAnimationFrame(function () {
                G.trigger("elementLoaded", c);
                G.trigger("elementLoaded:grid", c)
            })
        })
    }

    ap.prototype = Object.create(Y.prototype);
    f = ap.prototype;
    f.constructor = ap;
    f.Li = Dp;
    f.bd = function () {
        return -1 === this.ub() ? null : this.ya[this.ub()].ua.clone()
    };
    f.rk = Fp;
    f.vt = Mp;
    f.cf = Np;
    f.Eg = Pp;
    f.bh = Qp;
    f.ab = Rp;
    f.Br = Sp;
    f.Dn = Ep;
    f.Ne = function () {
        if (this.Ac)return this.Ac;
        var a = new Oi;
        this.ya.forEach(function (b) {
            (b = b.Ie()) && Qi(a, b)
        });
        return this.Ac = a
    };
    f.jc = function () {
        return this.ya.map(function (a) {
            return a.Ie()
        })
    };
    f.Rd = function (a, b) {
        var c = this.ya[a] || this.ya[this.ya.length - 1];
        this.Sf(a, null);
        c.Wl(b);
        this.Ub && this.Ca();
        this.tc()
    };
    function nr(a) {
        function b(a) {
            var d = a.type || "rows";
            a = a.children || a;
            for (var e = $(), g = 0, h = 0; h < a.length; h++) {
                var k = a[h], l = $('\x3cdiv class\x3d"' + k.type + '"\x3e\x3c/div\x3e');
                "item" == k.type && $('\x3cdiv class\x3d"content"\x3e\x3cdiv class\x3d"placeholder" /\x3e\x3c/div\x3e').appendTo(l);
                if ("rows" == d) {
                    var m = 1 / (a.length - h) * (100 - g), m = k.height || m, n = g, m = ~~(10 * m) / 10;
                    l.css("top", n + "%").css("height", m + "%").attr("data-top", n / 100).attr("data-height", m / 100)
                } else m = 1 / (a.length - h) * (100 - g), m = k.width || m, n = g, m = ~~(10 * m) /
                    10, l.css("left", n + "%").css("width", m + "%").attr("data-left", n / 100).attr("data-width", m / 100);
                g += m;
                void 0 !== k.children && l.append(b(k));
                e = e.add(l)
            }
            return e
        }

        return b([{type: "rows", children: a}])
    }

    f.Ii = function () {
        return !0
    };
    f.Sb = function () {
        var a = this.ub();
        return -1 != a && nq(this.ya[a]) ? -1 < a ? this.Mb[a] : null : null
    };
    f.qg = function (a) {
        return this.Mb[a]
    };
    f.Cf = function () {
        return this.Sb() && this.Sb().Bf()
    };
    f.og = function () {
        this.Sb() && this.Sb().og()
    };
    f.wf = function () {
        this.Sb() && this.Sb().wf()
    };
    f.Ho = function () {
        if (this.Sb() && this.Sb().Bf()) {
            var a = this.H().data("imageToolbar");
            a && a.find(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")
        }
    };
    f.Eo = function (a, b) {
        $p(this.Mb[a], b)
    };
    f.uj = function () {
        var a = this.H().data("imageToolbar");
        a && a.remove();
        this.H().removeData("imageToolbar")
    };
    f.iy = function () {
        this.Ml(this.ub());
        this.H().find(".active").removeClass("active")
    };
    function or(a, b, c, d) {
        if (d)return new L(0, 0, a, b);
        c *= 1.2;
        return new L(-c, -c, a + 2 * c, b + 2 * c)
    }

    function mr(a, b) {
        var c = a.H();
        c.empty();
        $('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e').append(b).appendTo(c);
        pr(a)
    }

    f.Ba = function () {
        Y.prototype.Ba.call(this);
        pr(this);
        qr(this)
    };
    function pr(a) {
        var b = Math.round(Math.round(a.spacing / 2) * M);
        a = Qo(a);
        a.css("left", b).css("right", b).css("top", b).css("bottom", b);
        $(".item \x3e .content", a).css("left", b).css("right", b).css("top", b).css("bottom", b)
    }

    function qr(a) {
        a.ya.forEach(function (a) {
            a.update()
        })
    }

    f.Ca = function () {
        function a() {
            var a = rr(e.ca());
            if (a) {
                a = e.ab().translate(e.Y(), e.O()).scale(M).translate(a.Y(), a.O()).round();
                l && sp(l, a, 2);
                var g = e.ya[e.ub()];
                g ? (g.isEmpty() ? c(".imageToolbarDelete") : d(".imageToolbarDelete"), nq(g) ? (d(".imageToolbarMore"), d(".imageToolbarCrop"), d(".elementToolbarPhotoFilters"), a = g.ma.find("img.placeholder"), g = g.ma.find("canvas"), a = 1 == a.length && a.attr("src") ? "" + a.attr("src") : 1 == g.length ? g.get(0).toDataURL() : "https://static.canva.com/static/images/placeholder.jpg", b(a)) : (c(".imageToolbarCrop"),
                    c(".imageToolbarMore"), c(".elementToolbarPhotoFilters"), b("https://static.canva.com/static/images/placeholder.jpg"), (a = e.jc()[e.ub()]) && l.find(".pickAColor \x3e span").css("background-image", "none").css("background-color", a.ka()))) : b("https://static.canva.com/static/images/placeholder.jpg")
            }
        }

        function b(a) {
            l.find(".pickAColor \x3e span").css("background-image", "url(" + a + ")").css("background-size", "cover")
        }

        function c(a) {
            l.find(a).removeClass("enabled").addClass("disabled")
        }

        function d(a) {
            l.find(a).removeClass("disabled").addClass("enabled")
        }

        Y.prototype.Ca.call(this);
        var e = this, g = this.H(), h = this.hb(), k = this.nb() + (this.Aa() - this.O()) * M, h = new L(h, k, this.ec() * M, this.bc() * M), k = g.data("toolbar"), l = g.data("imageToolbar");
        k && sp(k, h, 2);
        g.is(".cropping") ? this.rk() : (this.Eg(), l && a())
    };
    f.Qd = function () {
        Y.prototype.Qd.call(this);
        this.uj();
        this.Eg()
    };
    function sr(a, b) {
        a.spacing = b;
        a.Ba()
    }

    f.remove = function () {
        Y.prototype.remove.call(this);
        this.Mb.forEach(function (a) {
            a.remove()
        });
        this.uj()
    };
    f.yw = function () {
        return !0
    };
    f.serialize = function () {
        var a = Y.prototype.serialize.call(this);
        a.type = "grid";
        a.items = this.items;
        a.spacing = this.spacing;
        var b = this, c = [];
        this.ya.forEach(function (a, e) {
            var g;
            a.isEmpty() || (g = a.serialize(), g.filter = bq(b.Mb[e]), c.push(g))
        });
        a.contents = c;
        return a
    };
    f.Jh = function (a) {
        if (!this.Li()) {
            G.trigger("hideContextualControlsRequested");
            var b = $(".item .placeholder.active, div.content.active", this.H());
            0 < b.length && b.removeClass("active");
            a.parent("div.content").andSelf().addClass("active");
            this.H().hasClass("selected") && Xq(this.H(), Hb(this.F))
        }
    };
    f.td = function () {
        var a = this.H().find(".item .placeholder"), b = a.filter(".active");
        if (0 !== b.length)return b.first();
        b = a.filter("[src]");
        return 0 !== b.length ? b.first() : a.first()
    };
    f.ub = function () {
        var a = this.H().find(".item .content.active");
        0 === a.length && (a = this.H().find(".item.filled .content"));
        return this.H().find(".item .content").index(a)
    };
    f.Jk = function (a) {
        return this.H().find(".item .placeholder").eq(a)
    };
    f.Oe = function () {
        return this.H().find(".item .placeholder").length
    };
    f.Af = function (a) {
        a = this.Jk(a).parent("div.content");
        var b = new L(0, 0, this.width, this.height);
        a = a.parentsUntil(".inner").reverse();
        b.translate(this.spacing, this.spacing);
        rh(b, -this.spacing, -this.spacing);
        a.each(function (a, d) {
            d = $(d);
            var e = parseFloat(d.data("left")) || 0, g = parseFloat(d.data("top")) || 0, h = parseFloat(d.data("width")) || 1, k = parseFloat(d.data("height")) || 1;
            b.translate(e * b.C(), g * b.D()).la(b.C() * h).ja(b.D() * k)
        });
        b.la(b.C() - this.spacing).ja(b.D() - this.spacing);
        return b
    };
    f.tg = function (a) {
        return (a = this.ya[a]) ? a.serialize() : null
    };
    f.Ei = function (a) {
        return this.ya[a] || null
    };
    f.Sf = function (a, b) {
        function c() {
            d.trigger("placeholderImage:loaded", a)
        }

        var d = this, e = this.ya[a];
        e && (b && b.mediaId ? Op(Yq(Zq($q(tr(e), b.mediaId, b.mediaVersion, c), b.origin ? new Bh(b.origin) : null), b.mediaApproved), kh(b.imageBox)).yj(b.flipOrientation) : b && b.backgroundColor ? e.Wl(Q(b.backgroundColor)) : (e.clear(), this.Mb[a].remove(), ur(this.Mb[a], new vr)))
    };
    f.Ml = function (a) {
        this.Sf(a, null)
    };
    f.Tk = function () {
        return !0
    };
    f.Mk = function () {
        return {
            imageBoxes: this.ya.map(function (a) {
                return a.isEmpty() ? null : a.ua.clone().serialize()
            })
        }
    };
    f.By = function (a) {
        a = a.imageBoxes;
        for (var b = 0; b < this.ya.length; b++) {
            var c = this.ya[b], d = a[b];
            d && !c.isEmpty() && Op(c, kh(d))
        }
    };
    f.fw = function () {
        for (var a = [], b = 0; b < this.Oe(); b++) {
            var c = this.Ei(b);
            c && a.push(c)
        }
        return a
    };
    f.Or = function () {
        return !0
    };
    function wr(a) {
        this.a = a
    }

    function xr() {
        var a = document.createElement("a");
        return new wr(a)
    }

    function yr(a, b) {
        var c = a.a;
        c.href = b;
        return "data:" == c.protocol || "blob:" == c.protocol || ":" == c.protocol || "" == c.hostname ? !1 : c.protocol != window.location.protocol || c.hostname != window.location.hostname || c.port != window.location.port
    }

    function Hp(a, b, c) {
        var d = b instanceof jQuery ? b : $(b);
        return new P(function (e, g) {
            function h() {
                d.attr(q) === c && (d.one("error", k), d.attr(q, c + n))
            }

            function k() {
                m();
                g(Error("Could not load image from src: " + c))
            }

            function l() {
                m();
                e(b)
            }

            function m() {
                d.off("error", h);
                d.off("error", k);
                d.off("load", l)
            }

            var n = 0 > c.indexOf("?") ? "?" : "\x26", q = null;
            d && d.length && (q = "image" === d.get(0).tagName ? "xlink:href" : "src", d.one("load", l), yr(a, c) ? (d.attr("crossorigin", "anonymous"), d.one("error", h)) : (d.removeAttr("crossorigin"), d.one("error",
                k)), d.attr(q, c))
        })
    }

    function Wp(a, b) {
        return Hp(a, new Image, b)
    }

    var Ip = xr();

    function tn(a) {
        this.ba = a
    }

    function zr(a, b, c) {
        b = "/media?" + ("brand"in b ? "\x26brand\x3d" + encodeURIComponent(b.brand) : "") + ("user"in b ? "\x26user\x3d" + encodeURIComponent(b.user) : "") + ("query"in b ? "\x26query\x3d" + encodeURIComponent(b.query) : "") + ("filename"in b ? "\x26filename\x3d" + encodeURIComponent(b.filename) : "") + ("ids"in b ? "\x26ids\x3d" + encodeURIComponent(b.ids) : "") + ("restricted"in b ? "\x26restricted\x3d" + encodeURIComponent(b.restricted) : "") + ("deactivated"in b ? "\x26deactivated\x3d" + encodeURIComponent(b.deactivated) : "") + ("staging"in
            b ? "\x26staging\x3d" + encodeURIComponent(b.staging) : "") + "\x26projection\x3d" + encodeURIComponent(b.projections.join("")) + ("includeTotal"in b ? "\x26includeTotal\x3d" + encodeURIComponent(b.includeTotal) : "") + ("types"in b ? "\x26types\x3d" + encodeURIComponent(b.types) : "") + ("skip"in b ? "\x26skip\x3d" + encodeURIComponent(b.skip) : "") + ("limit"in b ? "\x26limit\x3d" + encodeURIComponent(b.limit) : "");
        return a.ba.get(b, function (a, b) {
            var g = null;
            200 == a && (g = {media: Ar(b.media), total: b.total});
            c && c(a, g)
        })
    }

    function Br(a, b) {
        return R(a.ba, "/media?" + ("name"in b ? "\x26file\x3d" + encodeURIComponent(b.name) : "") + ("restricted"in b ? "\x26restricted\x3d" + encodeURIComponent(b.restricted) : "") + ("listed"in b ? "\x26listed\x3d" + encodeURIComponent(b.listed) : "") + ("fileSize"in b ? "\x26fileSize\x3d" + encodeURIComponent(b.fileSize) : ""), {}).spread(cf)
    }

    tn.prototype.bb = function (a, b, c) {
        var d = Object.keys(b).filter(function (a) {
            return "version" != a
        }).map(function (a) {
            if ("object" !== typeof b[a])return a + "\x3d" + encodeURIComponent(b[a])
        });
        a = "/media/" + encodeURIComponent(a) + ("version"in b ? "/" + encodeURIComponent(b.version) : "") + (0 < d.length ? "?" + d.join("\x26") : "");
        return this.ba.get(a, function (a, b) {
            var d = 200 == a ? cf(b) : null;
            c && c(a, d)
        })
    };
    function Cr(a, b, c) {
        return new P(function (a, e) {
            this.bb(b, c, function (b, c) {
                pf(b) ? a(c) : e(b)
            })
        }.bind(a))
    }

    function Dr(a, b, c) {
        function d(a) {
            return a.G() + ":" + a.getVersion()
        }

        b = "/media?batch" + ("refs"in b ? "\x26refs\x3d" + encodeURIComponent(b.refs.map(d).join(",")) : "") + ("ids"in b ? "\x26ids\x3d" + encodeURIComponent(b.ids.join(",")) : "") + ("staging"in b ? "\x26staging\x3d" + encodeURIComponent(b.staging) : "") + "\x26projection\x3d" + encodeURIComponent(b.projections.join(""));
        a.ba.get(b, function (a, b) {
            var d = null;
            200 == a && (d = {media: Ar(b.media)});
            c && c(a, d)
        })
    }

    function Er(a, b) {
        return new P(function (a, d) {
            Dr(this, b, function (b, g) {
                pf(b) ? a(g) : d()
            })
        }.bind(a))
    }

    function Fr(a, b, c) {
        var d = "/media/" + encodeURIComponent(b.G()) + "/" + b.getVersion();
        a.ba.post(d, b, null, function (a, b) {
            var d = 200 == a ? cf(b) : null;
            c && c(a, d)
        })
    }

    function Gr(a, b, c, d) {
        b = (new Hr).re(b).Vd(c).Yf(!0);
        Fr(a, b, d)
    }

    function Ir(a, b, c) {
        return new P(function (a, e) {
            Gr(this, b, c, function (b, c) {
                pf(b) ? a(c) : e(b)
            })
        }.bind(a))
    }

    tn.prototype.mz = P.method(function (a, b) {
        function c(a) {
            return 404 === a
        }

        function d() {
            return Cr(h, a, b).catch(c, function () {
                return null
            })
        }

        function e() {
            return d().then(function (a) {
                g++;
                var b;
                if (b = a)b = a.na().Hc(), b = "PENDING_SUBMISSION" != b && "PENDING_REVIEW" != b;
                return b ? a.na().Hc() === Jr ? a : Promise.reject(a) : P.delay(Math.round(3E3 * Math.pow(1.6, g))).then(e).cancellable()
            })
        }

        var g = 0, h = this;
        return e().timeout(36E5)
    });
    var Vp = "THUMBNAIL", ee = "SCREEN", Up = "PRINT", Jr = "APPROVED", ae = "VECTOR", Zd = "RASTER", Kr = {
        EI: "F",
        JI: "K",
        RI: "G",
        VI: "P",
        WI: "R",
        YI: "S"
    }, Oo = "DOCUMENT", de = "FACEBOOK", No = "LAYOUT";

    function Dh(a, b) {
        this.id = a;
        this.version = b
    }

    Dh.prototype.G = function () {
        return this.id
    };
    Dh.prototype.getVersion = function () {
        return this.version
    };
    function dr(a) {
        return a ? $.extend(new Dh(a.id, a.version), a) : null
    }

    function xq(a) {
        return a ? a.map(dr) : null
    }

    function Lr() {
        this.url = "";
        this.height = this.width = 0;
        this.watermarked = !1;
        this.page = 0;
        this.quality = null
    }

    f = Lr.prototype;
    f.ia = function () {
        return this.url
    };
    f.D = function () {
        return this.height
    };
    f.C = function () {
        return this.width
    };
    f.ca = function () {
        return this.page
    };
    f.hw = function () {
        return this.quality
    };
    function tk(a) {
        return a ? $.extend(new Lr, a) : null
    }

    function Mr(a, b) {
        this.locale = a;
        this.text = b
    }

    function Nr(a) {
        return new Mr("en_US", a)
    }

    Mr.prototype.Gk = function () {
        return this.locale
    };
    Mr.prototype.Lk = function () {
        return this.text
    };
    function Or(a) {
        return a ? $.extend(new Mr(a.locale, a.text), a) : null
    }

    function Pr() {
        this.version = 0;
        this.listed = this.restrictedAccess = !1;
        this.status = "PENDING_SUBMISSION";
        this.rejectionReason = void 0;
        this.importState = "PENDING_IMPORT";
        this.designType = this.designVersion = this.importMessage = void 0;
        this.description = this.title = this.artist = "";
        this.locale = null;
        this.recolorable = this.repeating = this.textholder = this.photoholder = this.isolated = this.cutout = this.background = !1;
        this.superKeywords = [];
        this.keywords = [];
        this.files = {};
        this.quality = void 0;
        this.ageRating = null;
        this.priceModel =
        {};
        this.reviewedDate = this.reviewedBy = this.submittedDate = this.submittedBy = this.spritesheetMetadata = void 0
    }

    f = Pr.prototype;
    f.getVersion = function () {
        return this.version
    };
    f.Hc = function () {
        return this.status
    };
    f.La = function () {
        return this.title
    };
    f.Gk = function () {
        return this.locale
    };
    f.qb = function () {
        return this.background
    };
    f.de = function () {
        return this.cutout
    };
    f.dl = function () {
        return this.repeating
    };
    f.Hb = function () {
        return this.recolorable
    };
    f.ur = function () {
        return this.superKeywords
    };
    f.nh = function () {
        return this.keywords
    };
    f.Tb = function () {
        return this.files
    };
    f.hw = function () {
        return this.quality
    };
    f.tr = function () {
        return this.spritesheetMetadata
    };
    function Qr(a) {
        return a.priceModel
    }

    function Rr() {
        this.importFilename = this.importBucket = this.importKey = this.id = "";
        this.type = "PARENT";
        this.copyright = "";
        this.bundle = new Pr;
        this.deactivated = !1;
        this.brand = "";
        this.design = this.user = void 0
    }

    f = Rr.prototype;
    f.G = function () {
        return this.id
    };
    f.Nb = function () {
        return this.type
    };
    f.na = function () {
        return this.bundle
    };
    f.ta = function () {
        return this.brand
    };
    f.pb = function () {
        return this.user
    };
    function cf(a) {
        if (!a)return null;
        a = $.extend(new Rr, a);
        if (a.bundle) {
            var b;
            var c = a.bundle;
            if (c) {
                c = $.extend(new Pr, c);
                c.superKeywords && (c.superKeywords = c.superKeywords.map(Or));
                c.keywords && (c.keywords = c.keywords.map(Or));
                if (c.files)for (b in c.files)c.files[b] = tk(c.files[b]);
                c.spritesheetMetadata && (c.spritesheetMetadata = Sr(c.spritesheetMetadata));
                b = c
            } else b = null;
            a.bundle = b
        }
        return a
    }

    function Ar(a) {
        if (!a)return null;
        for (var b = [], c = 0; c < a.length; c++)b.push(cf(a[c]));
        return b
    }

    function Tr() {
        this.projections = []
    }

    f = Tr.prototype;
    f.Zh = function (a) {
        this.brand = a;
        return this
    };
    f.Vj = function (a) {
        this.user = a;
        return this
    };
    f.Sg = function (a) {
        this.restricted = a;
        return this
    };
    f.Uj = function (a) {
        this.staging = a;
        return this
    };
    f.rz = function (a) {
        null != a && 0 < a.length && (this.filename = a);
        return this
    };
    f.sp = function (a) {
        null != a && 0 < a.length && (this.ids = a);
        return this
    };
    f.sm = function (a, b) {
        this.skip = a;
        this.limit = b;
        return this
    };
    f.Yf = function (a) {
        this.deactivated = a;
        return this
    };
    f.vp = function (a) {
        this.locale = a;
        return this
    };
    f.Rg = function () {
        this.projections.push("F");
        return this
    };
    f.xu = function () {
        this.projections.push("P");
        return this
    };
    f.tp = function () {
        this.projections.push("K");
        return this
    };
    f.vu = function () {
        this.projections = Object.keys(Kr).map(function (a) {
            return Kr[a]
        });
        return this
    };
    function Ur(a, b) {
        a.includeTotal = b;
        return a
    }

    function Vr(a, b) {
        a.types = b;
        return a
    }

    function Wr() {
    }

    Wr.prototype.$f = function (a) {
        this.name = a;
        return this
    };
    Wr.prototype.Sg = function (a) {
        this.restricted = a;
        return this
    };
    Wr.prototype.vz = function (a) {
        this.listed = a;
        return this
    };
    function Xr(a, b) {
        a.fileSize = b;
        return a
    }

    Wr.prototype.vp = function (a) {
        this.locale = a;
        return this
    };
    function dq() {
    }

    dq.prototype.Vd = function (a) {
        this.version = a;
        return this
    };
    dq.prototype.Uj = function (a) {
        this.staging = a;
        return this
    };
    function Yr(a) {
        a.projection = "";
        return a
    }

    dq.prototype.Rg = function () {
        this.projection = (this.projection || "") + "F";
        return this
    };
    dq.prototype.tp = function () {
        this.projection = (this.projection || "") + "K";
        return this
    };
    function Zr() {
        this.projections = []
    }

    function $r(a, b) {
        a.refs = b;
        return a
    }

    f = Zr.prototype;
    f.sp = function (a) {
        this.ids = a;
        return this
    };
    f.Uj = function (a) {
        this.staging = a;
        return this
    };
    f.vu = function () {
        this.projections = Object.keys(Kr).map(function (a) {
            return Kr[a]
        });
        return this
    };
    f.xu = function () {
        this.projections.push("P");
        return this
    };
    f.Rg = function () {
        this.projections.push("F");
        return this
    };
    function Hr() {
    }

    f = Hr.prototype;
    f.re = function (a) {
        this.id = a;
        return this
    };
    f.G = function () {
        return this.id
    };
    f.Vd = function (a) {
        this.version = a;
        return this
    };
    f.getVersion = function () {
        return this.version
    };
    f.Yf = function (a) {
        this.deactivated = a;
        return this
    };
    f.vz = function (a) {
        this.listed = a;
        return this
    };
    f.qz = function (a) {
        this.designType = a;
        return this
    };
    f.sz = function (a) {
        this.importVersion = a;
        return this
    };
    function as(a, b) {
        a.superKeywords = b;
        return a
    }

    f.tp = function (a) {
        this.keywords = a;
        return this
    };
    f.vp = function (a) {
        this.locale = a;
        return this
    };
    function bs(a, b, c, d) {
        this.layers = a;
        this.spritesWide = b;
        this.spritesHigh = c;
        this.fullyRecolorable = d
    }

    function cs(a) {
        return a.spritesWide
    }

    bs.prototype.Mi = function () {
        return this.fullyRecolorable
    };
    bs.prototype.serialize = function () {
        return {
            spritesWide: cs(this), spritesHigh: this.spritesHigh, layers: this.layers.map(function (a) {
                return a.serialize()
            }), fullyRecolorable: this.Mi()
        }
    };
    function Sr(a) {
        var b = a.layers.map(ds);
        return new bs(b, a.spritesWide, a.spritesHigh, a.fullyRecolorable)
    }

    function es(a, b, c) {
        this.type = a;
        this.layerIndex = b;
        this.color = c
    }

    f = es.prototype;
    f.Nb = function () {
        return this.type
    };
    f.Ci = function () {
        return this.layerIndex
    };
    f.xf = function () {
        return this.color
    };
    function ds(a) {
        return new es(a.type, a.layerIndex, a.color)
    }

    function fs(a) {
        switch (a.Nb()) {
            case "RECOLORABLE":
                return Q(a.xf());
            case "BACKGROUND_R":
                return Jh(new Hh, 255, 0, 0);
            case "BACKGROUND_G":
                return Jh(new Hh, 0, 255, 0);
            case "BACKGROUND_B":
                return Jh(new Hh, 0, 0, 255);
            case "BACKGROUND_A":
                return null;
            default:
                throw Error("Unknown SpritesheetLayerType");
        }
    }

    f.isAlpha = function () {
        return "BACKGROUND_A" == this.Nb()
    };
    f.Hb = function () {
        return "RECOLORABLE" == this.Nb()
    };
    f.serialize = function () {
        var a = {type: this.Nb()};
        this.Ci() && (a.layerIndex = this.Ci());
        this.xf() && (a.color = this.xf());
        return a
    };
    function gs(a, b, c) {
        this.Qh = a;
        this.yH = b;
        this.zH = c;
        this.Iy = null;
        this.$r = this.bs = 0;
        this.dB = this.Qh.isAlpha() ? "destination-in" : "lighter";
        this.color = fs(this.Qh);
        this.gc = null
    }

    f = gs.prototype;
    f.Hb = function () {
        return this.Qh.Hb()
    };
    f.isAlpha = function () {
        return this.Qh.isAlpha()
    };
    f.Ci = function () {
        return this.Qh.Ci()
    };
    f.xf = function () {
        return this.color
    };
    f.setColor = function (a) {
        this.Qh.Hb() && (this.color = a)
    };
    f.multiply = function (a, b, c, d, e) {
        this.gc = a.getImageData(b, c, d, e);
        c = ia([b, c]);
        b = c.next().value;
        c = c.next().value;
        for (d = 0; d < this.gc.data.length; d += 4) {
            e = this.color;
            var g = ia([e.r, e.g, e.b]);
            e = g.next().value;
            var h = g.next().value, g = g.next().value;
            this.gc.data[d] = this.gc.data[d] / 255 * e;
            this.gc.data[d + 1] = this.gc.data[d + 1] / 255 * h;
            this.gc.data[d + 2] = this.gc.data[d + 2] / 255 * g
        }
        a.putImageData(this.gc, b, c)
    };
    f.compose = function (a, b, c, d, e, g, h, k, l, m) {
        hs(b, this.dB);
        b.drawImage(a.canvas, c, d, e, g, h, k, l, m)
    };
    function hs(a, b) {
        a.globalCompositeOperation = b;
        return a.globalCompositeOperation == b
    }

    function is(a) {
        this.Tf = a.Tf;
        this.Pt = a.Pt;
        this.Ot = a.Ot;
        this.Mi = a.Mi;
        this.pc = a.pc;
        this.Ui = a.Ui;
        this.Gr = a.Gr;
        this.vo = [];
        this.Jm = null;
        this.Hm = !1
    }

    function js(a) {
        var b = document.createElement("canvas").getContext("2d"), c = document.createElement("canvas").getContext("2d"), d = ks(a), e = cs(a), g = a.spritesHigh;
        a = a.Mi();
        var h = xr();
        return (new is({Tf: d, Pt: e, Ot: g, pc: b, Ui: c, Mi: a, Gr: h})).init()
    }

    function ks(a) {
        return a.layers.map(function (b, c) {
            return new gs(b, c % cs(a), Math.floor(c / cs(a)))
        }).sort(function (a, c) {
            return a.isAlpha() ? 1 : c.isAlpha() ? -1 : a.Ci() - c.Ci()
        })
    }

    is.prototype.init = function () {
        this.vo = ls(this);
        return this
    };
    function ms(a, b) {
        a.Jm = null;
        a.Hm = !1;
        return Wp(a.Gr, b).then(function (b) {
            return ns(a, b)
        }).then(function () {
            return os(a)
        }).then(function () {
            return ps(a)
        }).then(function () {
            return a.Hm = !0
        }).catch(function () {
            throw Error("Could not build spritesheet");
        })
    }

    is.prototype.Hb = function () {
        return this.Tf.some(function (a) {
            return a.Hb()
        })
    };
    function qs(a) {
        var b = [xp, yp, zp];
        return a.Mi && a.vo.every(function (a) {
                return b.some(function (b) {
                    return b.equals(a)
                })
            })
    }

    function ls(a) {
        return rs(a).map(function (a) {
            return a.xf()
        })
    }

    function rs(a) {
        return a.Tf.filter(function (a) {
            return a.Hb()
        })
    }

    is.prototype.toDataURL = function () {
        return this.Hm && this.Jm || (this.Jm = this.pc.canvas.toDataURL())
    };
    function ss(a, b) {
        var c = a.Tf.indexOf(b);
        if (!(0 > c)) {
            var d = a.Ui, e = c * a.pc.canvas.width, g = a.pc.canvas.width, h = a.pc.canvas.height;
            hs(d, "source-over");
            d.drawImage(b.Iy, b.yH * b.bs, b.zH * b.$r, b.bs, b.$r, e, 0, g, h);
            if (b.Qh.isAlpha()) {
                var k = ia([e, 0]), c = k.next().value, k = k.next().value;
                b.gc = b.gc || d.getImageData(e, 0, g, h);
                for (e = 0; e < b.gc.data.length; e += 4)b.gc.data[e + 3] = b.gc.data[e], b.gc.data[e] = b.gc.data[e + 1] = b.gc.data[e + 2] = 255;
                d.putImageData(b.gc, c, k)
            } else b.color && (hs(d, "multiply") ? (d.fillStyle = b.color.toString(), d.fillRect(e,
                0, g, h)) : b.multiply(d, e, 0, g, h))
        }
    }

    function ns(a, b) {
        var c = b.width / a.Pt, d = b.height / a.Ot;
        a.pc.canvas.width = c;
        a.pc.canvas.height = d;
        a.Ui.canvas.width = a.Tf.length * c;
        a.Ui.canvas.height = d;
        a.Tf.forEach(function (a) {
            a.Iy = b;
            a.bs = c;
            a.$r = d
        })
    }

    function os(a) {
        a.Tf.forEach(function (b) {
            ss(a, b)
        })
    }

    function ps(a) {
        a.pc.clearRect(0, 0, a.pc.canvas.width, a.pc.canvas.height);
        a.Tf.forEach(function (b, c) {
            return b.compose(a.Ui, a.pc, c * a.pc.canvas.width, 0, a.pc.canvas.width, a.pc.canvas.height, 0, 0, a.pc.canvas.width, a.pc.canvas.height)
        })
    };
    function $o(a) {
        if ("print" == Zo)throw Error("Graphic should not be used in print as it uses screen media. It should be an SvgElement in print.");
        if (void 0 !== a && void 0 !== a.mediaId && void 0 !== a.spritesheetMetadata) {
            var b = this;
            this.loaded = !1;
            this.Vw = null;
            this.Jy = Sr(a.spritesheetMetadata);
            this.Uf = js(this.Jy);
            Y.call(this, a);
            this.pa = a.mediaId;
            this.ra = a.mediaVersion;
            this.Cb = void 0 === a.mediaApproved ? !0 : a.mediaApproved;
            var c = this.H();
            c.addClass("graphic");
            var d = $('\x3cdiv class\x3d"placeholder"\x3e\x3cimg class\x3d"imgPlaceholder" /\x3e\x3cdiv class\x3d"canvasPlaceholder" /\x3e\x3c/div\x3e');
            c.append(d);
            c.find(".canvasPlaceholder").append(this.Uf.pc.canvas);
            this.Ch();
            this.contents = a.contents ? a.contents.slice(0) : null;
            a.fillColors && a.fillColors.forEach(function (a) {
                var c = Q(a.color);
                c && b.Rd(a.index, c)
            });
            this.Jg(this.pa, this.ra)
        }
    }

    $o.prototype = Object.create(Y.prototype);
    f = $o.prototype;
    f.constructor = $o;
    f.Jg = function (a, b) {
        this.pa = a;
        this.ra = b;
        this.loaded = !1;
        var c = Ia.vb(a, b);
        c ? ts(this, c) : G.trigger("elementLoadingError", this)
    };
    function ts(a, b) {
        var c = b[ee];
        a.Lh(b[Vp].ia());
        ms(a.Uf, c.ia()).then(function () {
            this.loaded = !0;
            this.tc();
            this.Hl ? this.rj() : this.Ch();
            G.trigger("elementLoaded", this);
            G.trigger("elementLoaded:graphic", this)
        }.bind(a)).catch(function () {
            G.trigger("elementLoadingError", this)
        }.bind(a))
    }

    f.dz = function () {
        this.loaded && this.Lh(this.Uf.toDataURL())
    };
    f.qB = _.debounce($o.prototype.dz, 200);
    f.Lh = function (a) {
        var b = this.H().find(".imgPlaceholder");
        Hp(Ip, b, a)
    };
    function us(a) {
        return a.loaded && a.Vw !== a.Hl ? (a.Vw = a.Hl, !0) : !1
    }

    f.rj = function () {
        Y.prototype.rj.call(this);
        us(this) && (this.H().find(".canvasPlaceholder").show(), this.H().find(".imgPlaceholder").hide())
    };
    f.Ch = function () {
        Y.prototype.Ch.call(this);
        us(this) && (this.dz(), this.H().find(".imgPlaceholder").show(), this.H().find(".canvasPlaceholder").hide())
    };
    f.qm = function (a) {
        Kj(a, this.cc()) || (this.Zl(!1), this.ra = this.pa = null)
    };
    f.yg = function () {
        return !0
    };
    f.cc = function () {
        return null != this.pa && null != this.ra ? new Dh(this.pa, this.ra) : null
    };
    f.gt = function () {
        var a = this.cc();
        a && this.Jg(a.G(), a.getVersion())
    };
    f.Oi = function () {
        return this.Cb
    };
    f.Zl = function (a) {
        this.Cb = a;
        this.H().toggleClass("unapproved", !a);
        this.Ca()
    };
    f.Hb = function () {
        return 0 < this.jc().length
    };
    f.jc = function () {
        return 5 < ls(this.Uf).length ? [] : ls(this.Uf)
    };
    f.Rd = function (a, b) {
        var c = this.Uf, d = rs(c)[a];
        d && (c.Jm = null, d.setColor(b), c.Hm && (ss(c, d), ps(c)));
        this.tc();
        this.qB()
    };
    f.Ne = function () {
        if (this.Ac)return this.Ac;
        var a = new Oi;
        this.jc().forEach(function (b) {
            Qi(a, b)
        });
        return this.Ac = a
    };
    f.xg = function () {
        return !0
    };
    f.op = function () {
        Kp(this.H().find(".placeholder"), null, this.fb)
    };
    f.mj = function () {
        if (za) {
            qp(this);
            var a = this.H().find(".placeholder");
            a.addClass("flipping");
            a.one("transitionend", function () {
                a.removeClass("flipping")
            })
        }
    };
    f.serialize = function () {
        var a = Y.prototype.serialize.call(this);
        a.type = "graphic";
        a.mediaId = this.pa;
        a.mediaVersion = this.ra;
        this.Cb || (a.mediaApproved = !1);
        a.spritesheetMetadata = this.Jy.serialize();
        var b = this.jc().map(function (a, b) {
            return {index: b, color: a.ka()}
        });
        0 < b.length && (a.fillColors = b);
        return a
    };
    f.kk = function () {
        return qs(this.Uf)
    };
    function vs(a) {
        var b = a.dk;
        1 <= b || 0 >= b ? a.Ch() : a.rj()
    }

    f.Ol = function () {
        if (this.Hb() && this.Bm && null !== this.jf && this.kk()) {
            this.Bm = !1;
            vs(this);
            var a;
            this.Uf.vo.forEach(function (b, c) {
                switch (b.ka()) {
                    case xp.ka():
                        a = this.jf.Ah;
                        break;
                    case yp.ka():
                        a = this.jf.Hh;
                        break;
                    case zp.ka():
                        a = this.jf.Th;
                        break;
                    default:
                        a = null
                }
                if (a) {
                    var d = Rh(b, a, this.dk);
                    this.Rd(c, d)
                }
            }.bind(this))
        }
    };
    $o.prototype.xy = $o.prototype.Rd;
    function ws() {
        this.bt = 0
    }

    var xs = ["tame", "angry"];
    ws.prototype.Rd = function (a, b) {
        this.xy(a, b);
        if (!(0 > ["MABsSJ6etSs"].indexOf(this.pa)) && ys(this)) {
            this.bt = this.bt || 0;
            this.rj();
            var c = xs[this.bt++] || "flipOut", d = this.H().find(".placeholder");
            d.addClass(c);
            var e = this.jc(), g = {overflow: "visible", zIndex: 5}, h = $(".page .elements"), k = {}, l;
            for (l in g)k[l] = h.css(l);
            h.css(g);
            $({ratio: 0}).animate({ratio: 1}, {
                duration: 500, step: function (a) {
                    this.Uf.vo.forEach(function (b, c) {
                        var d = Uh(e[c], b, a);
                        this.xy(c, d)
                    }.bind(this))
                }.bind(this), always: function () {
                    this.Ch();
                    this.Ca();
                    d.removeClass(c);
                    h.css(k)
                }.bind(this)
            })
        }
    };
    function ys(a) {
        return a.jc().every(function (a) {
            return a.equals(Q("#cc0000"))
        })
    }

    _.extend($o.prototype, ws.prototype);
    function cp(a) {
        this.elements = [];
        this.activeElement = null;
        this.eB = {};
        this.ld(a);
        Y.call(this, a);
        this.gm = {Transparency: Kc(Hb(this.F))};
        this.cA = [{
            id: "HorizontalAlignLeft",
            name: Hb(this.F).format("editorToolbarElementHorizontalAlignLeft"),
            enabled: !0
        }, {
            id: "HorizontalAlignCenter",
            name: Hb(this.F).format("editorToolbarElementHorizontalAlignCenter"),
            enabled: !0
        }, {
            id: "HorizontalAlignRight",
            name: Hb(this.F).format("editorToolbarElementHorizontalAlignRight"),
            enabled: !0
        }, {
            id: "VerticalAlignTop", name: Hb(this.F).format("editorToolbarElementVerticalAlignTop"),
            enabled: !0
        }, {
            id: "VerticalAlignCenter",
            name: Hb(this.F).format("editorToolbarElementVerticalAlignCenter"),
            enabled: !0
        }, {
            id: "VerticalAlignBottom",
            name: Hb(this.F).format("editorToolbarElementVerticalAlignBottom"),
            enabled: !0
        }, {
            id: "HorizontalDistribute",
            name: Hb(this.F).format("editorToolbarElementHorizontalDistribute"),
            enabled: !0
        }, {id: "VerticalDistribute", name: Hb(this.F).format("editorToolbarElementVerticalDistribute"), enabled: !0}];
        this.Gm()
    }

    function zs(a, b) {
        var c = Math.min(100, b.Bc + a.Bc), d;
        d = Fh([b.left + b.width / 2 - a.width / 2, b.top + b.height / 2 - a.height / 2]);
        var e = -a.rotation, g = new Eh, h = e * Math.PI / 180, e = Math.cos(h), h = Math.sin(h);
        g.m[0] = e;
        g.m[1] = h;
        g.m[2] = -0 * e - 0 * h;
        g.m[3] = -1 * h;
        g.m[4] = e;
        g.m[5] = -0 * e + 0 * h;
        d = d.transform(g);
        g = Gh(d);
        return {
            Bc: c || 0,
            rotation: Po(b.rotation, -(180 * Math.atan2(d.m[3], d.m[4]) / Math.PI)) || 0,
            top: g[1] - b.height / 2 + a.top + a.height / 2,
            left: g[0] - b.width / 2 + a.left + a.width / 2,
            width: b.width,
            height: b.height
        }
    }

    cp.prototype = Object.create(Y.prototype);
    f = cp.prototype;
    f.constructor = cp;
    f.Ni = function () {
        return !0
    };
    f.ld = function (a) {
        function b(a, b) {
            return a.elementIndex > b.elementIndex
        }

        var c = this;
        a && 0 <= Object.keys(a).indexOf("elements") && a.elements.sort(b).forEach(function (a) {
            (a = Sd(a)) && c.addElement(a)
        })
    };
    function As(a, b) {
        gp(a, Math.min.apply(null, b.map(function (a) {
            return a.Qa()
        })));
        np(a, Math.min.apply(null, b.map(function (a) {
            return a.Aa()
        })));
        a.la(Math.max.apply(null, b.map(function (a) {
                return a.Bb()
            })) - a.Y());
        a.ja(Math.max.apply(null, b.map(function (a) {
                return a.lb()
            })) - a.O());
        return a
    }

    function Bs(a) {
        As(a, a.elements);
        a.sb()
    }

    function Cs(a, b, c) {
        function d(a) {
            return a instanceof Nj && a !== b
        }

        function e(a) {
            return a.Aa() > b.Aa()
        }

        function g(a, b) {
            return a.Aa() > b.Aa()
        }

        if (-1 !== a.elements.indexOf(b)) {
            var h = a.elements.filter(d).filter(e).sort(g), k = b.O() + c, l = b.O() + b.D();
            l > k ? h.forEach(function (a) {
                5 > Math.round(Math.abs(a.O() - k)) && a.O() < l && (k = a.va(), a.Oa(l + 1), l = a.va())
            }, a) : l < k && h.forEach(function (a) {
                5 > Math.round(Math.abs(a.O() - k)) && (k = a.va(), a.Oa(l + 1), l = a.va())
            }, a);
            Bs(a)
        }
    }

    f.Gm = function () {
        var a = $('\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e');
        this.H().addClass("group").html(a);
        this.sb()
    };
    f.setSize = function (a, b) {
        var c;
        30 > a || 30 > b || (void 0 !== a && void 0 !== b && (c = (a - this.C()) / this.C(), Y.prototype.setSize.call(this, a, b)), this.elements.forEach(function (a) {
            if (c) {
                var b = c, g = a.C() / a.D(), h, k, l;
                !isNaN(b) && isFinite(b) && (h = a.C() + a.C() * b, g = h / g, k = a.Y() + a.Y() * b, l = a.O() + a.O() * b, a.setSize(h, g), a.setPosition(k, l), a instanceof Nj && a.wc && a.wc(0) && (b = a.wc(0) + a.wc(0) * b, a.Lc(0, b, !0)))
            }
            a.la();
            a.setPosition();
            a.Ba()
        }))
    };
    f.Ba = function () {
        Y.prototype.Ba.call(this);
        this.elements.forEach(function (a) {
            a.la();
            a.setPosition();
            a.Ba()
        })
    };
    f.addElement = function (a) {
        var b = this.elements.indexOf(a);
        -1 === b ? this.elements.push(a) : this.elements.splice(b, 1, a)
    };
    f.tj = function (a) {
        a = this.elements.indexOf(a);
        -1 !== a && this.elements.splice(a, 1)
    };
    f.remove = function () {
        this.elements.forEach(function (a) {
            a.remove()
        });
        Y.prototype.remove.call(this)
    };
    f.oa = function () {
        return this.elements
    };
    f.Qa = function () {
        return Math.min.apply(null, this.oa().map(function (a) {
            return a.Qa()
        }))
    };
    f.Bb = function () {
        return Math.max.apply(null, this.oa().map(function (a) {
            return a.Bb()
        }))
    };
    f.Aa = function () {
        return Math.min.apply(null, this.oa().map(function (a) {
            return a.Aa()
        }))
    };
    f.lb = function () {
        return Math.max.apply(null, this.oa().map(function (a) {
            return a.lb()
        }))
    };
    f.ec = function () {
        return this.Bb() - this.Qa()
    };
    f.bc = function () {
        return this.lb() - this.Aa()
    };
    f.clone = function () {
        var a = this.serialize();
        return new cp(a)
    };
    f.getActiveElement = function () {
        return this.activeElement
    };
    f.kf = function () {
        this.activeElement = null;
        this.elements.forEach(function (a) {
            a.Qd();
            a.H().removeClass("active").removeClass("focused")
        })
    };
    f.serialize = function () {
        var a = Y.prototype.serialize.call(this);
        a.type = "group";
        a.constraints = this.eB;
        a.elements = this.oa().map(function (a) {
            return a.serialize()
        });
        return a
    };
    function Ds(a) {
        Y.call(this, a);
        this.Td = !0;
        this.Wr = "vertical" === a.align;
        this.Nw = !this.Wr;
        this.H().addClass("guide").addClass(a.align)
    }

    Ds.prototype = Object.create(Y.prototype);
    f = Ds.prototype;
    f.constructor = Ds;
    f.Yg = function () {
        return !1
    };
    f.fk = function () {
        return !1
    };
    f.Km = function () {
        return !0
    };
    f.activate = function () {
        this.H().removeClass("inactive")
    };
    f.Oa = function (a) {
        this.Nw && Y.prototype.Oa.call(this, a)
    };
    f.Na = function (a) {
        this.Wr && Y.prototype.Na.call(this, a)
    };
    f.setPosition = function (a, b) {
        this.Wr && Y.prototype.Na.call(this, a);
        this.Nw && Y.prototype.Oa.call(this, b)
    };
    function bp(a) {
        Y.call(this, a);
        this.Td = !0;
        this.placeholder = a.placeholder in Es ? a.placeholder : "DEFAULT";
        this.H().addClass("fixed").css("backgroundImage", "url(" + Es[this.placeholder] + ")")
    }

    bp.prototype = Object.create(Y.prototype);
    bp.prototype.constructor = bp;
    var Es = {
        DEFAULT: "https://static.canva.com/static/images/placeholder.jpg",
        FACEBOOK: "https://static.canva.com/static/images/furniture_facebook_avatar.svg",
        FUSION_SPINE_GUIDE: "https://static.canva.com/static/images/furniture_fusion_spine_guide.svg",
        FUSION_VERTICAL_DANGER_GUIDE: "https://static.canva.com/static/images/furniture_fusion_vertical_danger_guide.svg",
        FUSION_HORIZONTAL_DANGER_GUIDE: "https://static.canva.com/static/images/furniture_fusion_horizontal_danger_guide.svg",
        FUSION_HORIZONTAL_COVER_DANGER_GUIDE: "https://static.canva.com/static/images/furniture_fusion_horizontal_cover_danger_guide.svg",
        GPLUS_CARD: "https://static.canva.com/static/images/furniture_gplus_card.svg",
        TWITTER_AVATAR: "https://static.canva.com/static/images/furniture_twitter_avatar.svg",
        TWITTER_MENU: "https://static.canva.com/static/images/furniture_twitter_menu.svg",
        TWITTER_STATS: "https://static.canva.com/static/images/furniture_twitter_stats.svg"
    };
    f = bp.prototype;
    f.serialize = function () {
        return {type: "fixed"}
    };
    f.Ca = function () {
    };
    f.Yg = function () {
        return !1
    };
    f.Km = function () {
        return !1
    };
    f.fk = function () {
        return !1
    };
    function Xo(a, b) {
        this.index = a.index;
        this.ma = b;
        this.pa = a.mediaId;
        this.ra = a.mediaVersion;
        this.origin = a.origin ? new Bh(a.origin) : null;
        this.ua = kh(a.imageBox);
        this.Yx = this.ay = this.$x = this.Zx = 0;
        this.Kl = !0;
        this.fb = a.flipOrientation | 0;
        this.Vn = 0 < this.ma.parents(".svg.element").length;
        this.zr = !1;
        this.backgroundColor = null;
        a.backgroundColor && (this.backgroundColor = Q(a.backgroundColor));
        this.Cb = void 0 === a.mediaApproved ? !0 : a.mediaApproved;
        Yq(this, this.Cb)
    }

    f = Xo.prototype;
    f.serialize = function () {
        var a = {
            type: "image",
            index: this.index,
            mediaId: this.pa,
            mediaVersion: this.ra,
            imageBox: this.ua.serialize(),
            flipOrientation: this.fb,
            mediaApproved: this.Cb
        };
        this.backgroundColor && (a.backgroundColor = this.backgroundColor.serialize());
        var b = this.origin && this.origin.serialize();
        b && (a.origin = b);
        return a
    };
    f.H = function () {
        return this.ma
    };
    function $q(a, b, c, d) {
        var e = b !== a.pa || c !== a.ra;
        if (a.zr && !e)return d && d(!0), a;
        e && (a.pa = b, a.ra = c, a.origin = null, Yq(a, !0));
        a.zr = !0;
        a.Kl = !0;
        a.Vn ? a.pa && a.ra && (b = a.ma.find("image.placeholder"), a.ma.get(0).classList.add("filled"), (c = Ia.vb(a.pa, a.ra)) ? Tp({
            zn: c,
            Fr: b,
            pa: a.pa,
            ra: a.ra,
            oo: d
        }) : d && (b.data("mediaId", a.pa), b.data("mediaVersion", a.ra), d(!1))) : a.pa && a.ra && (b = $("\x3cimg\x3e"), b.addClass("placeholder"), a.ma.find(".placeholder").remove(), a.ma.append(b), a.ma.parent(".item").addClass("filled"), (c = Ia.vb(a.pa,
            a.ra)) ? Tp({
            zn: c,
            Fr: b,
            pa: a.pa,
            ra: a.ra,
            oo: d
        }) : d && (b.data("mediaId", a.pa), b.data("mediaVersion", a.ra), d(!1)));
        return a
    }

    function Zq(a, b) {
        a.origin = b;
        return a
    }

    function ar(a) {
        a.zr = !1;
        Yq(a, !0);
        a.pa = void 0;
        a.ra = void 0;
        a.origin = null;
        a.Vn ? (a.ma.get(0).classList.remove("filled"), a.ma.find("image.placeholder").removeAttr("crossorigin").removeData("mediaId").removeData("mediaVersion").attr("xlink:href", "https://static.canva.com/static/images/placeholder.jpg")) : (a.ma.parent(".item").removeClass("filled"), a.ma.find(".placeholder").remove(), a.ma.append('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e'));
        return a
    }

    function Op(a, b) {
        a.ua = b.clone();
        a.Kl = !0;
        Fs(a);
        return a
    }

    f.yj = function (a) {
        var b = a ^ this.fb;
        wh(this.ua, Gs(this), b);
        this.Kl = !0;
        this.fb = a;
        Fs(this);
        return this
    };
    f.Kh = function (a) {
        this.mj();
        this.yj(a);
        return this
    };
    f.Ie = function () {
        return this.backgroundColor
    };
    f.Wl = function (a) {
        this.backgroundColor = a;
        Hs(this);
        return this
    };
    function tr(a) {
        a.backgroundColor = null;
        a.ma.find(".backgroundColor.placeholder").replaceWith('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e');
        return a
    }

    function nq(a) {
        return !(!a.pa || !_.isNumber(a.ra))
    }

    f.isEmpty = function () {
        return !(nq(this) || this.Ie())
    };
    f.vb = function () {
        return nq(this) ? Ia.vb(this.pa, this.ra) : null
    };
    function Yq(a, b) {
        (a.Cb = b) ? a.ma.get(0).classList.remove("unapproved") : a.ma.get(0).classList.add("unapproved");
        return a
    }

    f.qm = function (a) {
        var b = this.cc();
        null != this.backgroundColor || null == b || Kj(a, this.cc()) || (ar(this), Yq(this, !1))
    };
    f.cc = function () {
        return void 0 !== this.pa && void 0 !== this.ra ? new Dh(this.pa, this.ra) : null
    };
    f.Jg = function (a, b) {
        this.pa = a;
        this.ra = b;
        this.update()
    };
    f.update = function (a) {
        var b = this.Cb;
        void 0 !== this.pa && void 0 !== this.ra ? ($q(this, this.pa, this.ra, a), Fs(this)) : (ar(this), Hs(this), a && a(!0));
        Yq(this, b)
    };
    f.clear = function () {
        ar(this);
        tr(this)
    };
    function Hs(a) {
        if (a.backgroundColor) {
            ar(a);
            var b = $('\x3cdiv class\x3d"backgroundColor placeholder"\x3e\x3c/div\x3e');
            b.css("background-color", a.backgroundColor.ka());
            a.ma.find(".placeholder").replaceWith(b)
        } else a.clear()
    }

    function Fs(a) {
        if (a.Vn) {
            var b = a.ma.closest(".element").data("canvaElement"), c = a.ma.find("image.placeholder"), d = Gs(a);
            a = a.ua.clone();
            a.translate(d.Y(), d.O()).scale(1 / Qq(b));
            c.attr("width", a.C()).attr("height", a.D()).attr("x", a.Y()).attr("y", a.O())
        } else {
            b = Gs(a);
            c = b.C();
            d = b.D();
            if (a.Kl)a.Zx = a.ua.Y() / c, a.$x = a.ua.O() / d, a.ay = a.ua.C() / c, a.Yx = a.ua.D() / d, a.Kl = !1; else {
                var e = oh(a.ua);
                a.ua.Na(c * a.Zx);
                a.ua.Oa(d * a.$x);
                a.ua.la(c * a.ay);
                a.ua.ja(d * a.Yx);
                var e = e / oh(a.ua), g = c / 2, h = d / 2, k = 1, l = 0;
                1 > e ? (ph(a.ua, g, h, e, 1), l =
                    Math.max(0, a.ua.Y(), c - a.ua.Wa()), k = c / (c - 2 * l)) : 1 < e && (ph(a.ua, g, h, 1, 1 / e), l = Math.max(0, a.ua.O(), d - a.ua.va()), k = d / (d - 2 * l));
                1 < k && ph(a.ua, g, h, k)
            }
            Kp(a.ma, null, a.fb);
            c = a.ua.clone();
            wh(c, b, a.fb);
            c.scale(M);
            c.round();
            a.ma.find("img.placeholder").css(Gp(c))
        }
    }

    function Gs(a) {
        var b = a.ma.closest(".element").data("canvaElement");
        return b ? b.Af(a.index) : lh.clone()
    }

    f.mj = function () {
        var a = this.ma, b = 2.5 * this.ua.C();
        a.parent().css("perspective", b + "px");
        a.addClass("flipping");
        a.one("transitionend", function () {
            a.removeClass("flipping")
        })
    };
    function Jq(a) {
        this.nu = a.valign;
        this.Wd = kh(a.box);
        this.Rc = this.Wd.clone();
        this.Eh = a.resizeHorizontal;
        this.Of = a.resizeVertical;
        this.contents = a.contents;
        this.ou = [];
        this.EC = [];
        this.scale = 1;
        this.Ki = Is(this);
        this.Hw = this.Wd.D() - Js(this);
        Ks(this);
        this.ha();
        var b = this;
        this.contents.forEach(function (a) {
            b.listenTo(a, "change:width", b.ha);
            b.listenTo(a, "change:height", b.ha)
        })
    }

    Jq.prototype.trigger = Backbone.Events.trigger;
    Jq.prototype.listenTo = Backbone.Events.listenTo;
    Jq.prototype.stopListening = Backbone.Events.stopListening;
    _.extend(Jq.prototype, Backbone.Events);
    f = Jq.prototype;
    f.remove = function () {
        var a = this;
        this.stopListening(this);
        this.contents.forEach(function (b) {
            a.stopListening(b)
        })
    };
    f.la = function (a) {
        Pq(a, this.C()) || (this.Wd.la(a), this.ha(), this.trigger("change:width", this), this.trigger("change", this))
    };
    f.C = function () {
        return this.Wd.C()
    };
    f.ja = function (a) {
        Pq(a, this.D()) || (this.Wd.ja(a), this.ha(), this.trigger("change:height", this), this.trigger("change", this))
    };
    f.D = function () {
        return this.Wd.D()
    };
    f.setSize = function (a, b, c) {
        var d = this.C() !== a, e = this.D() !== b;
        if (d || e)this.Wd.setSize(a, b), this.scale !== c && (this.scale = c, Ls(this)), this.ha(), d && this.trigger("change:width", this), e && this.trigger("change:height", this), this.trigger("change", this)
    };
    f.Gi = function () {
        return this.Wd.Gi()
    };
    f.Eb = function (a, b) {
        this.Wd.Na(a.Y()).Oa(a.O());
        this.setSize(a.C(), a.D(), b)
    };
    f.qa = function () {
        return this.Wd.clone()
    };
    f.Ik = function () {
        return this.Rc.clone()
    };
    function Is(a) {
        a = a.contents.map(function (a) {
            return a.qa()
        });
        return Array.min(a.map(function (a) {
            return a.O()
        }))
    }

    function Js(a) {
        a = a.contents.map(function (a) {
            return a.qa()
        });
        return Array.max(a.map(function (a) {
            return a.va()
        }))
    }

    function Ms(a) {
        var b = Is(a);
        return Js(a) - b
    }

    function Ns(a) {
        a = a.contents.slice(0);
        a.sort(function (a, c) {
            var d = a.Ik(), e = c.Ik();
            return d.O() < e.O() ? -1 : d.O() > e.O() ? 1 : 0
        });
        return a
    }

    function Ks(a) {
        a.ou = [];
        if (!(2 > a.contents.length)) {
            var b = Ns(a);
            a.contents.forEach(function (c) {
                var d = b.indexOf(c);
                d == a.contents.length - 1 ? d = 0 : (c = c.qa(), d = b[d + 1].qa().O() - c.va());
                a.ou.push(d)
            })
        }
    }

    function Os(a, b) {
        a.contents.forEach(function (c) {
            var d = c.qa();
            d.translate(0, b);
            a.stopListening(c);
            c.Eb(d, a.scale);
            a.listenTo(c, "change:width", a.ha);
            a.listenTo(c, "change:height", a.ha)
        })
    }

    function Ls(a) {
        a.contents.forEach(function (b) {
            a.stopListening(b);
            b.scale(a.scale);
            a.listenTo(b, "change:width", a.ha);
            a.listenTo(b, "change:height", a.ha)
        })
    }

    f.ha = function () {
        var a = this;
        this.contents.forEach(function (b) {
            a.stopListening(b);
            if (!b.hm)if (b.Iq)Ps(b); else {
                var c = b.qa(), d = Qs(b);
                c.la(d.width);
                c.ja(d.height);
                b.Eb(c)
            }
        });
        var b = 0 === this.EC.length;
        this.contents.forEach(function (c) {
            if (a.Eh && b) {
                var d = c.qa();
                d.C() !== a.C() && (d.la(a.C()), c.Eb(d, a.scale))
            }
        });
        var c = Ns(this);
        c.forEach(function (b, d) {
            if (0 !== d) {
                var e = c[d - 1], g = a.contents.indexOf(e), n = a.ou[g], g = b.qa(), e = e.qa().va() + n * a.scale;
                g.Oa(e);
                b.Eb(g, a.scale)
            }
        });
        var d = Ms(this), e = this.Wd.D(), g;
        "CENTER" == this.nu ?
            (g = this.Ki + this.Hw, g = this.Ki + (e - d - g) / 2, g -= Is(this), Os(this, g), d > e && this.Of && (g = -Is(this), Os(this, g), this.ja(d))) : "TOP" == this.nu ? this.Ki + d > e && this.Of && this.ja(this.Ki + d) : "BOTTOM" == this.nu && (g = this.Ki + this.Hw, g = this.Ki + (e - d - g), g -= Is(this), Os(this, g), d > e && this.Of && (g = -Is(this), Os(this, g), this.ja(d)));
        this.contents.forEach(function (b) {
            a.listenTo(b, "change:width", a.ha);
            a.listenTo(b, "change:height", a.ha)
        })
    };
    function Iq(a, b, c) {
        this.se = a;
        this.Rc = a.data("rect").clone().translate(-b, -c);
        this.sk = !!a.data("dynamicWidth");
        this.kn = !!a.data("dynamicHeight");
        this.Iq = !!a.data("dynamicFontSize");
        this.Co = a.data("defaultFontSize");
        this.Iq && (this.kn = this.sk = !1);
        this.sk && this.kn && (this.sk = !1);
        this.Ja = {zp: 0, Rj: 0, nc: 0, Pb: 1};
        this.hm = !1
    }

    Iq.prototype.trigger = Backbone.Events.trigger;
    Iq.prototype.listenTo = Backbone.Events.listenTo;
    Iq.prototype.stopListening = Backbone.Events.stopListening;
    _.extend(Iq.prototype, Backbone.Events);
    var Lq = "center", Mq = "right";
    f = Iq.prototype;
    f.H = function () {
        return this.se
    };
    f.Ik = function () {
        return this.Rc.clone()
    };
    f.qa = function () {
        var a = this.Rc.clone();
        a.Oa(this.Ja.zp + this.Rc.O() * this.Ja.Pb).Na(this.Rc.Y() * this.Ja.Pb).la(this.Ja.Rj + a.C() * this.Ja.Pb).ja(this.Ja.nc + a.D() * this.Ja.Pb);
        return a
    };
    f.Eb = function (a, b) {
        void 0 === b && (b = this.Ja.Pb);
        var c = this.qa(), d = a.clone().scale(M).round();
        this.se.css(d.serialize());
        Rs(this);
        this.Ja.Pb = b;
        this.Ja.zp = a.O() - this.Rc.O() * this.Ja.Pb;
        this.Ja.Rj = a.C() - this.Rc.C() * this.Ja.Pb;
        this.Ja.nc = a.D() - this.Rc.D() * this.Ja.Pb;
        var d = !Pq(c.C(), a.C()), e = !Pq(c.D(), a.D());
        d && this.trigger("change:width", this, a.C() - c.C());
        e && this.trigger("change:height", this, a.D() - c.D());
        (d || e) && this.trigger("change", this)
    };
    f.scale = function (a) {
        this.Ja.zp *= a / this.Ja.Pb;
        this.Ja.Rj *= a / this.Ja.Pb;
        this.Ja.nc *= a / this.Ja.Pb;
        this.Ja.Pb = a
    };
    function Rs(a) {
        if (a.se.hasClass("text")) {
            var b = a.qa(), c = a.se.children(".inner");
            c.css("width", b.C()).css("height", "");
            var d = a.se.height();
            a = c.height();
            b = Math.round(b.C() * (M - 1) * .5);
            d = Math.ceil(d / 2) - Math.floor(a / 2);
            c.css("height", a).css("position", "absolute").css("transform", "translate(" + b + "px, " + d + "px) scale(" + M + ")")
        }
    }

    function Ps(a) {
        if (!a.hm) {
            var b = Ss(a), c = a.se.data("canvaElement"), d = a.se.data("textIndex");
            a.hm = !0;
            c.Lc(d, b);
            a.hm = !1;
            Rs(a)
        }
    }

    function Dq(a) {
        var b;
        if (!a.hm)if (a.Iq)Ps(a); else {
            var c = a.qa();
            b = Qs(a);
            var d = b.width;
            b = b.height;
            a.sk && (d = Math.max(d, a.Rc.C() * a.Ja.Pb));
            a.kn && (b = Math.max(b, a.Rc.D() * a.Ja.Pb));
            c.la(d);
            c.ja(b);
            a.Eb(c)
        }
    }

    function Ss(a) {
        function b(a, b, d) {
            var m = "width" == a ? b.width : b.height;
            a = "width" == a ? e : g;
            var n = m.call(b);
            d /= n / a;
            b.css("font-size", d * nb + "%");
            n = m.call(b);
            if (0 == n)return c;
            if (n > a)for (; n > a && !(d *= .95, b.css("font-size", d * nb + "%"), n = m.call(b), n < a || 8 > d);); else if (n < a)for (; n < a;)if (d /= .95, b.css("font-size", d * nb + "%"), n = m.call(b), n > a || d > c) {
                d *= .95;
                break
            }
            return d = Math.max(Math.min(c, d), 1)
        }

        var c = a.Co * a.Ja.Pb, d = parseFloat(a.se.data("fontSize")) * a.Ja.Pb, e = Math.floor(a.Ja.Rj + a.Rc.C() * a.Ja.Pb), g = Math.floor(a.Ja.nc + a.Rc.D() *
            a.Ja.Pb);
        a = a.se.clone();
        a.addClass("element").appendTo("#canvaDocument \x3e .inner").css("width", "").css("height", "");
        a.children(".inner").css("width", "").css("height", "").css("transform", "").css("position", "").css("top", "");
        d = b("width", a, d);
        a.css("font-size", d * nb + "%");
        a.height() > g && (a.css("width", a.width()), d = b("height", a, d));
        a.remove();
        return d
    }

    function Qs(a) {
        function b(a, b, c) {
            var d = "height" === b ? c : "";
            c = "width" === b ? c : "";
            a = a.clone();
            "width" === b && a.css("white-space", "nowrap");
            a.addClass("element").appendTo("#limbo").css("width", d).css("height", c);
            a.children(".inner").css("width", d).css("height", c).css("transform", "").css("position", "").css("top", "").forceLayout();
            b = a.get(0).getBoundingClientRect()[b];
            a.remove();
            return b
        }

        var c = a.Ja.Rj + a.Rc.C() * a.Ja.Pb, d = a.Ja.nc + a.Rc.D() * a.Ja.Pb, e = a.se;
        a.sk && (c = b(e, "width", d));
        a.kn && (d = b(e, "height", c));
        return {
            width: c,
            height: d
        }
    };
    function Ts(a) {
        for (var b, c = /(.*['"<])?([^'">]+)(['">].*)?/g; b = c.exec(a);)if (b = b[2].trim(), /^[^@]+@[^@]+$/.test(b) && !/[ ,<>'"]/.test(b))return b
    };
    function Us() {
    }

    la(Us, Error);
    function Vs(a, b, c) {
        this.id = a;
        this.length = b;
        this.name = c
    }

    Vs.prototype.G = function () {
        return this.id
    };
    Vs.prototype.getLength = function () {
        return this.length
    };
    Vs.prototype.getName = function () {
        return this.name
    };
    function Ws(a, b, c, d) {
        this.id = a;
        this.name = b;
        this.$t = d;
        this.MF = c
    }

    Ws.prototype.G = function () {
        return this.id
    };
    Ws.prototype.getName = function () {
        return this.name
    };
    Ws.prototype.dc = function () {
        return this.$t
    };
    Ws.prototype.sg = function () {
        return this.MF
    };
    function Xs(a, b, c) {
        this.height = a;
        this.url = b;
        this.width = c
    }

    Xs.prototype.D = function () {
        return this.height
    };
    Xs.prototype.ia = function () {
        return this.url
    };
    Xs.prototype.C = function () {
        return this.width
    };
    function Ys(a) {
        this.ba = a.ba;
        this.bk = a.Ga.bk;
        this.vf = null
    }

    var Zs = {
        uf: function (a, b) {
            var c = [];
            b.permissions.data.forEach(function (a) {
                "granted" == a.status && c.push(a.permission)
            });
            this.Al = c
        }, param: "permissions"
    }, $s = {
        zI: {
            uf: function (a) {
                this.accessToken = a.accessToken
            }
        }, CI: {
            uf: function (a, b) {
                this.email = b.email
            }, param: "email"
        }, FI: {
            uf: function (a, b) {
                this.Tv = b.first_name
            }, param: "first_name"
        }, HI: {
            uf: function (a) {
                this.id = a.userID
            }
        }, KI: {
            uf: function (a, b) {
                this.Ww = b.last_name
            }, param: "last_name"
        }, QI: {
            uf: function (a, b) {
                this.name = b.name
            }, param: "name"
        }, SI: Zs, TI: {
            uf: function (a, b) {
                this.Ox =
                    b.picture.data.url
            }, param: "picture.type(large)"
        }, DI: {
            uf: function (a) {
                this.cu = (new Date).getTime() + 1E3 * a.expiresIn
            }
        }
    };
    Ys.prototype.init = function () {
        var a = this, b, c;
        b = this;
        return (c = window.facebookSdkPromise) ? c : c = window.facebookSdkPromise = new P(function (c) {
            window.fbAsyncInit = function () {
                FB.init({
                    version: "v2.2",
                    appId: b.bk,
                    channelUrl: "//" + window.location.hostname + "/static/channel.html",
                    status: !0,
                    xfbml: !1
                });
                c(a)
            };
            at()
        })
    };
    function at() {
        var a, b = document.getElementsByTagName("script")[0];
        document.getElementById("facebook-jssdk") || (a = document.createElement("script"), a.id = "facebook-jssdk", a.src = "//connect.facebook.com/en_US/sdk.js", b.parentNode.insertBefore(a, b))
    }

    function bt() {
        var a;
        a = window.facebookSdkPromise;
        return !!a && a.isFulfilled()
    }

    function ct(a, b) {
        return new P(function (c, d) {
            dt(a, [Zs]).then(function (e) {
                e = e.Al;
                var g = _.difference(b, e);
                a.vf && (a.vf.Al = e);
                g.length ? d() : c()
            }).fail(d)
        })
    }

    function et(a) {
        return new P(function (b, c) {
            var d;
            d = Object.keys($s).map(function (a) {
                return $s[a]
            });
            dt(a, d).then(function (d) {
                d.email ? (a.vf = new ft(d.accessToken, d.email, d.Tv, d.id, d.Ww, d.name, d.Al, d.Ox, d.cu), b(a.vf)) : c("EMAIL_NOT_VERIFIED")
            }).fail(c)
        })
    }

    function dt(a, b) {
        var c = $.Deferred();
        a.getAuthResponse().then(function (a) {
            for (var e = [], g = 0; g < b.length; g++) {
                var h = b[g];
                h.param && e.push(h.param)
            }
            e = e.join(",");
            FB.api("/me?return_ssl_resources\x3d1\x26fields\x3d" + encodeURIComponent(e), function (e) {
                if ("error"in e)c.reject("FB_API_ERROR"); else {
                    for (var g = {}, h = 0; h < b.length; h++)b[h].uf.call(g, a, e);
                    c.resolve(g)
                }
            })
        }).fail(function (b) {
            a.vf = null;
            c.reject(b)
        });
        return c.promise()
    }

    Ys.prototype.getAuthResponse = function () {
        var a = $.Deferred();
        FB.getAuthResponse() ? a.resolve(FB.getAuthResponse()) : FB.getLoginStatus(function (b) {
            "connected" == b.status ? a.resolve(b.authResponse) : a.reject("UNAUTHORIZED")
        });
        return a.promise()
    };
    Ys.prototype.pb = function () {
        return this.vf
    };
    function gt(a) {
        var b = ["email", "public_profile", "user_photos"];
        return new P(function (c, d) {
            function e(b) {
                a.vf = null;
                d(b)
            }

            function g(g) {
                g.authResponse && g.status ? ct(a, b).then(c).catch(e) : d("FB_API_ERROR")
            }

            var h = _.difference(b, a.vf ? a.vf.Al : []);
            0 < h.length ? FB.login(g, {scope: h.join(",")}) : ct(a, b).then(c).catch(e)
        })
    }

    function ht(a) {
        return ct(a, ["email", "public_profile", "user_photos"])
    }

    function it(a) {
        if (!bt())throw new Us;
        var b = {};
        void 0 !== a && (b.offset = a);
        b.limit = 10;
        var c = $.Deferred();
        FB.api("/me/albums?return_ssl_resources\x3d1", b, function (a) {
            "error"in a ? c.reject("FB_API_ERROR") : (a = a.data.map(function (a) {
                return new Vs(a.id, a.count || 0, a.name)
            }), c.resolve(a))
        });
        return c.promise()
    }

    function jt(a, b, c) {
        if (!bt())throw new Us;
        var d = {};
        void 0 !== b && (d.offset = b);
        void 0 !== c && (d.limit = c);
        var e = $.Deferred();
        FB.api("/" + encodeURIComponent(a) + "/photos?return_ssl_resources\x3d1", d, function (a) {
            "error"in a ? e.reject("FB_API_ERROR") : (a = a.data.map(function (a) {
                var b = a.height, c = a.width, d = a.source, e = b / 4.6, g = c / 4.6, r = a.picture, p = a.images.filter(function (a) {
                    return a.source === r
                });
                0 < p.length && (e = p[0].height, g = p[0].width);
                p = a.images.sort(function (a, b) {
                    return b.height - a.height
                })[0];
                if (p.width > c || p.height >
                    b)b = p.height, c = p.width, d = p.source;
                return new Ws(a.id, a.name, new Xs(b, d, c), new Xs(e, r, g))
            }), e.resolve(a))
        });
        return e.promise()
    }

    Ys.prototype.Jn = function (a, b) {
        return new P(function (c, d) {
            function e() {
                return m.reduce(function (a, b) {
                    return a + b.getLength()
                }, 0)
            }

            function g(c) {
                var k;
                m = m.concat(c);
                c = 0 < c.length && 10 >= c.length;
                k = e() < a + b;
                c && k ? it(m.length).done(g).fail(d) : h()
            }

            function h() {
                var c = 0, e = m.filter(function (b) {
                    c += b.getLength();
                    return c > a
                }), g = m.filter(function (a) {
                    return -1 === e.indexOf(a)
                }).reduce(function (a, b) {
                    return a + b.getLength()
                }, 0), h = [], n = 0;
                e.forEach(function (c, d) {
                    var e = 0 === d ? a - g : 0, l = Math.min(b, c.getLength() - e);
                    n < b && (e = jt(c.G(),
                        e, l).done(k), h.push(e));
                    n += l
                });
                $.when.apply($.when, h).done(l).fail(d)
            }

            function k(a) {
                n = n.concat(a)
            }

            function l() {
                c(n)
            }

            var m = [], n = [];
            if (!bt())throw new Us;
            it(0).done(g).fail(d)
        })
    };
    function kt() {
        var a = Od;
        new P(function (b, c) {
            if (!bt())throw Error("Unable to perform action. FB API not yet initialized");
            et(a).then(function (b) {
                R(a.ba, "/profile/user/fb", {
                    facebookId: b.G(),
                    accessToken: b.accessToken,
                    tokenExpires: b.cu
                }).return(b).catch(c)
            }).catch(c)
        })
    }

    function lt(a) {
        this.bk = a.bk
    }

    function mt() {
        var a;
        a = xa.required("appId", window.facebookConfig);
        return new lt({bk: a})
    };
    function ft(a, b, c, d, e, g, h, k, l) {
        this.accessToken = a;
        this.email = b;
        this.Tv = c;
        this.id = d;
        this.Ww = e;
        this.name = g;
        this.Al = h;
        this.Ox = k;
        this.cu = l
    }

    ft.prototype.Zv = function () {
        return this.email
    };
    ft.prototype.G = function () {
        return this.id
    };
    ft.prototype.getName = function () {
        return this.name
    };
    function nt() {
    }

    la(nt, Error);
    function ot() {
    }

    la(ot, nt);
    function pt() {
    }

    la(pt, nt);
    function qt(a, b, c, d) {
        this.url = b.downloadUrl + "\x26access_token\x3d" + encodeURIComponent(a);
        this.file = b;
        this.NH = c;
        this.PH = d;
        a:{
            a = this.file.imageMediaMetadata.width;
            b = this.file.imageMediaMetadata.height;
            switch (this.file.imageMediaMetadata.rotation) {
                case 1:
                case 3:
                case 2:
                case 4:
                    a = {width: b, height: a};
                    break a
            }
            a = {width: a, height: b}
        }
        this.Xm = a
    }

    f = qt.prototype;
    f.G = function () {
        return this.file.id
    };
    f.La = function () {
        return this.file.title
    };
    f.D = function () {
        return this.Xm.height
    };
    f.C = function () {
        return this.Xm.width
    };
    f.ia = function () {
        return this.url
    };
    f.be = function () {
        return this.file.thumbnailLink
    };
    f.lw = function () {
        return this.NH
    };
    f.mw = function () {
        return this.PH
    };
    function rt(a) {
        this.accessToken = a.accessToken || null;
        this.dt = a.dt || null;
        this.aq = a.aq;
        this.Oo = a.Oo;
        this.dj = a.dj;
        if (this.accessToken) {
            var b = this;
            this.$n().then(function () {
                gapi.auth.setToken({accessToken: b.accessToken})
            })
        }
        if (this.dj && !a.dt)throw Error("Client cannot be configured with offline and not have a redirectUri");
        this.$n().then(this.Nu.bind(this, !1))
    }

    rt.prototype.load = function () {
        return this.$n()
    };
    rt.prototype.yn = function (a) {
        function b(b) {
            var c = b.result.items.map(function (a) {
                return new P(function (b, c) {
                    var d = a.thumbnailLink;
                    if (d) {
                        var g = new Image;
                        g.onload = function () {
                            this.complete && e.accessToken ? b(new qt(e.accessToken, a, this.naturalHeight, this.naturalWidth)) : c()
                        };
                        g.src = d
                    } else c()
                })
            });
            P.settle(c).then(function (c) {
                c = c.reduce(function (a, b) {
                    b.isFulfilled() && a.push(b.value());
                    return a
                }, []);
                d.resolve(new st(e, c, {hj: b.result.nextPageToken, limit: a.limit}))
            })
        }

        function c() {
            d.reject(new pt)
        }

        var d = $.Deferred(),
            e = this;
        if (0 > this.Oo.indexOf("https://www.googleapis.com/auth/drive.readonly"))throw Error("API was not configured with DRIVE_READ scope");
        this.$n().then(function () {
            var d = {
                q: "mimeType contains 'image/svg' or mimeType \x3d 'image/png' or mimeType \x3d 'image/jpeg'",
                maxResults: a.limit
            };
            a.hj && (d.pageToken = a.hj);
            (d = gapi.client.request({
                method: "GET",
                path: "https://www.googleapis.com/drive/v2/files",
                params: d
            })) && d.then(b, c)
        }).fail(c);
        return d.promise()
    };
    rt.prototype.getToken = function () {
        return this.accessToken
    };
    (function () {
        function a(a) {
            var c;
            try {
                c = JSON.parse(a.data)
            } catch (d) {
                return
            }
            c.f && null === document.getElementById(c.f) && a.stopImmediatePropagation()
        }

        window.googleApiLoaderDeferred = window.googleApiLoaderDeferred || $.Deferred();
        window.googleApiLoaderScript = window.googleApiLoaderScript || null;
        rt.prototype.lB = function () {
            var a, c = window.googleApiLoaderDeferred;
            a = $("\x3cscript\x3e");
            a[0].onerror = c.reject.bind(c);
            a.attr({
                src: "https://apis.google.com/js/client.js?onload\x3dGoogleApiOnGapiLoad",
                type: "text/javascript"
            });
            a.appendTo("head");
            return a
        };
        rt.prototype.$n = function () {
            window.googleApiLoaderScript || (window.addEventListener("message", a), window.googleApiLoaderScript = this.lB());
            return window.googleApiLoaderDeferred.promise()
        };
        window.GoogleApiOnGapiLoad = function () {
            window.googleApiLoaderDeferred.resolve()
        }
    })();
    rt.prototype.Nu = function (a) {
        function b(a) {
            var b = a && a.access_token;
            a = a && a.code;
            b ? (d.accessToken = b, c.resolve(d.accessToken)) : a ? c.resolve(a) : c.reject(new ot)
        }

        var c = jQuery.Deferred(), d = this;
        this.accessToken ? c.resolve(this.accessToken) : (a = {
            client_id: this.aq,
            immediate: !a,
            approval_prompt: "auto",
            access_type: this.dj ? "offline" : "online",
            response_type: this.dj ? "code" : "token",
            scope: this.Oo
        }, this.dj && (a = $.extend({redirect_uri: this.dt}, a)), gapi.auth.authorize(a, b));
        return c.promise()
    };
    function st(a, b, c) {
        this.google = a;
        this.YF = b;
        this.hj = c.hj;
        this.limit = c.limit
    }

    st.prototype.Jn = function () {
        return this.YF
    };
    function tt(a) {
        return a.google.yn({limit: a.limit, hj: a.hj})
    };
    function ut() {
        this.ba = Ja
    }

    function vt(a, b) {
        var c = b.ta(), d = b.filter, e = b.cd(), g = b.kc(), h = b.decorations, c = "/vfolders/brands/" + (c ? encodeURIComponent(c) : "~") + b.ob() + "?format\x3d" + encodeURIComponent(b.$v()) + (d ? "\x26filter\x3d" + encodeURIComponent(d) : "") + (e ? "\x26limit\x3d" + encodeURIComponent(String(e)) : "") + (g ? "\x26continuation\x3d" + encodeURIComponent(g) : "") + (h ? "\x26decorations\x3d" + encodeURIComponent(h.join(",")) : "");
        return Fe(a.ba, c).get(0).then(wt)
    };
    function xt() {
        this.width = this.height = 0;
        this.url = "";
        this.version = 0
    }

    xt.prototype.C = function () {
        return this.width
    };
    xt.prototype.D = function () {
        return this.height
    };
    xt.prototype.getVersion = function () {
        return this.version
    };
    xt.prototype.ia = function () {
        return this.url
    };
    function yt(a) {
        return a ? $.extend(new xt, a) : null
    }

    function zt() {
        this.kind = At;
        this.type = Bt;
        this.name = this.id = "";
        this.timestamp = this.version = 0;
        this.trashedTimestamp = null;
        this.thumbnail = new xt;
        this.tags = [];
        this.folders = this.owner = this.marketplaceStatus = null
    }

    var At = "SIMPLE", Bt = "DESIGN";
    f = zt.prototype;
    f.Nb = function () {
        return this.type
    };
    f.G = function () {
        return this.id
    };
    f.getName = function () {
        return this.name
    };
    f.getVersion = function () {
        return this.version
    };
    f.nw = function () {
        return this.timestamp
    };
    f.dc = function () {
        return this.thumbnail
    };
    f.rg = function () {
        return this.folders
    };
    function Ct() {
    }

    Ct.prototype.pb = function () {
        return this.user
    };
    Ct.prototype.ta = function () {
        return this.brand
    };
    function Dt() {
    }

    Dt.prototype = new zt;
    function Et() {
        this.content = null
    }

    Et.prototype = new Dt;
    Et.prototype.getContent = function () {
        return this.content
    };
    function Ft(a) {
        a = a.content;
        var b = a.elements;
        return b && 1 === b.length && "grid" === b[0].type ? 0 >= b[0].top && 0 >= b[0].left && b[0].width >= a.width && b[0].height >= a.height && (!b[0].contents || 0 === b[0].contents.length) : !1
    }

    function Gt() {
        this.publik = this.brandPublik = !1;
        this.myRole = "NONE";
        this.commentCount = this.likerCount = this.remixCount = 0;
        this.likedByMe = !1;
        this.ownerUser = this.latestComment = null
    }

    Gt.prototype = new zt;
    function Ht() {
    }

    f = Ht.prototype;
    f.Zh = function (a) {
        this.brand = a;
        return this
    };
    f.ta = function () {
        return this.brand || null
    };
    f.Vj = function (a) {
        this.user = a;
        return this
    };
    f.pb = function () {
        return this.user || null
    };
    f.Zf = function (a) {
        this.folder = a;
        return this
    };
    f.ob = function () {
        return this.folder
    };
    function It(a, b) {
        a.filter = b;
        return a
    }

    f.rm = function (a) {
        this.format = a;
        return this
    };
    f.$v = function () {
        return this.format
    };
    f.Sj = function (a) {
        this.continuation = a;
        return this
    };
    f.kc = function () {
        return this.continuation || null
    };
    f.Tj = function (a) {
        this.limit = a;
        return this
    };
    f.cd = function () {
        return this.limit
    };
    function Jt() {
        this.items = [];
        this.folders = this.continuation = null
    }

    Jt.prototype.Ld = function () {
        return this.items
    };
    Jt.prototype.kc = function () {
        return this.continuation
    };
    Jt.prototype.rg = function () {
        return this.folders
    };
    function wt(a) {
        function b(a) {
            if (a.kind === At)a ? (a = $.extend(new Dt, a), a.kind = At, a.owner && (a.owner = Object.freeze(E(Ct, a.owner))), a.thumbnail && (a.thumbnail = yt(a.thumbnail))) : a = null; else if ("SOCIAL" === a.kind)if (a) {
                a = $.extend(new Gt, a);
                a.kind = "SOCIAL";
                if (a.latestComment) {
                    var b = a.latestComment;
                    b.author.deactivated && (b.author.username = "", b.author.displayName += " [deleted]", b.author.avatar = rm);
                    var e = new Am;
                    $.extend(e, b);
                    e.author = Ql(b.author);
                    a.latestComment = e
                }
                a.owner && (a.owner = Object.freeze(E(Ct, a.owner)));
                a.thumbnail && (a.thumbnail = yt(a.thumbnail));
                a.ownerUser = Ql(a.ownerUser)
            } else a = null;
            return a
        }

        if (!a)return null;
        a = $.extend(new Jt, a);
        a.items && (a.items = a.items.map(b));
        a.folders && (a.folders = a.folders.map(Re));
        return a
    };
    function Kt(a, b, c) {
        this.name = a;
        this.ip = b;
        this.Z = c
    }

    Kt.prototype.ac = function () {
        if (this.name)return this.name;
        if (this.ip) {
            if ("LOGOS" === this.ip)return this.Z.format("objectPanelUploadsPanelSystemFolderLogos");
            if ("UNFOLDERED" === this.ip)return this.Z.format("objectPanelUploadsPanelSystemFolderUnfoldered");
            throw Error("unrecognised system folder");
        }
        return this.Z.format("objectPanelUploadsPanelUntitledFolder")
    };
    function vr(a) {
        this.name = a || "Normal";
        this.jd = this.vignette = this.Sc = this.saturation = this.contrast = this.brightness = this.blur = 0;
        this.ne = 50
    }

    var Lt = new vr, Mt = new vr("halftone");

    function Nt(a) {
        var b = a.match(/([a-z0-9]{2})/gi), c = new vr;
        if ("halftone" === a)return Mt;
        c.brightness = parseInt(b[0], 16) - 100;
        c.contrast = parseInt(b[1], 16) - 100;
        c.saturation = parseInt(b[2], 16) - 100;
        c.Sc = parseInt(b[3], 16) - 100;
        c.blur = parseInt(b[4], 16) - 100;
        c.vignette = parseInt(b[5], 16);
        c.jd = parseInt(b[6], 16) - 100;
        c.ne = 7 < b.length ? parseInt(b[7], 16) : Lt.ne;
        return c
    }

    function Ot(a) {
        a = a.toLowerCase();
        return "tint" !== a && "name" !== a
    }

    function Pt(a, b, c) {
        b = Math.round((b || 0) * c);
        return "vignette" === a || "tintAmount" === a ? Math.min(100, Math.max(0, b)) : Math.min(100, Math.max(-100, b))
    }

    function Qt(a, b) {
        var c = _.findWhere(Rt, {name: a.name});
        _.chain(c).keys().filter(Ot).each(function (a) {
            this.To(a, Pt(a, c[a], b))
        }.bind(a))
    }

    function St(a) {
        var b = new vr;
        b.ld(a.serialize());
        b.blur && (b.blur *= .5);
        b.brightness && (b.brightness *= .5);
        b.contrast && (b.contrast *= .6);
        b.saturation && 0 < b.saturation && (b.saturation *= .8);
        b.vignette && (b.vignette *= .7);
        return b
    }

    f = vr.prototype;
    f.ld = function (a) {
        a && (this.name = a.name || Lt.name, this.blur = a.blur || Lt.blur, this.brightness = a.brightness || Lt.brightness, this.contrast = a.contrast || Lt.contrast, this.saturation = a.saturation || Lt.saturation, this.Sc = a.tint || Lt.Sc, this.vignette = a.vignette || Lt.vignette, this.jd = a.xpro || Lt.jd, this.ne = _.isNumber(a.tintAmount) ? a.tintAmount : Lt.ne)
    };
    function Tt(a, b) {
        function c(c) {
            return a[c] !== b[c]
        }

        a = void 0 === a ? Lt : a;
        b = void 0 === b ? Lt : b;
        return null === a && null === b ? !0 : null === a || null === b ? !1 : 0 === Object.keys(a).filter(c).length && 0 === Object.keys(b).filter(c).length
    }

    f.To = function (a, b) {
        switch (a) {
            case "brightness":
                return this.brightness = b, !0;
            case "saturation":
                return this.saturation = b, !0;
            case "contrast":
                return this.contrast = b, !0;
            case "blur":
                return this.blur = b, !0;
            case "tint":
                return this.Sc = b, !0;
            case "xpro":
            case "xprocess":
                return this.jd = b, !0;
            case "vignette":
                return this.vignette = b, !0;
            case "tintAmount":
                return this.ne = b, !0;
            default:
                return !1
        }
    };
    f.getByName = function (a) {
        switch (a) {
            case "brightness":
                return this.brightness;
            case "saturation":
                return this.saturation;
            case "contrast":
                return this.contrast;
            case "blur":
                return this.blur;
            case "tint":
                return this.Sc;
            case "xpro":
            case "xprocess":
                return this.jd;
            case "vignette":
                return this.vignette;
            case "tintAmount":
                return this.ne;
            default:
                throw Error("unknown filter property name: " + a);
        }
    };
    f.Qr = function () {
        return null !== Ut(this)
    };
    f.serialize = function () {
        if (Tt(this, Lt))return null;
        var a = {};
        this.name && (a.name = this.name);
        this.blur && (a.blur = this.blur);
        this.brightness && (a.brightness = this.brightness);
        this.contrast && (a.contrast = this.contrast);
        this.saturation && (a.saturation = this.saturation);
        this.Sc && (a.tint = this.Sc);
        this.vignette && (a.vignette = this.vignette);
        this.jd && (a.xpro = this.jd);
        _.isNumber(this.ne) && (a.tintAmount = this.ne);
        return a
    };
    function Ut(a) {
        var b = _.findWhere(Rt, {name: a.name});
        if (null === b)return null;
        var c = Vt(a, b);
        return null === c ? null : _.all(b, function (a, e) {
            return Ot(e) ? 1 >= Math.abs(this.getByName(e) - Pt(e, b[e], c)) : !0
        }.bind(a)) ? c : null
    }

    function Vt(a, b) {
        var c = 0, d = null;
        _.each(b, function (a, b) {
            Ot(b) && Math.abs(a) >= Math.abs(c) && 100 > Math.abs(this.getByName(b)) && (c = a, d = b)
        }.bind(a));
        return 0 === c ? null : a.getByName(d) / c
    }

    f.ka = function () {
        return [this.brightness + 100, this.contrast + 100, this.saturation + 100, this.Sc + 100, this.blur + 100, this.vignette, this.jd + 100, this.ne].map(function (a) {
            a = Math.round(a).toString(16);
            1 == a.length && (a = "0" + a);
            return a
        }).join("")
    };
    function Wt(a, b) {
        var c = a - 200 / 7;
        0 > c && (c = 200 + c);
        var d, e, c = 360 * c / 200 / 360;
        d = 1;
        e = .5;
        if (0 == d)e = d = c = e; else {
            var g = .5 > e ? e * (1 + d) : e + d - e * d, h = 2 * e - g;
            e = Th(h, g, c + 1 / 3);
            d = Th(h, g, c);
            c = Th(h, g, c - 1 / 3)
        }
        c = [Math.round(255 * e), Math.round(255 * d), Math.round(255 * c)];
        return {color: {r: c[0], g: c[1], b: c[2]}, Mp: 7 + .14 * (b - 50)}
    }

    function Xt(a) {
        function b(b) {
            return parseFloat((b * a / -100).toFixed(2))
        }

        if (0 < a) {
            var c = function (b) {
                return parseFloat((b * a / 100).toFixed(2))
            }, d = [0, .2, 0, -.1, 0].map(c), e = [0, .1, 0, -.1, 0].map(c), c = [.2, 0, .2].map(c);
            return {
                red: [[0, 0], [.3, .3 - d[1]], [.7, .7 - d[3]], [1, 1]],
                green: [[0, 0], [.25, .25 - e[1]], [.75, .75 - e[3]], [1, 1]],
                blue: [[0, c[0]], [0 + 2 / 3 * .5, c[0] + 2 / 3 * (.5 - c[0])], [1 + 2 / 3 * -.5, 1 - c[2] + 2 / 3 * (.5 - (1 - c[2]))], [1, 1 - c[2]]]
            }
        }
        d = [0, .2, .5, -.05].map(b);
        e = [0, -.15, 0, 0].map(b);
        c = [0, -.01, 0, .3].map(b);
        return {
            red: [[0, 0], [.3, .3 - d[1]], [.7,
                .7 - d[2]], [.95, .95 - d[3]]],
            green: [[0, 0], [.25, .25 - e[1]], [.6, .6], [1, 1]],
            blue: [[0, 0], [.3, .3 - c[1]], [.5, .5], [1, 1 - c[3]]]
        }
    };
    function Yt(a) {
        this.filter = new vr;
        this.Yk = this.Zs = this.Xd = !1;
        this.hn = {};
        this.LB = "";
        this.ib = a;
        this.nq = "print" == Zo ? Up : ee;
        this.Mt = null;
        this.$k = 50
    }

    function Vo(a, b) {
        var c = new vr, d = new Yt(b);
        a && c.ld(a);
        ur(d, c);
        return d
    }

    f = Yt.prototype;
    f.Qr = function () {
        return this.filter.Qr()
    };
    f.Bf = function () {
        return this.Yk
    };
    f.initialize = function (a) {
        function b() {
            c.Yk = !0;
            a && a()
        }

        var c = this;
        !nq(this.ib) || this.Yk || Tt(this.filter, Lt) ? b() : $p(this, b)
    };
    function Zt(a) {
        a.sd || (a.sd = new $t(window, a.ib, a.nq), a.sd.update(!0))
    }

    f.update = function (a, b) {
        var c = this;
        if (this.Xd)if (this.Mt = bq(this), this.trigger("change"), this.ib.isEmpty())this.sd && (this.sd.remove(), this.sd = null), this.Xd = !1, b && b(); else {
            this.sd || (this.sd = new $t(window, this.ib, this.nq));
            var d = !!this.Zs;
            au(this.sd.apply(this.filter), d).update(!!a, function () {
                c.Xd = !1;
                b && b()
            })
        } else b && b()
    };
    function $p(a, b) {
        a.Xd = !0;
        a.Zs = !0;
        a.og();
        a.update(!0, function () {
            a.Zs = !1;
            a.wf();
            b && b()
        })
    }

    f.To = function (a, b, c) {
        "intensity" === a ? (this.$k = b, Qt(this.filter, b / 50), this.Xd = !0) : this.Xd = this.filter.To(a, b);
        this.update(!1, c)
    };
    f.getByName = function (a) {
        return "intensity" == a ? this.$k : this.filter.getByName(a)
    };
    function ur(a, b) {
        a.filter = b;
        a.$k = Math.round(50 * Ut(b))
    }

    function bu(a, b) {
        a.filter = new vr;
        a.$k = 50;
        b && a.filter.ld(b);
        $p(a, void 0)
    }

    function cu(a) {
        a.filter = new vr;
        a.$k = 50;
        a.Xd = !0;
        $p(a, void 0)
    }

    function bq(a) {
        return a.filter.serialize()
    }

    f.ka = function () {
        return this.filter.ka()
    };
    f.og = function () {
    };
    f.wf = function () {
        if (this.sd) {
            var a = au(this.sd, !0);
            if (!a.lu)if (a.nm)du(a); else if (a.canvas) {
                var b = a.wp.clone(!0).off().removeAttr("crossorigin"), c = eu(a);
                c ? (b.get(0).src = c, fu(a)) : (c = a.canvas.toDataURL(), a.cache.add(gu(a), c), b.get(0).src = c);
                a.ma.find("img,canvas").remove();
                a.ma.append(b);
                a.wp = b;
                $("#limbo").append(a.canvas);
                a.Pj = !1
            }
        }
    };
    f.vb = function () {
        return this.ib.vb()
    };
    f.Hq = function (a, b, c) {
        var d = new vr;
        a && d.ld(a);
        this.ib.serialize().mediaId + this.ib.serialize().mediaVersion !== this.LB && (this.hn = {});
        if (this.hn[d.name])c(this.hn[d.name]); else if (a = this.vb()) {
            var e = this, g = b ? Vp : this.nq, h = a[g];
            b = h.ia();
            a = $("\x3cimg\x3e");
            var k = $("\x3cdiv\x3e");
            k.append(a);
            k.appendTo("#limbo");
            a.one("load", function () {
                var a = h.C(), b = h.D();
                k.css("width", a).css("height", b);
                var a = new Xo(e.ib.serialize(), k), n = new $t(window, a, g);
                n.apply(d).Hq().update(!0, function () {
                    var a = {src: hu(n), tI: iu(n)};
                    e.hn[d.name] = a;
                    c(a);
                    n.remove();
                    k && k.remove()
                })
            });
            Hp(Ip, a, b)
        }
    };
    f.remove = function () {
        this.sd && this.sd.remove();
        this.sd = null
    };
    f.trigger = Backbone.Events.trigger;
    f.listenTo = Backbone.Events.listenTo;
    f.stopListening = Backbone.Events.stopListening;
    _.extend(Yt.prototype, Backbone.Events);
    var Rt = [{
        name: "The Blues",
        blur: -14,
        brightness: 63,
        contrast: -37,
        tint: 0,
        saturation: -26,
        vignette: 0,
        xpro: -23,
        tintAmount: 50
    }, {
        name: "Edge",
        blur: -53,
        brightness: 10,
        contrast: -24,
        tint: 49,
        saturation: 26,
        vignette: 0,
        xpro: 29,
        tintAmount: 50
    }, {
        name: "Selfie",
        blur: void 0,
        brightness: 10,
        contrast: -12,
        tint: -50,
        saturation: -12,
        vignette: 56,
        xpro: 50,
        tintAmount: 50
    }, {
        name: "Festive",
        blur: -7,
        brightness: 10,
        contrast: 21,
        tint: void 0,
        saturation: 24,
        vignette: void 0,
        xpro: 40,
        tintAmount: 50
    }, {
        name: "Rosie", blur: -14, brightness: 0, contrast: 55, tint: -73,
        saturation: -28, vignette: 0, xpro: 27, tintAmount: 50
    }, {
        name: "Drama",
        blur: 0,
        brightness: -10,
        contrast: 21,
        tint: 60,
        saturation: -34,
        vignette: 50,
        xpro: 80,
        tintAmount: 50
    }, {
        name: "Epic",
        blur: 1,
        brightness: 6,
        contrast: 20,
        tint: void 0,
        saturation: -14,
        vignette: 39,
        xpro: 50,
        tintAmount: 50
    }, {
        name: "Grayscale",
        blur: void 0,
        brightness: 15,
        contrast: -20,
        tint: void 0,
        saturation: -100,
        vignette: void 0,
        xpro: void 0,
        tintAmount: 50
    }, {
        name: "Nordic",
        blur: 0,
        brightness: 15,
        contrast: -16,
        tint: 0,
        saturation: -50,
        vignette: 0,
        xpro: 0,
        tintAmount: 50
    }, {
        name: "Summer",
        blur: 0, brightness: 10, contrast: 14, tint: -46, saturation: 18, vignette: 25, xpro: 30, tintAmount: 50
    }, {
        name: "Street",
        blur: -7,
        brightness: -7,
        contrast: 21,
        tint: 0,
        saturation: -95,
        vignette: 50,
        xpro: 0,
        tintAmount: 50
    }, {
        name: "Retro",
        blur: 0,
        brightness: 0,
        contrast: -14,
        tint: 14,
        saturation: -18,
        vignette: 40,
        xpro: 69,
        tintAmount: 50
    }, {
        name: "Whimsical",
        blur: -19,
        brightness: 43,
        contrast: -15,
        tint: -79,
        saturation: -53,
        vignette: 21,
        xpro: 60,
        tintAmount: 50
    }, {
        name: "Cali", blur: 0, brightness: 22, contrast: -46, tint: 0, saturation: 38, vignette: 0, xpro: 27,
        tintAmount: 50
    }];

    function $t(a, b, c) {
        this.ib = b;
        this.$s = c;
        this.ma = this.ib.H();
        this.lu = this.ib.Vn;
        this.nm = ju;
        this.Sr = this.jn = this.Xd = this.locked = this.Pj = !1;
        !this.nm && "WebGLRenderingContext"in a && (a = fx.canvas(), b = fx.canvas(), a && b && (ku = a, lu = b, this.nm = ju = !0))
    }

    var ku, lu;
    $t.prototype.pC = function () {
        var a = 0;
        return function () {
            a += 1;
            return a.toString()
        }
    }();
    var ju = !1;
    $t.prototype.Hq = function () {
        this.jn = !0;
        return this
    };
    $t.prototype.apply = function (a) {
        this.values = new vr;
        this.values.ld(St(a).serialize());
        return this
    };
    function au(a, b) {
        a.Pj = b;
        return a
    }

    $t.prototype.update = function (a, b) {
        this.Sr || !a && this.locked || (this.lu ? this.kI(b) : this.nm ? mu(this, b) : nu(this, a, b))
    };
    function du(a) {
        function b() {
            this.Pj = !1;
            c.ma.find("img,canvas").remove();
            c.ma.append(d);
            c.wp = d;
            $("#limbo").append(c.canvas)
        }

        if (a.canvas) {
            var c = a, d = a.wp.clone(!0).off().removeAttr("crossorigin"), e = eu(a);
            e ? (d.get(0).src = e, b(), fu(a)) : mu(a, function () {
                c.canvas.update();
                c.canvas._.texture.toImage(d.get(0));
                var a = d.get(0).src;
                c.cache.add(gu(c), a);
                b()
            })
        }
    }

    function ou(a, b) {
        var c = a.ib.ua.clone().scale(M).round();
        $(b).css(Gp(c, 0))
    }

    (function () {
        function a(a, c, d, e) {
            Wp(Ip, a.vb()[d].ia()).then(function (g) {
                var h = $("\x3cdiv\x3e").append(g);
                g = new Xo(a.serialize(), h);
                h.appendTo("#limbo");
                var k = new $t(window, g, d);
                k.values = b(c);
                k.update(!0, function () {
                    var a = hu(k);
                    h.remove();
                    e(a)
                })
            })
        }

        function b(a) {
            a = Nt(a.ka());
            a.saturation /= .8;
            0 !== a.Sc && (a.brightness = 0 < a.brightness ? a.brightness / 1.5 : a.brightness - 15);
            0 < a.blur && (a.blur /= 2);
            return a
        }

        function c(a) {
            var b = $(a).children("defs.canva.filter");
            0 === b.length ? (b = document.createElementNS("http://www.w3.org/2000/svg",
                "defs"), b.classList.add("canva"), b.classList.add("filter"), a.appendChild(b)) : b = b.get(0);
            return b
        }

        function d(a, b, c) {
            var d = {
                brightness: l,
                contrast: m,
                saturation: n,
                Sc: k,
                blur: q,
                vignette: h,
                jd: e
            }, g = document.createElementNS("http://www.w3.org/2000/svg", "filter");
            c = c.ua.clone().scale(2);
            g.setAttribute("id", b);
            "print" === Zo && g.setAttribute("filterRes", c.C() + " " + c.D());
            b = document.createElementNS("http://www.w3.org/2000/svg", "feComponentTransfer");
            g.appendChild(b);
            Object.keys(a).filter(function (b) {
                return d.hasOwnProperty(b) &&
                    void 0 !== a[b]
            }).forEach(function (b) {
                0 !== a[b] && d[b].call(this, a[b], a).forEach(function (a) {
                    g.appendChild(a)
                })
            });
            return g
        }

        function e(a) {
            if (0 === a)return [];
            a = g(Xt(a));
            a.forEach(function (a) {
                a.classList.add("crossProcess")
            });
            return a
        }

        function g(a) {
            var b = document.createElementNS("http://www.w3.org/2000/svg", "feComponentTransfer");
            b.setAttribute("color-interpolation-filters", "sRGB");
            var c = {r: a.red, g: a.green, b: a.blue};
            ["r", "g", "b"].forEach(function (a) {
                var d = document.createElementNS("http://www.w3.org/2000/svg",
                    "feFunc" + a.toUpperCase());
                if (a = c[a])a = pu({x: a[0][0], y: a[0][1]}, {x: a[1][0], y: a[1][1]}, {
                    x: a[2][0],
                    y: a[2][1]
                }, {x: a[3][0], y: a[3][1]}).map(function (a) {
                    return a.y
                }), d.setAttribute("type", "table"), d.setAttribute("tableValues", a.join(" ")), b.appendChild(d)
            });
            b.classList.add("curves");
            return [b]
        }

        function h(a) {
            if (0 === a)return [];
            var b = document.createElementNS("http://www.w3.org/2000/svg", "radialGradient"), c = document.createElementNS("http://www.w3.org/2000/svg", "stop"), d = document.createElementNS("http://www.w3.org/2000/svg",
                "stop");
            b.classList.add("vignette");
            b.appendChild(c);
            b.appendChild(d);
            b.setAttribute("cx", "50%");
            b.setAttribute("cy", "50%");
            b.setAttribute("r", "50%");
            b.setAttribute("fx", "50%");
            b.setAttribute("fy", "50%");
            var e = Math.min(1, 1.3);
            c.setAttribute("offset", (.7 / 1.3).toString());
            c.setAttribute("stop-color", "#000000");
            c.setAttribute("stop-opacity", "0");
            d.setAttribute("offset", e.toString());
            d.setAttribute("stop-color", "#000000");
            d.setAttribute("stop-opacity", a / 100);
            return [b]
        }

        function k(a, b) {
            if (0 === a)return [];
            var c = Wt(a + 100, b.getByName("tintAmount")), d = {
                r: c.color.r / 255,
                g: c.color.g / 255,
                b: c.color.b / 255
            }, e = c.Mp / 100 * 2, g = document.createElementNS("http://www.w3.org/2000/svg", "feComponentTransfer");
            g.setAttribute("color-interpolation-filters", "sRGB");
            ["r", "g", "b"].forEach(function (a) {
                var b = document.createElementNS("http://www.w3.org/2000/svg", "feFunc" + a.toUpperCase());
                a = d[a] * e;
                b.setAttribute("type", "linear");
                b.setAttribute("slope", 1 - e);
                b.setAttribute("intercept", a);
                g.appendChild(b)
            });
            g.classList.add("tint");
            return [g]
        }

        function l(a) {
            if (0 === a)return [];
            var b = a / 100, c = document.createElementNS("http://www.w3.org/2000/svg", "feComponentTransfer");
            c.setAttribute("color-interpolation-filters", "sRGB");
            ["r", "g", "b"].forEach(function (a) {
                a = document.createElementNS("http://www.w3.org/2000/svg", "feFunc" + a.toUpperCase());
                a.setAttribute("type", "linear");
                a.setAttribute("slope", 1);
                a.setAttribute("intercept", b);
                c.appendChild(a)
            });
            c.classList.add("brightness");
            return [c]
        }

        function m(a) {
            if (0 === a)return [];
            var b = (a * (1 < a ? 1 / .6 : 1) +
                100) / 100, c = document.createElementNS("http://www.w3.org/2000/svg", "feComponentTransfer");
            c.setAttribute("color-interpolation-filters", "sRGB");
            ["r", "g", "b"].forEach(function (a) {
                a = document.createElementNS("http://www.w3.org/2000/svg", "feFunc" + a.toUpperCase());
                var d = -(.5 * b) + .5;
                a.setAttribute("type", "linear");
                a.setAttribute("slope", b);
                a.setAttribute("intercept", d);
                c.appendChild(a)
            });
            c.classList.add("contrast");
            return [c]
        }

        function n(a) {
            if (0 === a)return [];
            a = (a + 100) / 100;
            a *= 1 >= a ? 1 : a;
            a = [.3086 + .6914 * a, .6094 - .6094 *
            a, .082 - .082 * a, 0, 0, .3086 - .3086 * a, .6094 + (1 - .6094) * a, .082 - .082 * a, 0, 0, .3086 - .3086 * a, .6094 - .6094 * a, .082 + .918 * a, 0, 0, 0, 0, 0, 1, 0];
            var b = document.createElementNS("http://www.w3.org/2000/svg", "feColorMatrix");
            b.setAttribute("color-interpolation-filters", "sRGB");
            b.setAttribute("type", "matrix");
            b.setAttribute("values", a.join(" "));
            b.classList.add("saturation");
            return [b]
        }

        function q(a) {
            if (0 === a)return [];
            if (0 > a) {
                a *= -1;
                if (0 === a)a = []; else {
                    a = a / 100 * 4;
                    a = [0, -a, 0, -a, 4 * a + 1, -a, 0, -a, 0];
                    var b = document.createElementNS("http://www.w3.org/2000/svg",
                        "feConvolveMatrix");
                    b.setAttribute("order", "3");
                    b.setAttribute("kernelMatrix", a.join(" "));
                    b.classList.add("sharpen");
                    a = [b]
                }
                return a
            }
            b = document.createElementNS("http://www.w3.org/2000/svg", "feGaussianBlur");
            b.setAttribute("stdDeviation", .125 * a);
            b.classList.add("blur");
            return [b]
        }

        var r = 0;
        $t.prototype.kI = function (b) {
            var e = "_CANVA_FILTER_" + r++;
            qu(this);
            if (!this.values || Tt(this.values, Lt))b && b(); else {
                this.Ak = c(this.ma.get(0));
                var g = d(this.values, e, this.ib);
                this.Ak.appendChild(g);
                var g = this.Ak.querySelector(".vignette"),
                    h = this.ma.get(0).querySelector(".vignette"), k = e + "_VIGNETTE";
                g ? (this.Ak.appendChild(g), g.setAttribute("id", k), h.setAttribute("fill", "url(#" + k + ")")) : h.setAttribute("fill", "none");
                var l = this.ma.find("image.placeholder").get(0);
                vn ? a(this.ib, this.values, this.$s, function (a) {
                    a && Hp(Ip, $(l), a);
                    b && b()
                }) : (l.setAttribute("filter", "url(#" + e + ")"), b && b())
            }
        }
    })();
    function gu(a) {
        var b, c = a.ib.serialize();
        a.hd && a.values && a.ib && (b = a.values.ka() + c.mediaId + c.mediaVersion + a.hd.width + a.hd.height);
        return b
    }

    function ru(a) {
        var b = gu(a);
        return a.Pj && !!b && !!a.cache.fetch(b)
    }

    function eu(a) {
        return ru(a) ? a.cache.fetch(gu(a)) : void 0
    }

    function mu(a, b) {
        function c() {
            d.hd.width = e;
            d.hd.height = g;
            d.canvas || (d.canvas = d.jn ? lu : ku, d.ma.append(d.canvas), ou(d, d.canvas), d.wo = d.canvas.texture(d.hd), d.canvas.draw(d.wo, e, g), $("#limbo").append(d.hd));
            if (d.canvas.width !== e || d.canvas.height !== g)d.canvas.width = e, d.canvas.height = g;
            ou(d, d.canvas);
            d.canvas.draw(d.wo, e, g);
            if (d.values) {
                d.canvas.brightnessContrast((d.values.brightness || 0) / 100, (d.values.contrast || 0) / 100).saturation(d.values.saturation || 0);
                if (d.values.Sc) {
                    var a = Wt(d.values.Sc + 100, d.values.ne);
                    d.canvas.colorize(a.color.r, a.color.g, a.color.b, a.Mp / 100)
                }
                d.values.blur && (0 < d.values.blur ? d.canvas.triangleBlur(d.values.blur) : d.canvas.unsharpMask(3, -1 * d.values.blur / 20));
                d.values.jd && (a = Xt(d.values.jd), d.canvas.curves(a.red, a.green, a.blue));
                fu(d);
                d.values.name === Mt.name && d.canvas.colorHalftone(e / 2, g / 2, .45, e / 100)
            }
            d.canvas.update();
            b && b();
            d.jn = !1;
            d.locked = !1;
            d.Xd = !1
        }

        var d = a, e, g;
        if (ru(a))b && b(); else {
            var h = a.ib.vb();
            h && (h = h[d.$s], e = h.C(), g = h.D(), d.Cw = h.ia(), d.Pj = !1, d.locked = !0, su(d, c))
        }
    }

    function nu(a, b, c) {
        function d() {
            h.hd.width = k;
            h.hd.height = l;
            if (h.nd) {
                if (h.canvas.width !== k || h.canvas.height !== l)h.canvas.width = k, h.canvas.height = l;
                e()
            } else h.canvas = document.createElement("canvas"), h.canvas.setAttribute("data-caman-hidpi-disabled", !0), h.Uu = "camanCanvas" + h.pC(), h.canvas.id = h.Uu, h.canvas.width = k, h.canvas.height = l, ou(h, h.canvas), h.ma.append(h.canvas), h.sA = h.canvas.getContext("2d"), h.sA.drawImage(h.hd, 0, 0, k, l), h.nd = Caman("#" + h.Uu, e), $("#limbo").append(h.hd)
        }

        function e() {
            ou(h, h.canvas);
            h.nd.revert(!1);
            if (h.values) {
                h.values.brightness && 0 != h.values.brightness && h.nd.brightness(h.values.brightness);
                h.values.contrast && 0 != h.values.contrast && h.nd.contrast(h.values.contrast);
                h.values.saturation && 0 != h.values.saturation && (-100 == h.values.saturation ? h.nd.greyscale() : h.nd.saturation(h.values.saturation));
                var a = Wt(h.values.Sc + 100, h.values.ne);
                h.values.Sc && h.nd.colorize(a.color.r, a.color.g, a.color.b, 2.5 * a.Mp);
                h.values.blur && 0 != h.values.blur && (0 < h.values.blur ? h.nd.stackBlur(h.values.blur) : h.nd.sharpen(-1 *
                    h.values.blur || 0));
                if (h.values.jd) {
                    var b = Xt(h.values.jd), a = b.red.map(g), d = b.green.map(g), b = b.blue.map(g);
                    h.nd.curves("r", a[0], a[1], a[2], a[3]);
                    h.nd.curves("g", d[0], d[1], d[2], d[3]);
                    h.nd.curves("b", b[0], b[1], b[2], b[3])
                }
                fu(h)
            }
            h.nd.render(function () {
                c && c();
                h.jn = !1;
                window.setTimeout(function () {
                    h.locked = !1
                }, 1E3);
                h.Xd = !1
            })
        }

        function g(a) {
            return [Math.min(255, Math.round(255 * a[0])), Math.min(255, Math.round(255 * a[1]))]
        }

        if (b) {
            var h = a, k, l;
            if (ru(a))c && c(); else if (a = a.ib.vb())a = a[h.$s], k = a.C(), l = a.D(), h.Cw = a.ia(),
                h.Pj = !1, h.locked = !0, su(h, d)
        } else c && c()
    }

    function fu(a) {
        var b = a.ma.find(".vignette");
        0 === b.length && (b = $('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'), a.ma.prepend(b));
        a.values.vignette ? (a = iu(a), b.removeClass("off").addClass("on").css("background-image", "radial-gradient(" + a + ")")) : b.removeClass("on").addClass("off").css("background-image", "none")
    }

    function su(a, b) {
        function c(a) {
            if (d.xh && 0 < d.xh.length && d.xh.get(0).src) {
                d.hd = new Image;
                var c = $(d.hd);
                c.css("visibility", "hidden");
                Hp(Ip, c, a).then(function () {
                    window.setTimeout(function () {
                        d.Sr || (d.xh.appendTo("#limbo"), c.css("visibility", "visible"), b())
                    }, 300)
                });
                ou(d, d.hd);
                d.ma.append(c)
            } else window.setTimeout(function () {
                su(d, b)
            }, 500)
        }

        var d = a;
        d.canvas ? (1 == $(d.canvas).parents("#limbo").length && ($(d.canvas).appendTo(d.ma), d.ma.find("img").remove()), b()) : (d.xh = d.ma.find("img"), d.wp = d.xh, c(d.Cw))
    }

    function iu(a) {
        return "circle farthest-side at center center, rgba(0,0,0,0) 70%, " + ("rgba(0,0,0," + a.values.vignette / 100 + ")") + " 130%"
    }

    function hu(a) {
        var b = $("\x3cimg /\x3e");
        a.nm ? (a.canvas.update(), a.canvas._.texture.toImage(b.get(0))) : b.get(0).src = a.canvas.toDataURL();
        return b.get(0).src
    }

    $t.prototype.remove = function () {
        this.Sr = !0;
        this.lu ? qu(this) : ($(this.hd).remove(), this.xh && this.xh.remove(), this.ma.find(".vignette").remove(), this.wo && this.wo.destroy(), this.canvas && ($(this.canvas).remove(), this.canvas.width = 0, this.canvas = null))
    };
    function qu(a) {
        a.ma.find("image.placeholder").removeAttr("filter");
        a.ma.get(0).querySelector(".vignette").setAttribute("fill", "none");
        $(a.Ak).remove();
        a.Ak = null
    }

    function tu() {
        this.cache = {}
    }

    tu.prototype.add = function (a, b) {
        var c = this.cache[a];
        return c ? c : this.cache[a] = b
    };
    tu.prototype.fetch = function (a) {
        return this.cache[a]
    };
    $t.prototype.cache = new tu;
    var uu = [{
        gi: "Sans-serif", He: "sans-serif", fonts: [{
            family: "Aileron Thin",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Aileron-Thin.png",
            W: "https://static.canva.com/static/images/fonts/Aileron-Thin@2x.png",
            url: "https://static.canva.com/static/webfonts/Aileron-Thin.css",
            R: "Aileron-Thin",
            displayName: "Aileron Thin",
            J: {o: !0, bold: !0, v: !0},
            i: {
                j: "https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",
                o: "https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",
                bold: "https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",
                v: "https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf"
            },
            K: {
                v: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf",
                    l: "Aileron-LightItalic", xb: "https://static.canva.com/static/webfonts/Aileron-LightItalic.otf"
                },
                bold: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",
                    l: "Aileron-Light",
                    xb: "https://static.canva.com/static/webfonts/Aileron-Light.otf"
                },
                o: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",
                    l: "Aileron-ThinItalic",
                    xb: "https://static.canva.com/static/webfonts/Aileron-ThinItalic.otf"
                },
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",
                    l: "Aileron-Thin",
                    xb: "https://static.canva.com/static/webfonts/Aileron-Thin.otf"
                }
            }
        }, {
            family: "Aileron Regular",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Aileron.png",
            W: "https://static.canva.com/static/images/fonts/Aileron@2x.png",
            url: "https://static.canva.com/static/webfonts/Aileron-Regular.css",
            R: "Aileron Regular",
            displayName: "Aileron Regular",
            J: {o: !0, bold: !0, v: !0},
            i: {
                j: "https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",
                o: "https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",
                bold: "https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",
                v: "https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf"
            },
            K: {
                v: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf",
                    l: "Aileron-BoldItalic",
                    xb: "https://static.canva.com/static/webfonts/Aileron-BoldItalic.otf"
                },
                bold: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",
                    l: "Aileron-Bold",
                    xb: "https://static.canva.com/static/webfonts/Aileron-Bold.otf"
                },
                o: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",
                    l: "Aileron-Italic",
                    xb: "https://static.canva.com/static/webfonts/Aileron-Italic.otf"
                },
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",
                    l: "Aileron-Regular",
                    xb: "https://static.canva.com/static/webfonts/Aileron-Regular.otf"
                }
            }
        }, {
            family: "Aileron Heavy",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Aileron-Heavy.png",
            W: "https://static.canva.com/static/images/fonts/Aileron-Heavy@2x.png",
            url: "https://static.canva.com/static/webfonts/Aileron-Heavy.css",
            R: "Aileron-Heavy",
            displayName: "Aileron Heavy",
            J: {o: !0, bold: !0, v: !0},
            i: {
                j: "https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",
                o: "https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",
                bold: "https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",
                v: "https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf"
            },
            K: {
                v: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf",
                    l: "Aileron-BlackItalic",
                    xb: "https://static.canva.com/static/webfonts/Aileron-BlackItalic.otf"
                },
                bold: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",
                    l: "Aileron-Black",
                    xb: "https://static.canva.com/static/webfonts/Aileron-Black.otf"
                },
                o: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",
                    l: "Aileron-HeavyItalic",
                    xb: "https://static.canva.com/static/webfonts/Aileron-HeavyItalic.otf"
                },
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",
                    l: "Aileron-Heavy",
                    xb: "https://static.canva.com/static/webfonts/Aileron-Heavy.otf"
                }
            }
        }, {
            family: "Aleo Light",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Aleo-Light.png",
            W: "https://static.canva.com/static/images/fonts/Aleo-Light@2x.png",
            url: "https://static.canva.com/static/webfonts/Aleo-Light.css",
            R: "Aleo Light",
            displayName: "Aleo Light",
            J: {o: !0, bold: !1, v: !1},
            i: {
                j: "https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",
                o: "https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf"
            },
            K: {
                o: {
                    i: "https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf",
                    l: "Aleo-LightItalic",
                    u: "https://static.canva.com/static/webfonts/Aleo-LightItalic.woff"
                },
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",
                    l: "Aleo-Light",
                    u: "https://static.canva.com/static/webfonts/Aleo-Light.woff"
                }
            }
        }, {
            family: "Aleo",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Aleo.png",
            W: "https://static.canva.com/static/images/fonts/Aleo@2x.png",
            url: "https://static.canva.com/static/webfonts/Aleo.css",
            R: "Aleo",
            displayName: "Aleo",
            J: {o: !0, bold: !0, v: !0},
            i: {
                j: "https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",
                o: "https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",
                bold: "https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",
                v: "https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf"
            },
            K: {
                v: {
                    i: "https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf",
                    l: "Aleo-BoldItalic", u: "https://static.canva.com/static/webfonts/Aleo-BoldItalic.woff"
                },
                bold: {
                    i: "https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",
                    l: "Aleo-Bold",
                    u: "https://static.canva.com/static/webfonts/Aleo-Bold.woff"
                },
                o: {
                    i: "https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",
                    l: "Aleo-Italic",
                    u: "https://static.canva.com/static/webfonts/Aleo-Italic.woff"
                },
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",
                    l: "Aleo-Regular",
                    u: "https://static.canva.com/static/webfonts/Aleo-Regular.woff"
                }
            }
        }, {
            family: "Allerta Stencil",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Allerta-Stencil.png",
            W: "https://static.canva.com/static/images/fonts/Allerta-Stencil@2x.png",
            url: "https://static.canva.com/static/webfonts/Allerta%2BStencil.css",
            R: "AllertaStencil-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf",
                    l: "AllertaStencil-Regular",
                    u: "https://static.canva.com/static/webfonts/AllertaStencil-Regular.woff"
                }
            }
        }, {
            family: "Antic",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Antic.png",
            W: "https://static.canva.com/static/images/fonts/Antic@2x.png",
            url: "https://static.canva.com/static/webfonts/Antic.css",
            R: "Antic-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/Antic-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Antic-Regular.ttf",
                    l: "Antic-Regular",
                    u: "https://static.canva.com/static/webfonts/Antic-Regular.woff"
                }
            }
        }, {
            family: "Aqua",
            X: ["en"],
            N: "https://static.canva.com/static/images/fonts/Aqua.png",
            W: "https://static.canva.com/static/images/fonts/Aqua@2x.png",
            url: "https://static.canva.com/static/webfonts/Aqua.css",
            R: "Aqua-Grotesque",
            disabled: !0,
            displayName: "Aqua",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/aqua.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/aqua.ttf",
                    l: "AquaGrotesque",
                    u: "https://static.canva.com/static/webfonts/aqua.woff"
                }
            }
        }, {
            family: "Arialle",
            X: ["en", "es-ES"],
            displayName: "Arialle",
            N: "https://static.canva.com/static/images/fonts/Arialle.png",
            W: "https://static.canva.com/static/images/fonts/Arialle@2x.png",
            R: "Arimo",
            url: "https://static.canva.com/static/webfonts/Arialle.css",
            J: {o: !0, bold: !0, v: !0},
            i: {
                bold: "https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
                v: "https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",
                o: "https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",
                j: "https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"
            },
            K: {
                v: {
                    i: "https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",
                    l: "Arimo-BoldItalic",
                    u: "https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"
                },
                o: {
                    i: "https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",
                    l: "Arimo-Italic",
                    u: "https://static.canva.com/static/webfonts/Arimo-Italic.woff"
                },
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",
                    l: "Arimo",
                    u: "https://static.canva.com/static/webfonts/Arimo.woff"
                },
                bold: {
                    i: "https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
                    l: "Arimo-Bold",
                    u: "https://static.canva.com/static/webfonts/Arimo-Bold.woff"
                }
            }
        }, {
            family: "Archivo Narrow",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Archivo-Narrow.png",
            W: "https://static.canva.com/static/images/fonts/Archivo-Narrow@2x.png",
            url: "https://static.canva.com/static/webfonts/Archivo%2BNarrow.css",
            R: "ArchivoNarrow-Regular",
            J: {o: !0, bold: !0, v: !0},
            i: {
                bold: "https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",
                v: "https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",
                o: "https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",
                j: "https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf"
            },
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf",
                    l: "ArchivoNarrow-Regular",
                    u: "https://static.canva.com/static/webfonts/ArchivoNarrow-Regular.woff"
                },
                o: {
                    i: "https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",
                    l: "ArchivoNarrow-Italic",
                    u: "https://static.canva.com/static/webfonts/ArchivoNarrow-Italic.woff"
                },
                v: {
                    i: "https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",
                    l: "ArchivoNarrow-BoldItalic",
                    u: "https://static.canva.com/static/webfonts/ArchivoNarrow-BoldItalic.woff"
                },
                bold: {
                    i: "https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",
                    l: "ArchivoNarrow-Bold",
                    u: "https://static.canva.com/static/webfonts/ArchivoNarrow-Bold.woff"
                }
            }
        }, {
            family: "Archivo Black",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Archivo-Black.png",
            W: "https://static.canva.com/static/images/fonts/Archivo-Black@2x.png",
            url: "https://static.canva.com/static/webfonts/ArchivoBlack.css",
            R: "Archivo Black",
            displayName: "Archivo Black",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf",
                    l: "ArchivoBlack-Regular",
                    u: "https://static.canva.com/static/webfonts/ArchivoBlack.woff"
                }
            }
        },
            {
                family: "Code",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Code.png",
                W: "https://static.canva.com/static/images/fonts/Code@2x.png",
                url: "https://static.canva.com/static/webfonts/Code.css",
                R: "Code",
                displayName: "Code",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/CodeLight.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/CodeBold.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/CodeLight.ttf",
                        l: "Code-Light",
                        u: "https://static.canva.com/static/webfonts/CodeLight.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/CodeBold.ttf",
                        l: "Code-Bold",
                        u: "https://static.canva.com/static/webfonts/CodeBold.woff"
                    }
                }
            }, {
                family: "Carter One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Carter-One.png",
                W: "https://static.canva.com/static/images/fonts/Carter-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Carter%2BOne.css",
                R: "CarterOne",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/CarterOne.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/CarterOne.ttf",
                        l: "CarterOne",
                        u: "https://static.canva.com/static/webfonts/CarterOne.woff"
                    }
                }
            }, {
                family: "Cooper Hewitt",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Cooper-Hewitt.png",
                W: "https://static.canva.com/static/images/fonts/Cooper-Hewitt@2x.png",
                url: "https://static.canva.com/static/webfonts/Cooper-Hewitt.css",
                R: "CooperHewitt",
                displayName: "Cooper Hewitt",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf",
                        l: "CooperHewitt-Book",
                        xb: "https://static.canva.com/static/webfonts/CooperHewitt-Book.otf"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",
                        l: "CooperHewitt-BookItalic",
                        xb: "https://static.canva.com/static/webfonts/CooperHewitt-BookItalic.otf"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",
                        l: "CooperHewitt-BoldItalic",
                        xb: "https://static.canva.com/static/webfonts/CooperHewitt-BoldItalic.otf"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",
                        l: "CooperHewitt-Bold",
                        xb: "https://static.canva.com/static/webfonts/CooperHewitt-Bold.otf"
                    }
                }
            }, {
                family: "Cooper Hewitt Thin",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Cooper-Hewitt-Thin.png",
                W: "https://static.canva.com/static/images/fonts/Cooper-Hewitt-Thin@2x.png",
                url: "https://static.canva.com/static/webfonts/Cooper-Hewitt-Thin.css",
                R: "CooperHewitt-Thin",
                displayName: "Cooper Hewitt Thin",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf",
                    v: "https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf",
                        l: "CooperHewitt-Thin"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf",
                        l: "CooperHewitt-ThinItalic"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf",
                        l: "CooperHewitt-LightItalic"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf",
                        l: "CooperHewitt-Light"
                    }
                }
            }, {
                family: "Cooper Hewitt Heavy",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Cooper-Hewitt-Heavy.png",
                W: "https://static.canva.com/static/images/fonts/Cooper-Hewitt-Heavy@2x.png",
                url: "https://static.canva.com/static/webfonts/Cooper-Hewitt-Heavy.css",
                R: "CooperHewitt-Heavy",
                displayName: "Cooper Hewitt Heavy",
                J: {o: !0, bold: !1, v: !1},
                i: {
                    o: "https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf",
                        l: "CooperHewitt-Heavy"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf",
                        l: "CooperHewitt-HeavyItalic"
                    }
                }
            },
            {
                family: "Fredoka One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Fredoka-One.png",
                W: "https://static.canva.com/static/images/fonts/Fredoka-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Fredoka%2BOne.css",
                R: "FredokaOne-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf",
                        l: "FredokaOne-Regular",
                        u: "https://static.canva.com/static/webfonts/FredokaOne-Regular.woff"
                    }
                }
            }, {
                family: "Hammersmith One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Hammersmith-One.png",
                W: "https://static.canva.com/static/images/fonts/Hammersmith-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Hammersmith%2BOne.css",
                R: "HammersmithOne",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf",
                        l: "HammersmithOne-Regular",
                        u: "https://static.canva.com/static/webfonts/HammersmithOne.woff"
                    }
                }
            }, {
                family: "Helveticish",
                X: ["en", "es-ES"],
                displayName: "Helveticish",
                N: "https://static.canva.com/static/images/fonts/Helveticish.png",
                W: "https://static.canva.com/static/images/fonts/Helveticish@2x.png",
                R: "Arimo",
                url: "https://static.canva.com/static/webfonts/Helveticish.css",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",
                        l: "Arimo-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",
                        l: "Arimo-Italic",
                        u: "https://static.canva.com/static/webfonts/Arimo-Italic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",
                        l: "Arimo",
                        u: "https://static.canva.com/static/webfonts/Arimo.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf", l: "Arimo-Bold",
                        u: "https://static.canva.com/static/webfonts/Arimo-Bold.woff"
                    }
                }
            }, {
                family: "Helvetica",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Helvetica.png",
                W: "https://static.canva.com/static/images/fonts/Helvetica@2x.png",
                R: "Helvetica",
                disabled: !0,
                J: {o: !0, bold: !0, v: !0}
            }, {
                family: "Josefin Sans",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Josefin-Sans.png",
                W: "https://static.canva.com/static/images/fonts/Josefin-Sans@2x.png",
                url: "https://static.canva.com/static/webfonts/Josefin%2BSans.css",
                R: "JosefinSans",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf",
                        l: "JosefinSans",
                        u: "https://static.canva.com/static/webfonts/JosefinSans.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",
                        l: "JosefinSans-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/JosefinSans-BoldItalic.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",
                        l: "JosefinSans-Italic",
                        u: "https://static.canva.com/static/webfonts/JosefinSans-Italic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",
                        l: "JosefinSans-Bold", u: "https://static.canva.com/static/webfonts/JosefinSans-Bold.woff"
                    }
                }
            }, {
                family: "Josefin Slab",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Josefin-Slab.png",
                W: "https://static.canva.com/static/images/fonts/Josefin-Slab@2x.png",
                url: "https://static.canva.com/static/webfonts/Josefin%2BSlab.css",
                R: "JosefinSlab",
                displayName: "Josefin Slab",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf",
                        l: "JosefinSlab",
                        u: "https://static.canva.com/static/webfonts/JosefinSlab.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",
                        l: "JosefinSlab-Italic",
                        u: "https://static.canva.com/static/webfonts/JosefinSlab-Italic.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",
                        l: "JosefinSlab-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/JosefinSlab-BoldItalic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",
                        l: "JosefinSlab-Bold",
                        u: "https://static.canva.com/static/webfonts/JosefinSlab-Bold.woff"
                    }
                }
            }, {
                family: "Lato",
                X: ["en",
                    "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Lato.png",
                W: "https://static.canva.com/static/images/fonts/Lato@2x.png",
                url: "https://static.canva.com/static/webfonts/Lato.css",
                R: "Lato",
                displayName: "Lato",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf",
                        l: "Lato-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Lato-BoldItalic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",
                        l: "Lato-Bold", u: "https://static.canva.com/static/webfonts/Lato-Bold.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",
                        l: "Lato-Italic",
                        u: "https://static.canva.com/static/webfonts/Lato-Italic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",
                        l: "Lato-Regular",
                        u: "https://static.canva.com/static/webfonts/Lato-Regular.woff"
                    }
                }
            }, {
                family: "Lato Hairline",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Lato-Hairline.png",
                W: "https://static.canva.com/static/images/fonts/Lato-Hairline@2x.png",
                url: "https://static.canva.com/static/webfonts/Lato-Hairline.css",
                R: "Lato Hairline",
                displayName: "Lato Hairline",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf",
                        l: "Lato-ThinItalic",
                        u: "https://static.canva.com/static/webfonts/Lato-ThinItalic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",
                        l: "Lato-Thin",
                        u: "https://static.canva.com/static/webfonts/Lato-Thin.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",
                        l: "Lato-HairlineItalic",
                        u: "https://static.canva.com/static/webfonts/Lato-HairlineItalic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",
                        l: "Lato-Hairline", u: "https://static.canva.com/static/webfonts/Lato-Hairline.woff"
                    }
                }
            }, {
                family: "Lato Heavy",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Lato-Heavy.png",
                W: "https://static.canva.com/static/images/fonts/Lato-Heavy@2x.png",
                url: "https://static.canva.com/static/webfonts/Lato-Heavy.css",
                R: "Lato Heavy",
                displayName: "Lato Heavy",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Lato-Black.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf",
                        l: "Lato-BlackItalic", u: "https://static.canva.com/static/webfonts/Lato-BlackItalic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-Black.ttf",
                        l: "Lato-Black",
                        u: "https://static.canva.com/static/webfonts/Lato-Black.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",
                        l: "Lato-HeavyItalic",
                        u: "https://static.canva.com/static/webfonts/Lato-HeavyItalic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",
                        l: "Lato-Heavy",
                        u: "https://static.canva.com/static/webfonts/Lato-Heavy.woff"
                    }
                }
            }, {
                family: "League Gothic",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/League-Gothic.png",
                W: "https://static.canva.com/static/images/fonts/League-Gothic@2x.png",
                url: "https://static.canva.com/static/webfonts/LeagueGothic.css",
                R: "League-Gothic",
                displayName: "League Gothic",
                J: {o: !0, bold: !1, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",
                    o: "https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",
                        l: "LeagueGothic-Regular",
                        xb: "https://static.canva.com/static/webfonts/LeagueGothic-Regular.otf"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf",
                        l: "LeagueGothic-Italic",
                        xb: "https://static.canva.com/static/webfonts/LeagueGothic-Italic.otf"
                    }
                }
            }, {
                family: "League Spartan",
                X: ["en",
                    "es-ES"],
                N: "https://static.canva.com/static/images/fonts/League-Spartan.png",
                W: "https://static.canva.com/static/images/fonts/League-Spartan@2x.png",
                url: "https://static.canva.com/static/webfonts/LeagueSpartan-Bold.css",
                R: "League-Spartan",
                displayName: "League Spartan",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf",
                        l: "LeagueSpartan-Bold",
                        u: "https://static.canva.com/static/webfonts/LeagueSpartan-Bold.woff"
                    }
                }
            }, {
                family: "Limelight",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Limelight.png",
                W: "https://static.canva.com/static/images/fonts/Limelight@2x.png",
                url: "https://static.canva.com/static/webfonts/Limelight.css",
                R: "Limelight",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf",
                        l: "Limelight-Regular",
                        u: "https://static.canva.com/static/webfonts/Limelight.woff"
                    }
                }
            }, {
                family: "Montserrat Hairline",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Montserrat-Hairline.png",
                W: "https://static.canva.com/static/images/fonts/Montserrat-Hairline@2x.png",
                url: "https://static.canva.com/static/webfonts/Montserrat-Hairline.css",
                R: "Montserrat-Hairline",
                displayName: "Montserrat Hairline",
                J: {
                    o: !1,
                    bold: !1, v: !1
                },
                i: {j: "https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf",
                        l: "Montserrat-Hairline",
                        u: "https://static.canva.com/static/webfonts/Montserrat-Hairline.woff"
                    }
                }
            }, {
                family: "Montserrat Light",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Montserrat-Light.png",
                W: "https://static.canva.com/static/images/fonts/Montserrat-Light@2x.png",
                url: "https://static.canva.com/static/webfonts/Montserrat-Light.css",
                R: "Montserrat-Light",
                displayName: "Montserrat Light",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf",
                        l: "Montserrat-Light",
                        u: "https://static.canva.com/static/webfonts/Montserrat-Light.woff"
                    }
                }
            }, {
                family: "Montserrat",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Montserrat.png",
                W: "https://static.canva.com/static/images/fonts/Montserrat@2x.png",
                url: "https://static.canva.com/static/webfonts/Montserrat.css",
                R: "Montserrat-Regular",
                displayName: "Montserrat",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf"
                },
                K: {
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf",
                        l: "Montserrat-Bold", u: "https://static.canva.com/static/webfonts/Montserrat-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",
                        l: "Montserrat-Regular",
                        u: "https://static.canva.com/static/webfonts/Montserrat-Regular.woff"
                    }
                }
            }, {
                family: "Oswald",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Oswald.png",
                W: "https://static.canva.com/static/images/fonts/Oswald@2x.png",
                url: "https://static.canva.com/static/webfonts/Oswald.css",
                R: "Oswald",
                displayName: "Oswald",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",
                        l: "Oswald-Regular", u: "https://static.canva.com/static/webfonts/Oswald-Regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf",
                        l: "Oswald-Bold",
                        u: "https://static.canva.com/static/webfonts/Oswald-Bold.woff"
                    }
                }
            }, {
                family: "Pirou",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Pirou.png",
                W: "https://static.canva.com/static/images/fonts/Pirou@2x.png",
                url: "https://static.canva.com/static/webfonts/Pirou.css",
                R: "Pirou",
                displayName: "Pirou",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf",
                        l: "Pirou-Regular",
                        u: "https://static.canva.com/static/webfonts/Pirou-Regular.woff"
                    }
                }
            },
            {
                family: "PT Sans",
                X: ["en", "es-ES"],
                url: "https://static.canva.com/static/webfonts/PT%2BSans.css",
                N: "https://static.canva.com/static/images/fonts/PT-Sans.png",
                W: "https://static.canva.com/static/images/fonts/PT-Sans@2x.png",
                R: "PTSans-Regular",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    o: "https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf"
                },
                K: {
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",
                        l: "PTSans-Bold",
                        u: "https://static.canva.com/static/webfonts/PTSans-Bold.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",
                        l: "PTSans-Italic",
                        u: "https://static.canva.com/static/webfonts/PTSans-Italic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf",
                        l: "PTSans-Regular",
                        u: "https://static.canva.com/static/webfonts/PTSans-Regular.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",
                        l: "PTSans-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/PTSans-BoldItalic.woff"
                    }
                }
            }, {
                family: "Quicksand",
                X: ["en", "es-ES"],
                url: "https://static.canva.com/static/webfonts/Quicksand.css",
                N: "https://static.canva.com/static/images/fonts/Quicksand.png",
                W: "https://static.canva.com/static/images/fonts/Quicksand@2x.png",
                R: "Quicksand",
                displayName: "Quicksand",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    o: "https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf"
                },
                K: {
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",
                        l: "Quicksand-Bold",
                        xb: "https://static.canva.com/static/webfonts/Quicksand-Bold.otf"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",
                        l: "Quicksand-BoldItalic",
                        xb: "https://static.canva.com/static/webfonts/Quicksand-BoldItalic.otf"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",
                        l: "Quicksand-Italic", xb: "https://static.canva.com/static/webfonts/Quicksand-Italic.otf"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf",
                        l: "Quicksand-Regular",
                        xb: "https://static.canva.com/static/webfonts/Quicksand-Regular.otf"
                    }
                }
            }, {
                family: "Noto Sans Devanagari",
                X: ["en"],
                N: "https://static.canva.com/static/images/fonts/Noto-Sans-Devanagari.png",
                W: "https://static.canva.com/static/images/fonts/Noto-Sans-Devanagari@2x.png",
                R: "NotoSansDevanagari",
                vA: !0,
                displayName: "Noto Sans Devanagari",
                url: "https://static.canva.com/static/webfonts/Noto-Sans-Devanagari.css",
                Vy: "",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf",
                        l: "NotoSansDevanagari",
                        u: "https://static.canva.com/static/webfonts/NotoSansDevanagari-Regular.woff"
                    }
                }
            }, {
                family: "Nunito Light",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Nunito-Light.png",
                W: "https://static.canva.com/static/images/fonts/Nunito-Light@2x.png",
                url: "https://static.canva.com/static/webfonts/Nunito-Light.css",
                R: "Nunito-Light",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Nunito-Light.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Nunito-Light.ttf",
                        l: "Nunito-Light",
                        u: "https://static.canva.com/static/webfonts/Nunito-Light.woff"
                    }
                }
            },
            {
                family: "Nunito",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Nunito.png",
                W: "https://static.canva.com/static/images/fonts/Nunito@2x.png",
                url: "https://static.canva.com/static/webfonts/Nunito.2.css",
                R: "Nunito-Regular",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf",
                        l: "Nunito-Regular",
                        u: "https://static.canva.com/static/webfonts/Nunito-Regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",
                        l: "Nunito-Bold",
                        u: "https://static.canva.com/static/webfonts/Nunito-Bold.woff"
                    }
                }
            }, {
                family: "Norwester",
                X: ["en"],
                N: "https://static.canva.com/static/images/fonts/Norwester.png",
                W: "https://static.canva.com/static/images/fonts/Norwester@2x.png",
                url: "https://static.canva.com/static/webfonts/Norwester.css",
                R: "Norwester",
                displayName: "Norwester",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Norwester.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Norwester.ttf",
                        l: "Norwester-Regular",
                        u: "https://static.canva.com/static/webfonts/Norwester.woff"
                    }
                }
            }, {
                family: "Raleway",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Raleway.png",
                W: "https://static.canva.com/static/images/fonts/Raleway@2x.png",
                url: "https://static.canva.com/static/webfonts/Raleway.2.css",
                R: "Raleway-Regular",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf",
                        l: "Raleway",
                        u: "https://static.canva.com/static/webfonts/Raleway.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",
                        l: "Raleway-Bold",
                        u: "https://static.canva.com/static/webfonts/Raleway-Bold.woff"
                    }
                }
            }, {
                family: "Raleway Thin",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Raleway-Thin.png",
                W: "https://static.canva.com/static/images/fonts/Raleway-Thin@2x.png",
                url: "https://static.canva.com/static/webfonts/RalewayThin.css",
                R: "Raleway-Thin",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf",
                        l: "Raleway-Thin",
                        u: "https://static.canva.com/static/webfonts/Raleway-Thin.woff"
                    }
                }
            }, {
                family: "Raleway Heavy",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Raleway-Heavy.png",
                W: "https://static.canva.com/static/images/fonts/Raleway-Heavy@2x.png",
                url: "https://static.canva.com/static/webfonts/RalewayHeavy.css",
                R: "Raleway-Heavy",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf", l: "Raleway-Heavy",
                        u: "https://static.canva.com/static/webfonts/Raleway-Heavy.woff"
                    }
                }
            }, {
                family: "Roboto Condensed",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Roboto-Condensed.png",
                W: "https://static.canva.com/static/images/fonts/Roboto-Condensed@2x.png",
                url: "https://static.canva.com/static/webfonts/Roboto%2BCondensed.css",
                R: "RobotoCondensed-Regular",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",
                        l: "RobotoCondensed-Italic",
                        u: "https://static.canva.com/static/webfonts/RobotoCondensed-Italic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",
                        l: "RobotoCondensed-Bold",
                        u: "https://static.canva.com/static/webfonts/RobotoCondensed-Bold.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",
                        l: "RobotoCondensed-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/RobotoCondensed-BoldItalic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf",
                        l: "RobotoCondensed-Regular",
                        u: "https://static.canva.com/static/webfonts/RobotoCondensed-Regular.woff"
                    }
                }
            }, {
                family: "Rosario",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Rosario.png",
                W: "https://static.canva.com/static/images/fonts/Rosario@2x.png",
                url: "https://static.canva.com/static/webfonts/Rosario.css",
                R: "Rosario-Regular",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    o: "https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf",
                        l: "Rosario-Regular",
                        u: "https://static.canva.com/static/webfonts/Rosario-Regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",
                        l: "Rosario-Bold", u: "https://static.canva.com/static/webfonts/Rosario-Bold.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",
                        l: "Rosario-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Rosario-BoldItalic.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",
                        l: "Rosario-Italic",
                        u: "https://static.canva.com/static/webfonts/Rosario-Italic.woff"
                    }
                }
            }, {
                family: "Rubik One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Rubik-One.png",
                W: "https://static.canva.com/static/images/fonts/Rubik-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Rubik-One.css",
                R: "Rubik-One",
                displayName: "Rubik One",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf",
                        l: "RubikOne-Regular",
                        u: "https://static.canva.com/static/webfonts/Rubik-One.woff"
                    }
                }
            }, {
                family: "Rubik Mono",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Rubik-Mono-One.png",
                W: "https://static.canva.com/static/images/fonts/Rubik-Mono-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Rubik-Mono-One.2.css",
                Dk: !0,
                R: "Rubik-Mono-One",
                displayName: "Rubik Mono",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf",
                        l: "RubikMonoOne-Regular", u: "https://static.canva.com/static/webfonts/Rubik-Mono-One.woff"
                    }
                }
            }, {
                family: "Amaranth",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Amaranth.png",
                W: "https://static.canva.com/static/images/fonts/Amaranth@2x.png",
                url: "https://static.canva.com/static/webfonts/Amaranth.2.css",
                R: "Amaranth",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",
                        l: "Amaranth-BoldItalic", u: "https://static.canva.com/static/webfonts/Amaranth-BoldItalic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf",
                        l: "Amaranth",
                        u: "https://static.canva.com/static/webfonts/Amaranth.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",
                        l: "Amaranth-Bold",
                        u: "https://static.canva.com/static/webfonts/Amaranth-Bold.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",
                        l: "Amaranth-Italic",
                        u: "https://static.canva.com/static/webfonts/Amaranth-Italic.woff"
                    }
                }
            }, {
                family: "Anton",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Anton.png",
                W: "https://static.canva.com/static/images/fonts/Anton@2x.png",
                url: "https://static.canva.com/static/webfonts/Anton.css",
                R: "Anton",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Anton.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Anton.ttf",
                        l: "Anton",
                        u: "https://static.canva.com/static/webfonts/Anton.woff"
                    }
                }
            }, {
                family: "Arimo",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Arimo.png",
                W: "https://static.canva.com/static/images/fonts/Arimo@2x.png",
                url: "https://static.canva.com/static/webfonts/Arimo.2.css",
                R: "Arimo",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",
                        l: "Arimo-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",
                        l: "Arimo-Italic",
                        u: "https://static.canva.com/static/webfonts/Arimo-Italic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",
                        l: "Arimo",
                        u: "https://static.canva.com/static/webfonts/Arimo.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
                        l: "Arimo-Bold",
                        u: "https://static.canva.com/static/webfonts/Arimo-Bold.woff"
                    }
                }
            }, {
                family: "Crushed",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Crushed.png",
                W: "https://static.canva.com/static/images/fonts/Crushed@2x.png",
                url: "https://static.canva.com/static/webfonts/Crushed.css",
                R: "Crushed-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Crushed.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Crushed.ttf",
                        l: "Crushed-Regular",
                        u: "https://static.canva.com/static/webfonts/Crushed-Regular.woff"
                    }
                }
            }, {
                family: "Economica",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Economica.png",
                W: "https://static.canva.com/static/images/fonts/Economica@2x.png",
                url: "https://static.canva.com/static/webfonts/Economica.2.css",
                R: "Economica-Regular",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Economica-Regular.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",
                        l: "Economica-Italic",
                        u: "https://static.canva.com/static/webfonts/Economica-Italic.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",
                        l: "Economica-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Economica-BoldItalic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Economica-Regular.ttf",
                        l: "Economica-Regular",
                        u: "https://static.canva.com/static/webfonts/Economica-Regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",
                        l: "Economica-Bold", u: "https://static.canva.com/static/webfonts/Economica-Bold.woff"
                    }
                }
            }, {
                family: "Exo",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Exo.png",
                W: "https://static.canva.com/static/images/fonts/Exo@2x.png",
                url: "https://static.canva.com/static/webfonts/Exo2.css",
                R: "Exo2",
                displayName: "Exo",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",
                        l: "Exo2-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Exo2-BoldItalic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf",
                        l: "Exo2-Regular",
                        u: "https://static.canva.com/static/webfonts/Exo2-Regular.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",
                        l: "Exo2-Italic",
                        u: "https://static.canva.com/static/webfonts/Exo2-Italic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",
                        l: "Exo2-Bold",
                        u: "https://static.canva.com/static/webfonts/Exo2-Bold.woff"
                    }
                }
            }, {
                family: "Exo Thin",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Exo-Thin.png",
                W: "https://static.canva.com/static/images/fonts/Exo-Thin@2x.png",
                url: "https://static.canva.com/static/webfonts/Exo2-Thin.css",
                R: "Exo2-Thin",
                displayName: "Exo Thin",
                J: {
                    o: !0,
                    bold: !1, v: !1
                },
                i: {
                    o: "https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Exo-2-100.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Exo-2-100.ttf",
                        l: "Exo2-Thin",
                        u: "https://static.canva.com/static/webfonts/Exo2-Thin.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",
                        l: "Exo2-ThinItalic",
                        u: "https://static.canva.com/static/webfonts/Exo2-ThinItalic.woff"
                    }
                }
            }, {
                family: "Gruppo",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Gruppo.png",
                W: "https://static.canva.com/static/images/fonts/Gruppo@2x.png",
                url: "https://static.canva.com/static/webfonts/Gruppo.css",
                R: "Gruppo",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf",
                        l: "Gruppo",
                        u: "https://static.canva.com/static/webfonts/Gruppo.woff"
                    }
                }
            }, {
                family: "Gidole",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Gidole.png",
                W: "https://static.canva.com/static/images/fonts/Gidole@2x.png",
                url: "https://static.canva.com/static/webfonts/Gidole-Regular.css",
                R: "Gidole",
                displayName: "Gidole",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf",
                        l: "Gidole-Regular",
                        u: "https://static.canva.com/static/webfonts/Gidole-Regular.woff"
                    }
                }
            }, {
                family: "Julius Sans One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Julius-Sans-One.png",
                W: "https://static.canva.com/static/images/fonts/Julius-Sans-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Julius%2BSans%2BOne.css",
                R: "JuliusSansOne-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf",
                        l: "JuliusSansOne-Regular",
                        u: "https://static.canva.com/static/webfonts/JuliusSansOne-Regular.woff"
                    }
                }
            }, {
                family: "Kite One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Kite-One.png",
                W: "https://static.canva.com/static/images/fonts/Kite-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Kite%2BOne.css",
                R: "KiteOne-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf",
                        l: "KiteOne-Regular",
                        u: "https://static.canva.com/static/webfonts/KiteOne-Regular.woff"
                    }
                }
            }, {
                family: "Kollektif",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Kollektif.png",
                W: "https://static.canva.com/static/images/fonts/Kollektif@2x.png",
                url: "https://static.canva.com/static/webfonts/Kollektif.css",
                R: "Kollektif",
                displayName: "Kollektif",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Kollektif.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Kollektif.ttf",
                        l: "Kollektif",
                        u: "https://static.canva.com/static/webfonts/Kollektif.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",
                        l: "Kollektif-Bold",
                        u: "https://static.canva.com/static/webfonts/Kollektif-Bold.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",
                        l: "Kollektif-Italic",
                        u: "https://static.canva.com/static/webfonts/Kollektif-Italic.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf",
                        l: "Kollektif-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Kollektif-BoldItalic.woff"
                    }
                }
            }, {
                family: "Lilita One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Lilita-One.png",
                W: "https://static.canva.com/static/images/fonts/Lilita-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Lilita%2BOne.css",
                R: "LilitaOne",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf",
                        l: "LilitaOne",
                        u: "https://static.canva.com/static/webfonts/LilitaOne.woff"
                    }
                }
            }, {
                family: "Open Sans Light",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Open-Sans-Light.png",
                W: "https://static.canva.com/static/images/fonts/Open-Sans-Light@2x.png",
                url: "https://static.canva.com/static/webfonts/OpenSans-Light.css",
                R: "OpenSansLight",
                displayName: "Open Sans Light",
                J: {o: !0, bold: !1, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",
                    o: "https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf",
                        l: "OpenSans-LightItalic",
                        u: "https://static.canva.com/static/webfonts/OpenSans-LightItalic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",
                        l: "OpenSans-Light",
                        u: "https://static.canva.com/static/webfonts/OpenSans-Light.woff"
                    }
                }
            }, {
                family: "Open Sans",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Open-Sans.png",
                W: "https://static.canva.com/static/images/fonts/Open-Sans@2x.png",
                url: "https://static.canva.com/static/webfonts/Open%2BSans.2.css",
                R: "OpenSans",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",
                    o: "https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf",
                        l: "OpenSans-Italic",
                        u: "https://static.canva.com/static/webfonts/OpenSans-Italic.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",
                        l: "OpenSans-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/OpenSans-BoldItalic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",
                        l: "OpenSans-Bold",
                        u: "https://static.canva.com/static/webfonts/OpenSans-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",
                        l: "OpenSans",
                        u: "https://static.canva.com/static/webfonts/OpenSans.woff"
                    }
                }
            }, {
                family: "Open Sans Extra Bold",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Open-Sans-Extra-Bold.png",
                W: "https://static.canva.com/static/images/fonts/Open-Sans-Extra-Bold@2x.png",
                url: "https://static.canva.com/static/webfonts/OpenSans-ExtraBold.css",
                R: "OpenSansExtraBold",
                displayName: "Open Sans Extra Bold",
                J: {o: !0, bold: !1, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",
                    o: "https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf",
                        l: "OpenSans-ExtraboldItalic",
                        u: "https://static.canva.com/static/webfonts/OpenSans-ExtraBoldItalic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",
                        l: "OpenSans-Extrabold",
                        u: "https://static.canva.com/static/webfonts/OpenSans-ExtraBold.woff"
                    }
                }
            }, {
                family: "Racing Sans One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Racing-Sans-One.png",
                W: "https://static.canva.com/static/images/fonts/Racing-Sans-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Racing%2BSans%2BOne.css",
                R: "RacingSansOne-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf",
                        l: "RacingSansOne-Regular",
                        u: "https://static.canva.com/static/webfonts/RacingSansOne-Regular.woff"
                    }
                }
            }, {
                family: "Roboto",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Roboto.png",
                W: "https://static.canva.com/static/images/fonts/Roboto@2x.png",
                url: "https://static.canva.com/static/webfonts/Roboto.2.css",
                R: "Roboto-Regular",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",
                        l: "Roboto-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Roboto-BoldItalic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",
                        l: "Roboto-Bold",
                        u: "https://static.canva.com/static/webfonts/Roboto-Bold.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf",
                        l: "Roboto-Italic",
                        u: "https://static.canva.com/static/webfonts/Roboto-Italic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",
                        l: "Roboto-Regular", u: "https://static.canva.com/static/webfonts/Roboto-Regular.woff"
                    }
                }
            }, {
                family: "Ubuntu",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Ubuntu.png",
                W: "https://static.canva.com/static/images/fonts/Ubuntu@2x.png",
                url: "https://static.canva.com/static/webfonts/Ubuntu.2.css",
                R: "Ubuntu",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",
                        l: "Ubuntu",
                        u: "https://static.canva.com/static/webfonts/Ubuntu.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",
                        l: "Ubuntu-Italic",
                        u: "https://static.canva.com/static/webfonts/Ubuntu-Italic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",
                        l: "Ubuntu-Bold",
                        u: "https://static.canva.com/static/webfonts/Ubuntu-Bold.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf",
                        l: "Ubuntu-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Ubuntu-BoldItalic.woff"
                    }
                }
            }, {
                family: "Unity Display",
                N: "https://static.canva.com/static/images/fonts/Unity-Display.png",
                W: "https://static.canva.com/static/images/fonts/Unity-Display@2x.png",
                url: "https://static.canva.com/static/webfonts/Unity-Display.css",
                R: "Unity Display",
                displayName: "Unity Display",
                disabled: !0,
                J: {o: !1, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf"
                },
                K: {
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf",
                        l: "UnityDisplay-Bold"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf",
                        l: "UnityDisplay-Roman"
                    }
                }
            }, {
                family: "Unity Text",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Unity-Text.png",
                W: "https://static.canva.com/static/images/fonts/Unity-Text@2x.png",
                url: "https://static.canva.com/static/webfonts/Unity-Text.css",
                R: "Unity Text",
                displayName: "Unity Text",
                disabled: !0,
                J: {o: !1, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf"
                },
                K: {
                    bold: {i: "https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf", l: "UnityText-Bold"},
                    j: {i: "https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf", l: "UnityText-Roman"}
                }
            }, {
                family: "Six Caps",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Six-Caps.png",
                W: "https://static.canva.com/static/images/fonts/Six-Caps@2x.png",
                url: "https://static.canva.com/static/webfonts/Six%2BCaps.css",
                R: "SixCaps",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/SixCaps.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/SixCaps.ttf",
                        l: "SixCaps",
                        u: "https://static.canva.com/static/webfonts/SixCaps.woff"
                    }
                }
            }, {
                family: "Sifonn",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Sifonn.png",
                W: "https://static.canva.com/static/images/fonts/Sifonn@2x.png",
                url: "https://static.canva.com/static/webfonts/Sifonn.css",
                R: "Sifonn",
                displayName: "Sifonn",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf",
                        l: "Sifonn-Basic",
                        u: "https://static.canva.com/static/webfonts/Sifonn-Basic.woff"
                    }
                }
            }, {
                family: "Sifonn Outline",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Sifonn-Outline.png",
                W: "https://static.canva.com/static/images/fonts/Sifonn-Outline@2x.png",
                url: "https://static.canva.com/static/webfonts/SifonnOutline.css",
                R: "Sifonn Outline",
                displayName: "Sifonn Outline",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf",
                        l: "Sifonn-Basic-Outline",
                        u: "https://static.canva.com/static/webfonts/Sifonn-Basic-Outline.woff"
                    }
                }
            }, {
                family: "Signika",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Signika.png",
                W: "https://static.canva.com/static/images/fonts/Signika@2x.png",
                url: "https://static.canva.com/static/webfonts/Signika.css",
                R: "Signika",
                displayName: "Signika",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Signika-Bold.ttf"
                },
                K: {
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Signika-Bold.ttf",
                        l: "Signika-Bold",
                        u: "https://static.canva.com/static/webfonts/Signika-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",
                        l: "Signika-Regular",
                        u: "https://static.canva.com/static/webfonts/Signika-Regular.woff"
                    }
                }
            }, {
                family: "Source Sans Pro",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Source-Sans-Pro.png",
                W: "https://static.canva.com/static/images/fonts/Source-Sans-Pro@2x.png",
                url: "https://static.canva.com/static/webfonts/SourceSansPro.css",
                R: "Source-Sans-Pro",
                displayName: "Source Sans Pro",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",
                    o: "https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",
                    v: "https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf",
                        l: "SourceSansPro-BoldIt",
                        u: "https://static.canva.com/static/webfonts/SourceSansPro-BoldIt.otf.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",
                        l: "SourceSansPro-It",
                        u: "https://static.canva.com/static/webfonts/SourceSansPro-It.otf.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",
                        l: "SourceSansPro-Regular",
                        u: "https://static.canva.com/static/webfonts/SourceSansPro-Regular.otf.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",
                        l: "SourceSansPro-Bold",
                        u: "https://static.canva.com/static/webfonts/SourceSansPro-Bold.otf.woff"
                    }
                }
            }, {
                family: "Text Me One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Text-Me-One.png",
                W: "https://static.canva.com/static/images/fonts/Text-Me-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Text%2BMe%2BOne.css",
                R: "TextMeOne-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf",
                        l: "TextMeOne-Regular",
                        u: "https://static.canva.com/static/webfonts/TextMeOne-Regular.woff"
                    }
                }
            }, {
                family: "Tenor Sans",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Tenor-Sans.png",
                W: "https://static.canva.com/static/images/fonts/Tenor-Sans@2x.png",
                url: "https://static.canva.com/static/webfonts/TenorSans.css",
                displayName: "Tenor Sans",
                R: "TenorSans",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/TenorSans.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/TenorSans.ttf",
                        l: "TenorSans",
                        u: "https://static.canva.com/static/webfonts/TenorSans.woff"
                    }
                }
            }]
    }, {
        gi: "Serif", He: "serif",
        fonts: [{
            family: "Abril Fatface",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Abril-Fatface.png",
            W: "https://static.canva.com/static/images/fonts/Abril-Fatface@2x.png",
            url: "https://static.canva.com/static/webfonts/Abril%2BFatface.css",
            R: "AbrilFatface-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf",
                    l: "AbrilFatface-Regular",
                    u: "https://static.canva.com/static/webfonts/AbrilFatface-Regular.woff"
                }
            }
        }, {
            name: "Alegreya Small Caps",
            family: "Alegreya SC",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Alegreya-Small-Caps.png",
            W: "https://static.canva.com/static/images/fonts/Alegreya-Small-Caps@2x.png",
            url: "https://static.canva.com/static/webfonts/Alegreya%2BSC.css",
            R: "AlegreyaSC-Regular",
            J: {o: !0, bold: !0, v: !0},
            i: {
                j: "https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",
                bold: "https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",
                v: "https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",
                o: "https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf"
            },
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",
                    l: "AlegreyaSC-Regular",
                    u: "https://static.canva.com/static/webfonts/AlegreyaSC-Regular.woff"
                },
                v: {
                    i: "https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",
                    l: "AlegreyaSC-BoldItalic", u: "https://static.canva.com/static/webfonts/AlegreyaSC-BoldItalic.woff"
                },
                bold: {
                    i: "https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",
                    l: "AlegreyaSC-Bold",
                    u: "https://static.canva.com/static/webfonts/AlegreyaSC-Bold.woff"
                },
                o: {
                    i: "https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf",
                    l: "AlegreyaSC-Italic",
                    u: "https://static.canva.com/static/webfonts/AlegreyaSC-Italic.woff"
                }
            }
        }, {
            family: "Alfa Slab One",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Alfa-Slab-One.png",
            W: "https://static.canva.com/static/images/fonts/Alfa-Slab-One@2x.png",
            url: "https://static.canva.com/static/webfonts/Alfa%2BSlab%2BOne.css",
            R: "AlfaSlabOne-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf",
                    l: "AlfaSlabOne-Regular",
                    u: "https://static.canva.com/static/webfonts/AlfaSlabOne-Regular.woff"
                }
            }
        }, {
            family: "Alike",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Alike.png",
            W: "https://static.canva.com/static/images/fonts/Alike@2x.png",
            url: "https://static.canva.com/static/webfonts/Alike.css",
            R: "Alike-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/Alike-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Alike-Regular.ttf",
                    l: "Alike-Regular",
                    u: "https://static.canva.com/static/webfonts/Alike-Regular.woff"
                }
            }
        },
            {
                family: "Anonymous Pro",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Anonymous-Pro.png",
                W: "https://static.canva.com/static/images/fonts/Anonymous-Pro@2x.png",
                url: "https://static.canva.com/static/webfonts/Anonymous%2BPro.css",
                R: "AnonymousPro",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf"
                },
                K: {
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",
                        l: "AnonymousPro-Bold",
                        u: "https://static.canva.com/static/webfonts/AnonymousPro-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf",
                        l: "AnonymousPro",
                        u: "https://static.canva.com/static/webfonts/AnonymousPro.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",
                        l: "AnonymousPro-Italic",
                        u: "https://static.canva.com/static/webfonts/AnonymousPro-Italic.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",
                        l: "AnonymousPro-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/AnonymousPro-BoldItalic.woff"
                    }
                }
            }, {
                family: "Arvo",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Arvo.png",
                W: "https://static.canva.com/static/images/fonts/Arvo@2x.png",
                url: "https://static.canva.com/static/webfonts/Arvo.css",
                R: "Arvo",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf"
                },
                K: {
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",
                        l: "Arvo-Bold",
                        u: "https://static.canva.com/static/webfonts/Arvo-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf",
                        l: "Arvo",
                        u: "https://static.canva.com/static/webfonts/Arvo.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",
                        l: "Arvo-Italic",
                        u: "https://static.canva.com/static/webfonts/Arvo-Italic.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",
                        l: "Arvo-BoldItalic", u: "https://static.canva.com/static/webfonts/Arvo-BoldItalic.woff"
                    }
                }
            }, {
                family: "Bebas Neue",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Bebas-Neue.png",
                W: "https://static.canva.com/static/images/fonts/Bebas-Neue@2x.png",
                url: "https://static.canva.com/static/webfonts/Bebas-Neue.css",
                R: "BebasNeue",
                displayName: "Bebas Neue",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf"
                },
                K: {
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf",
                        l: "BebasNeueBold",
                        u: "https://static.canva.com/static/webfonts/BebasNeueBold.woff"
                    }, j: {
                        i: "https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",
                        l: "BebasNeueRegular", u: "https://static.canva.com/static/webfonts/BebasNeueRegular.woff"
                    }
                }
            }, {
                family: "Bodoni FLF",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Bodoni-FLF.png",
                W: "https://static.canva.com/static/images/fonts/Bodoni-FLF@2x.png",
                url: "https://static.canva.com/static/webfonts/Bodoni-FLF.css",
                R: "Bodoni-FLF",
                displayName: "Bodoni FLF",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",
                    o: "https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",
                    v: "https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf",
                        l: "BodoniFLF-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/BodoniFLF-BoldItalic.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",
                        l: "BodoniFLF-Italic",
                        u: "https://static.canva.com/static/webfonts/BodoniFLF-Italic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",
                        l: "BodoniFLF-Bold",
                        u: "https://static.canva.com/static/webfonts/BodoniFLF-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",
                        l: "BodoniFLF-Roman",
                        u: "https://static.canva.com/static/webfonts/BodoniFLF-Roman.woff"
                    }
                }
            }, {
                family: "Cinzel",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Cinzel.png",
                W: "https://static.canva.com/static/images/fonts/Cinzel@2x.png",
                url: "https://static.canva.com/static/webfonts/Cinzel.css",
                R: "Cinzel-Regular",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",
                        l: "Cinzel-Regular",
                        u: "https://static.canva.com/static/webfonts/Cinzel-Regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf",
                        l: "Cinzel-Bold",
                        u: "https://static.canva.com/static/webfonts/Cinzel-Bold.woff"
                    }
                }
            }, {
                family: "Droid Serif",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Droid-Serif.png",
                W: "https://static.canva.com/static/images/fonts/Droid-Serif@2x.png",
                url: "https://static.canva.com/static/webfonts/Droid%2BSerif.css",
                R: "DroidSerif",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/DroidSerif.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/DroidSerif.ttf",
                        l: "DroidSerif",
                        u: "https://static.canva.com/static/webfonts/DroidSerif.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",
                        l: "DroidSerif-Bold",
                        u: "https://static.canva.com/static/webfonts/DroidSerif-Bold.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",
                        l: "DroidSerif-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/DroidSerif-BoldItalic.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",
                        l: "DroidSerif-Italic",
                        u: "https://static.canva.com/static/webfonts/DroidSerif-Italic.woff"
                    }
                }
            }, {
                family: "Forum",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Forum.png",
                W: "https://static.canva.com/static/images/fonts/Forum@2x.png",
                url: "https://static.canva.com/static/webfonts/Forum.css",
                R: "Forum",
                displayName: "Forum",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Forum-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Forum-Regular.ttf",
                        l: "Forum",
                        u: "https://static.canva.com/static/webfonts/Forum-Regular.woff"
                    }
                }
            },
            {
                family: "Granaina",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Granaina.png",
                W: "https://static.canva.com/static/images/fonts/Granaina@2x.png",
                url: "https://static.canva.com/static/webfonts/Granaina.css",
                R: "Granaina",
                displayName: "Granaina",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf",
                        l: "Granaina-limpia",
                        u: "https://static.canva.com/static/webfonts/Granaina-Limpia.woff"
                    }
                }
            }, {
                family: "Glegoo",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Glegoo.png",
                W: "https://static.canva.com/static/images/fonts/Glegoo@2x.png",
                url: "https://static.canva.com/static/webfonts/Glegoo.css",
                R: "Glegoo-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf",
                        l: "Glegoo-Regular",
                        u: "https://static.canva.com/static/webfonts/Glegoo-Regular.woff"
                    }
                }
            }, {
                name: "IM Fell English Small Caps",
                family: "IM Fell English SC",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/IM-Fell-English-Small-Caps.png",
                W: "https://static.canva.com/static/images/fonts/IM-Fell-English-Small-Caps@2x.png",
                url: "https://static.canva.com/static/webfonts/IM%2BFell%2BEnglish%2BSC.css",
                R: "IM_FELL_English_SC",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf",
                        l: "IM_FELL_English_SC",
                        u: "https://static.canva.com/static/webfonts/IM_FELL_English_SC.woff"
                    }
                }
            }, {
                name: "IM Fell",
                family: "IM Fell Double Pica",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/IM-Fell.png",
                W: "https://static.canva.com/static/images/fonts/IM-Fell@2x.png",
                url: "https://static.canva.com/static/webfonts/IM-Fell-Double-Pica.css",
                R: "IM-Fell-Double-Pica",
                displayName: "IM Fell",
                J: {o: !0, bold: !1, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",
                    o: "https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf",
                        l: "IM_FELL_Double_Pica_Italic",
                        u: "https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Italic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",
                        l: "IM_FELL_Double_Pica_Roman",
                        u: "https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Roman.woff"
                    }
                }
            }, {
                family: "Libre Baskerville",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Libre-Baskerville.png",
                W: "https://static.canva.com/static/images/fonts/Libre-Baskerville@2x.png",
                url: "https://static.canva.com/static/webfonts/Libre%2BBaskerville.css",
                R: "LibreBaskerville-Regular",
                J: {o: !0, bold: !0, v: !1},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",
                    o: "https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf",
                        l: "LibreBaskerville-Regular",
                        u: "https://static.canva.com/static/webfonts/LibreBaskerville-Regular.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",
                        l: "LibreBaskerville-Italic",
                        u: "https://static.canva.com/static/webfonts/LibreBaskerville-Italic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",
                        l: "LibreBaskerville-Bold",
                        u: "https://static.canva.com/static/webfonts/LibreBaskerville-Bold.woff"
                    }
                }
            },
            {
                family: "Lora",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Lora.png",
                W: "https://static.canva.com/static/images/fonts/Lora@2x.png",
                url: "https://static.canva.com/static/webfonts/Lora.css",
                R: "Lora",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Lora-Regular.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",
                        l: "Lora-Italic",
                        u: "https://static.canva.com/static/webfonts/Lora-Italic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Lora-Bold.ttf", l: "Lora-Bold",
                        u: "https://static.canva.com/static/webfonts/Lora-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Lora-Regular.ttf",
                        l: "Lora-Regular",
                        u: "https://static.canva.com/static/webfonts/Lora.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",
                        l: "Lora-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Lora-BoldItalic.woff"
                    }
                }
            }, {
                family: "Lustria",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Lustria.png",
                W: "https://static.canva.com/static/images/fonts/Lustria@2x.png",
                url: "https://static.canva.com/static/webfonts/Lustria.css",
                R: "Lustria-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf",
                        l: "Lustria-Regular", u: "https://static.canva.com/static/webfonts/Lustria-Regular.woff"
                    }
                }
            }, {
                family: "Luthier",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Luthier.png",
                W: "https://static.canva.com/static/images/fonts/Luthier@2x.png",
                url: "https://static.canva.com/static/webfonts/Luthier.css",
                R: "Luthier",
                displayName: "Luthier",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf",
                        l: "Luthier-BoldItalic", u: "https://static.canva.com/static/webfonts/Luthier-BoldItalic.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",
                        l: "Luthier-Italic",
                        u: "https://static.canva.com/static/webfonts/Luthier-Italic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",
                        l: "Luthier-Bold",
                        u: "https://static.canva.com/static/webfonts/Luthier-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",
                        l: "Luthier-Regular",
                        u: "https://static.canva.com/static/webfonts/Luthier-Regular.woff"
                    }
                }
            }, {
                family: "Nixie One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Nixie-One.png",
                W: "https://static.canva.com/static/images/fonts/Nixie-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Nixie%2BOne.css",
                R: "NixieOne-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf",
                        l: "NixieOne-Regular",
                        u: "https://static.canva.com/static/webfonts/NixieOne-Regular.woff"
                    }
                }
            }, {
                name: "Playfair Display",
                family: "Playfair Display",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Playfair-Display.png",
                W: "https://static.canva.com/static/images/fonts/Playfair-Display@2x.png",
                url: "https://static.canva.com/static/webfonts/Playfair-Display.css",
                R: "PlayfairDisplay",
                displayName: "Playfair Display",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",
                        l: "PlayfairDisplay-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/PlayfairDisplay-BoldItalic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",
                        l: "PlayfairDisplay-Bold",
                        u: "https://static.canva.com/static/webfonts/PlayfairDisplay-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",
                        l: "PlayfairDisplay-Regular",
                        u: "https://static.canva.com/static/webfonts/PlayfairDisplay-Regular.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf",
                        l: "PlayfairDisplay-Italic",
                        u: "https://static.canva.com/static/webfonts/PlayfairDisplay-Italic.woff"
                    }
                }
            }, {
                name: "Playfair Display Black",
                family: "Playfair Display Black",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Playfair-Display-Black.png",
                W: "https://static.canva.com/static/images/fonts/Playfair-Display-Black@2x.png",
                url: "https://static.canva.com/static/webfonts/Playfair-Display-Black.css",
                R: "PlayfairDisplayBlack",
                displayName: "Playfair Display Black",
                J: {o: !0, bold: !1, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",
                    o: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf",
                        l: "PlayfairDisplay-BlackItalic",
                        u: "https://static.canva.com/static/webfonts/PlayfairDisplay-BlackItalic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",
                        l: "PlayfairDisplay-Black",
                        u: "https://static.canva.com/static/webfonts/PlayfairDisplay-Black.woff"
                    }
                }
            }, {
                name: "Playfair Small Caps",
                family: "Playfair Display SC",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Playfair-Small-Caps.png",
                W: "https://static.canva.com/static/images/fonts/Playfair-Small-Caps@2x.png",
                url: "https://static.canva.com/static/webfonts/Playfair%2BDisplay%2BSC.css",
                R: "PlayfairDisplaySC-Regular",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf",
                        l: "PlayfairDisplaySC-Italic",
                        u: "https://static.canva.com/static/webfonts/PlayfairDisplaySC-Italic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",
                        l: "PlayfairDisplaySC-Regular",
                        u: "https://static.canva.com/static/webfonts/PlayfairDisplaySC-Regular.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",
                        l: "PlayfairDisplaySC-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/PlayfairDisplaySC-BoldItalic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",
                        l: "PlayfairDisplaySC-Bold",
                        u: "https://static.canva.com/static/webfonts/PlayfairDisplaySC-Bold.woff"
                    }
                }
            },
            {
                family: "Prata",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Prata.png",
                W: "https://static.canva.com/static/images/fonts/Prata@2x.png",
                url: "https://static.canva.com/static/webfonts/Prata.css",
                R: "Prata-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Prata-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Prata-Regular.ttf",
                        l: "Prata-Regular",
                        u: "https://static.canva.com/static/webfonts/Prata-Regular.woff"
                    }
                }
            }, {
                family: "PT Serif",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/PT-Serif.png",
                W: "https://static.canva.com/static/images/fonts/PT-Serif@2x.png",
                url: "https://static.canva.com/static/webfonts/PT%2BSerif.css",
                R: "PTSerif-Regular",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    o: "https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",
                        l: "PTSerif-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/PTSerif-BoldItalic.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",
                        l: "PTSerif-Italic",
                        u: "https://static.canva.com/static/webfonts/PTSerif-Italic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",
                        l: "PTSerif-Bold", u: "https://static.canva.com/static/webfonts/PTSerif-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf",
                        l: "PTSerif-Regular",
                        u: "https://static.canva.com/static/webfonts/PTSerif-Regular.woff"
                    }
                }
            }, {
                family: "Quando",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Quando.png",
                W: "https://static.canva.com/static/images/fonts/Quando@2x.png",
                url: "https://static.canva.com/static/webfonts/Quando.css",
                R: "Quando-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Quando-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Quando-Regular.ttf",
                        l: "Quando-Regular",
                        u: "https://static.canva.com/static/webfonts/Quando-Regular.woff"
                    }
                }
            },
            {
                family: "Quattrocento",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Quattrocento.png",
                W: "https://static.canva.com/static/images/fonts/Quattrocento@2x.png",
                url: "https://static.canva.com/static/webfonts/Quattrocento.css",
                R: "Quattrocento",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf",
                        l: "Quattrocento",
                        u: "https://static.canva.com/static/webfonts/Quattrocento.woff"
                    }, bold: {
                        i: "https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",
                        l: "Quattrocento-Bold",
                        u: "https://static.canva.com/static/webfonts/Quattrocento-Bold.woff"
                    }
                }
            }, {
                family: "Sanchez",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Sanchez.png",
                W: "https://static.canva.com/static/images/fonts/Sanchez@2x.png",
                url: "https://static.canva.com/static/webfonts/Sanchez.css",
                R: "Sanchez-Regular",
                J: {o: !0, bold: !1, v: !1},
                i: {
                    o: "https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",
                        l: "Sanchez-Italic",
                        u: "https://static.canva.com/static/webfonts/Sanchez-Italic.woff"
                    }, j: {
                        i: "https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf", l: "Sanchez-Regular",
                        u: "https://static.canva.com/static/webfonts/Sanchez-Regular.woff"
                    }
                }
            }, {
                family: "Source Serif Pro",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Source-Serif-Pro.png",
                W: "https://static.canva.com/static/images/fonts/Source-Serif-Pro@2x.png",
                url: "https://static.canva.com/static/webfonts/SourceSerifPro.css",
                R: "Source-Serif-Pro",
                displayName: "Source Serif Pro",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",
                        l: "SourceSerifPro-Regular",
                        u: "https://static.canva.com/static/webfonts/SourceSerifPro-Regular.otf.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf",
                        l: "SourceSerifPro-Bold",
                        u: "https://static.canva.com/static/webfonts/SourceSerifPro-Bold.otf.woff"
                    }
                }
            }, {
                family: "Old Standard",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Old-Standard.png",
                W: "https://static.canva.com/static/images/fonts/Old-Standard@2x.png",
                url: "https://static.canva.com/static/webfonts/Old%2BStandard%2BTT.css",
                R: "OldStandard-TT",
                displayName: "Old Standard",
                J: {o: !0, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",
                    o: "https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf"
                },
                K: {
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf",
                        l: "OldStandardTT-Italic",
                        u: "https://static.canva.com/static/webfonts/OldStandardTT-Italic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",
                        l: "OldStandardTT-Regular",
                        u: "https://static.canva.com/static/webfonts/OldStandardTT-Regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",
                        l: "OldStandardTT-Bold",
                        u: "https://static.canva.com/static/webfonts/OldStandardTT-Bold.woff"
                    }
                }
            }, {
                family: "Times New Roman",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Times-New-Roman.png",
                W: "https://static.canva.com/static/images/fonts/Times-New-Roman@2x.png",
                R: "TimesNewRomanPSMT",
                disabled: !0,
                J: {o: !0, bold: !0, v: !0}
            }, {
                family: "Times Neue Roman",
                X: ["en", "es-ES"],
                displayName: "Times Neue Roman",
                N: "https://static.canva.com/static/images/fonts/Times-Neue-Roman.png",
                W: "https://static.canva.com/static/images/fonts/Times-Neue-Roman@2x.png",
                R: "TeXGyreTermes-Regular",
                url: "https://static.canva.com/static/webfonts/Times-Neue-Roman.css",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",
                    o: "https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",
                        l: "TeXGyreTermes-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/texgyretermes-bolditalic.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",
                        l: "TeXGyreTermes-Italic",
                        u: "https://static.canva.com/static/webfonts/texgyretermes-italic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf",
                        l: "TeXGyreTermes-Regular",
                        u: "https://static.canva.com/static/webfonts/texgyretermes-regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",
                        l: "TeXGyreTermes-Bold",
                        u: "https://static.canva.com/static/webfonts/texgyretermes-bold.woff"
                    }
                }
            },
            {
                family: "Trocchi",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Trocchi.png",
                W: "https://static.canva.com/static/images/fonts/Trocchi@2x.png",
                url: "https://static.canva.com/static/webfonts/Trocchi.css",
                R: "Trocchi",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf",
                        l: "Trocchi",
                        u: "https://static.canva.com/static/webfonts/Trocchi.woff"
                    }
                }
            }, {
                family: "Ultra",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Ultra.png",
                W: "https://static.canva.com/static/images/fonts/Ultra@2x.png",
                url: "https://static.canva.com/static/webfonts/Ultra.css",
                R: "Ultra",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Ultra.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Ultra.ttf",
                        l: "Ultra",
                        u: "https://static.canva.com/static/webfonts/Ultra.woff"
                    }
                }
            }, {
                family: "Vidaloka",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Vidaloka.png",
                W: "https://static.canva.com/static/images/fonts/Vidaloka@2x.png",
                url: "https://static.canva.com/static/webfonts/Vidaloka.css",
                R: "Vidaloka-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf",
                        l: "Vidaloka-Regular",
                        u: "https://static.canva.com/static/webfonts/Vidaloka-Regular.woff"
                    }
                }
            }, {
                family: "Voga",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Voga.png",
                W: "https://static.canva.com/static/images/fonts/Voga@2x.png",
                url: "https://static.canva.com/static/webfonts/Voga.css",
                displayName: "Voga",
                R: "Voga-Medium",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Voga-Medium.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Voga-Medium.ttf",
                        l: "Voga-Medium",
                        u: "https://static.canva.com/static/webfonts/Voga-Medium.woff"
                    }
                }
            }, {
                family: "Vollkorn",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Vollkorn.png",
                W: "https://static.canva.com/static/images/fonts/Vollkorn@2x.png",
                url: "https://static.canva.com/static/webfonts/Vollkorn.css",
                R: "Vollkorn",
                displayName: "Vollkorn",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf",
                        l: "Vollkorn-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Vollkorn-BoldItalic.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",
                        l: "Vollkorn-Bold",
                        u: "https://static.canva.com/static/webfonts/Vollkorn-Bold.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",
                        l: "Vollkorn-Regular", u: "https://static.canva.com/static/webfonts/Vollkorn-Regular.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",
                        l: "Vollkorn-Italic",
                        u: "https://static.canva.com/static/webfonts/Vollkorn-Italic.woff"
                    }
                }
            }, {
                family: "Cantora One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Cantora-One.png",
                W: "https://static.canva.com/static/images/fonts/Cantora-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Cantora%2BOne.css",
                R: "CantoraOne-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf",
                        l: "CantoraOne-Regular",
                        u: "https://static.canva.com/static/webfonts/CantoraOne-Regular.woff"
                    }
                }
            }, {
                family: "Coustard",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Coustard.png",
                W: "https://static.canva.com/static/images/fonts/Coustard@2x.png",
                url: "https://static.canva.com/static/webfonts/Coustard.css",
                R: "Coustard",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf",
                        l: "Coustard",
                        u: "https://static.canva.com/static/webfonts/Coustard.woff"
                    }
                }
            }, {
                family: "Emilys Candy",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Emilys-Candy.png",
                W: "https://static.canva.com/static/images/fonts/Emilys-Candy@2x.png",
                url: "https://static.canva.com/static/webfonts/Emilys%2BCandy.css",
                R: "EmilysCandy-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf",
                        l: "EmilysCandy-Regular",
                        u: "https://static.canva.com/static/webfonts/EmilysCandy-Regular.woff"
                    }
                }
            }, {
                family: "Glass Antiqua",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Glass-Antiqua.png",
                W: "https://static.canva.com/static/images/fonts/Glass-Antiqua@2x.png",
                url: "https://static.canva.com/static/webfonts/Glass%2BAntiqua.css",
                R: "GlassAntiqua-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf",
                        l: "GlassAntiqua-Regular",
                        u: "https://static.canva.com/static/webfonts/GlassAntiqua-Regular.woff"
                    }
                }
            }, {
                family: "Graduate",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Graduate.png",
                W: "https://static.canva.com/static/images/fonts/Graduate@2x.png",
                url: "https://static.canva.com/static/webfonts/Graduate.css",
                R: "Graduate-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf",
                        l: "Graduate-Regular",
                        u: "https://static.canva.com/static/webfonts/Graduate-Regular.woff"
                    }
                }
            }, {
                family: "Ribeye",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Ribeye.png",
                W: "https://static.canva.com/static/images/fonts/Ribeye@2x.png",
                url: "https://static.canva.com/static/webfonts/Ribeye.css",
                R: "Ribeye-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf",
                        l: "Ribeye-Regular",
                        u: "https://static.canva.com/static/webfonts/Ribeye-Regular.woff"
                    }
                }
            }, {
                family: "Vast Shadow",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Vast-Shadow.png",
                W: "https://static.canva.com/static/images/fonts/Vast-Shadow@2x.png",
                url: "https://static.canva.com/static/webfonts/Vast%2BShadow.css",
                R: "VastShadow-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf",
                        l: "VastShadow-Regular",
                        u: "https://static.canva.com/static/webfonts/VastShadow-Regular.woff"
                    }
                }
            }]
    }, {
        gi: "Handwritten", He: "cursive", fonts: [{
            family: "Gochi Hand",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Gochi-Hand.png",
            W: "https://static.canva.com/static/images/fonts/Gochi-Hand@2x.png",
            url: "https://static.canva.com/static/webfonts/Gochi%2BHand.css",
            R: "GochiHand-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf",
                    l: "GochiHand-Regular", u: "https://static.canva.com/static/webfonts/GochiHand-Regular.woff"
                }
            }
        }, {
            family: "Over The Rainbow",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Over-The-Rainbow.png",
            W: "https://static.canva.com/static/images/fonts/Over-The-Rainbow@2x.png",
            url: "https://static.canva.com/static/webfonts/Over%2Bthe%2BRainbow.css",
            R: "OvertheRainbow",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf",
                    l: "OvertheRainbow",
                    u: "https://static.canva.com/static/webfonts/OvertheRainbow.woff"
                }
            }
        }, {
            family: "Permanent Marker",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Permanent-Marker.png",
            W: "https://static.canva.com/static/images/fonts/Permanent-Marker@2x.png",
            url: "https://static.canva.com/static/webfonts/Permanent%2BMarker.css",
            R: "PermanentMarker",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/PermanentMarker.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/PermanentMarker.ttf",
                    l: "PermanentMarker",
                    u: "https://static.canva.com/static/webfonts/PermanentMarker.woff"
                }
            }
        }, {
            family: "Sacramento",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Sacramento.png",
            W: "https://static.canva.com/static/images/fonts/Sacramento@2x.png",
            url: "https://static.canva.com/static/webfonts/Sacramento.css",
            R: "Sacramento-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf",
                    l: "Sacramento-Regular",
                    u: "https://static.canva.com/static/webfonts/Sacramento-Regular.woff"
                }
            }
        }, {
            family: "Schoolbell",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Schoolbell.png",
            W: "https://static.canva.com/static/images/fonts/Schoolbell@2x.png",
            url: "https://static.canva.com/static/webfonts/Schoolbell.css",
            R: "Schoolbell",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/Schoolbell.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Schoolbell.ttf",
                    l: "Schoolbell",
                    u: "https://static.canva.com/static/webfonts/Schoolbell.woff"
                }
            }
        },
            {
                name: "Shadows Into Light",
                family: "Shadows Into Light Two",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Shadows-Into-Light-Two.png",
                W: "https://static.canva.com/static/images/fonts/Shadows-Into-Light-Two@2x.png",
                url: "https://static.canva.com/static/webfonts/Shadows%2BInto%2BLight%2BTwo.css",
                R: "ShadowsIntoLight",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf",
                        l: "ShadowsIntoLight",
                        u: "https://static.canva.com/static/webfonts/ShadowsIntoLightTwo-Regular.woff"
                    }
                }
            }, {
                name: "Amatic Small Caps",
                family: "Amatic SC",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Amatic-Small-Caps.png",
                W: "https://static.canva.com/static/images/fonts/Amatic-Small-Caps@2x.png",
                url: "https://static.canva.com/static/webfonts/Amatic%2BSC.2.css",
                R: "AmaticSC-Regular",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",
                    j: "https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf",
                        l: "AmaticSC-Regular",
                        u: "https://static.canva.com/static/webfonts/AmaticSC-Regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",
                        l: "AmaticSC-Bold",
                        u: "https://static.canva.com/static/webfonts/AmaticSC-Bold.woff"
                    }
                }
            },
            {
                family: "Architects Daughter",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Architects-Daughter.png",
                W: "https://static.canva.com/static/images/fonts/Architects-Daughter@2x.png",
                url: "https://static.canva.com/static/webfonts/Architects%2BDaughter.css",
                R: "ArchitectsDaughter",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf",
                        l: "ArchitectsDaughter",
                        u: "https://static.canva.com/static/webfonts/ArchitectsDaughter.woff"
                    }
                }
            }, {
                family: "Cabin Sketch",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Cabin-Sketch.png",
                W: "https://static.canva.com/static/images/fonts/Cabin-Sketch@2x.png",
                url: "https://static.canva.com/static/webfonts/Cabin%2BSketch.2.css",
                R: "CabinSketch-Regular",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    bold: "https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",
                    j: "https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf",
                        l: "CabinSketch-Regular",
                        u: "https://static.canva.com/static/webfonts/CabinSketch-Regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",
                        l: "CabinSketch-Bold",
                        u: "https://static.canva.com/static/webfonts/CabinSketch-Bold.woff"
                    }
                }
            }, {
                family: "Coming Soon",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Coming-Soon.png",
                W: "https://static.canva.com/static/images/fonts/Coming-Soon@2x.png",
                url: "https://static.canva.com/static/webfonts/Coming%2BSoon.css",
                R: "ComingSoon",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/ComingSoon.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/ComingSoon.ttf",
                        l: "ComingSoon",
                        u: "https://static.canva.com/static/webfonts/ComingSoon.woff"
                    }
                }
            }]
    }, {
        gi: "Script", He: "cursive", fonts: [{
            family: "Allura",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Allura.png",
            W: "https://static.canva.com/static/images/fonts/Allura@2x.png",
            url: "https://static.canva.com/static/webfonts/Allura.css",
            R: "Allura-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/Allura-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Allura-Regular.ttf",
                    l: "Allura-Regular",
                    u: "https://static.canva.com/static/webfonts/Allura-Regular.woff"
                }
            }
        }, {
            family: "Clicker Script",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Clicker-Script.png",
            W: "https://static.canva.com/static/images/fonts/Clicker-Script@2x.png",
            url: "https://static.canva.com/static/webfonts/Clicker%2BScript.css",
            R: "ClickerScript-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf",
                    l: "ClickerScript-Regular", u: "https://static.canva.com/static/webfonts/ClickerScript-Regular.woff"
                }
            }
        }, {
            family: "Courgette",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Courgette.png",
            W: "https://static.canva.com/static/images/fonts/Courgette@2x.png",
            url: "https://static.canva.com/static/webfonts/Courgette.css",
            R: "Courgette-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf",
                    l: "Courgette-Regular",
                    u: "https://static.canva.com/static/webfonts/Courgette-Regular.woff"
                }
            }
        }, {
            family: "Dear Joe",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Dear-Joe.png",
            W: "https://static.canva.com/static/images/fonts/Dear-Joe@2x.png",
            url: "https://static.canva.com/static/webfonts/Dear-Joe.css",
            R: "Dear Joe",
            displayName: "Dear Joe",
            disabled: !0,
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/DearJoe5.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/DearJoe5.ttf",
                    l: "dearJoe5CASUAL-P",
                    u: "https://static.canva.com/static/webfonts/DearJoe5.woff"
                }
            }
        }, {
            family: "Engagement",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Engagement.png",
            W: "https://static.canva.com/static/images/fonts/Engagement@2x.png",
            url: "https://static.canva.com/static/webfonts/Engagement.css",
            R: "Engagement-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf",
                    l: "Engagement-Regular",
                    u: "https://static.canva.com/static/webfonts/Engagement-Regular.woff"
                }
            }
        }, {
            family: "Euphoria Script",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Euphoria-Script.png",
            W: "https://static.canva.com/static/images/fonts/Euphoria-Script@2x.png",
            url: "https://static.canva.com/static/webfonts/Euphoria%2BScript.css",
            R: "EuphoriaScript-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf",
                    l: "EuphoriaScript-Regular",
                    u: "https://static.canva.com/static/webfonts/EuphoriaScript-Regular.woff"
                }
            }
        },
            {
                family: "Great Vibes",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Great-Vibes.png",
                W: "https://static.canva.com/static/images/fonts/Great-Vibes@2x.png",
                url: "https://static.canva.com/static/webfonts/Great%2BVibes.css",
                R: "GreatVibes-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf",
                        l: "GreatVibes-Regular",
                        u: "https://static.canva.com/static/webfonts/GreatVibes-Regular.woff"
                    }
                }
            }, {
                family: "Kaushan Script",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Kaushan-Script.png",
                W: "https://static.canva.com/static/images/fonts/Kaushan-Script@2x.png",
                url: "https://static.canva.com/static/webfonts/Kaushan-Script.css",
                R: "Kaushan Script",
                displayName: "Kaushan Script",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf",
                        l: "KaushanScript-Regular",
                        u: "https://static.canva.com/static/webfonts/KaushanScript-Regular.woff"
                    }
                }
            }, {
                family: "Merriweather",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Merriweather.png",
                W: "https://static.canva.com/static/images/fonts/Merriweather@2x.png",
                url: "https://static.canva.com/static/webfonts/Merriweather.css",
                R: "Merriweather",
                displayName: "Merriweather",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",
                    o: "https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",
                    v: "https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",
                        l: "Merriweather",
                        u: "https://static.canva.com/static/webfonts/Merriweather.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",
                        l: "Merriweather-Bold",
                        u: "https://static.canva.com/static/webfonts/Merriweather-Bold.woff"
                    },
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf",
                        l: "Merriweather-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/Merriweather-BoldItalic.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",
                        l: "Merriweather-Italic",
                        u: "https://static.canva.com/static/webfonts/Merriweather-Italic.woff"
                    }
                }
            }, {
                family: "Mr Dafoe",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Mr-Dafoe.png",
                W: "https://static.canva.com/static/images/fonts/Mr-Dafoe@2x.png",
                url: "https://static.canva.com/static/webfonts/Mr%2BDafoe.css",
                R: "MrDafoe-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf", l: "MrDafoe-Regular",
                        u: "https://static.canva.com/static/webfonts/MrDafoe-Regular.woff"
                    }
                }
            }, {
                family: "Niconne",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Niconne.png",
                W: "https://static.canva.com/static/images/fonts/Niconne@2x.png",
                url: "https://static.canva.com/static/webfonts/Niconne.css",
                R: "Niconne-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf",
                        l: "Niconne-Regular",
                        u: "https://static.canva.com/static/webfonts/Niconne-Regular.woff"
                    }
                }
            }, {
                family: "Parisienne",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Parisienne.png",
                W: "https://static.canva.com/static/images/fonts/Parisienne@2x.png",
                url: "https://static.canva.com/static/webfonts/Parisienne.css",
                R: "Parisienne-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf",
                        l: "Parisienne-Regular",
                        u: "https://static.canva.com/static/webfonts/Parisienne-Regular.woff"
                    }
                }
            }, {
                family: "Pinyon Script",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Pinyon-Script.png",
                W: "https://static.canva.com/static/images/fonts/Pinyon-Script@2x.png",
                url: "https://static.canva.com/static/webfonts/Pinyon%2BScript.css",
                R: "PinyonScript",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf",
                        l: "PinyonScript",
                        u: "https://static.canva.com/static/webfonts/PinyonScript.woff"
                    }
                }
            }, {
                family: "Dr Sugiyama",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Dr-Sugiyama.png",
                W: "https://static.canva.com/static/images/fonts/Dr-Sugiyama@2x.png",
                url: "https://static.canva.com/static/webfonts/Dr%2BSugiyama.css",
                R: "DrSugiyama-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf",
                        l: "DrSugiyama-Regular",
                        u: "https://static.canva.com/static/webfonts/DrSugiyama-Regular.woff"
                    }
                }
            },
            {
                family: "Grand Hotel",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Grand-Hotel.png",
                W: "https://static.canva.com/static/images/fonts/Grand-Hotel@2x.png",
                url: "https://static.canva.com/static/webfonts/Grand%2BHotel.css",
                R: "GrandHotel-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf",
                        l: "GrandHotel-Regular",
                        u: "https://static.canva.com/static/webfonts/GrandHotel-Regular.woff"
                    }
                }
            }, {
                family: "Knewave",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Knewave.png",
                W: "https://static.canva.com/static/images/fonts/Knewave@2x.png",
                url: "https://static.canva.com/static/webfonts/Knewave.css",
                R: "Knewave-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf",
                        l: "Knewave-Regular",
                        u: "https://static.canva.com/static/webfonts/Knewave-Regular.woff"
                    }
                }
            }, {
                family: "Pacifico",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Pacifico.png",
                W: "https://static.canva.com/static/images/fonts/Pacifico@2x.png",
                url: "https://static.canva.com/static/webfonts/Pacifico.css",
                R: "Pacifico-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Pacifico.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Pacifico.ttf", l: "Pacifico-Regular",
                        u: "https://static.canva.com/static/webfonts/Pacifico-Regular.woff"
                    }
                }
            }, {
                family: "Princess Sofia",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Princess-Sofia.png",
                W: "https://static.canva.com/static/images/fonts/Princess-Sofia@2x.png",
                url: "https://static.canva.com/static/webfonts/Princess%2BSofia.css",
                R: "PrincessSofia",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf",
                        l: "PrincessSofia",
                        u: "https://static.canva.com/static/webfonts/PrincessSofia.woff"
                    }
                }
            }, {
                family: "Satisfy",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Satisfy.png",
                W: "https://static.canva.com/static/images/fonts/Satisfy@2x.png",
                url: "https://static.canva.com/static/webfonts/Satisfy.css",
                R: "Satisfy",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf",
                        l: "Satisfy",
                        u: "https://static.canva.com/static/webfonts/Satisfy.woff"
                    }
                }
            }, {
                family: "Streamster",
                X: ["en", "es-ES"],
                disabled: !0,
                N: "https://static.canva.com/static/images/fonts/Streamster.png",
                W: "https://static.canva.com/static/images/fonts/Streamster@2x.png",
                url: "https://static.canva.com/static/webfonts/Streamster.css",
                R: "Streamster",
                displayName: "Streamster",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Streamster.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Streamster.ttf",
                        l: "Streamster",
                        u: "https://static.canva.com/static/webfonts/Streamster.woff"
                    }
                }
            }, {
                family: "Yellowtail",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Yellowtail.png",
                W: "https://static.canva.com/static/images/fonts/Yellowtail@2x.png",
                url: "https://static.canva.com/static/webfonts/Yellowtail.css",
                R: "Yellowtail",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf",
                        l: "Yellowtail",
                        u: "https://static.canva.com/static/webfonts/Yellowtail.woff"
                    }
                }
            }]
    }, {
        gi: "Fun \x26 Fancy", He: "fantasy", fonts: [{
            family: "Berkshire Swash",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Berkshire-Swash.png",
            W: "https://static.canva.com/static/images/fonts/Berkshire-Swash@2x.png",
            url: "https://static.canva.com/static/webfonts/Berkshire%2BSwash.css",
            R: "BerkshireSwash-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf",
                    l: "BerkshireSwash-Regular",
                    u: "https://static.canva.com/static/webfonts/BerkshireSwash-Regular.woff"
                }
            }
        }, {
            family: "Black Ops One",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Black-Ops-One.png",
            W: "https://static.canva.com/static/images/fonts/Black-Ops-One@2x.png",
            url: "https://static.canva.com/static/webfonts/Black%2BOps%2BOne.css",
            R: "BlackOpsOne-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf",
                    l: "BlackOpsOne-Regular",
                    u: "https://static.canva.com/static/webfonts/BlackOpsOne-Regular.woff"
                }
            }
        }, {
            family: "Chewy",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Chewy.png",
            W: "https://static.canva.com/static/images/fonts/Chewy@2x.png",
            url: "https://static.canva.com/static/webfonts/Chewy.css",
            R: "Chewy",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/Chewy.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Chewy.ttf",
                    l: "Chewy", u: "https://static.canva.com/static/webfonts/Chewy.woff"
                }
            }
        }, {
            family: "Creepster",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Creepster.png",
            W: "https://static.canva.com/static/images/fonts/Creepster@2x.png",
            url: "https://static.canva.com/static/webfonts/Creepster.css",
            R: "Creepster-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf",
                    l: "Creepster-Regular",
                    u: "https://static.canva.com/static/webfonts/Creepster-Regular.woff"
                }
            }
        }, {
            name: "Diplomata Small Caps",
            X: ["en", "es-ES"],
            family: "Diplomata SC",
            N: "https://static.canva.com/static/images/fonts/Diplomata-Small-Caps.png",
            W: "https://static.canva.com/static/images/fonts/Diplomata-Small-Caps@2x.png",
            url: "https://static.canva.com/static/webfonts/Diplomata%2BSC.css",
            R: "DiplomataSC-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf",
                    l: "DiplomataSC-Regular",
                    u: "https://static.canva.com/static/webfonts/DiplomataSC-Regular.woff"
                }
            }
        }, {
            family: "Germania One",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Germania-One.png",
            W: "https://static.canva.com/static/images/fonts/Germania-One@2x.png",
            url: "https://static.canva.com/static/webfonts/Germania%2BOne.css",
            R: "GermaniaOne-Regular",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf",
                    l: "GermaniaOne-Regular",
                    u: "https://static.canva.com/static/webfonts/GermaniaOne-Regular.woff"
                }
            }
        }, {
            family: "Megrim",
            X: ["en", "es-ES"],
            N: "https://static.canva.com/static/images/fonts/Megrim.png",
            W: "https://static.canva.com/static/images/fonts/Megrim@2x.png",
            url: "https://static.canva.com/static/webfonts/Megrim.css",
            R: "Megrim",
            J: {o: !1, bold: !1, v: !1},
            i: {j: "https://static.canva.com/static/truetypefonts/Megrim.ttf"},
            K: {
                j: {
                    i: "https://static.canva.com/static/truetypefonts/Megrim.ttf",
                    l: "Megrim",
                    u: "https://static.canva.com/static/webfonts/Megrim.woff"
                }
            }
        },
            {
                family: "Rye",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Rye.png",
                W: "https://static.canva.com/static/images/fonts/Rye@2x.png",
                url: "https://static.canva.com/static/webfonts/Rye.css",
                R: "Rye-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Rye-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Rye-Regular.ttf",
                        l: "Rye-Regular",
                        u: "https://static.canva.com/static/webfonts/Rye-Regular.woff"
                    }
                }
            }, {
                family: "UnifrakturMaguntia",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/UnifrakturMaguntia.png",
                W: "https://static.canva.com/static/images/fonts/UnifrakturMaguntia@2x.png",
                url: "https://static.canva.com/static/webfonts/UnifrakturMaguntia.css",
                R: "UnifrakturMaguntia",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf",
                        l: "UnifrakturMaguntia",
                        u: "https://static.canva.com/static/webfonts/UnifrakturMaguntia.woff"
                    }
                }
            }, {
                family: "Codystar",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Codystar.png",
                W: "https://static.canva.com/static/images/fonts/Codystar@2x.png",
                url: "https://static.canva.com/static/webfonts/Codystar.css",
                R: "Codystar",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf",
                        l: "Codystar", u: "https://static.canva.com/static/webfonts/Codystar.woff"
                    }
                }
            }, {
                family: "Crafty Girls",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Crafty-Girls.png",
                W: "https://static.canva.com/static/images/fonts/Crafty-Girls@2x.png",
                url: "https://static.canva.com/static/webfonts/Crafty%2BGirls.css",
                R: "CraftyGirls",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/CraftyGirls.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/CraftyGirls.ttf",
                        l: "CraftyGirls",
                        u: "https://static.canva.com/static/webfonts/CraftyGirls.woff"
                    }
                }
            }, {
                family: "Hitchcut",
                X: ["en", "es-ES"],
                displayName: "Hitchcut",
                N: "https://static.canva.com/static/images/fonts/Hitchcut.png",
                W: "https://static.canva.com/static/images/fonts/Hitchcut@2x.png",
                url: "https://static.canva.com/static/webfonts/Hitchcut.css",
                R: "Hitchcut",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Hitchcut.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Hitchcut.ttf",
                        l: "Hitchcut-Regular",
                        u: "https://static.canva.com/static/webfonts/Hitchcut.woff"
                    }
                }
            }, {
                family: "Lobster",
                X: ["en", "es-ES"],
                disabled: !0,
                N: "https://static.canva.com/static/images/fonts/Lobster.png",
                W: "https://static.canva.com/static/images/fonts/Lobster@2x.png",
                url: "https://static.canva.com/static/webfonts/Lobster.css",
                R: "Lobster",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Lobster.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Lobster.ttf",
                        l: "Lobster", u: "https://static.canva.com/static/webfonts/Lobster.woff"
                    }
                }
            }, {
                family: "Lobster Two",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Lobster-Two.png",
                W: "https://static.canva.com/static/images/fonts/Lobster-Two@2x.png",
                url: "https://static.canva.com/static/webfonts/Lobster%2BTwo.css",
                R: "Lobster Two",
                displayName: "Lobster Two",
                J: {o: !0, bold: !0, v: !0},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",
                    o: "https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",
                    v: "https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf"
                },
                K: {
                    v: {
                        i: "https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf",
                        l: "LobsterTwo-BoldItalic",
                        u: "https://static.canva.com/static/webfonts/LobsterTwo-BoldItalic.woff"
                    },
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",
                        l: "LobsterTwo",
                        u: "https://static.canva.com/static/webfonts/LobsterTwo-Regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",
                        l: "LobsterTwo-Bold",
                        u: "https://static.canva.com/static/webfonts/LobsterTwo-Bold.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",
                        l: "LobsterTwo-Italic",
                        u: "https://static.canva.com/static/webfonts/LobsterTwo-Italic.woff"
                    }
                }
            }, {
                family: "Oleo Script",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Oleo-Script.png",
                W: "https://static.canva.com/static/images/fonts/Oleo-Script@2x.png",
                url: "https://static.canva.com/static/webfonts/Oleo-Script.css",
                R: "Oleo Script",
                displayName: "Oleo Script",
                J: {o: !1, bold: !0, v: !1},
                i: {
                    j: "https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",
                    bold: "https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",
                        l: "OleoScript-Regular",
                        u: "https://static.canva.com/static/webfonts/OleoScript-Regular.woff"
                    },
                    bold: {
                        i: "https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf",
                        l: "OleoScript-Bold",
                        u: "https://static.canva.com/static/webfonts/OleoScript-Bold.woff"
                    }
                }
            }, {
                family: "Londrina Shadow",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Londrina-Shadow.png",
                W: "https://static.canva.com/static/images/fonts/Londrina-Shadow@2x.png",
                url: "https://static.canva.com/static/webfonts/Londrina%2BShadow.css",
                R: "LondrinaShadow-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf",
                        l: "LondrinaShadow-Regular",
                        u: "https://static.canva.com/static/webfonts/LondrinaShadow-Regular.woff"
                    }
                }
            }, {
                family: "Londrina Sketch",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Londrina-Sketch.png",
                W: "https://static.canva.com/static/images/fonts/Londrina-Sketch@2x.png",
                url: "https://static.canva.com/static/webfonts/Londrina%2BSketch.css",
                R: "LondrinaSketch-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf",
                        l: "LondrinaSketch-Regular",
                        u: "https://static.canva.com/static/webfonts/LondrinaSketch-Regular.woff"
                    }
                }
            }, {
                family: "Oregano",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Oregano.png",
                W: "https://static.canva.com/static/images/fonts/Oregano@2x.png",
                url: "https://static.canva.com/static/webfonts/Oregano.2.css",
                R: "Oregano-Regular",
                J: {o: !0, bold: !1, v: !1},
                i: {
                    o: "https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",
                    j: "https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf"
                },
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf",
                        l: "Oregano-Regular",
                        u: "https://static.canva.com/static/webfonts/Oregano-Regular.woff"
                    },
                    o: {
                        i: "https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",
                        l: "Oregano-Italic",
                        u: "https://static.canva.com/static/webfonts/Oregano-Italic.woff"
                    }
                }
            }, {
                family: "Sniglet",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Sniglet.png",
                W: "https://static.canva.com/static/images/fonts/Sniglet@2x.png",
                url: "https://static.canva.com/static/webfonts/Sniglet.css",
                R: "Sniglet",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf",
                        l: "Sniglet-Regular",
                        u: "https://static.canva.com/static/webfonts/Sniglet.woff"
                    }
                }
            }, {
                family: "Special Elite",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Special-Elite.png",
                W: "https://static.canva.com/static/images/fonts/Special-Elite@2x.png",
                url: "https://static.canva.com/static/webfonts/Special%2BElite.css",
                R: "SpecialElite-Regular",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/SpecialElite.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/SpecialElite.ttf",
                        l: "SpecialElite-Regular",
                        u: "https://static.canva.com/static/webfonts/SpecialElite-Regular.woff"
                    }
                }
            }, {
                family: "Sunday",
                X: ["en"],
                N: "https://static.canva.com/static/images/fonts/Sunday.png",
                W: "https://static.canva.com/static/images/fonts/Sunday@2x.png",
                url: "https://static.canva.com/static/webfonts/Sunday.css",
                R: "Sunday",
                displayName: "Sunday",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Sunday.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Sunday.ttf",
                        l: "Sunday",
                        u: "https://static.canva.com/static/webfonts/Sunday.woff"
                    }
                }
            }, {
                family: "Vampiro One",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/Vampiro-One.png",
                W: "https://static.canva.com/static/images/fonts/Vampiro-One@2x.png",
                url: "https://static.canva.com/static/webfonts/Vampiro%2BOne.css",
                R: "VampiroOne-Regular",
                J: {
                    o: !1, bold: !1,
                    v: !1
                },
                i: {j: "https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf",
                        l: "VampiroOne-Regular",
                        u: "https://static.canva.com/static/webfonts/VampiroOne-Regular.woff"
                    }
                }
            }, {
                family: "VT323",
                X: ["en", "es-ES"],
                N: "https://static.canva.com/static/images/fonts/VT323.png",
                W: "https://static.canva.com/static/images/fonts/VT323@2x.png",
                url: "https://static.canva.com/static/webfonts/VT323.css",
                R: "VT323",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/VT323-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/VT323-Regular.ttf",
                        l: "VT323-Regular",
                        u: "https://static.canva.com/static/webfonts/VT323-Regular.woff"
                    }
                }
            },
            {
                family: "Waterlily",
                X: ["en"],
                N: "https://static.canva.com/static/images/fonts/Waterlily.png",
                W: "https://static.canva.com/static/images/fonts/Waterlily@2x.png",
                url: "https://static.canva.com/static/webfonts/Waterlily.css",
                R: "Waterlily",
                displayName: "Waterlily",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Waterlily.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Waterlily.ttf",
                        l: "Waterlily-Regular",
                        u: "https://static.canva.com/static/webfonts/Waterlily.woff"
                    }
                }
            }, {
                family: "Brusher",
                X: ["en"],
                N: "https://static.canva.com/static/images/fonts/Brusher.png",
                W: "https://static.canva.com/static/images/fonts/Brusher@2x.png",
                url: "https://static.canva.com/static/webfonts/Brusher-Regular.css",
                R: "Brusher",
                displayName: "Brusher",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Brusher-Regular.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Brusher-Regular.ttf",
                        l: "Brusher-Regular",
                        u: "https://static.canva.com/static/webfonts/Brusher-Regular.woff"
                    }
                }
            }, {
                family: "Playlist Script",
                X: ["en"],
                N: "https://static.canva.com/static/images/fonts/Playlist-Script.png",
                W: "https://static.canva.com/static/images/fonts/Playlist-Script@2x.png",
                url: "https://static.canva.com/static/webfonts/Playlist-Script.css",
                R: "Playlist-Script",
                displayName: "Playlist Script",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Playlist-Script.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Playlist-Script.ttf",
                        l: "Playlist-Script",
                        u: "https://static.canva.com/static/webfonts/Playlist-Script.woff"
                    }
                }
            }, {
                family: "Selima",
                X: ["en"],
                N: "https://static.canva.com/static/images/fonts/Selima.png",
                W: "https://static.canva.com/static/images/fonts/Selima@2x.png",
                url: "https://static.canva.com/static/webfonts/Selima.css",
                R: "Selima",
                displayName: "Selima",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Selima.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Selima.ttf",
                        l: "Selima",
                        u: "https://static.canva.com/static/webfonts/Selima.woff"
                    }
                }
            }, {
                family: "Edo",
                X: ["en"],
                N: "https://static.canva.com/static/images/fonts/Edo.png",
                W: "https://static.canva.com/static/images/fonts/Edo@2x.png",
                url: "https://static.canva.com/static/webfonts/Edo.css",
                R: "Edo",
                displayName: "Edo",
                J: {o: !1, bold: !1, v: !1},
                i: {j: "https://static.canva.com/static/truetypefonts/Edo.ttf"},
                K: {
                    j: {
                        i: "https://static.canva.com/static/truetypefonts/Edo.ttf",
                        l: "EdoSZ",
                        u: "https://static.canva.com/static/webfonts/Edo.woff"
                    }
                }
            }]
    }];
    (function () {
        function a(a) {
            a.N = a.W
        }

        jb && uu.forEach(function (b) {
            b.fonts.forEach(a)
        })
    })();
    function vu(a, b, c, d, e) {
        this.fonts = a;
        this.Ob = b;
        this.oz = c;
        this.Vv = d;
        this.br = {};
        this.Bk = [];
        this.fr = [];
        this.si = [];
        this.er = [];
        this.Cn = [];
        this.bp = Date.now();
        this.Us = [];
        this.qp = [];
        this.locale = e
    }

    f = vu.prototype;
    f.off = Backbone.Events.off;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.trigger = Backbone.Events.trigger;
    function wu(a) {
        return a.qp.filter(function (a) {
            return 0 > this.Us.indexOf(a)
        }, a)
    }

    function xu() {
        var a = La, b = Vr(Ur((new Tr).Sg(!0).Yf(!1).Vj("*").Rg(), !1), ["FONT"]);
        zr(a.Ob, b, function (a, b) {
            var e;
            200 === a && b && (e = b.media, e = yu(this, e), e.forEach(function (a) {
                0 <= zu(this).indexOf(a) && (this.qp.unshift(a), this.qp = this.qp.slice(0, 10))
            }, this))
        }.bind(a))
    }

    function go(a, b) {
        var c = b && b.replace ? b.replace(/#/gi, "_") : null;
        if (c)for (var d = 0; d < a.fonts.length; d++)for (var e = a.fonts[d], g = 0; g < e.fonts.length; g++) {
            var h = e.fonts[g];
            if (h.name == c || h.family == c)return h.He = e.He, h
        }
        return null
    }

    function Xn(a) {
        a = go(La, a);
        return !(!a || !0 !== a.vA)
    }

    function Au(a, b) {
        if (b)for (var c = 0; c < a.fonts.length; c++)for (var d = a.fonts[c], e = 0; e < d.fonts.length; e++) {
            var g = d.fonts[e];
            if (g.media && g.media.id === b.G() && g.media.version === b.getVersion())return g.He = d.He, g
        }
        return null
    }

    function ko(a) {
        if ((a = go(La, a)) && a.media)return new Dh(a.media.id, a.media.version)
    }

    function Bu(a, b) {
        var c = go(a, b);
        return c && !0 === c.J.bold
    }

    function Cu(a, b) {
        var c = go(a, b);
        return c && !0 === c.J.o
    }

    function Du(a, b) {
        var c = go(a, b);
        return c && !0 === c.J.v
    }

    function lo(a, b, c) {
        var d = La, e = [], g = [];
        a && e.push(a);
        b && g.push(b);
        Aq(d, e, g, c)
    }

    function Eu(a, b) {
        Fu(La, [a], b)
    }

    function Gu(a, b, c) {
        a.fr = a.fr.concat(b);
        a.Cn.push({Zd: b, Kb: c || $.noop})
    }

    function Hu(a) {
        function b(a) {
            var b = !0;
            0 !== a.Zd.filter(function (a) {
                var d;
                d = c;
                var k = go(d, a);
                d = k ? void 0 === k.url || 0 <= d.si.indexOf(a) : !1;
                a = 0 <= c.er.indexOf(a);
                if (!d && !a)return !0;
                a && (b = !1);
                return !1
            }).length || a.qv || (a.qv = !0, a.Kb(b), c.trigger("update"))
        }

        var c = a;
        setTimeout(function () {
            c.Cn.forEach(b);
            c.Cn = c.Cn.filter(function (a) {
                return !a.qv
            })
        }, 0)
    }

    function Iu(a, b) {
        a.si = a.si.filter(function (a) {
            return 0 > b.indexOf(a)
        });
        b.forEach(function (b) {
            -1 == a.er.indexOf(b) && a.er.push(b)
        });
        Hu(a)
    }

    function Ju(a, b) {
        b.forEach(function (b) {
            -1 == a.si.indexOf(b) && a.si.push(b)
        });
        Hu(a)
    }

    f.Dk = function (a) {
        function b(a, b, c, k) {
            k = k.u ? "src: url('" + k.u + "') format('woff'); " : k.i ? "src: url('" + k.i + "') format('truetype'); " : k.xb ? "src: url('" + k.xb + "') format('opentype'); " : void 0;
            k && d.insertRule("@font-face {" + ("font-family: '" + a + "'; ") + ("font-style: " + b + "; ") + ("font-weight: " + c + "; ") + k + "}", 0)
        }

        var c = this, d = function () {
            var a = $("#fontStylesheet" + c.bp);
            0 === a.length && (a = $('\x3cstyle id\x3d"fontStylesheet' + c.bp + '"\x3e\x3c/style\x3e'), $("head").append(a));
            return a.get(0).sheet
        }();
        a.Dk && (b(a.family,
            "normal", "400", a.K.j), a.J.bold ? b(a.family, "normal", "700", a.K.bold) : b(a.family, "normal", "700", a.K.j), a.J.o ? b(a.family, "italic", "400", a.K.o) : b(a.family, "italic", "400", a.K.j), a.J.v ? b(a.family, "italic", "700", a.K.v) : a.J.bold ? b(a.family, "italic", "700", a.K.bold) : a.J.o ? b(a.family, "italic", "700", a.K.o) : b(a.family, "italic", "700", a.K.j))
    };
    function Aq(a, b, c, d) {
        b && 0 < b.length ? c && 0 < c.length ? Ku(a, b, function (b) {
            b ? Fu(a, c, d) : window.setTimeout(function () {
                d && d(!1)
            }, 0)
        }) : Ku(a, b, d) : c && 0 < c.length ? Fu(a, c, d) : window.setTimeout(function () {
            d && d(!0)
        }, 0)
    }

    function Lu(a, b, c) {
        var d = [], e = [];
        b.forEach(function (a) {
            var b = jm(a);
            a = b.family;
            (b = b.bb()) ? d.push(dr(b)) : a && e.push(a)
        });
        Aq(a, d, e, c)
    }

    function gr(a, b, c) {
        function d(a) {
            if (a) {
                var b = m.Vv.vb(a.G(), a.getVersion());
                if (b)l.push(h(Mu(m, a, b))); else throw Error("Media " + a.G() + "," + a.getVersion() + " missing from media map.");
            }
        }

        function e(a) {
            var b = [], d = new Set;
            a.forEach(function (a) {
                a.media.forEach(function (a) {
                    var c = a.G() + "," + a.na().getVersion();
                    n.has(c) && !d.has(c) && (b.push(a), d.add(c))
                })
            });
            a = yu(m, b).map(h);
            l = l.concat(a);
            c(!0, l)
        }

        function g() {
            c(!1, l)
        }

        function h(a) {
            return a.family || a.name
        }

        function k(a) {
            return null == m.br[a.G() + "," + a.getVersion()]
        }

        var l = [], m = a, n = new Set, q = b.filter(function (a) {
            return !Au(m, a)
        }).filter(function (a) {
            return !!a
        });
        q.forEach(function (a) {
            n.add(a.G() + "," + a.getVersion())
        });
        if (a.Ob) {
            var r = q.filter(k);
            if (0 !== r.length) {
                b = $r(new Zr, r).Rg();
                var p = Er(a.Ob, b);
                r.forEach(function (a) {
                    m.br[a.G() + "," + a.getVersion()] = p
                })
            }
            a = q.map(function (a) {
                return m.br[a.G() + "," + a.getVersion()]
            });
            P.all(a).then(e).catch(g)
        } else a.Vv && b.forEach(d), window.setTimeout(function () {
            c(!0, l)
        }, 0)
    }

    function Ku(a, b, c) {
        gr(a, b, function (b, e) {
            b ? Fu(a, e, c) : c && setTimeout(function () {
                c(!1)
            }, 0)
        })
    }

    function Fu(a, b, c) {
        function d(a, b, c) {
            h.oz.load({
                custom: {families: a, urls: b}, active: function () {
                    Ju(h, c)
                }, inactive: function () {
                    Iu(h, c)
                }, timeout: n
            })
        }

        function e(a, b) {
            var c = /^([^:]+)(:.+)?/, d = [];
            a.forEach(function (a, e) {
                if (void 0 !== a && null !== a) {
                    var g = ["n4"], h = a.match(c), k = h[1].replace(/[^a-z0-9]/gi, "").toLowerCase();
                    -1 < a.indexOf(":") && (g = h[2].substring(1).split(","));
                    var l = document.querySelector("html"), m = !1;
                    g.forEach(function (a) {
                        a = "wf-" + k + "-" + a + "-inactive";
                        m = m || l.classList.contains(a)
                    });
                    m && d.push({
                        family: a,
                        url: b[e]
                    })
                }
            });
            return d
        }

        function g(a) {
            return go(h, a)
        }

        var h = a, k = [], l = [], m = {}, n = vn ? 15E3 : 6E4, q = _.uniq(b).filter(function (a) {
            return null !== g(a)
        }), r = q.filter(function (a) {
            var b = 0 <= h.si.indexOf(a);
            a = void 0 === go(h, a).url;
            return !(b || a)
        }), p = r.filter(function (a) {
            return 0 > h.fr.indexOf(a)
        }), p = _.uniq(p.map(g));
        0 === _.uniq(r.map(function (a) {
            return go(h, a).url.replace(/^.+\=/, "")
        })).length && c ? window.setTimeout(function () {
            c(!0)
        }, 0) : (Gu(h, q, c), Hu(h), p.forEach(function (a) {
            var b;
            b = ["n4"];
            a.J && (a.J.o && b.push("i4"), a.J.bold &&
            b.push("n7"), a.J.v && b.push("i7"));
            b.sort();
            if (b = (b = a.J && (a.J.o || a.J.bold || a.J.v) ? a.family + ":" + b.join(",") : a.family) && b.replace ? b.replace(/#/gi, "_") : null) {
                k.push(b);
                a.Vy && (m[b] = a.Vy);
                !0 === a.Dk ? h.Dk(a) : l.push(a.url);
                b = h;
                var c = $("#fontOverrideStylesheet" + b.bp);
                0 === c.length && (c = $('\x3cstyle id\x3d"fontOverrideStylesheet' + b.bp + '"\x3e\x3c/style\x3e'), $("head").append(c));
                b = c.get(0).sheet;
                a.J && (!1 === a.J.o && b.insertRule('font[face\x3d"' + a.family + '"] * {font-style: normal !important; }', 0), !1 === a.J.bold &&
                b.insertRule('font[face\x3d"' + a.family + '"] * {font-weight: normal !important; }', 0), !1 === a.J.v && (b.insertRule('font[face\x3d"' + a.family + '"] b i {font-weight: normal !important; font-style: normal !important; }', 0), b.insertRule('font[face\x3d"' + a.family + '"] i b {font-weight: normal !important; font-style: normal !important; }', 0)))
            }
        }), 0 < p.length && a.oz.load({
            custom: {families: k, urls: l, testStrings: m}, active: function () {
                var a = e(k, l), c;
                0 < a.length ? (c = _.pluck(a, "family"), a = _.pluck(a, "url"), d(c, a, b)) : Ju(h,
                    b)
            }, inactive: function () {
                d(k, l, b)
            }, timeout: n
        }))
    }

    function zu(a) {
        return Nu(a).filter(function (a) {
            return !a.disabled
        }).sort(a.bv)
    }

    f.xC = function (a) {
        return !this.locale || !a.X || -1 !== a.X.indexOf(this.locale)
    };
    f.bv = function (a, b) {
        var c = a.displayName || a.name || a.family, d = b.displayName || b.name || b.family, e = c.split(/\s/gi), g = d.split(/\s/gi);
        if (e[0] === g[0]) {
            if (/hairline/gi.test(e[1]))return -1;
            if (/hairline/gi.test(g[1]))return 1;
            if (/light/gi.test(e[1]) || /thin/gi.test(e[1]) || /heavy/gi.test(g[1]) || /light/gi.test(e[2]) || /thin/gi.test(e[2]) || /bold/gi.test(g[3]))return -1;
            if (/light/gi.test(g[1]) || /thin/gi.test(g[1]) || /heavy/gi.test(e[1]) || /light/gi.test(g[2]) || /thin/gi.test(g[2]))return 1
        }
        return c.localeCompare(d)
    };
    function Nu(a) {
        var b = [];
        a.fonts.forEach(function (a) {
            a.fonts.forEach(function (a) {
                b.push(a)
            })
        });
        return b.filter(a.xC, a).sort(a.bv)
    }

    function Rn(a) {
        var b = Nu(La).filter(function (b) {
            return (b.name || b.family).toLowerCase() == a.toLowerCase()
        });
        return 0 < b.length ? b[0].name || b[0].family : null
    }

    function yu(a, b) {
        return b.map(function (a) {
            var b, e = new Dh(a.G(), a.na().getVersion());
            if (Ou(this, e))return Au(this, e);
            b = a.na();
            var g = a.G();
            a = b.La() || a.importFilename.replace(/\..*$/, "") || g;
            var h = b.Tb()[ee].ia(), k, l, m;
            /\.ttf/gi.test(h) ? k = h : /\.otf/gi.test(h) ? l = h : /\.woff/gi.test(h) && (m = h);
            b = Pu({
                displayName: a,
                fontFamily: g + "_" + b.getVersion(),
                N: b.Tb()[Vp].ia(),
                pa: g,
                ra: b.getVersion(),
                $y: k,
                Dx: l,
                wz: m
            });
            this.Bk.push(e);
            Qu(this, b);
            return b
        }, a)
    }

    function Mu(a, b, c) {
        if (Ou(a, b) && Au(a, b))b = Au(a, b), Qu(a, b); else {
            a.Bk.push(b);
            var d = b.G(), e = b.getVersion(), g = c[ee].ia(), h, k, l;
            /\.ttf/gi.test(g) ? h = g : /\.otf/gi.test(g) ? k = g : /\.woff/gi.test(g) && (l = g);
            b = Pu({
                displayName: d,
                fontFamily: d + "_" + e,
                N: c[Vp].ia(),
                pa: d,
                ra: b.getVersion(),
                $y: h,
                Dx: k,
                wz: l
            })
        }
        Qu(a, b);
        return b
    }

    function Qu(a, b) {
        var c;
        (function () {
            c = a.fonts.filter(function (a) {
                return "Media" === a.gi
            })[0];
            return !!c
        })() ? c.fonts.push(b) : a.fonts.push({gi: "Media", He: "sans-serif", fonts: [b]})
    }

    function Ou(a, b) {
        for (var c = 0; c !== a.Bk.length; c++)if (a.Bk[c].G() === b.G() && a.Bk[c].getVersion() === b.getVersion())return !0;
        return !1
    }

    function Pu(a) {
        return {
            family: a.fontFamily,
            R: a.fontFamily,
            displayName: a.displayName,
            disabled: !1,
            Dk: !0,
            N: a.N,
            xJ: a.N,
            media: {id: a.pa, version: a.ra},
            K: {j: {xb: a.Dx, i: a.$y, u: a.wz, l: a.fontFamily}},
            url: "#",
            J: {o: !1, bold: !1, v: !1}
        }
    };
    function Ru() {
        this.ba = Ja
    }

    function Su(a, b, c, d, e, g) {
        a.ba.post("/import/layout/" + encodeURIComponent(b) + "/" + encodeURIComponent(c.toString()) + (g ? "?designType\x3d" + encodeURIComponent(g) : ""), d, null, function (a) {
            e && e(a)
        })
    }

    function Tu(a, b, c, d) {
        return R(a.ba, "/media/" + encodeURIComponent(b) + "/" + encodeURIComponent(c.toString()) + "?upload", {url: d})
    }

    function Uu(a, b, c, d) {
        return Fe(a.ba, "/media/" + encodeURIComponent(b) + "/" + encodeURIComponent(c.toString()) + "?form\x26mimeType\x3d" + encodeURIComponent(d)).spread(Vu)
    }

    function Wu(a, b, c, d) {
        return R(a.ba, "/media/" + encodeURIComponent(b) + "/" + encodeURIComponent(c.toString()) + "?import", d).spread(function (a) {
            return cf(a.media)
        })
    }

    function Xu(a) {
        this.prices = a
    }

    function Yu(a) {
        var b = {};
        b.ONE_USE = a;
        return new Xu(b)
    }

    var Zu = Yu(0);

    function $u() {
        this.licenseModel = null;
        this.autoPublicify = !1;
        this.publicifyMediaRequests = []
    }

    $u.prototype.wu = function (a) {
        this.licenseModel = a;
        return this
    };
    function av() {
        var a = (new $u).wu(Zu);
        a.autoPublicify = !0;
        return a
    }

    $u.prototype.vp = function (a) {
        this.locale = a;
        return this
    };
    function bv() {
        this.licenseModel = this.keywords = this.description = this.title = this.version = this.media = void 0
    }

    bv.prototype.Vd = function (a) {
        this.version = a;
        return this
    };
    bv.prototype.pz = function (a) {
        this.description = a;
        return this
    };
    bv.prototype.tp = function (a) {
        this.keywords = a;
        return this
    };
    bv.prototype.wu = function (a) {
        this.licenseModel = a;
        return this
    };
    function cv() {
    }

    cv.prototype.sz = function (a) {
        this.importVersion = a;
        return this
    };
    function dv(a) {
        this.reset();
        this.F = a
    }

    dv.prototype.reset = function () {
        this.previous = null;
        this.Vg = [];
        this.Ae = {top: 0, left: 0}
    };
    dv.prototype.Jl = function () {
        var a = this;
        ev();
        a.Vg.forEach(function (b) {
            b = {
                elementIndex: b.ea(),
                pageIndex: T(t, b.ca()),
                "new": {left: b.Y(), top: b.O()},
                old: {left: b.Y() - a.Ae.left, top: b.O() - a.Ae.top}
            };
            y.register(new U($i, b))
        });
        fv()
    };
    dv.prototype.Zn = function () {
        var a = this;
        return function (b) {
            0 < $(document.activeElement).parents(".toolbarMoreGroup *").length || wp();
            a.Vg = t.Da();
            var c = $(b.target);
            if ("true" == c.attr("contenteditable") || c.is("input:focus") || c.is("textarea:focus"))return a.reset(), !0;
            if (0 < $(".dd-container.on").length || "block" === $("#overlays #marquee").css("display") || b.metaKey || b.ctrlKey)return !0;
            if (0 < a.Vg.length) {
                var d = 1;
                b.shiftKey && (d = 10);
                switch (b.which) {
                    case 37:
                        return a.previous = 37, a.Ae.left -= 1 / M * 1 * d, a.Vg.forEach(function (a) {
                            hp(a,
                                1 / M * 1 * d)
                        }), gv(Hb(a.F)), !1;
                    case 38:
                        return a.previous = 38, a.Ae.top -= 1 / M * 1 * d, a.Vg.forEach(function (a) {
                            ip(a, 1 / M * 1 * d)
                        }), gv(Hb(a.F)), !1;
                    case 39:
                        return a.previous = 39, a.Ae.left += 1 / M * 1 * d, a.Vg.forEach(function (a) {
                            jp(a, 1 / M * 1 * d)
                        }), gv(Hb(a.F)), !1;
                    case 40:
                        return a.previous = 40, a.Ae.top += 1 / M * 1 * d, a.Vg.forEach(function (a) {
                            kp(a, 1 / M * 1 * d)
                        }), gv(Hb(a.F)), !1
                }
            }
            null !== a.previous && a.Jl();
            a.reset();
            return !0
        }
    };
    dv.prototype.save = function () {
        var a = this;
        return function (b) {
            a.previous === b.which && (a.Jl(), a.reset())
        }
    };
    function mn(a) {
        $(document).keydown(hv);
        a = new dv(a);
        $(document).keydown(a.Zn());
        $(document).keyup(a.save())
    }

    function hv(a) {
        var b;
        switch (a.which) {
            case 16:
                var c = function (a) {
                    window.clearTimeout(b);
                    16 === a.which && ($(".selectionBox").removeClass("freeResize"), $(document).off("keyup", c))
                }, d = t.Da()[0];
                d && 0 === In(d.H()) ? b = window.setTimeout(function () {
                    $(".selectionBox").addClass("freeResize")
                }, 500) : $(".selectionBox").addClass("freeResize");
                $(document).on("keyup", c);
                break;
            case 27:
                a = $("#canvaDocument .element.selected,#canvaDocument .element.multiSelected").length;
                if (0 < $("*:focus").length)$("*:focus").blur(); else if (0 <
                    $(".modalContentMask").length)a = $(".modalContentMask"), (d = a.next().children(".dialog").data("Canva_Views_Dialog")) ? d.cancel() : a.trigger("click"); else {
                    if (0 < $(".dd-container.on").length)return !0;
                    0 < a ? O() : $(".infoPanel .close").click()
                }
                return !1
        }
        if (document.querySelector(".modalContentMask, .mask.editingDefaults, .mask.on, body.blockDocument"))return !0;
        var d = document.querySelector(".element.text.selected"), e = document.querySelector(".element.text.focused"), g = e, h = document.activeElement, h = h ? h.nodeName.toLowerCase() :
            "";
        if ("input" === h || "textarea" === h)g = !0;
        if (g && 9 === a.which)return !1;
        if (t.oa().some(function (a) {
                return a.Mc
            }))return !0;
        if ((h = t.Da()[0]) && h.Je && g && a.shiftKey && a.altKey) {
            if (66 === a.which)return iv(h), !1;
            if (187 === a.which || 171 === a.which)return jv(h, 1), !1;
            if (189 === a.which || 173 === a.which)return jv(h, -1), !1
        }
        if (h && h.yw() && a.shiftKey && a.altKey) {
            if (187 === a.which || 171 === a.which)return kv(h, 1), !1;
            if (189 === a.which || 173 === a.which)return kv(h, -1), !1
        }
        if (d && 13 === a.which && (a.ctrlKey || a.metaKey))return e ? Jo($(d)) : lv($(d)),
            !1;
        if (g && h && h.Sy()) {
            if (a.altKey) {
                switch (a.which) {
                    case 37:
                        return mv(h, -1), !1;
                    case 39:
                        return mv(h, 1), !1;
                    default:
                        h.Tg = void 0
                }
                if (a.shiftKey && 81 === a.which)return mv(h, 0), !1
            }
            if (a.shiftKey && (a.metaKey || a.ctrlKey)) {
                switch (a.which) {
                    case 75:
                        $(".textToolbarUppercase a").trigger("click");
                        break;
                    case 76:
                        $(".textToolbarLeft a").trigger("click");
                        break;
                    case 82:
                        $(".textToolbarRight a").trigger("click");
                        break;
                    case 67:
                        $(".textToolbarCenter a").trigger("click")
                }
                return !1
            }
        } else if (!g) {
            if (a.metaKey || a.ctrlKey)switch (a.which) {
                case 67:
                    return nv(),
                        !1;
                case 86:
                    return ov(), !1;
                case 71:
                    return a.shiftKey ? pv() : qv(), !1;
                case 90:
                    return a.shiftKey ? rv() : sv(), !1;
                case 89:
                    return rv(), !1;
                case 65:
                    return O(), a.shiftKey || tv(J(t).oa()), !1
            }
            if (!a.metaKey && !a.ctrlKey && !a.altKey)switch (a.which) {
                case 84:
                    return $("#objectPanel .textControls a[data-style\x3dbody]").trigger("click"), !1
            }
            switch (a.which) {
                case 8:
                case 46:
                    return $(".elementToolbarDelete a").trigger("click"), !1;
                case 191:
                    return $("#search").focus().get(0).select(), !1
            }
        }
        if (a.ctrlKey && a.altKey && 70 === a.which)return uv(),
            !1;
        if (a.metaKey || a.ctrlKey) {
            if (a.altKey) {
                if (221 === a.which)return vv(1), !1;
                if (219 === a.which)return vv(-1), !1
            }
            switch (a.which) {
                case 221:
                case 38:
                    if (Hj())return $(".elementToolbarForward a").click(), !1;
                    break;
                case 219:
                case 40:
                    if (Hj())return $(".elementToolbarBackward a").click(), !1;
                    break;
                case 187:
                case 61:
                    return $("#zoomIn").click(), !1;
                case 189:
                case 173:
                    return $("#zoomOut").click(), !1
            }
            if (59 === a.which || 186 === a.which)return Ua().toggle(), !1
        }
        return !0
    };
    function wv(a) {
        this.google = a;
        this.Zr = null
    }

    wv.prototype.search = function (a, b, c) {
        var d = this;
        return new P(function (e, g) {
            function h(a) {
                d.Zr = a;
                a = a.Jn().map(function (a) {
                    var b = {page: 0, quality: "THUMBNAIL", height: a.lw(), width: a.mw(), url: a.be()}, c = {
                        page: 0,
                        quality: "SCREEN",
                        height: a.D(),
                        width: a.C(),
                        url: a.ia()
                    };
                    return {id: a.G(), title: a.La(), origin: "GOOGLE", files_: [b, c]}
                });
                e(xv({results: a}))
            }

            function k() {
                e(xv({results: []}))
            }

            if ("google" == a.toLowerCase()) {
                if (0 < b && !d.Zr)throw Error("Google searches cannot be initialised when the from param is not zero");
                (0 <
                b ? tt(d.Zr) : d.google.yn({limit: c ? c : 50})).then(h).fail(k)
            } else g("Not handled")
        })
    };
    function yv(a) {
        this.sJ = a
    }

    yv.prototype.search = function (a, b, c) {
        return new P(function (d, e) {
            function g() {
                d(xv({results: []}))
            }

            function h() {
                Od.Jn(b, c).then(k).catch(g)
            }

            function k(a) {
                var b = [];
                a.forEach(function (a) {
                    var c = a.dc(), d = a.sg(), c = {
                        page: 0,
                        quality: "THUMBNAIL",
                        height: c.D(),
                        width: c.C(),
                        url: c.ia()
                    }, d = {page: 0, quality: "SCREEN", height: d.D(), width: d.C(), url: d.ia()};
                    b.push({id: a.G(), title: a.getName(), origin: de, files_: [c, d]})
                });
                d(xv({results: b}))
            }

            "facebook" == a.toLowerCase() ? Od && ht(Od).then(h).catch(function () {
                gt(Od).then(h).catch(g)
            }) : e(Error("Not handled"))
        })
    };
    function zv(a, b) {
        this.ba = a;
        this.WG = b || [];
        this.url = "/search"
    }

    var Av = ["DESIGN"], Bv = [Zd, ae];

    function Cv(a, b, c, d, e, g, h, k, l, m, n) {
        function q(a) {
            var b = "";
            0 < a.length && (b = "\x26sort\x3d" + encodeURIComponent(a.map(function (a) {
                    return a.gC + ":" + a.getDirection()
                }).join()));
            return b
        }

        b = "/search?q\x3d" + encodeURIComponent(c) + (b ? "\x26docId\x3d" + encodeURIComponent(b) : "") + function (a, b, c) {
                var d = "", e = [], g = [], h = [];
                if (a) {
                    var k = [];
                    a.forEach(function (a) {
                        a = a.toString().charAt(0);
                        d += a;
                        k.push(a)
                    });
                    h.push("+type:(" + k.join(" ") + ")")
                }
                b && Object.keys(b).forEach(function (a) {
                    e.push("" + a + ":" + b[a]);
                    h.push("+" + a + ":" + b[a])
                });
                c && Object.keys(c).forEach(function (a) {
                    g.push("" + a + ":" + c[a]);
                    h.push("-" + a + ":" + c[a])
                });
                a = "";
                d && (a += "\x26types\x3d" + d);
                0 < e.length && (a += "\x26includes\x3d" + encodeURIComponent(e.join(",")));
                0 < g.length && (a += "\x26excludes\x3d" + encodeURIComponent(g.join(",")));
                0 < h.length && (a += "\x26fq\x3d" + encodeURIComponent(h.join(" ")));
                return a
            }(d, e, g) + (h ? "\x26suggest\x3d" + encodeURIComponent(h.toString()) : "") + (k ? q(k) : "") + "" + (void 0 !== m ? "\x26limit\x3d" + encodeURIComponent("" + m) : "") + (void 0 !== l ? "\x26from\x3d" + encodeURIComponent("" +
                l) : "") + (n ? "\x26translatable\x3dtrue" : "");
        return Fe(a.ba, b).get(0).then(xv)
    }

    function Dv(a, b, c, d, e, g, h, k, l, m) {
        return P.any(a.WG.map(function (a) {
            return a.search(c, l, m)
        })).catch(function () {
            return Cv(this, b, c, d, e, g, h, k, l, m)
        }.bind(a)).cancellable()
    }

    function Ev(a, b) {
        R(a.ba, a.url + "/click", b).return()
    };
    function Fv() {
        this.searchId = "";
        this.rank = 0;
        this.id = "";
        this.version = 0;
        this.origin = "CANVA";
        this.description = this.title = this.artist = this.group = this.brand = null;
        this.recolorable = this.repeating = this.cutout = this.background = !1;
        this.spritesheetMetadata = this.componentMedia = this.oneTimeUseAggregatePriceCents = this.oneTimeUsePriceCents = this.keywords = this.superKeywords = null;
        this.files_ = [];
        this.designType = void 0;
        this.type = null;
        this.status = Jr;
        this.user = null;
        this.fg = void 0
    }

    f = Fv.prototype;
    f.jw = function () {
        return this.searchId
    };
    f.iw = function () {
        return this.rank
    };
    f.G = function () {
        return this.id
    };
    f.getVersion = function () {
        return this.version
    };
    f.Md = function () {
        return this.origin
    };
    f.ta = function () {
        return this.brand
    };
    f.pb = function () {
        return this.user
    };
    f.La = function () {
        return this.title
    };
    f.qb = function () {
        return this.background
    };
    f.de = function () {
        return this.cutout
    };
    f.dl = function () {
        return this.repeating
    };
    f.Hb = function () {
        return this.recolorable
    };
    function Gv(a) {
        return a.oneTimeUsePriceCents
    }

    f.hr = function () {
        return this.componentMedia
    };
    f.ur = function () {
        return this.superKeywords
    };
    f.nh = function () {
        return this.keywords
    };
    f.Tb = function () {
        return this.files_
    };
    f.tr = function () {
        return this.spritesheetMetadata
    };
    f.vb = function (a) {
        return this.Tb().filter(function (b) {
            return b.ca() === (a || 0)
        }).reduce(function (a, c) {
            a[c.hw()] = c;
            return a
        }, {})
    };
    f.zf = function () {
        return Hv(this).length
    };
    function Hv(a) {
        var b = [];
        a.Tb().forEach(function (a) {
            a = a.ca();
            -1 === b.indexOf(a) && b.push(a)
        });
        return b
    }

    function Iv(a) {
        return "DESIGN" == a.type && 1 < a.zf()
    }

    f.getFile = function (a, b) {
        var c = this.vb(b);
        return c ? c[a] : void 0
    };
    f.sg = function (a) {
        var b = this, c = this.getFile("ORIGINAL");
        c ? b.fg ? a && a(b.fg) : $.getJSON(c.ia(), function (c) {
            b.fg = c;
            a && a(b.fg)
        }) : a && a(b.fg)
    };
    f.be = function () {
        var a = this.getFile(Vp);
        return a ? a.ia() : null
    };
    function ce(a) {
        if (!a)return null;
        a = $.extend(new Fv, a);
        if (a.files_) {
            var b;
            b = (b = a.files_) ? b.map(tk) : null;
            a.files_ = b
        }
        a.componentMedia && (a.componentMedia = xq(a.componentMedia));
        a.spritesheetMetadata && (a.spritesheetMetadata = Sr(a.spritesheetMetadata));
        return a
    }

    function Jv(a, b) {
        a.id = b.G();
        a.version = b.na().getVersion();
        a.origin = "CANVA"
    }

    function Kv() {
        this.end = this.start = 0;
        this.replacement = this.original = ""
    }

    Kv.prototype.sg = function () {
        return this.original
    };
    function Lv(a) {
        return a ? $.extend(new Kv, a) : null
    }

    function Mv() {
        this.overridden = !1;
        this.replacementQuery = this.originalQuery = "";
        this.replacementHits = this.originalHits = 0;
        this.tokenReplacements = null
    }

    function Nv(a) {
        return a.replacementQuery
    }

    function Ov() {
        this.id = "";
        this.totalHits = 0;
        this.results = [];
        this.suggestion = null
    }

    Ov.prototype.G = function () {
        return this.id
    };
    Ov.prototype.Kn = function () {
        return this.results
    };
    function xv(a) {
        if (!a)return null;
        a = $.extend(new Ov, a);
        a.results && (a.results = a.results.map(ce));
        if (a.suggestion) {
            var b;
            (b = a.suggestion) ? (b = $.extend(new Mv, b), b.tokenReplacements && (b.tokenReplacements = b.tokenReplacements.map(Lv))) : b = null;
            a.suggestion = b
        }
        return a
    }

    function Pv() {
    }

    Pv.prototype.fd = function () {
        var a = this;
        return Object.keys(a).map(function (b) {
            if ("object" !== typeof a[b])return b + "\x3d" + encodeURIComponent(a[b])
        }).filter(function (a) {
            return !!a
        }).join("\x26")
    };
    Pv.prototype.uu = function (a) {
        this.events = a;
        return this
    };
    function Qv(a) {
        a = Object.freeze(E(Rv, {mediaId: a.G(), rank: a.iw(), searchId: a.jw()}));
        return (new Pv).uu([a])
    }

    function Rv() {
    }

    Rv.prototype.jw = function () {
        return this.searchId
    };
    Rv.prototype.iw = function () {
        return this.rank
    };
    function Sv(a, b) {
        this.gC = a;
        this.direction = b
    }

    Sv.prototype.getDirection = function () {
        return this.direction
    };
    function Tv(a, b) {
        this.cache = $.extend({}, a, !0);
        this.Ob = b;
        var c = this;
        Object.keys(this.cache).forEach(function (a) {
            Object.keys(c.cache[a]).forEach(function (b) {
                var g = +b;
                Object.keys(c.cache[a][+b]).forEach(function (b) {
                    c.cache[a][g][b] = tk(c.cache[a][g][b])
                })
            })
        })
    }

    function je(a, b, c, d) {
        a.cache[b] = a.cache[b] || {};
        a.cache[b][c] = a.cache[b][c] || {};
        for (var e in d)a.cache[b][c][e] = tk(d[e])
    }

    Tv.prototype.vb = function (a, b) {
        return Uv(this, a, b) ? this.cache[a][b] : null
    };
    function Uv(a, b, c) {
        return !!a.cache[b] && !!a.cache[b][c]
    }

    function Kj(a, b) {
        return !!b && Uv(a, b.G(), b.getVersion())
    }

    function Vv(a, b) {
        var c = Aa;

        function d(a) {
            a && a.media && a.media.forEach(function (a) {
                je(e, a.G(), a.na().getVersion(), a.na().Tb())
            })
        }

        var e = c;
        if (0 === a.length)b(); else {
            var g = $r((new Zr).Rg(), a);
            Er(c.Ob, g).then(d).catch($.noop).finally(b)
        }
    };
    var Wv = {
        1: "TOP-LEFT",
        2: "TOP-RIGHT",
        3: "BOTTOM-RIGHT",
        4: "BOTTOM-LEFT",
        5: "LEFT-TOP",
        6: "RIGHT-TOP",
        7: "RIGHT-BOTTOM",
        8: "LEFT-BOTTOM"
    };

    function Xv() {
    }

    Xv.prototype.getKey = function () {
        return this.key
    };
    function Vu(a) {
        return E(Xv, a)
    };
    function Yv(a, b, c) {
        this.fileName = a;
        this.Fv = b;
        this.UB = c
    }

    Yv.prototype.getFileName = function () {
        return this.fileName
    };
    function Zv() {
    }

    Zv = $m.extend();
    Zv.prototype.initialize = function (a) {
        this.Ud = a.Ud;
        $m.prototype.initialize.call(this, {title: "Upload error", content: $($v(this))})
    };
    function $v(a) {
        var b = a.Ud.Fv;
        switch (b) {
            case 0:
                return Zv.Kz();
            case 3:
                return Zv.Nz();
            case 1:
                return Zv.Lz({fileName: a.Ud.getFileName()});
            case 2:
                return Zv.Cz({fileName: a.Ud.getFileName()});
            case 4:
                return Zv.Bz({fileName: a.Ud.getFileName()});
            case 5:
                return Zv.Mz({fileName: a.Ud.getFileName()});
            case 6:
                return Zv.Fz({fileName: a.Ud.getFileName(), rejectionReason: aw(a)})
        }
        throw new TypeError("Unhandled UploadErrorDetails.ErrorType: " + b);
    }

    function aw(a) {
        a = a.Ud.UB;
        if (a instanceof Rr)return a.na().rejectionReason
    }

    Zv.Zi = null;
    Zv.show = function (a) {
        if (!Zv.xI(a))return null;
        var b = new Zv({Ud: a});
        b.on("hide", function () {
            Zv.Zi === b && (Zv.Zi = null)
        });
        if (Zv.Zi)Zv.Zi.on("hide", function () {
            b.show()
        }); else b.show();
        return Zv.Zi = b
    };
    Zv.xI = function (a) {
        if (Zv.Zi)switch (a.Fv) {
            case 1:
            case 2:
            case 4:
            case 5:
            case 6:
                return !1
        }
        return !0
    };
    Zv.Kz = _.template("\x3cp\x3eYour browser doesn\x26rsquo;t seem to support file uploads.\x3c/p\x3e", {variable: "data"});
    Zv.Nz = _.template("\x3cp\x3eWe ran into a problem preparing your files for upload.\x3c/p\x3e\x3cp\x3eThis might happen if you tried uploading too many files at once.\x3c/p\x3e", {variable: "data"});
    Zv.Lz = _.template("\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e isn\x26rsquo;t in a format Canva understands.\x3c/p\x3e\x3cp\x3ePlease choose \x3cb\x3e.jpg\x3c/b\x3e, \x3cb\x3e.png\x3c/b\x3e or \x3cb\x3e.svg\x3c/b\x3e files to upload.\x3c/p\x3e", {variable: "data"});
    Zv.Cz = _.template("\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e is too big to upload. Each file must be under \x3cb\x3e25\x26nbsp;MB\x3c/b\x3e.\x3c/p\x3e", {variable: "data"});
    Zv.Bz = _.template("\x3cp\x3eAn error occurred while processing \x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e. It looks like the file data might not be readable.\x3c/p\x3e", {variable: "data"});
    Zv.Mz = _.template('\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e uses SVG features that Canva doesn\x26rsquo;t support.\x3c/p\x3e\x3cp\x3eFor details on Canva\x26rsquo;s SVG support, please see \x3ca href\x3d"https://support.canva.com/hc/en-us/articles/212920047" target\x3d"_blank"\x3eour Help Center article\x3c/a\x3e.\x3c/p\x3e', {variable: "data"});
    Zv.Fz = _.template('\x3c% if (data.rejectionReason) { %\x3e\x3cp\x3eThe server rejected \x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e and responded with the following (possibly cryptic) error message:\x3c/p\x3e\x3cblockquote class\x3d"serverError"\x3e\x3cp\x3e\x3c%- data.rejectionReason %\x3e\x3c/p\x3e\x3c/blockquote\x3e\x3cp\x3eYou\x26rsquo;ll have to fix the problem with this file before trying again, or else choose a different file to upload.\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e could not be uploaded. This might be because you have logged out, or if Canva\x26rsquo;s servers are unreachable. Please try again later.\x3c/p\x3e\x3c% } %\x3e', {variable: "data"});
    function bw(a, b, c) {
        this.Ec = !1;
        this.Xm = b;
        this.media = null;
        this.$e = 0;
        this.Hj = Date.now();
        this.JH = !!c;
        this.OH = a;
        this.Ud = null
    }

    f = bw.prototype;
    f.off = Backbone.Events.off;
    f.on = Backbone.Events.on;
    f.trigger = Backbone.Events.trigger;
    f.Ab = function () {
        return this.Xm
    };
    f.bb = function () {
        return this.media
    };
    f.be = function () {
        return this.OH
    };
    f.start = function (a) {
        this.Ec || this.media || (this.media = a, this.trigger("start", this))
    };
    f.update = function (a) {
        this.Ec || (this.$e = 100 * Math.max(0, Math.min(a, 1)), this.trigger("update", this))
    };
    f.complete = function () {
        this.Ec || (this.Ec = !0, this.$e = 100, this.trigger("complete", this))
    };
    f.fail = function (a) {
        this.Ec || (this.Ec = !0, this.media = null, this.Ud = a, this.trigger("fail", this))
    };
    function cw() {
        this.Pp = !1;
        this.Xq = this.Ec = 0;
        this.id = void 0;
        this.Ix = [];
        this.Lt = 0
    }

    f = cw.prototype;
    f.off = Backbone.Events.off;
    f.on = Backbone.Events.on;
    f.trigger = Backbone.Events.trigger;
    f.re = function (a) {
        this.id = a;
        return this
    };
    f.G = function () {
        return this.id
    };
    f.In = function () {
        return this.Ix
    };
    f.create = function (a, b, c, d) {
        function e() {
            k.trigger("start", l)
        }

        function g() {
            l.off("start", e);
            l.off("complete", g);
            l.off("fail", h);
            k.Ec++;
            k.Pp && k.Ec + k.Lt === k.Xq && k.complete()
        }

        function h() {
            k.fail(l.Ud);
            g()
        }

        var k = this, l = new bw(a, c, d);
        l.on("start", e);
        l.on("complete", g);
        l.on("fail", h);
        this.Ix.push(l);
        this.trigger("create");
        return l
    };
    f.init = function (a) {
        a()
    };
    f.sync = function () {
        this.trigger("sync")
    };
    f.Dw = function () {
        this.Pp = !0;
        this.Xq++
    };
    f.ke = function () {
        this.Lt++
    };
    f.complete = function () {
        this.Ec = this.Lt = this.Xq = 0;
        this.Pp = !1;
        this.trigger("complete")
    };
    f.fail = function (a) {
        this.trigger("fail", a)
    };
    function dw() {
        this.aj = {}
    }

    _.extend(dw.prototype, Backbone.Events);
    dw.prototype.off = Backbone.Events.on;
    dw.prototype.on = Backbone.Events.on;
    dw.prototype.trigger = Backbone.Events.trigger;
    dw.prototype.In = function (a) {
        return 0 <= Object.keys(this.aj).indexOf(a) ? this.aj[a].In() : []
    };
    function ew(a, b) {
        var c = Object.keys(a.aj).map(a.In, a).reduce(function (a, b) {
            return a.concat(b)
        }, []).filter(function (a) {
            return a.Hj >= b
        });
        if (c.every(function (a) {
                return a.Ec
            }))return 100;
        var d = c.reduce(function (a, b) {
            return a + (b.Ec && !b.media ? 100 : b.$e)
        }, 0);
        return Math.min(100 * d / (100 * c.length), 99)
    };
    function fw(a) {
        this.pk = this.Wk = this.On = this.Nn = 0;
        this.Z = a;
        this.Cx = jc(a);
        $("#normalUploads .uploadButtonAndMessage .fileUploadButton").hasClass("buttonMarketplace") && (this.Cx = kc(a))
    }

    f = fw.prototype;
    f.create = function (a, b, c, d) {
        function e() {
            var c = u.bb(), e = $("\x3cimg\x3e"), g = $("\x3cimg\x3e"), h = _.after(2, function () {
                var a = new L(0, 0, q, r);
                xe(a, new L(0, 0, 200, 200));
                e.attr("width", a.C()).attr("height", a.D()).attr("data-screen-width", q).attr("data-screen-height", r).attr("data-media-id", c.G()).attr("data-media-version", c.na().getVersion());
                d && e.addClass("svg");
                gw(n, e);
                p.insertAfter(e);
                a = new Fv;
                a.id = c.G();
                a.version = c.na().getVersion();
                var b = e.parent().closest("li"), g = $('\x3cspan class\x3d"info"\x3e\x3cspan class\x3d"moreInfo" title\x3d"Show more info"\x3ei\x3c/span\x3e\x3c/span\x3e');
                b.data("result", a);
                b.find("a").append(g)
            });
            e.one("load", h);
            g.one("load", h);
            e.attr("src", a);
            g.attr("src", b);
            g.appendTo(p)
        }

        function g() {
            var a = p.find("img"), b = u.$e, c = 100 - b;
            p.css("width", c + "%").css("left", b + "%");
            a.css("width", 1E4 / c + "%").css("left", -100 * b / c + "%")
        }

        function h() {
            p.remove();
            m.On++;
            hw(m);
            l()
        }

        function k() {
            m.On++;
            hw(m);
            l();
            window.setTimeout(function () {
                p.parent().parent().remove();
                yn(n)
            }, 1E3)
        }

        function l() {
            u.off("start", e);
            u.off("update", g);
            u.off("complete", h);
            u.off("fail", k)
        }

        var m = this, n = $(".inlineFolderGroup .photoGallery",
            "#normalUploads"), q = c.width, r = c.height, p = $('\x3cdiv class\x3d"uploadProgress"\x3e\x3c/div\x3e'), u = new bw(a, c, d);
        u.on("start", e);
        u.on("update", g);
        u.on("complete", h);
        u.on("fail", k);
        hw(this);
        return u
    };
    f.init = function (a) {
        function b(a, b) {
            $(a, "#resultsUpload").trigger("mousedown");
            window.setTimeout(function () {
                b()
            }, 360)
        }

        function c() {
            $("a.marketplace", "#resultsUpload").trigger("mousedown");
            var b = window.setInterval(function () {
                0 < g.find(".inlineFolderGroup.fetched").length && (window.clearInterval(b), h = g.find(".inlineFolderGroup"), 0 < h.find(".noResults").length && e(), a())
            }, 200)
        }

        function d() {
            $("a.uploads", "#resultsUpload").trigger("mousedown");
            var b = window.setInterval(function () {
                0 < g.find(".inlineFolderGroup.fetched").length &&
                (window.clearInterval(b), h = g.find(".inlineFolderGroup"), 0 < h.find(".noResults").length && e(), a())
            }, 200)
        }

        function e() {
            k = $('\x3cdiv class\x3d"gallery infoPanelGallery photoGallery laidOut"\x3e\x3c/div\x3e');
            h.append(k);
            h.find(".noResults").remove()
        }

        var g = $("#normalUploads"), h = g.find(".inlineFolderGroup"), k = h.find(".photoGallery"), l = 0 < h.length && 0 < g.find("li.folderExpanded a.uploads").length, m = 0 < h.length && 0 < g.find("li.folderExpanded a.facebook").length, n = 0 < h.length && 0 < g.find("li.folderExpanded a.marketplace").length;
        iw() ? n && 0 < h.find(".noResults").length ? (e(), a()) : n ? a() : m ? b("a.facebook", c) : l ? b("a.uploads", c) : c() : l && 0 < h.find(".noResults").length ? (e(), a()) : l ? a() : m ? b("a.facebook", d) : n ? b("a.marketplace", d) : d()
    };
    f.sync = function () {
        hw(this)
    };
    f.Dw = function () {
        this.Nn++
    };
    f.ke = function () {
        var a = this;
        this.Wk++;
        $("#normalUploads .fileUploadButton").addClass("disabled").text("Skipped " + this.Wk + " unsupported file" + (1 < this.Wk ? "s" : ""));
        0 !== this.pk && window.clearTimeout(this.pk);
        this.pk = window.setTimeout(function () {
            a.pk = 0;
            hw(a)
        }, 500)
    };
    f.complete = function () {
        this.Wk = this.On = this.Nn = 0;
        hw(this)
    };
    f.fail = function (a) {
        a && Zv.show(a)
    };
    function hw(a) {
        if (0 === a.pk) {
            var b = a.On + a.Wk;
            b < a.Nn ? $("#normalUploads .fileUploadButton").addClass("disabled").text(a.Z.format("objectPanelUploadsPanelStatus", b + 1, a.Nn)) : $("#normalUploads .fileUploadButton").removeClass("disabled").text(a.Cx)
        }
    };
    function jw(a) {
        this.source = a.source;
        this.wl = a.wl || null;
        this.listener = a.progress || new fw(a.Z)
    }

    function kw(a, b, c, d, e, g, h, k, l) {
        var m = !1, n = a.listener.create(d, e, g, h);
        lw(b, c, d, function (a, b) {
            m || (m = !0, n.start(a));
            n.update(b)
        }, k, l).then(function () {
            n.complete();
            a.wl && a.wl(n.bb())
        }, function (a) {
            n.fail(new Yv(b.name || "Unnamed File", 6, a))
        })
    }

    function mw(a) {
        var b = a.naturalWidth, c = a.naturalHeight, d = b, e = c, g = 200 / Math.max(b, c);
        1 > g && (d = Math.round(g * b), e = Math.round(g * c));
        g = document.createElement("canvas");
        g.width = d;
        g.height = e;
        var h = g.getContext("2d");
        h.drawImage(a, 0, 0, b, c, 0, 0, d, e);
        a = g.toDataURL();
        for (var d = h.getImageData(0, 0, d, e), e = d.data, b = e.length, c = new Hh, k = 0; k < b; k += 4)Jh(c, e[k], e[k + 1], e[k + 2]), e[k] = e[k + 1] = e[k + 2] = Ph(c);
        h.putImageData(d, 0, 0);
        g = g.toDataURL();
        return {color: a, pw: g}
    }

    function nw(a, b) {
        ow(b).then(function (c) {
            var d = mw(c);
            c = {width: c.naturalWidth, height: c.naturalHeight};
            for (var e = window.atob(b.substr(22)), g = e.length, h = Math.ceil(g / 1024), k = Array(h), l = 0; l < h; ++l) {
                for (var m = 1024 * l, n = Math.min(m + 1024, g), q = Array(n - m), r = 0; m < n; ++r, ++m)q[r] = e[m].charCodeAt(0);
                k[l] = new Uint8Array(q)
            }
            e = new Blob(k, {type: "image/png"});
            e.name = "generated_file_" + Date.now() + ".png";
            e.type = "image/png";
            e.constructor = File;
            kw(a, e, b, d.color, d.pw, c, !1, !0)
        }).catch($.noop)
    }

    jw.prototype.upload = function (a, b, c) {
        var d = this;
        this.listener.init(function () {
            function e(a, b, c) {
                var d = $("\x3cimg\x3e");
                d.one("load", function () {
                    var b;
                    b = d.get(0);
                    var e = document.createElement("canvas"), h = b.naturalWidth, k = b.naturalHeight;
                    -1 < [Wv[5], Wv[6], Wv[7], Wv[8]].indexOf(c) ? (e.width = k, e.height = h) : (e.width = h, e.height = k);
                    var l = e.getContext("2d");
                    switch (c) {
                        case Wv[2]:
                            l.translate(h, 0);
                            l.scale(-1, 1);
                            break;
                        case Wv[3]:
                            l.translate(h, k);
                            l.rotate(Math.PI);
                            break;
                        case Wv[4]:
                            l.translate(0, k);
                            l.scale(1, -1);
                            break;
                        case Wv[5]:
                            l.rotate(.5 * Math.PI);
                            l.scale(1, -1);
                            break;
                        case Wv[6]:
                            l.rotate(.5 * Math.PI);
                            l.translate(0, -k);
                            break;
                        case Wv[7]:
                            l.rotate(.5 * Math.PI);
                            l.translate(h, -k);
                            l.scale(-1, 1);
                            break;
                        case Wv[8]:
                            l.rotate(-.5 * Math.PI), l.translate(-h, 0)
                    }
                    l.drawImage(b, 0, 0, h, k);
                    b = e.toDataURL("image/jpeg", .92);
                    g(a, b)
                });
                d.attr("src", b)
            }

            function g(a, b) {
                var c = b.slice(b.indexOf(",") + 1), d = h(c);
                d.name = a;
                d.type = "image/jpeg";
                var e = $("\x3cimg\x3e");
                e.attr("src", b);
                e.one("load", function () {
                    l(d, e.get(0), b)
                })
            }

            function h(a) {
                a = window.atob(a);
                for (var b = a.length, c = Math.ceil(b / 1024), d = Array(c), e = 0; e < c; ++e) {
                    for (var g = 1024 * e, h = Math.min(g + 1024, b), k = Array(h - g), l = 0; g < h; ++l, ++g)k[l] = a[g].charCodeAt(0);
                    d[e] = new Uint8Array(k)
                }
                return new Blob(d, {type: "image/jpeg"})
            }

            function k(a, b) {
                var c = n[a];
                pw(c).then(function (a) {
                    l(c, a, b)
                }).catch(function () {
                    d.listener.fail(new Yv(a, 4));
                    d.listener.ke();
                    m()
                })
            }

            function l(a, e, g) {
                var h = mw(e);
                kw(d, a, g, h.color, h.pw, {width: e.naturalWidth, height: e.naturalHeight}, !1, !c, b);
                window.setTimeout(m, 600)
            }

            function m() {
                u++;
                u < p ? r.postMessage({next: !0}) :
                    d.listener.sync()
            }

            if (window.URL) {
                for (var n = {}, q = [], r = new Worker("/static/r/pommy/immovable/js/x9zITKdAvhuJA9i2mpYYlQ.js"), p = 0, u = 0, w = 0; w < a.length; w++) {
                    var z = a[w], x = z.name, C = z.type, A = z.size;
                    d.listener.Dw();
                    var B;
                    a:{
                        switch (C) {
                            case "image/jpeg":
                            case "image/png":
                            case "image/raw":
                            case "image/svg+xml":
                            case "image/x-fuji-raf":
                                B = !0;
                                break a
                        }
                        B = !1
                    }
                    if (B)if (26214400 < A)d.listener.fail(new Yv(x, 2)), d.listener.ke(); else {
                        if ("image/jpeg" === C || "image/png" === C)n[x] = z;
                        q.push(z);
                        p++
                    } else d.listener.fail(new Yv(x, 1)), d.listener.ke()
                }
                d.listener.sync();
                if (0 === p)d.listener.complete(); else {
                    r.onmessage = function (a) {
                        var h = JSON.parse(a.data);
                        if ("error" === h.status)d.listener.fail(new Yv(h.fileName, 4)), d.listener.ke(), m(); else if ("exifRotated" === h.specialFile)e(h.fileName, h.imageData, h.orientation); else if ("raw" === h.specialFile)g(h.fileName, h.imageData); else if (h.svgText)if (a = h.fileName, h = h.svgText, oq(h)) {
                            a = (new qw(h)).rz(a);
                            a.source = rw(a.source);
                            a.source = sw(a.source);
                            a.source = tw(a.source);
                            a.viewBox = uw(a.source);
                            h = new Blob([a.source], {type: "image/svg+xml"});
                            h.name = a.filename;
                            h.type = "image/svg+xml";
                            h.constructor = File;
                            var l = "data:image/svg+xml;base64," + window.btoa(a.source);
                            kw(d, h, l, l, l, {width: a.viewBox[2], height: a.viewBox[3]}, !0, !c, b);
                            window.setTimeout(m, 600)
                        } else d.listener.fail(new Yv(a, 5)), d.listener.ke(), m(); else k(h.fileName, h.imageData)
                    };
                    try {
                        r.postMessage(q)
                    } catch (F) {
                        d.listener.fail(new Yv(null, 3));
                        d.listener.complete();
                        return
                    }
                    H && H.track("image_upload", {source: d.source, quantity: p})
                }
            } else d.listener.fail(new Yv(null, 0)), d.listener.complete()
        })
    };
    function pw(a) {
        return new P(function (b, c) {
            if (vw) {
                var d = window.URL.createObjectURL(a);
                ow(d).then(b, c).finally(function () {
                    window.URL.revokeObjectURL(d)
                })
            } else {
                var e = new FileReader;
                e.onload = function () {
                    ow(e.result).then(b, c)
                };
                e.onerror = c;
                e.readAsDataURL(a)
            }
        })
    }

    function ow(a) {
        return new P(function (b, c) {
            var d = new Image;
            d.onload = function () {
                b(d)
            };
            d.onerror = c;
            d.src = a
        })
    }

    var vw = "IE" !== (new UAParser).getResult().browser.name;

    function ww(a, b, c, d, e) {
        this.ba = a;
        this.jz = e;
        this.media = b;
        this.oc = c;
        this.Ue = d;
        this.Jj = {};
        this.Mj = []
    }

    ww.prototype.vb = function (a, b) {
        return this.Ue.vb(a, b) || this.Jj[a] || null
    };
    function xw(a, b) {
        var c = {};
        return b.filter(function (a) {
            if (!a)return !1;
            var b = a.G();
            a = a.getVersion();
            if (this.vb(b, a))return !1;
            b = b + ":" + a;
            return c[b] ? !1 : c[b] = !0
        }, a)
    }

    function he(a, b) {
        var c = b.G();
        if (!a.Jj[c]) {
            var d = b.vb();
            a.Jj[c] = {SCREEN: tk(d[ee]), THUMBNAIL: tk(d[Vp])}
        }
    }

    function Xd(a, b, c) {
        var d = b.Md();
        if (d !== de && "GOOGLE" !== d)throw Error('Cannot upload media with origin "' + d + '"');
        var e, g = b.G(), h = yw(b), d = (new Wr).$f(h.filename).Sg(!0);
        a.Mj.push(g);
        Br(a.media, d).then(function (b) {
            var c = b.na();
            a.Jj[b.G()] = c && c.Tb();
            e = b;
            a:switch (h.origin) {
                case de:
                case "GOOGLE":
                    b = new zw(h.id, Va, b, h.NG);
                    break a;
                default:
                    throw Error(h.origin + " is unsupported");
            }
            return a.jz.upload(b)
        }).then(function () {
            var b = (new dq).Vd(e.na().getVersion()).Uj(!0);
            return a.media.mz(e.G(), b)
        }).then(function (c) {
            var d =
                b.getVersion();
            Jv(b, c);
            je(a.Ue, c.G(), c.na().getVersion(), c.na().Tb());
            var d = {mediaId: g, mediaVersion: d}, e = {mediaId: c.G(), mediaVersion: c.na().getVersion()};
            Aw(d, e);
            Ij(t).forEach(function (a) {
                var b = a.cc();
                b && b.G() === g && a.Jg(c.G(), c.na().getVersion())
            });
            Bw();
            return c
        }).catch(function (b) {
            c.qm(a.Ue);
            Bw();
            return Promise.reject(b)
        }).finally(a.Oy.bind(a, g))
    }

    function lw(a, b, c, d, e, g) {
        var h = Ia, k = a.name.replace(/\$/g, "_"), l = _.uniqueId("file_");
        e = Xr((new Wr).$f(k).Sg(e).vz(!1), a.size);
        h.Mj.push(l);
        return Br(h.media, e).then(function (e) {
            function k() {
                return l(r, c, Vp)
            }

            function l(a, b, c) {
                return new P(function (d, e) {
                    var g, h;
                    a[c] = h = tk({url: b});
                    g = document.createElement("img");
                    g.onerror = function () {
                        e(Error("Cannot get dimensions of image"))
                    };
                    g.onload = function () {
                        h.width = g.naturalWidth;
                        h.height = g.naturalHeight;
                        d()
                    };
                    g.src = b
                })
            }

            var r = {};
            return k().then(function () {
                return l(r,
                    b, ee)
            }).then(k).then(function () {
                var b = r[ee];
                if (0 === b.C() || 0 === b.D())return P.reject();
                h.Jj[e.G()] = r;
                b = new Cw({file: a, An: g, id: _.uniqueId("file_"), media: e, oc: h.oc});
                !0 === $("#fileUpload").data("marketplacePaidMedia") && (b.ij = !0);
                b.Vs.push(d);
                return h.jz.upload(b)
            })
        }).then(function (a) {
            var b = (new dq).Vd(a.na().getVersion()).Uj(!0);
            return h.media.mz(a.G(), b)
        }).then(function (a) {
            je(h.Ue, a.G(), a.na().getVersion(), a.na().Tb());
            Bw();
            return P.resolve(a)
        }).catch(function (a) {
            return Promise.reject(a)
        }).finally(h.Oy.bind(h,
            l))
    }

    ww.prototype.Oy = function (a) {
        a = this.Mj.indexOf(a);
        -1 != a && this.Mj.splice(a, 1)
    };
    function Bw() {
        t.trigger("change")
    }

    function Dw(a) {
        function b(a) {
            var g = a.mediaId, h = a.mediaVersion;
            void 0 !== g && void 0 !== h && null !== g && null !== h && (Uv(d.Ue, g, h) ? 0 : g in d.Jj) && (delete a.mediaId, delete a.mediaVersion);
            Object.keys(a).forEach(function (d) {
                d = a[d];
                d instanceof Array ? d.filter(c).forEach(function (a) {
                    b(a)
                }) : d instanceof Object && b(d)
            })
        }

        function c(a) {
            return a instanceof Object
        }

        var d = Ia;
        b(a)
    };
    function Ew(a, b, c, d, e) {
        this.id = a;
        this.origin = b;
        this.NG = c;
        this.Xy = d;
        this.filename = e
    }

    Ew.prototype.kw = function () {
        return this.Xy
    };
    function yw(a) {
        var b = a.Md();
        switch (b) {
            case de:
                var b = a.getFile(ee).ia(), c = a.getFile(Vp).ia(), d = b.match(/.*(\.\w+)/)[1];
                return new Ew(a.G(), a.Md(), b, c, a.G() + d);
            case "GOOGLE":
                return b = a.getFile(ee).ia(), c = a.getFile(Vp).ia(), d = a.La(), new Ew(a.G(), a.Md(), b, c, d);
            default:
                throw Error('Cannot create temporary media for origin "' + b + '"');
        }
    };
    function Fw() {
        this.queue = [];
        this.Rl = {};
        this.ku = {};
        this.lq = null
    }

    Fw.prototype.upload = function (a) {
        function b() {
            var b = new P(function (b, d) {
                var e = {request: a, resolve: b, reject: d};
                c.queue.push(e);
                var l = a.G(), m = c.Rl[l];
                m || (m = []);
                m.push(e);
                c.Rl[l] = m
            });
            Gw(c);
            return b
        }

        var c = this, d = this.ku[a.G()];
        return d ? P.resolve(d) : P.resolve().then(b)
    };
    function Gw(a) {
        if (!a.lq && 0 < a.queue.length) {
            var b = a.queue.shift();
            a.lq = b;
            Hw(a, b)
        }
    }

    function Hw(a, b) {
        var c = b.request.G();
        Iw(b.request).then(function (b) {
            a.ku[c] = b
        }).then(function () {
            var b = a.Rl[c], e = a.ku[c];
            if (!e)throw Error("Could not find media reference for uploaded item");
            b && b.forEach(function (a) {
                a.resolve(e)
            })
        }).catch(function () {
            var b = a.Rl[c];
            b && b.forEach(function (a) {
                a.reject()
            })
        }).finally(function () {
            delete a.Rl[c]
        }).finally(a.pD.bind(a))
    }

    function Iw(a) {
        return new P(function (b, c) {
            function d(h) {
                7 > e && h === Jw ? (e++, g += 200, Promise.delay(g).then(a.send.bind(a)).then(b).catch(d)) : c(h)
            }

            var e = 0, g = 500;
            a.send().then(b).catch(d)
        })
    }

    Fw.prototype.pD = function () {
        this.lq = null;
        Gw(this)
    };
    function Kw(a, b) {
        this.id = a;
        this.media = b;
        this.Vs = []
    }

    var Jw = Error("Canva is too busy to process your upload at this time. Please try again later.");
    Kw.prototype.G = function () {
        return this.id
    };
    Kw.prototype.send = function () {
        return P.reject("Not implemented")
    };
    Kw.prototype.HF = function (a) {
        if (a.lengthComputable) {
            a = a.loaded / a.total;
            for (var b = 0; b < this.Vs.length; b++)this.Vs[b](this.media, a)
        }
    };
    function Lw(a) {
        a = function (a) {
            var c = /^([^?]+)\?/.exec(a);
            return c ? c[1] : a
        }(a);
        return _.find(Mw, function (b, c) {
            return a.slice(-c.length) === c
        })
    }

    var Mw = {
        ".gif": "image/gif",
        ".jpg": "image/jpeg",
        ".jpeg": "image/jpeg",
        ".png": "image/png",
        ".ttf": "application/x-font-truetype",
        ".otf": "application/x-font-otf",
        ".woff": "application/font-woff"
    };

    function Cw(a) {
        Kw.call(this, a.id, a.media);
        this.file = a.file;
        this.An = a.An;
        this.oc = a.oc;
        this.ij = void 0
    }

    Cw.prototype = Object.create(Kw.prototype);
    Cw.prototype.constructor = Cw;
    Cw.prototype.Un = function () {
        return !0 === this.ij
    };
    Cw.prototype.send = P.method(function () {
        var a = this, b = a.file.type || Lw(a.file.name);
        return Uu(this.oc, this.media.G(), this.media.na().getVersion(), b).then(function (c) {
            return Nw({
                Tz: c.awsAccessKeyId,
                file: a.file,
                bD: b,
                key: c.getKey(),
                aG: c.policy,
                progress: a.HF.bind(a),
                tH: c.signature,
                url: c.postUrl
            })
        }).then(function (c) {
            c = (new cv).sz(c);
            c.mimeType = b;
            var d = a.Un();
            c.isPaid = d;
            a.An && (c.folderKey = a.An);
            return Wu(a.oc, a.media.G(), a.media.na().getVersion(), c)
        }).catch(this.yG.bind(this))
    });
    Cw.prototype.yG = function () {
        throw Error("Unfortunately your upload failed :(\n\nPlease ensure that:\n   - the size of the image is under 25MB;\n   - the image is a .png, .jpg or .svg file;\n   - the image uses an RGB color model (i.e. not CMYK); and,\n   - you have a stable internet connection.\n\nIf you feel that you have met the above criteria and the image is still failing to upload, please let the team know by emailing support@canva.com");
    };
    function zw(a, b, c, d) {
        Kw.call(this, a, c);
        this.oc = b;
        this.url = d
    }

    zw.prototype = Object.create(Kw.prototype);
    zw.prototype.constructor = zw;
    zw.prototype.send = P.method(function () {
        var a = this;
        return Tu(this.oc, this.media.G(), this.media.na().getVersion(), this.url).then(function () {
            return a.media
        }).catch(function (a) {
            throw 429 === a[1] ? Jw : Error();
        })
    });
    function jn(a) {
        function b(a) {
            var b, c;
            -1 < h.Kk().indexOf("FUSION") ? (b = gj(window.cdocType).G(), c = !1) : (b = void 0, c = !0);
            return new Ow({el: a, sB: new Pw({Gb: Ca, Jb: h.G(), Xg: k.G(), Tq: c, $m: b}), F: l})
        }

        function c(a, b, c) {
            c || b.forEach(function (a) {
                a.G && a.getVersion && a.Tb && ("CANVA" == a.Md() ? je(Aa, a.G(), a.getVersion(), a.vb()) : he(Ia, a))
            })
        }

        var d = $("#objectPanel"), e = new ze(window.viewConfig), g = Jm(), h = g.user, k = Mm(g).ta(), l = a.F;
        Lu(La, function () {
                var a = dm(Nm(Mm(g)) || Object.freeze(E(Zl, {})));
                return a && a[0] ? gm(a[0]) || [] : []
            }(),
            function () {
                var a = new Qw({model: t, md: Nm(Mm(g)), F: l});
                $("#resultsText \x3e .layer \x3e .inner").prepend(a.el)
            });
        new Rw({
            kb: k.wi(),
            Sm: Ka.Wm() ? b : void 0,
            Gb: Ca,
            el: "#resultsLayout",
            ZC: e.Xf.get("magicTemplates", []).map(Sw),
            model: t,
            Xo: !!Ka.Ta.get(sd),
            F: l
        });
        (new Tw({el: "#resultsSearch", F: l})).on("results:didFetch", c);
        (new Uw({el: "#resultsElements", F: l})).on("results:didFetch", c);
        var m, n, q;
        if (Ka.Ta.get(ud)) {
            e = new Ce(Ja);
            n = new dw;
            q = new Qd({
                $a: t, Ue: Aa, Ob: Ga, $b: e, jp: Ia, iq: function (a, b) {
                    var c = Bb(l), d;
                    d = a.G();
                    var e;
                    0 <= Object.keys(n.aj).indexOf(d) ? d = n.aj[d] : (e = (new cw).re(d), e.on("create", n.trigger.bind(n, "create")), e.on("fail", n.trigger.bind(n, "fail")), d = n.aj[d] = e);
                    return new jw({source: b, Z: c, progress: d})
                }
            });
            a:{
                try {
                    m = Nm(Mm(g)).wi().hexString;
                    break a
                } catch (r) {
                }
                m = void 0
            }
            m = new Vw({
                kb: m,
                Ka: q,
                vk: !!Ka.Ta.get(Ed),
                IB: new Ww($(window)),
                Yd: Od,
                sa: Ka,
                $b: e,
                Ob: Ga,
                F: l,
                Kc: Ha,
                Jb: h.G(),
                Cc: n,
                wa: Cf
            });
            m.render().getElement().replaceAll("#normalUploads");
            m.show();
            (new Xw({root: $("#objectPanel menu .uploads"), Cc: n})).start()
        } else m =
            new Yw({el: "#resultsUpload", Yc: a.Yc, F: l}), m.on("results:didFetch", c);
        Zw(Nm(Mm(g)), Fb(l));
        $w(l);
        yn();
        d.children("menu").find("a").on("click", function () {
            ax.call(this, l)
        });
        (new V("#objectPanel")).on("mousedown", ".templateGallery a", bx).on("touchstart", ".templateGallery a", bx);
        d.on("click", ".backgroundGallery a", cx);
        (new V("#objectPanel")).on("mousedown", ".backgroundGallery *:not(.static) a", dx).on("touchstart", ".backgroundGallery *:not(.static) a", dx);
        d.on("click", ".backgroundGallery a", !1);
        d.on("click",
            ".infoPanelGallery .info .moreInfo", function () {
                ex.call(this, l)
            });
        d.on("click", ".infoPanelGallery .info .superKeyword", gx);
        if (Ka.Ta.get(qd))d.on("click", ".searchSuggestion a", function () {
            var a = l, b = $(this).data("query");
            $("#search").val(b);
            Z = null;
            hx(a, !1)
        });
        Ka.Ta.get(od) && d.addClass("showMarketplacePublishing");
        (new V("#objectPanel")).on("mousedown", ".photoGallery:not(.gridGallery):not(.albumGallery) a", ix).on("touchstart", ".photoGallery:not(.gridGallery):not(.albumGallery) a", ix);
        d.on("click", ".photoGallery:not(.gridGallery):not(.albumGallery) a",
            !1);
        (new V("#objectPanel")).on("mousedown", ".gridGallery a", nx).on("touchstart", ".gridGallery a", nx);
        $("#fileUpload").on("change", ox);
        Od && Od.init().then(function (a) {
            ht(a).catch(function () {
            })
        });
        $(".results.infinite:not(#resultsSearch):not(#resultsUpload):not(#resultsLayout):not(#resultsElements) \x3e .layer").on("scroll", px);
        $("#search").on("focus", qx);
        $("#someoneElseEditing").find("a").on("click", rx);
        $("#inReview").find("a").on("click", sx);
        $("#touchDevice").find("a").on("click", tx);
        d.find(".scrollPane").each(function () {
            (new gi($(this))).render()
        });
        ux(d, a.li, l)
    }

    function ux(a, b, c) {
        function d(b) {
            var d = b.param;
            "folder" === b.action ? e(d) : "search" === b.action ? g(d) : "tab" === b.action && ((b = a.find("menu ." + d + " a").get(0)) ? ax.call(b, c) : h())
        }

        function e(b) {
            var d = $("#resultsElements").find('a[data-query\x3d"' + b + '"]');
            b = a.find("menu .elements a").get(0);
            0 < d.length ? (ax.call(b, c), window.setTimeout(function () {
                d.trigger("mousedown")
            }, 500)) : h()
        }

        function g(b) {
            window.setTimeout(function () {
                a.find("#search").val(b);
                hx(c)
            }, 500)
        }

        function h() {
            var a = $("#objectPanel").find("menu .on a").get(0);
            ax.call(a,
                c)
        }

        b ? d(b) : h()
    }

    function Zw(a, b) {
        function c() {
            var a = Q("#ffffff"), b = J(t);
            return b && Bp(b) && (b = Cj(b), 0 < b.length) ? b[b.length - 1].Ie() || a : a
        }

        function d() {
            ii(r);
            r.confirm()
        }

        function e(a) {
            0 === $(a.target).closest(".colorPicker, .colorPalette").length && d()
        }

        var g = $("#resultsBackground"), h = g.find(".colorControls"), k = vx(), l = !1, m = new Zm({
            Zj: function (a) {
                a.appendTo("#objectPanel")
            }, Ok: function () {
                return $(document.body)
            }, margin: 7, fm: Ym
        }), n = null, q = a && $l(a);
        q && 0 < q.length && (n = Ti(q[0]));
        var r = new di({jk: m, Ve: b, If: t, Kf: n, Sl: !1, Va: c()});
        r.on("preview", function (a) {
            l || k.select(a)
        });
        r.on("confirm", k.confirm);
        r.on("showColorPicker", function () {
            $(document).on("mousedown", e);
            g.find(".layer").on("scroll", d)
        });
        r.on("hideColorPicker", function () {
            $(document).off("mousedown", e);
            g.find(".layer").off("scroll", d)
        });
        r.listenTo(t, "page:change:selected", function () {
            d();
            l = !0;
            r.am(c());
            l = !1
        });
        r.listenTo(y, "beforeOperationStackPop", d);
        r.render();
        r.$el.appendTo(h)
    }

    function qx() {
        var a = this;
        "resultsSearch" !== wx().attr("id") && $("#objectPanel").find("menu .search a").trigger("click");
        window.setTimeout(function () {
            a.select()
        }, 20)
    }

    function ax(a) {
        function b(a) {
            var b = $(a);
            a = 0 === b.find(".gallery li:not(.static)").length;
            b = 0 < b.find(".searchLoader").length;
            return a && !b
        }

        function c(a, b, c) {
            a = $(a);
            var d = a.find("\x3e .layer \x3e .inner \x3e .searchGroup").first(), e = d.parent(".layer");
            xx && xx.cancel();
            xx = null;
            e.find(".searchError").remove();
            yx(d);
            d.height(a.height());
            Z = new zx(b, Bv, null, null, !1, null, Ax(a, a.height()), function () {
                Bx(c)
            });
            d.data("search", Z);
            Bx(c)
        }

        var d = $(this).parents("menu"), e = $("li", d), g = $(this).parents("li"), h = e.index(d.find("li.on")) +
            1, k = g.index() + 1, l = $("#objectPanel"), d = "#" + l.find(".content \x3e .results").get(k - 1).id, m = l.get(0).className, m = m.replace(/(^| )stage[^ ]+/g, "");
        l.get(0).className = m;
        l.addClass("stage" + k);
        e.removeClass("on");
        g.addClass("on");
        e = wx();
        g.hasClass("search") && $("#search").focus();
        h == k && e.children(".layer").first().animate({scrollTop: 0}, 600);
        g = $("#results" + h + " \x3e .layer");
        Cx(g);
        "#resultsLayout" == d && b(d) && (h = $("#resultsLayout"), g = h.data("view"), h = Ax(h, h.height()), g.$c(h));
        "#resultsText" == d && b(d) && c(d, "text",
            a);
        "#resultsBackground" == d && b(d) && c(d, "backgrounds", a);
        (a = e.children(".layer").last().find(".searchGroup").last().data("search")) && Z && "facebook" != Z.query.toLowerCase().trim() && (Z = a);
        return !1
    }

    function bx(a) {
        function b(a) {
            var b = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            a = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            var c = 4 < Math.abs(a - l), c = 4 < Math.abs(b - k) || c;
            null == h && c && (h = e.mk(), $("#content").append(h), d.css("opacity", 0), $("#search").blur(), Dx(h, Ex(m)));
            null != h && (a = g.top + a - l, h.css("left", g.left + b - k).css("top", a));
            return !1
        }

        function c() {
            function a() {
                $(this).remove();
                d.css("opacity", "")
            }

            $("#hotspots").remove();
            m.off("mousemove|touchmove", b).off("mouseup|touchend",
                c);
            d.removeClass("pickedUp");
            null == h || h.hasClass("disappeared") || h.hasClass("placing") ? (h && h.remove(), d.animate({opacity: 1}, 300)) : (g = d.offset(), h.addClass("returning"), h.one("transitionend", a).css("left", g.left).css("top", g.top))
        }

        if ($(a.target).hasClass("moreInfo") || $(a.target).hasClass("superKeyword") || 3 == a.which || a.ctrlKey)return !0;
        var d = $(this);
        d.addClass("pickedUp");
        var e = d.parents("li").data("view"), g = d.offset(), h = null, k = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, l = void 0 !==
        a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, m = new V($(document));
        m.on("mousemove|touchmove", b).on("mouseup|touchend", c);
        return !1
    }

    function vx() {
        var a = !1, b, c, d;
        return {
            select: function (e) {
                O();
                var g = J(t), h = Cj(g);
                b = h.pop();
                d = {index: 0, color: e.ka()};
                a || (ev(), a = !0);
                for (; b && !Zp(b);)Fx(b), b.remove(), b = h.pop();
                b ? (c || (g = b.jc()[0], c = {
                    index: 0,
                    color: g ? g.ka() : "#ffffff"
                }), b.Rd(0, e)) : (e = {
                    type: "image",
                    isBackground: !0,
                    isRecolorable: !0,
                    backgroundColor: d.color
                }, _.extend(e, g.qa().serialize()), b = Sd(e), b.appendTo(g), c = d, Ud(b))
            }, confirm: function () {
                if (b && b.ca()) {
                    var e = {elementIndex: b.ea(), pageIndex: b.ca().ea(), "new": d, old: c};
                    y.register(new U(Gx, e))
                }
                a &&
                (fv(), a = !1);
                b = null
            }
        }
    }

    function cx(a) {
        if ($(a.target).is(".moreInfo") || $(a.target).is(".superKeyword"))return !1;
        O();
        a = $(a.currentTarget).parents("li")[0];
        a = $(a);
        Hx(a);
        a = a.data("result");
        Ev(Wa, Qv(a));
        return !1
    }

    function dx(a) {
        function b(a) {
            var b = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            a = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            if (null == m && (4 <= Math.abs(b - n) || 4 < Math.abs(a - q))) {
                m = $('\x3cdiv class\x3d"clone bg"\x3e\x3c/div\x3e');
                g.dl() && m.addClass("patterned");
                var c = $("img", d).clone(!0).off(""), z = parseInt(c.attr("width"), 10), x = parseInt(c.attr("height"), 10);
                z < x ? c.css("width", k).css("height", c.height()) : c.css("width", c.width()).css("height", k);
                m.data("li", e).append(c).css("left",
                    h.left).css("top", h.top).css("width", k).css("height", l).css("background-color", e.data("color"));
                $("#content").append(m);
                d.css("opacity", 0);
                $("#search").blur();
                Dx(m, Ex(r))
            }
            null != m && (a = h.top + a - q, m.css("left", h.left + b - n).css("top", a));
            return !1
        }

        function c() {
            function a() {
                $(this).remove();
                d.css("opacity", 1)
            }

            $("#hotspots").remove();
            r.off("mousemove|touchmove", b).off("mouseup|touchend", c);
            d.removeClass("pickedUp");
            null == m || m.hasClass("disappeared") || m.hasClass("placing") ? (m && m.remove(), d.animate({opacity: 1},
                300)) : (h = d.offset(), m.addClass("returning"), m.one("transitionend", a).css("left", h.left).css("top", h.top))
        }

        if (3 == a.which || a.ctrlKey)return !0;
        if ($(a.target).is(".moreInfo") || $(a.target).is(".superKeyword"))return !1;
        var d = $(this);
        d.addClass("pickedUp");
        var e = d.parents("li"), g = e.data("result"), h = d.offset(), k = d.width(), l = d.height(), m = null, n = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, q = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, r = new V($(document));
        r.on("mousemove|touchmove",
            b).on("mouseup|touchend", c);
        return !1
    }

    function Hx(a) {
        var b = J(t), c = Cj(b);
        0 < c.length && c[c.length - 1].H().clone().removeClass("appearing").appendTo(b.H().children(".elements")).delay(480, function () {
            $(this).remove()
        });
        ev();
        c.forEach(function (a) {
            var c = a.ea(), c = {backgroundColor: a.Ie(), elementIndex: c, oldElementIndex: c, pageIndex: T(t, b)};
            cq(a);
            y.register(new U(Ix, c));
            Fx(a);
            a.remove()
        });
        a = $("img", a);
        a = Sd(Jx(a));
        var c = b.qa(), d = a.qa();
        th(d, c);
        a.Eb(d);
        b.addElement(a, !1, !0);
        Ud(a);
        c = a.ea();
        Dj(a);
        a = {
            backgroundColor: a.Ie(), elementIndex: a.ea(), oldElementIndex: c,
            pageIndex: T(t, b)
        };
        y.register(new U(Kx, a));
        fv()
    }

    function yn(a, b, c) {
        function d(a) {
            var b = 0, c = 0, d = a.width(), e = parseFloat(a.find("a").css("margin-right")), b = a.data("layoutItem"), c = a.data("designItem"), n = a.data("searchResult");
            if (b)c = b.getContent(), b = c.width, c = c.height; else {
                if (c)c = yk(c); else if (c = n.getFile("ORIGINAL"), !c)return d;
                b = c.C();
                c = c.D()
            }
            return 80 > (d - e) * c / b ? Number(a.parent().width()) : d
        }

        void 0 === b && (b = !0);
        void 0 === a && (a = $("#objectPanel .photoGallery, #objectPanel .infoPanelGallery"));
        var e = a.filter(".gridGallery");
        a = a.not(e);
        Lx(e);
        a.each(function () {
            var a =
                $(this), e = a.children("li"), k = a.hasClass("backgroundGallery");
            if (!(0 >= e.length || (a.removeClass("laidOut"), 0 >= a.width()))) {
                b || e.filter(":not(.newSearch)").addClass("doNotTransition");
                $("img", a).css("height", "");
                e.css("width", "").css("left", "").css("top", "");
                var l;
                l = a.hasClass("templateGallery") ? d(e.first()) : e.first().width();
                for (var m = parseInt($("a", this).css("margin-right"), 10), n = parseInt($("a", this).css("margin-bottom"), 10), q = Math.round(a.width() / l), r = a.data("columnData"), p = {
                    Rm: l, marginRight: m, marginBottom: n,
                    fa: []
                }, u = !c && r && r.fa.length == q && r.Rm == l, w = 0; w < q; w++)p.fa[w] = {
                    height: 0,
                    items: [],
                    nc: 0
                }, u && (p.fa[w].nc = r.fa[w].nc);
                var z = null;
                a.children("li").find("a.infoOpen").parents("li").first().each(function () {
                    var a = $("img", this), b = a.attr("width") || a.get(0).naturalWidth, a = a.attr("height") || a.get(0).naturalHeight;
                    z = $(this).data("originalTop") + (l - m) / b * a + n
                });
                null != z && u || e.removeData("modifiedTop");
                e.each(function () {
                    for (var b = $(this), c = b.data("result"), d = 0, e = p.fa[d].height, h = 0; h < p.fa.length; h++)if (0 == p.fa[h].height) {
                        d =
                            h;
                        e = 0;
                        break
                    } else p.fa[h].height < e && (d = h, e = p.fa[h].height);
                    var h = b.find("a"), q = b.find("img"), r, x;
                    0 < q.length ? (r = parseInt(q.attr("width"), 10) || q.get(0).naturalWidth, x = parseInt(q.attr("height"), 10) || q.get(0).naturalHeight) : x = r = l;
                    var w = r > x, A = l - m, C = A / r * x;
                    q.css("height", C);
                    b.hasClass("grid") && (C = b.data("layoutItem").getContent(), C = (l - m) * C.height / C.width, b.find("a").css("height", C));
                    b.data("originalTop", e).css("width", l).css("left", d * l);
                    k && (w && (A = r / x * (l - n), q.css("width", A).css("height", "")), "backgroundColorAlbum" ===
                    b.attr("id") ? b.add(h).add(q).css("width", "").css("height", "") : (b.height(l), h.height(l - n), c && !c.dl() && (C = w ? 0 : (l - n - C) / 2, q.css("margin-left", (l - m - A) / 2).css("margin-top", C))), c && (c.Hb() && (C = "#" + (ob[c.G()] || "888888"), b.data("color", C), h.css("background-color", C)), c.dl() && b.addClass("patterned")), C = l - n);
                    c = d;
                    b.hasClass("newSearch") ? (d = 0, null != z && e + C + n > z && (d = p.fa[c].nc, 0 == d && (d = Mx(a.parents(".searchGroup")), d += z - p.fa[c].height, p.fa[c].nc = d), b.data("modifiedTop", e + d)), b.css("top", e + d)) : b.data("modifiedTop") ?
                        (c = b.data("columnIndex"), e = b.data("modifiedTop"), b.css("left", c * l).css("top", e).data("originalTop", e - p.fa[c].nc)) : u ? (c = b.data("columnIndex"), b.css("left", c * l).css("top", p.fa[c].height).data("originalTop", p.fa[c].height)) : b.css("top", e);
                    p.fa[c].height += C + n;
                    p.fa[c].items.push(b);
                    b.data("columnIndex", c)
                });
                a.data("columnData", p);
                a.parents(".searchGroup").height();
                a.addClass("laidOut");
                b || window.setTimeout(function () {
                    e.filter(":not(.newSearch)").removeClass("doNotTransition")
                }, 300);
                var x = a.parent(".searchGroup"),
                    q = a.parents(".layer").find("\x3e .inner \x3e .searchGroup").last().get(0) == x.get(0);
                zn(x, !q);
                var C = x.height(), A = a.hasClass("templateGallery") ? 4 : 1;
                setTimeout(function () {
                        var b = Nx(a.parents(".results")), c = 0 < a.parents("#resultsSearch").length, d = c ? Ox(x) : 0, e = -1;
                        a.children("li.newSearch").each(function () {
                            var a = $(this), g = !1;
                            (g = c ? d + a.data("originalTop") < b : parseInt(a.css("top"), 10) < C) ? window.setTimeout(function () {
                                a.removeClass("newSearch")
                            }, 20 * ++e * A) : a.addClass("doNotTransition").removeClass("newSearch").removeClass("doNotTransition")
                        })
                    },
                    20)
            }
        })
    }

    function gw(a, b) {
        var c = !0;
        void 0 === c && (c = !1);
        b = $(b);
        var d = a.data("columnData"), e = 0 < a.parents("#resultsUpload").length, g = b.get(0).complete && "" !== b.get(0).src, h = $('\x3cli class\x3d"newSearch"\x3e\x3ca href\x3d"#"\x3e\x3c/a\x3e\x3c/li\x3e');
        e || h.find("a").append('\x3cspan class\x3d"info"\x3eFree\x3c/span\x3e');
        g || h.addClass("loading");
        h.find("a").prepend(b);
        c ? a.prepend(h) : a.append(h);
        if (!d || c)yn(a, !1, !0); else {
            c = 0;
            e = d.fa[c].height;
            for (g = 0; g < d.fa.length; g++)if (0 == d.fa[g].height) {
                c = g;
                e = 0;
                break
            } else d.fa[g].height < e &&
            (c = g, e = d.fa[g].height);
            var g = b.attr("width") || b.get(0).naturalWidth, k = b.attr("height") || b.get(0).naturalHeight, g = (d.Rm - d.marginRight) / g * k;
            b.css("height", g);
            h.data("originalTop", e).data("columnIndex", c).css("width", d.Rm).css("left", c * d.Rm).css("top", e + d.fa[c].nc).delay(20, function () {
                $(this).removeClass("newSearch")
            });
            d.fa[c].height += g + d.marginBottom;
            d.fa[c].items.push(h);
            a.data("columnData")
        }
    }

    function Lx(a) {
        void 0 === a && (a = $("#objectPanel").find(".gridGallery"));
        var b = $("a", a).width();
        $("li, a", a).css("height", b);
        a.addClass("laidOut");
        a.each(function () {
            var a = $(this), b = a.children("li"), a = a.parents(".searchGroup"), e = a.parents(".layer"), g = e.offset(), h = e.height();
            b.each(function () {
                var a = $(this), b = a.position().top + (a.hasClass("newSearch") ? 50 : 0);
                a.data("originalTop", b)
            });
            zn(a, !1);
            setTimeout(function () {
                b.each(function (a) {
                    var b = $(this);
                    b.offset().top < g.top + h ? setTimeout(function () {
                            b.removeClass("newSearch")
                        },
                        20 * a) : b.removeClass("newSearch")
                })
            }, 20)
        })
    }

    function Jx(a) {
        var b = a.parents("li"), c = b.data("result");
        c || (b = a.parent().data("li"), c = b.data("result"));
        var d = 0 < b.parents("#resultsBackground").length, e = parseInt(a.data("screen-width") || a.attr("width"), 10), g = parseInt(a.data("screen-height") || a.attr("height"), 10), h = "image";
        a.hasClass("svg") ? (h = "svg", e *= Sa.Ge, g *= Sa.Ge) : a.hasClass("graphic") && (h = "graphic");
        var k = c.tr();
        return {
            type: h,
            origin: c.Md(),
            mediaId: c.G(),
            mediaVersion: c.getVersion(),
            mediaApproved: void 0 !== a.data("mediaApproved") ? a.data("mediaApproved") :
                !0,
            width: e,
            height: g,
            isDark: !!a.hasClass("dark"),
            isBackground: c.qb() && d,
            isCutout: c.de(),
            isRepeating: c.dl(),
            isRecolorable: c.Hb(),
            backgroundColor: c.Hb() ? b.data("color") : void 0,
            spritesheetMetadata: k && k.serialize()
        }
    }

    function Px(a) {
        var b = ke(t.Ha().Ab()), c = $("img", a);
        a = c.parents("li").data("result");
        var c = Sd(Jx(c)), d = c.C(), e = c.D(), g = Math.min(d, .95 * b.C()), h = g / d * e;
        h > .95 * b.D() && (h = .95 * b.D(), g = h / e * d);
        c.la(g);
        c.ja(h);
        Ap(c);
        c.Ol();
        J(t).addElement(c, !0);
        c.yg() && "CANVA" !== a.Md() && Xd(Ia, a, c);
        Ud(c)
    }

    function Qx(a) {
        var b = a.parents(".photoGallery").first();
        a.find(".info").remove();
        a.find("a").addClass("removed");
        a.find("img").addClass("removed");
        a.addClass("removed");
        window.setTimeout(function () {
            a.remove();
            yn(b)
        }, 500)
    }

    function xn() {
        $(".infoPanel .close").click()
    }

    function ex(a) {
        function b(a) {
            a = a.G();
            var b = c();
            return b.hasOwnProperty(a) ? b[a] : null
        }

        function c() {
            return (new ze(window.viewConfig)).Xf.get("magicTemplates", []).map(Sw).reduce(function (a, b) {
                a[b.template] = Rx(b);
                return a
            }, {})
        }

        function d() {
            m.removeClass("transitioning")
        }

        var e = $(this).parents("a"), g = $("img", e), h = e.parents("li"), k = e.parents(".gallery"), l = e.parents(".layer"), m = e.parents(".searchGroup"), n = $(this).parents(".results"), q = Sx(m), r = parseInt(m.css("margin-top"), 10), p = 1 == $(this).parents("#resultsUpload").length,
            u = 1 == $(this).parents("#resultsLayout").length, w = Tx(m), z = 0, x = m.prevAll(".searchGroup");
        x.each(function () {
            z = Math.max(z, Tx($(this)));
            w += z
        });
        u && w > l.height() && (l.find(".infoPanel").css("height", "0"), x.find(".infoPanel").css("height", "0"), l.scrollTop(l.scrollTop() - w));
        l.find(".infoPanel .close").click();
        e.addClass("infoOpen");
        var x = h.data("result"), C = h.data("designItem"), A = h.data("originalTop"), B = h.height(), F = A + B, q = q + F + Ox(m), r = q - z + r;
        if (null != x || null != C) {
            a = (new Ux({
                kb: Mm(Jm()).ta().wi(),
                Gb: Ca,
                Lr: !!C,
                Tr: !!x,
                ee: !(!x || !Iv(x)),
                Ur: !1 === g.data("mediaApproved"),
                Vr: p,
                sh: C && b(C),
                model: x || C,
                zs: Qx.bind(null, h),
                F: a
            })).render().$el;
            a.data("item", e);
            a.css("top", r).appendTo(m);
            e.data("infoPanel", a);
            var I = $('\x3cdiv class\x3d"infoPanelPointer"\x3e\x3c/div\x3e');
            I.css("left", parseInt(h.css("left"), 10) + parseInt(a.css("left"), 10) + h.width() / 2).css("top", r).appendTo(m);
            a.data("infoPanelPointer", I);
            var fa = a.height(), qa = a.outerHeight(!0);
            a.one("transitionend", d).css("height", 0).delay(20, function () {
                $(this).addClass("on").css("height",
                    fa);
                I.addClass("on")
            });
            var K = Vx(k, F), K = K.filter(function (a) {
                return a != h.get(0)
            }), N = k.data("columnData");
            N.fa.forEach(function (a) {
                var b = null;
                a.items.filter(function (a) {
                    return -1 < K.indexOf(a.get(0))
                }).forEach(function (c) {
                    var d = c.data("originalTop");
                    null === b && (b = F + qa - d, a.nc = b);
                    c.css("top", d + b).data("modifiedTop", d + b).data("columnIndex", N.fa.indexOf(a))
                })
            });
            e = l.find("\x3e .inner \x3e .searchGroup").last().get(0) == m.get(0);
            m.addClass("transitioning");
            zn(m, !e);
            u ? setTimeout(function () {
                var a = h.parents(".scrollPane").get(0).getBoundingClientRect(),
                    b = h.get(0).getBoundingClientRect(), c = a.top > b.top, d = a.height > qa + b.height, e = 0;
                a.height - b.bottom > qa ? c && (e = b.top - a.top - 15) : e = d ? qa - (a.bottom - b.bottom) : b.top - a.top - 15;
                30 >= e && -30 <= e && (e = 0);
                l.animate({scrollTop: l.scrollTop() + e}, 600)
            }, 300) : (u = q + qa, n = Nx(n), e = u - r < l.height(), u > n && e ? l.animate({scrollTop: l.scrollTop() + (u - n)}, 600) : r < l.scrollTop() && l.animate({scrollTop: l.scrollTop() - (l.scrollTop() - r)}, 600), m.hasClass("inlineFolderGroup") && G.trigger("infoPanelToggle", m, Tx(m)))
        }
    }

    function gx() {
        var a = $(this), b = a.parents("a").parents("li"), c = !0 === b.data("superKeywordAdd"), d = b.data("query"), e = b.data("result");
        if (d && e) {
            var g = (e.ur() || []).slice();
            c ? g.push(d) : g = g.filter(function (a) {
                return a !== d
            });
            g = g.map(function (a) {
                return Nr(a.trim())
            });
            e = as((new Hr).re(e.G()).Vd(e.getVersion()), g);
            Fr(Ga, e, function (e) {
                200 == e && (c ? (a.removeClass("superMiss"), a.addClass("superHit"), a.attr("title", "Remove superKeyword '" + d + "'"), b.data("superKeywordAdd", !1)) : (a.removeClass("superHit"), a.addClass("superMiss"),
                    a.attr("title", "Add superKeyword '" + d + "'"), b.data("superKeywordAdd", !0)))
            })
        }
    }

    function Wx() {
        var a = $(this).parents(".infoPanel"), b = a.data("xhr"), c = a.data("item");
        c.removeClass("infoOpen");
        c.parents("li").siblings().each(function () {
            var a = $(this).data("originalTop");
            $(this).css("top", a).removeData("modifiedTop")
        });
        var d = a.parents(".searchGroup").first();
        d.addClass("transitioning").height(d.data("contentHeight"));
        $(".gallery", d).data("columnData").fa.forEach(function (a) {
            a.nc = 0
        });
        a.one("transitionend", function () {
            e && (e.remove(), a.remove(), d.removeClass("transitioning"))
        }).removeClass("on").css("height",
            0);
        var e = a.data("infoPanelPointer");
        e.removeClass("on");
        b && b.cancel();
        b = null;
        a.removeData("xhr");
        d.hasClass("inlineFolderGroup") && G.trigger("infoPanelToggle", d, 0);
        return !1
    }

    function ix(a) {
        function b(a) {
            function b() {
                A = $('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e');
                var a = Jx(n);
                B = Sd(a);
                B.la(w);
                B.ja(z);
                var c = $('\x3cdiv class\x3d"cloneInner"\x3e').append(B.H()), d;
                n.is(".svg") ? d = "svg" : n.is(".graphic") && (d = "graphic");
                d && (A.addClass(d), c.addClass(d), a = Ia.vb(a.mediaId, a.mediaVersion), B.Lh(a[Vp].ia()));
                A.append(c).css("left", k.left).css("top", k.top).css("transform-origin", "top left").css("transform", "scale(" + l / x + ", " + m / C + ")").toggleClass("cutout", B.de()).data("li", h.parents("li")).data("canvaElement",
                    B);
                $("#content").append(A);
                h.css("visibility", "hidden");
                (B.Lm() || B.de()) && ye(A, null, Ex(S));
                $("#search").blur()
            }

            if (!u)return !1;
            var c = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            a = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            var d = 0;
            if (null == A)if (Ex(S)) {
                var e = ai(K, N, c, a);
                if (300 < e || 60 > e)b(); else return !0
            } else(4 < Math.abs(c - K) || 4 < Math.abs(a - N)) && b();
            d > (l + l) / 4 && $("#trashcan").removeClass("active");
            if (null != A) {
                var e = Math.min(1, Math.sqrt(Math.pow(c - K, 2) + Math.pow(a - N,
                            2)) / wb), d = Math.min(1, l / (x * (1 - e))), g = Math.min(1, m / (C * (1 - e)));
                pb = !1;
                c > K ? (A.css("transform", "scale(" + d + ", " + g + ")"), B.kk() && (null === B.jf && Ap(B), Cp(B, e), B.Ol()), e = Math.round(k.top + a - N - (g * C - m) * Pa), A.css("left", Math.round(k.left + c - K - (d * x - l) * ba)).css("top", e)) : (e = 1, d = bi(c, a, ab, ed), d < (l + m) / 4 ? ($("#trashcan").addClass("active"), pb = !0, e = .5) : $("#trashcan").removeClass("active"), A.css("transform-origin", "top left").css("transform", "scale(" + l / x + ", " + m / C + ")"), A.css("left", k.left + c - K).css("top", k.top + a - N).css("opacity",
                    e));
                (c < I.left || c > I.left + F.outerWidth() || a < I.top || a > I.top + F.outerHeight()) && A && !A.hasClass("disappeared") && !A.hasClass("placing") && se(fa, A) ? (null == W && (W = new te(A, qa)), ve(W, qb, Fa)) : $("#overlays .align").removeClass("on")
            }
            return !1
        }

        function c(a) {
            function e() {
                $(this).remove();
                h.css("visibility", "visible")
            }

            function g() {
                h.css("opacity", 0);
                window.setTimeout(function () {
                    h.one("transitionend", function () {
                        $(this).removeClass("reappearing")
                    }).css("visibility", "").addClass("reappearing").css("opacity", "")
                }, 20)
            }

            $("#trashcan").hasClass("active") ? window.setTimeout(function () {
                $("#trashcan").hasClass("active") && $("#trashcan").removeClass("allow").removeClass("active")
            }, 500) : $("#trashcan").removeClass("allow").removeClass("active");
            S.off("mousemove|touchmove", b).off("mouseup|touchend", c);
            if (!u)return 0 < Wd.length ? Wd.find(".close").trigger("click") : h.find(".moreInfo").trigger("click"), Xx;
            if (d && pb) {
                var q = $(ja).parents("li"), p = q.data("result"), r = (new Hr).re(p.G()).Vd(p.getVersion()).Yf(!0);
                Fr(Ga, r, function () {
                    var a =
                        q.parents(".photoGallery").first();
                    q.remove();
                    yn(a)
                });
                0 < $(".infoPanel").length && Wx.call($(".infoPanel").find(".close").get(0));
                A.addClass("trashing");
                var r = Yx(A), w = Yx($("#trashcan")), z = Vi({Nc: w[0] - r[0], Oc: w[1] - r[1], bf: .1, Pf: .1});
                window.setTimeout(function () {
                    A.find(".cloneInner").css("transform", z);
                    A.find(".cloneInner").css("opacity", 0);
                    window.setTimeout(function () {
                        A.remove()
                    }, 300)
                }, 10)
            }
            if (!0 !== Zx) {
                $("#overlays .align").removeClass("on");
                $("#content").trigger("mousedown");
                O();
                r = void 0 !== a.clientX ?
                    a.clientX : a.changedTouches[0].clientX;
                a = void 0 !== a.clientY ? a.clientY : a.changedTouches[0].clientY;
                w = 4 < Math.abs(a - N);
                w = 4 < Math.abs(r - K) || w;
                $("#hotspots").remove();
                h.delay(2E3, function () {
                    $(this).removeClass("pickedUp")
                });
                if (null == A && !w)return $("#search").blur(), q = h.parents("li"), Px(q), d || pb || (p = q.data("result"), Ev(Wa, Qv(p))), !1;
                null == A || null == B || d && pb || ((r < I.left || r > I.left + F.outerWidth() || a < I.top || a > I.top + F.outerHeight()) && A && !A.hasClass("disappeared") && se(fa, A) ? (B.setPosition(W.Y(), W.O()), B.la(W.C()),
                    B.ja(W.D()), (a = J(t)) && B.appendTo(a), B.yg() && (p = n.parents("li").data("result"), "CANVA" !== p.Md() && Xd(Ia, p, B)), Ud(B), Vd(B), g(), d || Ev(Wa, Qv(p)), A.remove()) : null == A || A.hasClass("disappeared") ? null != A && A.hasClass("disappeared") && (g(), $x(A.data("placedInElement"))) : (k = h.offset(), A.addClass("returning"), A.one("transitionend", e).css("left", k.left).css("top", k.top).css("transform", "scale(" + l / x + ", " + m / C + ")")))
            }
        }

        var d = !1;
        if (3 == a.which || a.ctrlKey)return !0;
        if ($(a.target).is(".removed") || $(a.target).is(".moreInfo") ||
            $(a.target).is(".superKeyword"))return !1;
        var e = $("#trashcan");
        e.removeClass("active");
        0 < $(a.target).parents("#normalUploads").length && (e.addClass("allow"), d = !0);
        var g = ke(t.Ha().Ab()), h = $(this);
        h.addClass("pickedUp");
        var k = h.offset(), l = h.width(), m = h.height(), n = $("img", h).first(), q = Jx(n), r = q.width, p = q.height, u = q.mediaApproved, w = Math.min(r, .95 * g.C()), z = w / r * p;
        z > .95 * g.D() && (z = .95 * g.D(), w = z / p * r);
        var x = w * M, C = z * M, A = null, B = null, F = $("#objectPanel"), I = F.offset(), fa = ay(), qa = fa.offset(), K = void 0 !== a.clientX ? a.clientX :
            a.originalEvent.touches[0].clientX, N = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, ba = (K - k.left) / l, Pa = (N - k.top) / m, wb = Math.abs(K - (I.left + F.outerWidth())), S = new V($(document));
        S.on("mousemove|touchmove", b).on("mouseup|touchend", c);
        var W = null, Fa = ue(), qb = {}, ab = e.get(0).getBoundingClientRect().left + e.width() / 2, ed = e.get(0).getBoundingClientRect().top + e.height() / 2, pb = !1, Wd = h.parents(".gallery").next(".infoPanel").filter(function () {
            var a = $(this).data("item").find("img");
            return a.data("mediaId") ===
                n.data("mediaId") && a.data("mediaVersion") === n.data("mediaVersion")
        }), ja = this;
        return Xx
    }

    function nx(a) {
        function b(a) {
            function b() {
                h = e.clone(!1);
                h.appendTo("#content").css("top", p).css("left", r).addClass("clone draggableGridItem dragging");
                e.css("visibility", "hidden")
            }

            var c = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            a = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            if (null == h)if (Ex(K)) {
                var d = ai(F, I, c, a);
                if (300 < d || 60 > d)fa = !0, b(); else return !0
            } else 4 < c - F && (fa = !0, b());
            null != h && (a = Math.min(1, Math.sqrt(Math.pow(c - F, 2) + Math.pow(a - I, 2)) / qa), a = c <= F ? 0 : a, c =
                2 + (m - 2) * a, d = w + (B - w) * a, h.css("width", u + (A - u) * a).css("height", d), d = p + (C - p) * a, h.css("left", r + (x - r) * a).css("top", d), h.find("\x3e .rows, \x3e .columns, .item \x3e .content").css("left", c / 2).css("right", c / 2).css("top", c / 2).css("bottom", c / 2));
            return !1
        }

        function c() {
            q.oa().forEach(function (a) {
                if (a instanceof ap) {
                    for (var b = a.Oe(), c, d = !0, e = 0 >= a.O() && 0 >= a.Y() && 0 === a.Ua() && a.C() >= q.C() && a.D() >= q.D(), g = 0; g !== b; g++)if (c = a.tg(g).mediaId) {
                        d = !1;
                        break
                    }
                    d && e && a.remove()
                }
            })
        }

        function d(a) {
            function g(a) {
                function b(a) {
                    this ==
                    a.target && $(this).off("animationend", b).remove()
                }

                this == a.target && ($(this).off("transitionend", g).on("animationend", b).addClass("disappearing"), e.css("visibility", ""))
            }

            function k() {
                e.css("opacity", 0);
                setTimeout(function () {
                    e.one("transitionend", function () {
                        $(this).removeClass("reappearing")
                    }).css("visibility", "").addClass("reappearing").css("opacity", "")
                }, 20)
            }

            a = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            fa ? a >= x ? (n.Eb(z), c(), n.appendTo(q), Vd(n), Ud(n), k(), h.remove()) : (h.addClass("returning").on("transitionend",
                g), parseInt(h.css("left"), 10) == Math.floor(r) && parseInt(h.css("top"), 10) == Math.floor(p) ? h.trigger("transitionend") : h.css("left", r).css("top", p).css("width", u).css("height", w)) : (n.Eb(z), c(), q.addElement(n, !0), Ud(n));
            K.off("mousemove|touchmove", b).off("mouseup|touchend", d)
        }

        if (3 == a.which || a.ctrlKey)return !0;
        $("#search").blur();
        O();
        var e = $(a.currentTarget), g = e.offset(), h = null, k = e.parents("li").data("grid-name"), l = $.extend(!0, [], xh[k].items), m = (xh[k].spacing || 10) * M, n = new ap({items: l}), q = J(t), k = $(q.H()).offset(),
            r = g.left, p = g.top, u = e.width(), w = e.height(), z = or(q.C(), q.D(), n.spacing, 0 < Cj(q).length), g = z.clone().scale(M).translate(k.left, k.top).round(), x = g.Y(), C = g.O(), A = g.C(), B = g.D(), F = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, I = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, fa = !1, qa = x - F, K = new V($(document));
        K.on("mousemove|touchmove", b).on("mouseup|touchend", d);
        return !1
    }

    function by() {
        $("#fileUpload").removeData("upload-destination");
        $("#fileUpload").removeData("upload-placeholder-index");
        $("#fileUpload").trigger("click")
    }

    function iw() {
        return "marketplace" == $("#fileUpload").data("marketplace")
    }

    function ox(a) {
        function b() {
        }

        function c() {
            (new jw({source: g, Z: Bb(Ma), wl: b})).upload(e, void 0, iw())
        }

        function d(a) {
            var b = h.Af(k), c = new FileReader;
            c.onload = function () {
                var d = new Image;
                d.onload = function () {
                    var c = new L(0, 0, d.width, d.height);
                    th(c, b).translate(-b.Y(), -b.O());
                    c = {
                        type: "image",
                        index: k,
                        mediaId: a.G(),
                        mediaVersion: a.na().getVersion(),
                        imageBox: c.serialize(),
                        mediaApproved: !0
                    };
                    a.na().Hc() !== Jr && (c.staging = !0);
                    h.Sf(k, c)
                };
                d.src = c.result
            };
            c.readAsDataURL(l);
            $("#fileUpload").removeData("upload-destination");
            $("#fileUpload").removeData("upload-placeholder-index");
            $("#fileUpload").removeData("marketplace")
        }

        var e = a.target.files || a.dataTransfer.files || a.originalEvent.dataTransfer.files, g = jQuery.isWindow(a.target) ? "drop" : "button", h = $("#fileUpload").data("upload-destination"), k = $("#fileUpload").data("upload-placeholder-index") || 0;
        if (50 < e.length)return a.stopPropagation(), a.stopImmediatePropagation(), a.preventDefault(), window.setTimeout(function () {
                alert("Unfortunately Canva doesn't work too well when you upload more than 50 files at a time, so try uploading them 50 at a time. Thanks!")
            },
            100), !1;
        var l = e[0];
        h && (g = "placeholder_button", b = d);
        wx().get(0) == $("#resultsUpload").get(0) ? c() : cy(c)
    }

    function cy(a) {
        var b = $("#objectPanel");
        b.addClass("slow");
        window.setTimeout(function () {
            b.children("menu").find(".uploads a").click().delay(600, function () {
                b.removeClass("slow");
                a()
            })
        }, 20)
    }

    function Tx(a) {
        var b = 0, c = $(".gallery", a).data("columnData");
        if (c)b = Array.max(c.fa.map(function (a) {
            return a.nc
        })); else return b;
        b = Array.max(c.fa.map(function (a) {
            return a.height
        }));
        c = Array.max(c.fa.map(function (a) {
            return 0 == a.height ? 0 : a.height + a.nc
        }));
        return b = b != c ? c - b : Mx(a)
    }

    function Mx(a) {
        var b = 0, c = $(".infoPanel", a).clone();
        0 < c.length && (c.appendTo(a).addClass("doNotTransition").css("height", "").css("display", "none"), b = c.outerHeight(!0), c.remove());
        return b
    }

    function zn(a, b) {
        if (0 != a.parents(".results.infinite").length) {
            var c = a.hasClass("inlineFolderGroup"), d = a.parents(".results").first(), e = c ? a.find("p button") ? a.find("p").height() : 0 : Sx(a), g = 0;
            $(".gallery li", a).each(function (a, b) {
                var c = $(b);
                g = Math.max(g, c.data("originalTop") + c.height())
            });
            g += e;
            a.data("contentHeight", g);
            e = Tx(a);
            b || c ? a.height(g + e) : a.height(Math.max(g + e, d.height()))
        }
    }

    function px() {
        var a = $(this).parent(".results");
        clearTimeout(a.data("scrollTimer"));
        var b = setTimeout(function () {
            dy(a)
        }, 100);
        a.data("scrollTimer", b)
    }

    function Vx(a, b) {
        var c = [], d = a.data("columnData");
        if (void 0 === d)return c;
        for (var d = d.fa, e = 0; e < d.length; e++) {
            for (var g = d[e].items, h = 0, k = !1, l = 0; l < g.length; l++) {
                var m = g[l], n = m.data("originalTop") || 0, n = (m.data("modifiedTop") || n) - n;
                0 == n || k || (h += n, k = !0);
                h += m.height();
                if (h > b)break
            }
            c = c.concat(g.slice(l))
        }
        return c.map(function (a) {
            return a.get(0)
        }).filter(function (a) {
            return null != a.parentNode
        })
    }

    function Ax(a, b) {
        var c;
        c = a.find("\x3e .layer \x3e .inner \x3e .searchGroup").find(".gallery li").first();
        var d = a.hasClass("twoCol") ? 120 : 70;
        c = c.width() || d;
        d = Math.floor(Math.abs(a.children(".layer").width()) / c) || 1;
        return Math.max(18, d * Math.max(Math.ceil(b / c), 3))
    }

    function dy(a) {
        if (null != Z && !a.is(".modifying")) {
            var b = a.children(".layer").last(), c = b.find("\x3e .inner \x3e .searchGroup").last();
            0 < $(".searchLoaderHolder \x3e .searchLoader", a).length || 0 < $(".searchLoader", c).length || qe().read(function (d) {
                var e = c.outerHeight() + c.offset().top - (a.offset().top + a.outerHeight());
                ey() && e <= .33 * a.outerHeight() && d.write(function () {
                    var c = b.find("\x3e .inner \x3e .searchGroup .gallery li").length;
                    500 < c && fy(b, c - 500);
                    c = a.find(".searchLoaderHolder");
                    yx(c);
                    c.addClass("on");
                    Z.from +=
                        Z.limit;
                    Z.qy()
                })
            })
        }
    }

    function fy(a, b) {
        for (var c = a.parents(".results"), d = $(), e = $(), g = b, h = a.find("\x3e .inner \x3e .searchGroup").toArray(), k = 0; k < h.length && !(0 >= g); k++) {
            var l = $(h[k]), m = $(".gallery li", l);
            if (m.length < g)d = d.add(l), g -= m.length; else for (var l = g, n = 0; n < l; n++)e = e.add(m[n]), g--
        }
        g = e.parents(".searchGroup").add(d);
        h = $(".infoPanel", g);
        0 < h.length && (g.addClass("doNotTransition"), h.addClass("doNotTransition"), $(".close", h).click(), h.data("infoPanelPointer").remove(), h.remove(), g.removeClass("doNotTransition"));
        c.addClass("modifying");
        a.find("\x3e .inner \x3e .searchGroup").addClass("doNotTransition");
        var g = a.scrollTop(), h = e.parents(".searchGroup"), q = 0;
        0 < h.length && (k = h.outerHeight(!0), m = $(".gallery", h), m.removeData("columnData"), e.remove(), yn(m), q += k - h.outerHeight(!0));
        d.each(function () {
            q += $(this).outerHeight(!0)
        });
        d.remove();
        h = a.find("\x3e .inner \x3e .searchGroup .infoPanel");
        0 < h.length && h.addClass("doNotTransition").css("top", parseInt(h.css("top"), 10) - q).removeClass("doNotTransition");
        a.scrollTop(Math.max(0, g - q));
        a.find("\x3e .inner \x3e .searchGroup").removeClass("doNotTransition");
        c.removeClass("modifying")
    }

    function Sx(a) {
        return 0 == a.length ? 0 : $(".gallery, .noResults", a).offset().top - a.offset().top
    }

    function gy(a) {
        a = a.find("\x3e .inner \x3e .searchGroup").last();
        return Ox(a) + a.outerHeight(!0)
    }

    function Ox(a) {
        return 0 == a.length ? 0 : a.parents(".layer").scrollTop() + a.position().top
    }

    function hy(a, b) {
        if (null != a && 0 != b.length) {
            var c = b.toArray();
            a.fa.forEach(function (a) {
                c.forEach(function (b) {
                    var c = a.items.map(function (a) {
                        return a.get(0)
                    }).indexOf(b);
                    -1 >= c || (a.items.splice(c, 1), a.height -= $(b).height(), void 0 !== $(b).data("modifiedTop") && 1 <= c && void 0 === a.items[c - 1].data("modifiedTop") && (a.nc = 0))
                })
            })
        }
    }

    function Nx(a) {
        var b = a.children(".layer").last().scrollTop();
        a = a.height();
        return b + a
    }

    function wx() {
        var a = $("#objectPanel \x3e menu \x3e li.on").index();
        return $("#objectPanel \x3e .content \x3e .results").eq(a)
    }

    function iy(a, b) {
        $(".warningPanel" + b).one("animationend", function () {
            $(this).removeClass("on off")
        }).addClass("off");
        $("body").removeClass("blockDocument");
        return !1
    }

    function rx() {
        return iy.call(this, 0, "#someoneElseEditing")
    }

    function sx() {
        return iy.call(this, 0, "#inReview")
    }

    function tx() {
        return iy.call(this, 0, "#touchDevice")
    }

    function jy() {
        $("#inReview").addClass("on");
        ky()
    }

    function ly() {
        $("#outOfSync").addClass("on");
        $("#outOfSync button").on("click", function () {
            window.location.reload();
            return !1
        })
    }

    function my() {
        $("#savingError").addClass("on");
        $("#savingError button").on("click", function () {
            window.location.reload();
            return !1
        })
    }

    function ny() {
        $("#savingError").hasClass("on") && $("#savingError").one("animationend", function () {
            $(this).removeClass("on off")
        }).addClass("off")
    };
    function oy() {
        this.zc = [];
        this.sj = [];
        this.ug = [];
        this.et = this.fu = !1
    }

    f = oy.prototype;
    f.trigger = Backbone.Events.trigger;
    f.listenTo = Backbone.Events.listenTo;
    f.stopListening = Backbone.Events.stopListening;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.off = Backbone.Events.off;
    _.extend(oy.prototype, Backbone.Events);
    oy.prototype.register = function (a) {
        if (a.data["new"] && a.data.old && JSON.stringify(a.data["new"]) == JSON.stringify(a.data.old) || this.fu || this.et)return !1;
        var b = a instanceof py;
        0 < this.ug.length ? this.ug[this.ug.length - 1].push(a) : (this.zc.push(a), this.sj = [], !b && t.trigger("change"));
        return !0
    };
    function ev() {
        var a = y, b = new py;
        a.register(b);
        a.ug.push(b)
    }

    function fv() {
        var a = y;
        if (0 == a.ug.length)throw Error("mismatched number of .endGrouping calls");
        var b = a.ug.pop();
        0 == b.getLength() && a.zc.splice(a.zc.indexOf(b), 1);
        0 == a.ug.length && t.trigger("change")
    }

    function sv() {
        var a = y;
        if (0 != a.zc.length) {
            a.trigger("beforeOperationStackPop");
            a.fu = !0;
            if (0 < a.ug.length)throw Error("cannot undo while a grouped operation is being collected");
            var b = a.zc.pop(), c = b.invert();
            c.Jf();
            a.sj.push(b);
            O();
            tv(qy(c));
            a.fu = !1;
            t.trigger("change")
        }
    }

    function rv() {
        var a = y;
        if (0 != a.sj.length) {
            a.trigger("beforeOperationStackPop");
            a.et = !0;
            var b = a.sj.pop();
            b.Jf();
            a.zc.push(b);
            O();
            tv(qy(b));
            a.et = !1;
            t.trigger("change")
        }
    }

    function Aw(a, b) {
        var c = y;

        function d(a) {
            var b = [];
            a instanceof U ? b.push(a) : a instanceof py && a.zc.forEach(function (a) {
                b = b.concat(d(a))
            });
            return b
        }

        function e(a, b, c) {
            a.mediaId === b.mediaId && a.mediaVersion === b.mediaVersion && (a.mediaId = c.mediaId, a.mediaVersion = c.mediaVersion)
        }

        c = c.zc.map(d).concat(c.sj.map(d));
        [].concat.apply([], c).forEach(function (c) {
            switch (c.Ra) {
                case ry:
                    e(c.data["new"], a, b);
                    e(c.data.old, a, b);
                    break;
                case sy:
                case ty:
                    e(c.data, a, b)
            }
        })
    }

    function qy(a) {
        var b = [];
        if (a instanceof py)a = a.zc, a.forEach(function (a) {
            a = qy(a);
            b = b.concat(a)
        }), 2 === b.length && 2 == a.length && a[0]instanceof U && a[1]instanceof U && a[0].Ra == sy && a[1].Ra == ry && (b = qy(a[0])); else if (a.Ra != ty && (a instanceof U || a instanceof uy)) {
            var c = a.data.elementIndex;
            t.aa[a.data.pageIndex].oa().forEach(function (a) {
                a.ea() == c && b.push(a)
            })
        }
        return b
    }

    function vy() {
        this.Ra = null;
        this.data = {}
    }

    vy.prototype.Jf = function () {
        throw Error("classes that inherit from Canva.Operation must implement .perform");
    };
    vy.prototype.invert = function () {
        throw Error("classes that inherit from Canva.Operation must implement .invert");
    };
    function wy(a) {
        return $.extend(!0, {}, a)
    }

    function py() {
        this.zc = []
    }

    py.prototype = new vy;
    py.prototype.Jf = function () {
        this.zc.forEach(function (a) {
            a.Jf()
        })
    };
    py.prototype.invert = function () {
        var a = new py;
        this.zc.reverse();
        this.zc.forEach(function (b) {
            a.push(b.invert())
        });
        this.zc.reverse();
        return a
    };
    py.prototype.push = function (a) {
        this.zc.push(a)
    };
    py.prototype.getLength = function () {
        return this.zc.length
    };
    var $i = 1, ty = 2, sy = 3, ry = 5, Kx = 7, Ix = 8, Gx = 9;

    function U(a, b) {
        this.Ra = a;
        this.data = b
    }

    U.prototype = new vy;
    U.prototype.Jf = function () {
        $("#overlays .element.text").each(function () {
            Jo($(this))
        });
        var a = t.aa[this.data.pageIndex], b = a.oa().length, c;
        c = this.Ra == sy ? Sd($.extend(!0, {}, this.data)) : a.elements[this.data.elementIndex] || null;
        if (!c)throw Error("error performing operation on non-existent element");
        var d, e;
        switch (this.Ra) {
            case $i:
                a = this.data["new"];
                null != a.left && c.Na(a.left);
                null != a.top && c.Oa(a.top);
                null != a.rotation && Wi(c, a.rotation);
                null != a.flipOrientation && c.Kh(a.flipOrientation);
                null != a.transparency &&
                c.bm(a.transparency);
                null != a.borderWidth && kr(c, a.borderWidth);
                null != a.spacing && sr(c, a.spacing);
                null != a.padding && lr(c, a.padding);
                c.setSize(null == a.width ? c.C() : a.width, null == a.height ? c.D() : a.height);
                null != a.transformDependentData && c.By(a.transformDependentData);
                break;
            case 11:
                a = this.data["new"];
                c = c.qg(this.data.placeholderIndex);
                a.filter ? Tt(bq(c), a.filter) || bu(c, a.filter) : cu(c);
                break;
            case 10:
                a = this.data["new"];
                null != a.link && ep(c, a.link);
                break;
            case ty:
                c.remove();
                break;
            case 4:
                b = this.data.oldElementIndex;
                c = a.elements[b] || null;
                if (!c)throw Error("unable to perform layer change - element index out of bounds.");
                d = this.data.elementIndex;
                b < d && d++;
                b = a.oa().length;
                d = Math.max(Math.min(b, d), 0);
                e = a.elements[d] || null;
                d == b ? c.appendTo(a) : e && c.insertBefore(e);
                break;
            case sy:
                d = this.data.elementIndex;
                c = $.extend(!0, {}, this.data);
                c = Sd(c);
                d = Math.max(Math.min(b, d), 0);
                e = a.elements[d] || null;
                d == b ? c.appendTo(a) : e && c.insertBefore(e);
                break;
            case ry:
                c.Sf(this.data.placeholderIndex, this.data["new"]);
                break;
            case 6:
                a = c.Jk(this.data.placeholderIndex);
                c.Jh(a);
                a = this.data["new"];
                d = kh(a.imageBox);
                b = kh(a.placeholderBox);
                c instanceof Yo ? a.cropped ? (Kf(c, b), c.cf(d), c.bh(), c.Na(a.left), c.Oa(a.top)) : (c.Na(a.left), c.Oa(a.top), c.la(d.C()), c.ja(d.D()), Kf(c, b), c.cf(d), c.lp = !1, c.ye = !1, c.H().find("img").css("transform", "").css("width", "").css("height", "")) : (c.cf(d), c.bh());
                break;
            case Kx:
                if (c = a.elements[this.data.oldElementIndex] || null)Dj(c), this.data.backgroundColor && c.Rd(0, this.data.backgroundColor);
                break;
            case Ix:
                cq(c);
                rp(a, c, this.data.oldElementIndex);
                break;
            case Gx:
                d = this.data["new"];
                a = d.index;
                d.placementData ? c.Sf(a, d.placementData) : (d = Q(d.color), c.Rd(a, d));
                break;
            case 12:
                c.ya[this.data.placeholderIndex].Kh(this.data["new"].flipOrientation);
                break;
            case 13:
                b = this.data.childRange;
                e = this.data.elements;
                c = $.extend(!0, {}, this.data);
                c.elements = [];
                d = this.data.elementIndex;
                c = new cp(c);
                rp(a, c, d);
                if (2 === b.length) {
                    d = b[0];
                    for (var g = 0; d <= b[1]; d++, g++) {
                        var h = a.elements[d] || null;
                        h && (h.setPosition(e[g].left, e[g].top), h.setSize(e[g].width, e[g].height), h.bm(e[g].transparency),
                            Wi(h, e[g].rotation), c.addElement(h), c.H().find(".elements").append(h.H()))
                    }
                }
                break;
            case 14:
                xy(c);
                break;
            default:
                throw Error("cannot perform unknown operation type " + this.Ra.toString());
        }
    };
    U.prototype.invert = function () {
        function a(a) {
            var b = a.elementIndex;
            a.elementIndex = a.oldElementIndex;
            a.oldElementIndex = b
        }

        var b = wy(this.data);
        switch (this.Ra) {
            case $i:
            case 11:
            case 6:
            case ry:
            case Gx:
            case 10:
            case 12:
                return b["new"] = this.data.old, b.old = this.data["new"], new U(this.Ra, b);
            case sy:
            case ty:
                return new U(this.Ra == sy ? ty : sy, b);
            case 4:
                return a(b), new U(this.Ra, b);
            case Kx:
                return a(b), new U(Ix, b);
            case Ix:
                return a(b), new U(Kx, b);
            case 13:
                return new U(14, b);
            case 14:
                return new U(13, b);
            default:
                throw Error("cannot invert unknown operation type " +
                    this.Ra.toString());
        }
    };
    function yy(a, b) {
        this.Ra = a;
        this.data = b
    }

    yy.prototype = new vy;
    yy.prototype.Jf = function () {
        $("#overlays .element.text").each(function () {
            Jo($(this))
        });
        var a = null;
        1 == this.Ra ? (a = $.extend(!0, {}, this.data), a = new wj(t, a)) : a = t.aa[this.data.pageIndex];
        switch (this.Ra) {
            case 5:
                a = t.aa[this.data.oldPageIndex];
            case 1:
                Ej(t, a, this.data.pageIndex);
                break;
            case 2:
                Gj(t, a);
                break;
            case 4:
                zy(a, this.data["new"]);
                break;
            default:
                throw Error("cannot perform unknown operation type " + this.Ra.toString());
        }
    };
    yy.prototype.invert = function () {
        var a = wy(this.data);
        switch (this.Ra) {
            case 1:
            case 2:
                return new yy(1 == this.Ra ? 2 : 1, a);
            case 4:
                return a["new"] = this.data.old, a.old = this.data["new"], new yy(this.Ra, a);
            case 5:
                var b = a.pageIndex;
                a.pageIndex = a.oldPageIndex;
                a.oldPageIndex = b;
                return new yy(this.Ra, a);
            default:
                throw Error("cannot invert unknown operation type " + this.Ra.toString());
        }
    };
    function uy(a, b) {
        this.Ra = a;
        this.data = b
    }

    uy.prototype = new vy;
    uy.prototype.Jf = function () {
        var a = t.aa[this.data.pageIndex].elements[this.data.elementIndex] || null;
        if (!a)throw Error("operation element index out of bounds " + this.data.elementIndex);
        switch (this.Ra) {
            case 1:
                var b = this.data["new"];
                a.Mh(this.data.textIndex, b);
                void 0 !== b.height && a instanceof Nj && a.ja(b.height);
                break;
            default:
                throw Error("cannot perform unknown operation type " + this.Ra.toString());
        }
    };
    uy.prototype.invert = function () {
        var a = wy(this.data);
        switch (this.Ra) {
            case 1:
                return a["new"] = this.data.old, a.old = this.data["new"], new uy(this.Ra, a);
            default:
                throw Error("cannot invert unknown operation type " + this.Ra.toString());
        }
    };
    function Ay(a, b) {
        this.Ra = a;
        this.data = b
    }

    Ay.prototype = new vy;
    Ay.prototype.Jf = function () {
        var a = this.data["new"];
        switch (this.Ra) {
            case 1:
                var b = this.data.style, c = t, d = c.Me(b);
                _.isEqual(a, d) || (c.om[b] = $.extend(!0, {}, a), c.trigger("change:defaultFont", c, b, a), c.trigger("change", c), Mj(c, b));
                break;
            case 2:
                t.resize(gj(a.docType));
                break;
            case 3:
                t.eu(a.model, gj(a.docType));
                break;
            default:
                throw Error("cannot perform unknown document operation type " + this.Ra.toString());
        }
    };
    Ay.prototype.invert = function () {
        var a = wy(this.data);
        a["new"] = this.data.old;
        a.old = this.data["new"];
        switch (this.Ra) {
            case 1:
                return new Ay(1, a);
            case 2:
                return new Ay(3, a);
            case 3:
                return new Ay(2, a);
            default:
                throw Error("cannot invert unknown operation type " + this.Ra.toString());
        }
    };
    (function (a) {
        a.path = {};
        var b = {
            rotate: function (a, b) {
                var e = b * Math.PI / 180, g = Math.cos(e), e = Math.sin(e);
                return [g * a[0] - e * a[1], e * a[0] + g * a[1]]
            }, scale: function (a, b) {
                return [b * a[0], b * a[1]]
            }, add: function (a, b) {
                return [a[0] + b[0], a[1] + b[1]]
            }, cD: function (a, b) {
                return [a[0] - b[0], a[1] - b[1]]
            }
        };
        a.path.mA = function (c) {
            c.start = a.extend({angle: 0, length: .3333}, c.start);
            c.end = a.extend({angle: 0, length: .3333}, c.end);
            this.xo = [c.start.x, c.start.y];
            this.yo = [c.end.x, c.end.y];
            var d = b.cD(this.yo, this.xo), e = b.scale(d, c.start.length),
                d = b.scale(d, -1), d = b.scale(d, c.end.length), e = b.rotate(e, c.start.angle);
            this.Ex = b.add(this.xo, e);
            d = b.rotate(d, c.end.angle);
            this.Fx = b.add(this.yo, d);
            this.bC = function (a) {
                return a * a * a
            };
            this.cC = function (a) {
                return 3 * a * a * (1 - a)
            };
            this.dC = function (a) {
                return 3 * a * (1 - a) * (1 - a)
            };
            this.eC = function (a) {
                return (1 - a) * (1 - a) * (1 - a)
            };
            this.css = function (a) {
                var b = this.bC(a), c = this.cC(a), d = this.dC(a);
                a = this.eC(a);
                var e = {};
                e.x = this.x = this.xo[0] * b + this.Ex[0] * c + this.Fx[0] * d + this.yo[0] * a + .5 | 0;
                e.y = this.y = this.xo[1] * b + this.Ex[1] * c + this.Fx[1] *
                    d + this.yo[1] * a + .5 | 0;
                e.left = e.x + "px";
                e.top = e.y + "px";
                return e
            }
        };
        a.fx.step.path = function (b) {
            var d = b.end.css(1 - b.pos);
            null != d.hG && a.cssHooks.transform.set(b.elem, "rotate(" + Math.atan2(d.FJ - d.y, d.hG - d.x) + ")");
            b.elem.style.top = d.top;
            b.elem.style.left = d.left
        }
    })(jQuery);
    function jj(a, b, c, d, e, g) {
        this.Kc = a;
        this.Ls = 0;
        this.Xt = 23;
        a = this.F = c;
        a.Ib || (a.Ib = new Sc(a.Ga));
        this.Ib = a.Ib;
        this.jg = b;
        this.sa = d;
        this.analytics = e;
        this.uc = g
    }

    function By(a) {
        a.preventDefault();
        a.stopPropagation();
        return !1
    }

    var Cy = [];
    [[642, 800, "https://static.canva.com/static/images/onboarding/lion-0.png"], [200, 106, "https://static.canva.com/static/images/onboarding/lion-1.png"], [192, 200, "https://static.canva.com/static/images/onboarding/lion-2.png"], [200, 77, "https://static.canva.com/static/images/onboarding/lion-3.png"], [165, 200, "https://static.canva.com/static/images/onboarding/lion-4.png"], [141, 200, "https://static.canva.com/static/images/onboarding/lion-5.png"], [200, 124, "https://static.canva.com/static/images/onboarding/lion-6.png"], [149, 200, "https://static.canva.com/static/images/onboarding/lion-7.png"], [191, 200, "https://static.canva.com/static/images/onboarding/lion-8.png"], [150, 200, "https://static.canva.com/static/images/onboarding/lion-9.png"], [200, 129, "https://static.canva.com/static/images/onboarding/lion-10.png"],
        [129, 200, "https://static.canva.com/static/images/onboarding/lion-11.png"], [200, 154, "https://static.canva.com/static/images/onboarding/lion-12.png"], [200, 174, "https://static.canva.com/static/images/onboarding/lion-13.png"], [200, 70, "https://static.canva.com/static/images/onboarding/lion-14.png"], [124, 200, "https://static.canva.com/static/images/onboarding/lion-15.png"], [200, 176, "https://static.canva.com/static/images/onboarding/lion-16.png"], [200, 132, "https://static.canva.com/static/images/onboarding/lion-17.png"], [200, 149, "https://static.canva.com/static/images/onboarding/lion-18.png"]].forEach(function (a, b) {
            var c = "Monboarding" + b;
            0 === b && (c = "M-YUM-LION");
            var d = _.extend({}, new Fv, {
                La: function () {
                    return ""
                },
                id: c, G: function () {
                    return c
                }, files: {Bp: {width: a[0], height: a[1], url: a[2]}, Cp: {width: a[0], height: a[1], url: a[2]}}
            });
            Cy.push(d)
        });
    function Fy() {
        return {
            SCREEN: {
                ia: function () {
                    return "https://static.canva.com/static/images/onboarding/lion-0.png"
                }
            }, THUMBNAIL: {
                ia: function () {
                    return "https://static.canva.com/static/images/onboarding/lion-0.png"
                }
            }
        }
    }

    function Gy(a, b, c) {
        c(200, {
            na: function () {
                return {
                    getVersion: function () {
                        return 0
                    }, Tb: function () {
                        return Fy()
                    }
                }
            }
        });
        return new lf
    }

    f = jj.prototype;
    f.go = function () {
        Hy(this)
    };
    function Iy(a, b, c) {
        function d() {
            g += e.shift();
            a(g);
            0 < e.length ? window.setTimeout(d, 250 + Math.floor(100 * Math.random())) : window.setTimeout(c, 250);
            return !1
        }

        var e = b.split(""), g = "";
        a("");
        d()
    }

    function Jy() {
        for (var a = [], b = 0; 5 !== b; b++)a[b] = new Image, a[b].crossOrigin = "anonymous";
        a[0].src = "https://static.canva.com/static/images/onboarding/lion-0.png";
        a[1].src = "https://static.canva.com/static/images/onboarding/lion-1.png";
        a[2].src = "https://static.canva.com/static/images/onboarding/lion-2.png";
        a[3].src = "https://static.canva.com/static/images/onboarding/lion-3.png";
        a[4].src = "https://static.canva.com/static/images/onboarding/lion-4.png"
    }

    f.ax = function () {
        var a = this;
        Jy();
        WebFont.load({
            google: {families: ["Abril+Fatface", "Carter+One"]}, active: function () {
                a.next()
            }, inactive: function () {
                a.next()
            }
        })
    };
    function Ky(a) {
        a.dv = !1;
        $("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");
        $("body \x3e .mask").addClass("on fullscreenMessageMask");
        try {
            if ("mandatory_video" === ej().getItem("onvidexp"))return
        } catch (b) {
        }
        $("body \x3e .mask").on("click", function () {
            Ly(a).then(function () {
                a.dv || (My(a), Ny())
            }.bind(a))
        })
    }

    function Ly(a) {
        $("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");
        $("body \x3e .mask").addClass("off").delay(500, function () {
            $(this).removeClass("fullscreenMessageMask off on white")
        });
        $("video.for-onboarding").remove();
        a.Zb.addClass("disappearing").delay(500, function () {
            $(this).remove()
        });
        return P.delay(500)
    }

    f.Dy = function () {
        Ky(this);
        var a = Tc(this.Ib);
        oj(this) && !this.NC && Oy() && (a = this.Ib.format("twentyThreeSecondOnboardingChooseText"));
        this.Zb = $('\x3cdiv id\x3d"onboarding-23second-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-time"\x3e' + this.Xt + '\x3c/span\x3e\x3cspan class\x3d"onboarding-description"\x3e' + this.Ib.format("twentyThreeSecondOnboardingDescription") + '\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-icons"\x3e\x3cspan class\x3d"onboarding-search"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_search.png"/\x3e\x3c/span\x3e' +
            a + '\x3c/span\x3e\x3cspan class\x3d"onboarding-drag"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand.png"/\x3e\x3c/span\x3e' + Uc(this.Ib) + '\x3c/span\x3e\x3cspan class\x3d"onboarding-publish"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_publish.png" /\x3e\x3c/span\x3e' + Vc(this.Ib) + '\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-actions"\x3e\x3cspan class\x3d"onboarding-show-me-how"\x3e\x3cbutton class\x3d"button onboarding-show-me-how-button"\x3e' +
            this.Ib.format("twentyThreeSecondOnboardingShowMeHowButtonText") + '\x3c/button\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_clicking.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_grabbing.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e');
        this.Zb.appendTo("body");
        this.next()
    };
    f.nz = function () {
        var a = this, b = $(".onboarding-dialog");
        $(".onboarding-show-me-how-button").click(function () {
            if (H) {
                var c = oj(a) ? "layouts" : "regular";
                H.km("onboarding", {status: "viewed", variant: c, experiment: "none", experimentVariant: "none"})
            }
            a.dv = !0;
            var d = $(".onboarding-drag .icon"), c = d.clone(), e = $(".onboarding-show-me-how-button"), g = e.clone(), h = e.clone(), e = e.offset(), d = d.find("img").offset();
            c.attr("id", "onboarding-active-hand").addClass("for-onboarding").appendTo("body").offset(d);
            g.attr("id", "onboarding-active-button").addClass("for-onboarding").appendTo("body").offset(e);
            h.attr("id", "onboarding-active-button-width").addClass("for-onboarding").appendTo("body");
            c = a.Xt - 1;
            $("#onboarding-23second-dialog .onboarding-time").text(c.toString());
            b.fadeOut(2E3);
            a.next();
            try {
                "mandatory_video" === ej().getItem("onvidexp") && Ly(a)
            } catch (k) {
            }
        })
    };
    f.hy = function () {
        $("body").append(this.Sp);
        this.Sp.on("click", By);
        var a = this.Xt - 2;
        window.setTimeout(function () {
            $("#onboarding-23second-dialog .onboarding-time").text(a.toString())
        }, 1E3);
        this.next(1500)
    };
    f.Ev = function () {
        var a = t.aa.length;
        O();
        1 === a && t.aa[0].isEmpty() ? (this.Cy = !1, this.page = t.aa[0]) : (this.Cy = !0, a = new wj(t, t.Te()), Ej(t, a, 0), this.page = a);
        this.next()
    };
    f.kx = function () {
        function a() {
            c++;
            2 === c && b.next(300)
        }

        var b = this, c = 0, d = $("#onboarding-active-hand"), e = $("#onboarding-active-button");
        $(".onboarding-drag .icon").remove();
        $("body \x3e .mask").click();
        e.css({width: e.width(), height: "46px"});
        e.text("");
        e.delay(330).animate({width: Py(Tc(b.Ib)), "border-radius": "25px", padding: "0 15px 0 35px"}, {
            duration: 600,
            queue: !1,
            complete: a
        });
        d.delay(330).animate({left: 1 * e.offset().left - 15, top: 1 * e.offset().top - 4}, {
            duration: 600,
            queue: !1,
            complete: a
        })
    };
    f.Qw = function () {
        var a = $("#onboarding-active-hand"), b = $("#onboarding-active-button"), c = $('\x3cdiv class\x3d"for-onboarding" id\x3d"onboarding-active-hand-morphed"\x3e\x3c/div\x3e'), d = a.offset();
        c.offset(d);
        c.appendTo(a.parent());
        a.appendTo(c);
        a.css({top: 0, left: 0});
        b.appendTo(c);
        b.css({top: "4px", left: "15px"});
        this.next()
    };
    f.eH = function () {
        $("#onboarding-active-button").text(Tc(this.Ib));
        this.next()
    };
    f.bH = function () {
        Qy(Uc(this.Ib));
        this.next()
    };
    f.cH = function () {
        this.dm || Qy(this.Ib.format("twentyThreeSecondOnboardingEditText"));
        this.next()
    };
    f.dH = function () {
        $("#onboarding-active-button").text("Choose");
        this.next()
    };
    function Ry() {
        $("#onboarding-active-hand img").attr("src", "https://static.canva.com/static/images/onboarding_hand_grabbing.png")
    }

    function Sy() {
        $("#onboarding-active-hand img").attr("src", "https://static.canva.com/static/images/onboarding_hand.png")
    }

    function Ty() {
        var a = $("#onboarding-active-hand img");
        a.attr("src", "https://static.canva.com/static/images/onboarding_hand_clicking.png");
        window.setTimeout(function () {
            a.attr("src", "https://static.canva.com/static/images/onboarding_hand.png")
        }, 300)
    }

    f.NEXT = "next";
    function Uy(a, b) {
        return 500 + Math.floor(.8 * Math.sqrt(Math.pow(a.left - b.left, 2) + Math.pow(a.top - b.top, 2)))
    }

    function Qy(a, b) {
        var c = $("#onboarding-active-button"), d = _.extend({width: Py(a)}, b);
        c.text(a);
        c.animate(d, {duration: 500, queue: !1})
    }

    function Py(a) {
        return $("#onboarding-active-button-width").text(a).width()
    }

    function Vy(a, b, c) {
        var d = 2 / 3, e = c.Kp || {x: 0, y: 0}, g = c.Kb || function () {
            }, h = $("#onboarding-active-hand-morphed"), k = h.offset(), l = {
            top: 1 * $(b).offset().top + 1 * $(b).height() / 3 + e.y,
            left: 1 * $(b).offset().left + 1 * $(b).width() / 3 + e.x
        };
        c && c.Cv && "BR" === c.Cv && (l = {
            top: 1 * $(b).offset().top + 1 * $(b).height() + e.y,
            left: 1 * $(b).offset().left + 1 * $(b).width() + e.x
        });
        b = Uy(k, l);
        l = new $.path.mA({
            start: {x: 1 * h.offset().left, y: 1 * h.offset().top, angle: 10, length: .1},
            end: {x: l.left, y: l.top, angle: -30, length: .1}
        });
        c.Kb === a.NEXT && (g = function () {
            a.next(300)
        });
        c.Dr && window.setTimeout(function () {
            c.Dr()
        }, d * b);
        h.animate({path: l}, b, g)
    }

    f.kD = function () {
        Vy(this, "#search", {Kb: this.NEXT})
    };
    f.VA = function () {
        Ty();
        $("#search").focus();
        this.next(700)
    };
    f.TG = function () {
        function a() {
            var a = $("#resultsSearch"), a = $("\x3e .layer \x3e .inner \x3e .searchGroup", a).last(), c = $(".photoGallery", a), g = 0, h = !1;
            Cx(a);
            Cy.forEach(function (a) {
                var d = $('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg data-screen-url\x3d"' + a.files.Bp.url + '"data-screen-width\x3d"' + a.files.Bp.width + '"data-screen-height\x3d"' + a.files.Bp.height + '"src\x3d"' + a.files.Cp.url + '"width\x3d"' + a.files.Cp.width + '"height\x3d"' + a.files.Cp.height + '"/\x3e\x3c/a\x3e\x3c/li\x3e');
                d.appendTo(c);
                $("img", d).on("load", function () {
                    g++;
                    !h && 5 <= g && (b.next(), h = !0);
                    d.removeClass("loading")
                });
                d.data("result", a)
            });
            c.addClass("photoGallery");
            yn(c)
        }

        var b = this, c = $("#search");
        Iy(function (a) {
            c.val(a)
        }, this.Ib.format("twentyThreeSecondOnboardingSearchTerm"), function () {
            Cx($("#resultsSearch \x3e .layer \x3e .inner \x3e .searchGroup"));
            hx(b.F, !0, a)
        })
    };
    f.jD = function () {
        Qy(Uc(this.Ib));
        Vy(this, "#resultsSearch .searchGroup .photoGallery li:first-child", {Kb: this.NEXT})
    };
    f.Xb = function () {
        this.next(700)
    };
    f.HB = function () {
        var a = this, b = $("#onboarding-active-hand-morphed"), c = $("section .page.selected"), c = {
            top: c.offset().top - 40,
            left: c.offset().left - 42
        }, d = Uy(b.offset(), c), e = Math.floor(.8 * J(t).D()) * M, g = Math.floor(.8025 * e);
        Ry();
        a.jh = $("#resultsSearch .searchGroup .photoGallery li:first-child img").clone();
        a.jh.removeAttr("width");
        a.jh.removeAttr("height");
        a.jh.css({position: "absolute", top: "-34px", left: "-27px", "z-index": "9000", height: "95px"});
        b.append(a.jh);
        a.jh.animate({
            height: e + "px", width: g + "px", left: (-180 *
            M - 42) / 2 + "px", top: (-180 * M - 40) / 2 + "px"
        }, {duration: d, queue: !1});
        b.animate(c, {
            duration: d, queue: !1, complete: function () {
                a.next(300)
            }
        })
    };
    f.KB = function () {
        var a = this, b = $("#resultsSearch .photoGallery li:first-child img"), b = Sd(Jx(b)), c = Math.floor(.8 * J(t).D());
        b.setSize(Math.floor(.8025 * c), c);
        b.setPosition(-180, -180);
        b.appendTo(J(t));
        Ud(b);
        Sy();
        a.jh.fadeOut(200, function () {
            a.jh.remove()
        });
        a.next(300)
    };
    f.YG = function () {
        var a;
        a = J(t).oa().filter(function (a) {
            return a instanceof Yo
        })[0];
        Vd(a);
        this.next(200)
    };
    f.AG = function () {
        function a() {
            Sy();
            g.removeClass("on");
            b.next(300)
        }

        var b = this, c = $("#onboarding-active-hand-morphed"), d = J(t), e = 800 / 642, g = $(".handle.br"), h = d.Da()[0], k = d.H().offset(), d = .78 * d.C(), l = {
            left: Math.floor(k.left + d * M * .78),
            top: Math.floor(k.top + d * e * M * .78)
        }, m = h.C();
        h.D();
        Vy(this, ".selectionBox .handle.br", {
            Kp: {x: -20, y: -12}, Kb: function () {
                var b = c.offset();
                aj();
                Ry();
                g.addClass("on");
                c.delay(300).animate(l, {
                    duration: 1E3, queue: !1, complete: a, progress: function () {
                        var a = (c.offset().left - b.left) / M + m, d = a *
                            e;
                        $(".selectionBox").css({height: d * M + "px", width: a * M + "px"});
                        h.setSize(a, d)
                    }
                })
            }
        })
    };
    f.mD = function () {
        var a = this;
        Qy(this.Ib.format("twentyThreeSecondOnboardingAddText"));
        Vy(this, "#objectPanel \x3e menu li.text a", {
            Kb: function () {
                $("#objectPanel \x3e menu li.text a").css("color", "#00f7ff");
                a.next(300)
            }
        })
    };
    f.YA = function () {
        Ty();
        $("#objectPanel \x3e menu li.text a").click().css("color", "");
        this.next(200)
    };
    f.hD = function () {
        var a = this;
        Vy(this, "#objectPanel .textControls [data-style\x3dtitle]", {
            Kp: {x: 0, y: 16}, Kb: function () {
                a.next(300)
            }
        })
    };
    f.DA = function () {
        function a() {
            var a = h.mb();
            h.ef(a, "Carter One")
        }

        function b() {
            G.off("elementLoaded:text", b);
            c()
        }

        function c() {
            O();
            Ty();
            a();
            h.appendTo(e);
            Ud(h);
            Vd(h);
            window.setTimeout(function () {
                a()
            }, 100);
            window.setTimeout(function () {
            }, 200);
            d.next(200)
        }

        var d = this, e = J(t), g = {
            width: e.C() / 2,
            html: "\x26nbsp;",
            fontFamily: "Carter One",
            fontSize: 120,
            color: "#222",
            left: e.C() - 400,
            top: Math.floor(.5 * e.D() - 112.5)
        };
        G.on("elementLoaded:text", b);
        var h = new Nj(g)
    };
    f.bI = function () {
        var a = this, b = J(t).Da()[0];
        b.H().trigger("click");
        Iy(function (a) {
            Qo(b).html(a + '\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')
        }, this.Ib.format("twentyThreeSecondOnboardingYumText"), function () {
            Qo(b).css({border: "none"});
            $(".onboarding-fake-caret").remove();
            a.next()
        })
    };
    f.ox = function () {
        var a = Vc(this.Ib), b = {left: -Py(a) - 25, padding: "0 39px 0 17px"};
        $("#designToolsText a").css({color: "#fff"});
        Qy(a, b);
        Vy(this, ".editorActionExport", {
            Kb: this.NEXT, Dr: function () {
                $(".editorActionExport").addClass("fakeHoverState")
            }
        })
    };
    f.Zu = function () {
        Ty();
        $(".editorActionExport").trigger("click");
        this.next(700)
    };
    f.nx = function () {
        var a = this;
        Qy(Vc(this.Ib), {left: "22px", padding: "0 20px 0 31px"});
        Vy(this, ".exportDialog .downloadPng", {
            Kb: function () {
                a.next(600)
            }, Dr: function () {
                $(".editorActionExport").removeClass("fakeHoverState");
                $(".exportDialog .downloadPng").addClass("fakeHoverState")
            }
        })
    };
    f.Yu = function () {
        Ty();
        var a = this;
        $(".exportDialog .downloadPng").addClass("fakeActiveState");
        window.setTimeout(function () {
            $(".exportDialog").parent().prev(".modalContentMask").click();
            a.next(200)
        }, 300);
        $(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")
    };
    f.Gy = function () {
        var a = ay().clone();
        a.find(".fixed").remove();
        a.css({top: 0, left: 0});
        a.removeClass("selected");
        $("body \x3e .mask").addClass("on fullscreenMessageMask");
        $("#exportDialog").remove();
        this.Zb = $('\x3cdiv id\x3d"onboarding-outro-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3c/div\x3e');
        this.Zb.css({width: a.width() - 4 + "px", height: a.height() - 4 + "px"});
        this.Zb.append(a);
        this.Zb.appendTo("body");
        this.next()
    };
    f.Nv = function () {
        var a = this;
        $("#onboarding-active-hand-morphed").fadeOut(1600, function () {
            a.next()
        })
    };
    f.Fy = function () {
        var a = this, b = $(window).height() - a.Zb.offset().top, c = !1;
        $('\x3cdiv id\x3d"onboarding-go-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-go"\x3e' + this.Ib.format("twentyThreeSecondOnboardingNowText") + '\x3c/span\x3e\x3cspan class\x3d"onboarding-go-description"\x3e' + this.Ib.format("twentyThreeSecondOnboardingYourTurnText") + "\x3c/span\x3e\x3c/div\x3e").appendTo("body");
        var d = $('\x3cdiv id\x3d"onboarding-exit-hand" class\x3d"for-onboarding"\x3e\x3cdiv class\x3d"exit-hand open"\x3e\x3cdiv class\x3d"exit-hand-fingers"\x3e\x3c/div\x3e\x3cdiv class\x3d"exit-hand-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
        d.css({bottom: "-280px"});
        d.appendTo("body");
        d.animate({bottom: "0"}, 900, function () {
            var e = 1 * a.Zb.css("margin-top").replace(/px/, "") - b;
            d.animate({bottom: e + "px"}, {duration: 1800, Fe: "easeOutQuint", queue: !1});
            a.Zb.animate({"margin-top": b + "px"}, {
                duration: 1800,
                Fe: "easeOutQuint",
                queue: !1,
                complete: function () {
                    c || (a.next(1E3), c = !0)
                }
            })
        })
    };
    function Wy() {
        Z = null;
        $("#search").val("");
        $("#resultsSearch .searchGroup").removeData("search").css("height", "").find("ul").empty();
        $("#resultsSearch .searchGroup").find("h2").remove();
        $("#objectPanel .results").addClass("doNotTransition");
        window.setTimeout(function () {
            $("#search").blur();
            $("#objectPanel .results").removeClass("doNotTransition")
        }, 20)
    }

    f.gy = function () {
        function a() {
            b.next()
        }

        var b = this;
        O();
        !0 === this.Cy ? (Gj(t, this.page), a()) : Xy(this.page, a)
    };
    f.kt = function () {
        Wy();
        this.next()
    };
    f.Wu = function () {
        this.Sp.remove();
        $("body \x3e .mask").removeClass("on white fullscreenMessageMask").addClass("off");
        $(".for-onboarding").remove();
        $("body").removeClass("onboarding-in-progress").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");
        O();
        this.next()
    };
    f.Tx = function () {
        this.lA = Xa;
        this.$B = Ea.Gc;
        this.ZB = Ea.Tm;
        this.YB = Ea.lk;
        this.nA = Da.En;
        this.Sp = $("\x3cdiv id\x3d'block-everything'\x3e\x3c/div\x3e");
        this.Xi = v.Xi;
        Ea.Tm = function () {
            return new lf
        };
        Ea.Gc = function () {
            return new lf
        };
        Ea.lk = function () {
            return new yl($.noop)
        };
        Da.En = function () {
            return new lf
        };
        Xa = function () {
        };
        v.close();
        v.Xi = function () {
        };
        t.off("change");
        this.next()
    };
    f.BC = function () {
        this.zz = Ga.bb;
        Ga.bb = Gy;
        je(Aa, "M-YUM-LION", 0, Fy());
        this.next()
    };
    f.EG = function () {
        Ga.bb = this.zz;
        this.next()
    };
    function My(a) {
        Xa = a.lA;
        Ea.Gc = a.$B;
        Ea.Tm = a.ZB;
        Ea.lk = a.YB;
        Da.En = a.nA;
        v.Xi = a.Xi;
        Yy(window.csession, window.cdoc);
        t.on("change", Zy)
    }

    f.my = function () {
        My(this);
        this.next()
    };
    f.Qx = function () {
        Ny();
        this.next()
    };
    function Ny() {
        $("#resultsLayout").data("view").ly()
    }

    f.qx = function () {
        G.trigger("onboarding:complete")
    };
    function $y(a) {
        a.Bx = [a.ey, a.ax, a.Tx, a.Dy, a.nz, a.kt, a.Ev, a.hy, a.kx, a.Qw, a.eH, a.Xb, a.kD, a.BC, a.VA, a.TG, a.Xb, a.jD, a.HB, a.KB, a.YG, a.AG, a.Xb, a.mD, a.YA, a.Xb, a.hD, a.DA, a.Xb, a.bI, a.Xb, a.ox, a.Zu, a.Xb, a.nx, a.Yu, a.Xb, a.Gy, a.Nv, a.Xb, a.Fy, a.Xb, a.gy, a.Wu, a.EG, a.kt, a.my, a.kH, a.Qx, a.qx]
    }

    f.xA = function () {
        var a = $(".templateGallery li:not(.grid)").length, b = 0, b = 10 > a ? Math.floor(Math.random() * a) : Math.floor(10 * Math.random()), a = $($(".templateGallery li:not(.grid)").get(b)), b = "canva-onboarding-layout-item-" + Math.floor(1E5 * Math.random());
        a.addClass(b);
        this.Xn = "." + b;
        this.next()
    };
    f.hA = function () {
        var a = new tj({}, hl(0, 0), this.F), a = new wj(a, {}), b = $(this.Xn).data("layoutItem");
        b && zy(a, zh(b.content));
        this.next()
    };
    f.iD = function () {
        this.Cs = $(this.Xn + " img");
        this.xn = $(this.Xn + " img").clone();
        Vy(this, this.Xn, {Kb: this.NEXT})
    };
    f.GB = function () {
        var a = this, b = $("#onboarding-active-hand-morphed"), c = $("section .page.selected"), d = c.height() / 2 - Math.floor(Math.random() * c.height() / 6), e = c.height() / 2 + Math.floor(Math.random() * c.height() / 6), c = {
            top: c.offset().top + d,
            left: c.offset().left + e
        }, d = Uy(b.offset(), c), e = d / 4;
        Ry();
        window.setTimeout(function () {
            a.xn.css("opacity", "0.5");
            $(".page.selected").addClass("hotspotHover")
        }, e);
        a.Cs.parent().addClass("pickedUp");
        a.xn.css({
            position: "absolute",
            top: "-34px",
            left: "-27px",
            "z-index": "9000",
            width: $(".templateGallery li img").width() +
            "px",
            height: $(".templateGallery li img").height() + "px"
        });
        b.append(a.xn);
        b.animate(c, {
            duration: d, queue: !1, complete: function () {
                $(".page.selected").removeClass("hotspotHover");
                a.Cs.parent().removeClass("pickedUp");
                a.next(300)
            }
        })
    };
    f.JB = function () {
        function a() {
            G.off("pageLayoutLoaded", a);
            b.next()
        }

        var b = this;
        Sy();
        this.xn.remove();
        G.on("pageLayoutLoaded", a);
        $(".page.selected").addClass("invisible-text");
        this.Cs.click()
    };
    function az() {
        return "substantial-text-element"
    }

    f.WA = function () {
        if (!this.dm) {
            var a = $("." + az()), b = $("." + az());
            a.hasClass("element") || (b = a.parents(".element"));
            b = b.data("canvaElement");
            Ty();
            Vd(b);
            a.hasClass("element") || (bz(a, Hb(this.F)), lv(a, !0), b.Ca())
        }
        this.next()
    };
    f.uH = function () {
        var a, b;
        if (!this.dm) {
            var c = $("." + az());
            a = c.text().trim();
            var d;
            d = /\S\S/.test(a) ? a.split(/\s+/g) : a.split(/\s{2,}/g);
            if (2 > d.length)a = "", b = d[0] || ""; else {
                b = d[d.length - 1];
                3 > b.length && (b = a.slice(a.lastIndexOf(d[d.length - 2])));
                a = a.slice(0, a.lastIndexOf(b));
                d = c.children(".inner").html();
                for (var e = /<br/gi, g, h = []; null != (g = e.exec(d));)h.push(g.index);
                0 < h.length && (a = c.children(".inner").html(), b = "!")
            }
            this.Zw = b;
            this.Uv = a;
            c.children(".inner").html(this.Uv);
            $(".page.selected").removeClass("invisible-text")
        }
        this.next()
    };
    f.aI = function () {
        function a(a) {
            Iy(function (a) {
                $(".onboarding-fake-caret").remove();
                c.children(".inner").html(b.Uv + a + '\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')
            }, b.Zw, function () {
                $("#overlays .element.text.selected").css({border: "none"});
                $(".onboarding-fake-caret").remove();
                a()
            })
        }

        if (this.dm)this.next(); else {
            var b = this, c = $("." + az());
            c.trigger("click");
            a(function () {
                O();
                b.next()
            })
        }
    };
    f.ZF = function () {
        if (1 > $(".page.selected .element.text,.page.selected .element.svg .text").length)this.dm = !0; else {
            var a = $(".page.selected .element.text,.page.selected .element.svg .text").first(), b = 0;
            $(".page.selected .element.text,.page.selected .element.svg .text").each(function () {
                var c = $(this).data("canvaElement");
                c.wc() > b && 0 < c.H().text().split("").length && (b = c.wc(), a = $(this))
            });
            a.addClass(az())
        }
        this.next()
    };
    f.lD = function () {
        if (this.dm)this.next(); else {
            var a = parseFloat($("." + az()).css("font-size").replace("px", "")) * M, b = Math.floor(a / 2), a = Math.floor(a * this.Zw.split("").length / 2);
            Vy(this, "." + az(), {Cv: "BR", Kp: {x: -a, y: -b}, Kb: this.NEXT})
        }
    };
    f.nH = function () {
        $("#objectPanel li.layout a").click();
        this.next()
    };
    f.kH = function () {
        $("#objectPanel li.elements a").click();
        this.next()
    };
    function oj(a) {
        return a.uc && "true" === a.uc.getItem("only_layouts_video") ? !0 : /layouts/gi.test(window.location.href)
    }

    function Oy() {
        return 2 <= $(".templateGallery li:not(.grid)").length
    }

    function cz(a, b, c) {
        var d = c || 1;
        10 < d && (a.NC = !0, b(!1));
        oj(a) ? 1 <= $(".templateGallery li").length ? b(Oy()) : window.setTimeout(function () {
            cz(a, b, d + 1)
        }, 200 * d) : b(!1)
    }

    f.ey = function () {
        dz.ov();
        this.next()
    };
    f.next = function (a) {
        function b() {
            d.call(c)
        }

        var c = this, d = this.Bx[this.Ls];
        d && d.call ? (this.Ls++, a && !isNaN(parseInt(a, 10)) ? window.setTimeout(b, a) : b()) : c.next = function () {
        }
    };
    function Hy(a) {
        var b = oj(a);
        a.Ls = 0;
        !/layouts/gi.test(window.location.href) && a.uc && a.sa.Ta.get(Md) && .5 > Math.random() && (a.uc.setItem("only_layouts_video", "true"), b = !0);
        b ? cz(a, function (b) {
            b ? (Tf(this.analytics, "only_layouts_video", "onboarding", "onboarding"), a.Bx = [a.ey, a.ax, a.Tx, a.Dy, a.xA, a.hA, a.nz, a.Ev, a.hy, a.kx, a.Qw, a.dH, a.Xb, a.iD, a.bH, a.Xb, a.GB, a.JB, a.Xb, a.ZF, a.uH, a.lD, a.Xb, a.cH, a.WA, a.Xb, a.aI, a.Xb, a.ox, a.Zu, a.Xb, a.nx, a.Yu, a.Xb, a.Gy, a.Nv, a.Xb, a.Fy, a.Xb, a.gy, a.Wu, a.kt, a.my, a.nH, a.Qx, a.qx]) : $y(a);
            a.next()
        }) :
            (a.sa.Ta.get(Md) && Tf(a.analytics, "lion_video", "onboarding", "onboarding"), $y(a), a.next())
    };
    function ij(a, b, c) {
        this.document = a;
        this.Ga = b;
        this.Pv = "//www.facebook.com/plugins/like.php?href\x3dhttps%3A%2F%2Fwww.facebook.com%2Fcanva\x26amp;width\x3d450\x26amp;height\x3d65\x26amp;colorscheme\x3dlight\x26amp;layout\x3dbox_count\x26amp;action\x3dlike\x26amp;show_faces\x3dfalse\x26amp;send\x3dfalse\x26amp;appId\x3d" + encodeURIComponent(window.facebookConfig.appId);
        this.Jc = c
    }

    ij.prototype.listenTo = Backbone.Events.listenTo;
    function ez() {
        WebFont.load({
            google: {families: ["Yellowtail"]}, active: function () {
            }, inactive: function () {
            }
        })
    }

    function fz(a) {
        var b = a.Ga.ge();
        switch (b) {
            case "FREE_NEW_USER":
                return b = gz(t.La()), a = {
                    fbUrl: a.Pv,
                    twitterText: a.Jc.format("magicButtonFreeNewTwitterText", b),
                    congratulations: a.Jc.format("magicButtonFreeNewCongratulations"),
                    youHaveCompleted: a.Jc.format("magicButtonFreeNewYouHaveCompleted", b),
                    startYourOwnDesign: a.Jc.format("magicButtonFreeNewStartYourOwnDesign")
                }, b = _.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-dialog-done"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'), $(b(a));
            case "DESIGN_TUTORIAL":
                return b = gz(t.La()), a = {
                    fbUrl: a.Pv,
                    twitterText: a.Jc.format("magicButtonTutorialTwitterText", b),
                    congratulations: a.Jc.format("magicButtonTutorialCongratulations"),
                    youHaveCompleted: a.Jc.format("magicButtonTutorialYouHaveCompleted", b),
                    startYourOwnDesign: a.Jc.format("magicButtonTutorialStartYourOwnDesign")
                }, b = _.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-start-design"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
                    $(b(a));
            case "C4W_INVITED_NEW_USER":
                return a = {
                    congratulations: a.Jc.format("magicButtonInvitedUserCongratulations"),
                    gettingTheHang: a.Jc.format("magicButtonInvitedUserGettingTheHang"),
                    visitTeamSpace: a.Jc.format("magicButtonInvitedUserVisitTeamSpace")
                }, b = _.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- gettingTheHang %\x3e\x3c/div\x3e\x3ca class\x3d"button" id\x3d"magic-button-dialog-done" href\x3d"/brand"\x3e\x3c%- visitTeamSpace %\x3e\x3c/a\x3e\x3c/div\x3e'),
                    $(b(a));
            default:
                throw Error("onboarding mode " + b + " not handled");
        }
    }

    function hz(a) {
        function b() {
            P.all([Bn(1E3), Fi(c)]).finally(function () {
                window.location = "/"
            })
        }

        var c = new Ei;
        $("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");
        $("body \x3e .mask").removeClass("off").addClass("on fullscreenMessageMask");
        fz(a).on("animationend", function () {
            $("body").on("click", b);
            $("body \x3e .mask").on("click", b)
        }).appendTo("body")
    }

    function iz(a) {
        return 0 < a.document.oa().filter(function (a) {
                return "magic-button" == a.H().attr("id")
            }).length
    }

    ij.prototype.Mu = function () {
        function a(a) {
            a.stopPropagation();
            a.preventDefault();
            hz(b);
            return !1
        }

        var b = this, c = b.document;
        b.Mu = function () {
        };
        if (!iz(b)) {
            b.page = new wj(c, c.Te());
            b.page.ex();
            Ej(c, this.page, c.zf(), !1);
            $("#canvaDocument").addClass("deletePageDisabled");
            this.Ga.ge() && $("#canvaDocument").addClass("pageControlsDisabled");
            b.page.H().css("background-color", "#20c4cb");
            var c = {html: jz(this), width: 460, justification: "center"}, c = new Nj(c), d = c.H();
            d.attr("id", "magic-button");
            d.on("mousedown", a);
            d.on("touchstart",
                a);
            b.page.addElement(c, !1, !1);
            var d = (b.page.C() - c.C()) / 2, e = (b.page.D() - c.D()) / 2;
            c.setPosition(d, e)
        }
    };
    function jz(a) {
        a = {tutorialComplete: a.Jc.format("magicButtonTutorialCompleteButton")};
        var b = _.template("\x3cstrong id\x3d'magic-button-text'\x3e\x3c%- tutorialComplete %\x3e \x26nbsp;\x3cspan id\x3d'magic-button-text-triangle'\x3e\x26#9656;\x3c/span\x3e\x3c/strong\x3e");
        return $(b(a))
    }

    ij.prototype.go = function () {
        ez();
        this.Mu()
    };
    function wj(a, b) {
        this.$a = a;
        this.Eq = null;
        this.elements = [];
        this.height = 0;
        this.ha = b.layout && new yh(b.layout);
        this.left = 0;
        this.Dh = this.Nf = this.Rs = null;
        this.selected = !1;
        this.top = 0;
        this.Td = !1;
        this.width = 0;
        this.ld(b, !0);
        aq(this)
    }

    _.extend(wj.prototype, Backbone.Events);
    f = wj.prototype;
    f.trigger = Backbone.Events.trigger;
    f.ex = function () {
        this.Td = !0
    };
    function kz(a, b) {
        a.Rs = b;
        a.trigger("change:preview")
    }

    function lz(a) {
        a.Rs = null;
        a.trigger("change:preview")
    }

    function zy(a, b, c, d) {
        function e(a) {
            a.forEach(function (a) {
                var b = a.G(), c = a.getVersion();
                je(Aa, b, c, a.bw())
            })
        }

        function g() {
            -1 !== h.ea() && h.ha === b && (lz(h), h.ld(b.Te(), !1), aq(h))
        }

        var h = a, k = xw(Ia, Ch(b));
        a.clear();
        a.ha = b;
        a.ha.la(a.C());
        a.ha.ja(a.D());
        0 === k.length ? (a.ld(b.Te(), !1), aq(a)) : (c && kz(a, c), d && d.Nb() === Oo ? bk(d.G()).then(e).catch($.noop).finally(g) : Vv(k, g))
    }

    f.ld = function (a, b) {
        var c;
        b || this.trigger("willchange");
        void 0 !== a.dpi && (this.Eq = a.dpi);
        void 0 !== a.width && this.la(a.width);
        void 0 !== a.height && this.ja(a.height);
        c = (a.elements || []).map(Sd).filter(Boolean);
        mz(this, c.length, !!b);
        c.forEach(function (a) {
            a.appendTo(this)
        }, this);
        a.resizeContentBox ? (this.Nf = kh(a.resizeContentBox), this.Dh = nz(this, this.Nf)) : this.Dh = this.Nf = null;
        window.setTimeout(function () {
            oz(c, a)
        }.bind(this), 0)
    };
    function pz(a) {
        if (a.Nf && a.Dh) {
            var b = nz(a, a.Nf);
            if (mh(b, a.Dh))return a.Nf;
            a.Nf = null;
            a.Dh = null
        }
        return null
    }

    function nz(a, b) {
        var c = a.qa(), d = b.clone();
        a.oa().forEach(function (a) {
            if (!a.Td && !a.qb()) {
                var b = a.qa();
                if (!(a instanceof ap && uh(b, c))) {
                    a = Math.min(d.Y(), b.Y());
                    var h = Math.min(d.O(), b.O()), k = Math.max(d.Wa(), b.Wa()) - a, b = Math.max(d.va(), b.va()) - h;
                    d.left = a;
                    d.top = h;
                    d.width = k;
                    d.height = b
                }
            }
        });
        return d
    }

    f.resize = function (a) {
        var b = qz({mf: pz(this), an: a, page: this});
        this.ld(a.Te(), !0);
        aq(this);
        this.trigger("resize");
        this.Dh = (this.Nf = b) && nz(this, b)
    };
    f.eu = function (a) {
        this.clear();
        this.ld(a, !0);
        aq(this);
        this.trigger("resize")
    };
    function oz(a, b) {
        function c(a) {
            G.trigger("elementLoaded", a);
            G.trigger("elementLoaded:group", a)
        }

        a.forEach(function (d, e) {
            var g, h, k, l;
            if (d.Ni()) {
                var m = b.elements[e].childRange;
                if (m && 1 < m.length && m[0] <= m[1]) {
                    for (var n = m[0]; n <= m[1]; n++)if (b.elements[n].groupIndex !== e) {
                        c(d);
                        d.remove();
                        return
                    }
                    for (n = m[0]; n <= m[1]; n++) {
                        l = lp(d);
                        var q = lp(a[n]);
                        g = Math.max(0, q.Bc - l.Bc);
                        var r = Gh(Fh([q.left + q.width / 2 - (l.left + l.width / 2), q.top + q.height / 2 - (l.top + l.height / 2)]).rotate(l.rotation));
                        g = g || 0;
                        h = Po(q.rotation, l.rotation) || 0;
                        k = r[1] - q.height / 2 + l.height / 2;
                        l = r[0] - q.width / 2 + l.width / 2;
                        d.addElement(a[n]);
                        a[n].bm(g);
                        a[n].setPosition(l, k);
                        Wi(a[n], h);
                        d.H().find(".elements").append(a[n].H())
                    }
                    c(d)
                } else c(d), d.remove()
            }
        })
    }

    function mz(a, b, c) {
        function d() {
            h++;
            h >= b && e()
        }

        function e() {
            window.clearTimeout(k);
            c || g.$a && g.$a.trigger("change");
            G.off("elementLoaded", d);
            G.trigger("pageLayoutLoaded", g)
        }

        var g = a, h = 0;
        c || a.trigger("change");
        if (0 < b)G.on("elementLoaded", d); else e();
        var k = window.setTimeout(e, 5E3)
    }

    f.H = function () {
        return this.ma
    };
    f.Ne = function () {
        var a = new Oi;
        this.elements.forEach(function (b) {
            b.Ne().Ke().forEach(function (b) {
                Qi(a, b)
            })
        });
        return a
    };
    f.clone = function () {
        return new wj(null, this.serialize())
    };
    function rz(a) {
        var b = [];
        a.elements.forEach(function (a) {
            b.push(a.elementIndex)
        });
        return [Math.min.apply(null, b), Math.max.apply(null, b)]
    }

    f.serialize = function () {
        return sz(this)
    };
    function sz(a) {
        var b = a.elements.filter(function (a) {
            return !a.Td
        }).map(function (a) {
            return a.serialize()
        });
        b.forEach(function (a, b) {
            a.elementIndex = b
        });
        b.filter(function (a) {
            return -1 < Object.keys(a).indexOf("elements")
        }).forEach(function (a) {
            a.childRange = rz(a);
            delete a.elements
        });
        b.forEach(function (a) {
            if (!(0 > Object.keys(a).indexOf("childRange"))) {
                var c = {
                    Bc: a.transparency,
                    rotation: a.rotation,
                    top: a.top,
                    left: a.left,
                    width: a.width,
                    height: a.height
                }, d = a.childRange, k = d[0], l = d[0];
                2 === d.length && (l = d[1]);
                for (var m =
                    k; m <= l; m++)b.forEach(function (b) {
                    if (b.elementIndex === m) {
                        var d = zs(c, {
                            Bc: b.transparency,
                            rotation: b.rotation,
                            top: b.top,
                            left: b.left,
                            width: b.width,
                            height: b.height
                        });
                        b.transparency = d.Bc;
                        b.rotation = d.rotation;
                        b.top = d.top;
                        b.left = d.left;
                        b.width = d.width;
                        b.height = d.height;
                        b.groupIndex = a.elementIndex
                    }
                })
            }
        });
        var c = {elements: b, width: a.width, height: a.height};
        a.Eq && (c.dpi = a.Eq);
        var d = a.ha && a.ha.serialize();
        d && (c.layout = d);
        (a = pz(a)) && (c.resizeContentBox = a.serialize());
        return c
    }

    f.clear = function () {
        var a;
        for (lz(this); this.oa().length;)(a = this.elements[0] || null) && this.tj(a);
        this.elements = [];
        this.Dh = this.Nf = null
    };
    f.oa = function () {
        return this.elements
    };
    f.Da = function () {
        return this.oa().filter(function (a) {
            return a.selected
        })
    };
    function Cj(a) {
        return a.oa().filter(function (a) {
            return a.qb()
        })
    }

    function tz(a, b) {
        function c(a) {
            return !a.qb()
        }

        function d(a) {
            return !(a instanceof bp)
        }

        var e = b instanceof Array ? b : [b], e = e.filter(c).filter(d);
        return 0 === e.length ? e : a.oa().filter(function (a) {
            return !pp(a)
        }).filter(c).filter(d).filter(function (a) {
            return -1 === e.indexOf(a)
        }).filter(function (a) {
            return e.some(function (b) {
                return pe(b.qa(), a.qa())
            })
        })
    }

    f.tj = function (a, b, c) {
        var d = this.elements.indexOf(a);
        -1 < d && (this.elements.splice(d, 1), a.remove(), c && 0 === this.elements.length && (this.ha = void 0), this.trigger("element:remove", this, a, d, !!b), a.qb() && this.trigger("change:background", this))
    };
    f.addElement = function (a, b, c) {
        var d = this;
        this.elements.push(a);
        a.page = this;
        Ro(a) && a.oa().forEach(function (b) {
            d.elements.push(b);
            b.Ub = a.Ub;
            b.page = d;
            d.trigger("element:add", d, b, !1, !1);
            a.H().find(".elements").append(b.H())
        });
        this.trigger("element:add", this, a, b, c);
        a.qb() && this.trigger("change:background", this, a)
    };
    function rp(a, b, c) {
        0 > c && (c = a.elements.length);
        var d = a.elements.indexOf(b);
        -1 == d ? (c = Math.min(c, a.elements.length), a.elements.splice(c, 0, b), b.page = a, a.trigger("element:add", a, b, !1, !1), b.qb() && a.trigger("change:background", a, b)) : (c = Math.min(c, a.elements.length - 1), a.elements.splice(c, 0, a.elements.splice(d, 1)[0]), a.trigger("element:move", a, b))
    }

    f.hb = function () {
        return this.left
    };
    f.wt = function (a) {
        this.left = a
    };
    f.nb = function () {
        return this.top
    };
    f.df = function (a) {
        this.top = a
    };
    f.Y = function () {
        return 0
    };
    f.Qa = wj.prototype.Y;
    f.O = function () {
        return 0
    };
    f.Aa = wj.prototype.O;
    f.C = function () {
        return this.width
    };
    f.ec = wj.prototype.C;
    f.D = function () {
        return this.height
    };
    f.bc = wj.prototype.D;
    f.Wa = function () {
        return this.Y() + this.C()
    };
    f.Bb = wj.prototype.Wa;
    f.va = function () {
        return this.O() + this.D()
    };
    f.lb = wj.prototype.va;
    f.qa = function () {
        return new L(this.Y(), this.O(), this.C(), this.D())
    };
    f.zi = function () {
        return this.Y() + this.C() / 2
    };
    f.Ua = function () {
        return 0
    };
    f.setSize = function () {
    };
    f.la = function (a) {
        this.ha && this.ha.la(a);
        this.width = a
    };
    f.ja = function (a) {
        this.ha && this.ha.ja(a);
        this.height = a
    };
    f.Na = function () {
    };
    f.Oa = function () {
    };
    f.setPosition = function () {
    };
    function Fj(a, b) {
        a.$a = b;
        aq(a)
    }

    f.Tn = function () {
        var a = Cj(this);
        if (0 < a.length) {
            var a = a[a.length - 1], b;
            if (b = a.Hb())a:{
                if (a.Hb() && (b = Q(a.backgroundColor || "#ffffff"))) {
                    b = 150 > Ph(b);
                    break a
                }
                b = a.jv
            }
            return b
        }
        return !1
    };
    function Bp(a) {
        a = Cj(a);
        return 0 < a.length ? a[a.length - 1].Hb() : !0
    }

    f.Kg = function (a) {
        var b;
        this.$a && this.selected !== a && !this.Td && (a || (this.selected = !1), b = J(this.$a), a = a || this === b, b !== this && (b.selected = !a, b.trigger("change:selected", b, !a)), this.selected = a, this.trigger("change:selected", this, a))
    };
    f.remove = function () {
        this.elements.forEach(function (a) {
            uz(a)
        });
        this.$a && Gj(this.$a, this)
    };
    function Xy(a, b) {
        a.H().find(".element").fadeOut();
        window.setTimeout(function () {
            for (; 0 < a.elements.length;)uz(a.elements[0]), a.elements[0].H().remove(), a.tj(a.elements[0], !1, !1);
            a.elements = [];
            b && b()
        }, 400)
    }

    f.ea = function () {
        return this.$a ? T(this.$a, this) : -1
    };
    f.di = function () {
        return zh(this.serialize())
    };
    function aq(a) {
        (function () {
            a.oa().slice(0).forEach(function (b) {
                b instanceof bp && a.tj(b)
            })
        })();
        (function () {
            var b = a.Ha();
            b && il(b).forEach(function (b) {
                (b = Sd(b)) && rp(a, b, 0)
            })
        })()
    }

    f.isEmpty = function () {
        return 1 > this.oa().filter(function (a) {
                return !a.Td
            }).length
    };
    f.Ha = function () {
        var a = this.$a;
        return a ? a.Ha() : null
    };
    function gi(a, b) {
        this.zv = this.yv = this.xv = this.wv = this.Qj = this.Hi = this.ot = this.pt = this.scrollHeight = this.scrollWidth = this.scrollTop = this.scrollLeft = 0;
        this.rp = this.Ln = null;
        this.Zy = !!b;
        this.iu = qe(this);
        this.ju = qe(this);
        this.cp = new vz({
            attributes: !0,
            attributeFilter: ["class", "style"],
            childList: !0,
            characterData: !1,
            subtree: !0
        });
        this.cb = a;
        this.ce = $("\x3cdiv\x3e").addClass("scrollThumb");
        this.pe = $("\x3cdiv\x3e").addClass("scrollThumb");
        this.Ag = this.Ag.bind(this);
        this.ro = this.ro.bind(this);
        this.no = this.no.bind(this);
        this.po = this.po.bind(this);
        this.lo = this.lo.bind(this);
        this.mo = this.mo.bind(this);
        this.nl = this.nl.bind(this);
        this.ol = this.ol.bind(this);
        this.jo = this.jo.bind(this);
        this.ko = this.ko.bind(this)
    }

    f = gi.prototype;
    f.trigger = Backbone.Events.trigger;
    f.on = Backbone.Events.on;
    f.off = Backbone.Events.off;
    f.render = function () {
        this.cb.addClass("scrollElement");
        $("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.ce).insertAfter(this.cb);
        $("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.pe).insertAfter(this.cb);
        wz(this);
        this.cb.on("scroll", this.ro);
        this.cb.on("transitionend", this.Ag);
        this.cb.on("mouseenter", this.no);
        this.cb.on("mouseleave", this.po);
        this.ce.on("mousedown", this.lo);
        this.pe.on("mousedown", this.mo);
        this.cp.on("attrModified", this.Ag);
        this.cp.on("subtreeModified",
            this.Ag);
        this.cp.observe(this.cb);
        $("\x3cspan\x3e").appendTo(this.cb).remove();
        $(window).on("resize", this.Ag);
        return this
    };
    f.remove = function () {
        xz(this.cp);
        this.cb.off("scroll", this.ro);
        this.cb.off("transitionend", this.Ag);
        this.cb.off("mouseenter", this.no);
        this.cb.off("mouseleave", this.po);
        this.ce.off("mousedown", this.lo);
        this.pe.off("mousedown", this.mo);
        $(window).off("resize", this.Ag);
        return this
    };
    function wz(a) {
        qe(a).read(function (a) {
            var c = this.cb.prop("clientWidth"), d = this.cb.prop("offsetWidth"), e = this.cb.prop("clientHeight"), g = this.cb.prop("offsetHeight");
            a.write(function () {
                d > c && this.cb.css("margin-right", c - d);
                g > e && this.cb.css("margin-bottom", e - g);
                this.Ba()
            })
        })
    }

    f.Ba = function () {
        this.iu.read(this.cz)
    };
    f.cz = function () {
        var a = this.scrollWidth, b = this.scrollHeight, c = this.Hi, d = this.Qj;
        this.scrollWidth = this.cb.prop("scrollWidth");
        this.scrollHeight = this.cb.prop("scrollHeight");
        this.pt = this.cb.prop("clientWidth");
        this.ot = this.cb.prop("clientHeight");
        this.Hi = this.ce.parent().outerWidth();
        this.Qj = this.pe.parent().outerHeight();
        if (a !== this.scrollWidth || b !== this.scrollHeight || c !== this.Hi || d !== this.Qj)this.scrollTop = this.scrollLeft = -1, this.iu.write(this.wG), this.ju.read(this.gz)
    };
    f.wG = function () {
        var a = Math.round(this.Qj * this.ot / this.scrollHeight);
        this.ce.css("width", Math.round(this.Hi * this.pt / this.scrollWidth) + "px");
        this.pe.css("height", a + "px");
        var a = this.pt < this.scrollWidth, b = this.ot < this.scrollHeight, c = a !== this.Ln, d = b !== this.rp;
        c && (this.Ln = a, this.ce.toggleClass("disabled", !a));
        d && (this.rp = b, this.pe.toggleClass("disabled", !b));
        this.Zy && (c || d) && this.trigger("change:scrollability", this.Ln, this.rp)
    };
    f.gz = function () {
        var a = this.scrollLeft, b = this.scrollTop;
        this.scrollLeft = this.cb.scrollLeft();
        this.scrollTop = this.cb.scrollTop();
        if (a !== this.scrollLeft || b !== this.scrollTop)this.ju.write(this.xG), this.Zy && (this.Ln || this.rp) && this.trigger("scroll", this.scrollLeft, this.scrollTop)
    };
    f.xG = function () {
        var a = Math.round(this.Qj * this.scrollTop / this.scrollHeight);
        this.ce.css("transform", "translateX(" + Math.round(this.Hi * this.scrollLeft / this.scrollWidth) + "px)");
        this.pe.css("transform", "translateY(" + a + "px)")
    };
    f.Ag = function () {
        this.iu.read(this.cz)
    };
    f.ro = function () {
        this.ju.read(this.gz)
    };
    f.no = function () {
        this.ce.addClass("ready");
        this.pe.addClass("ready")
    };
    f.po = function () {
        this.ce.removeClass("ready");
        this.pe.removeClass("ready")
    };
    f.lo = function (a) {
        0 === a.button && (this.wv = a.screenX, this.yv = this.scrollLeft, this.ce.addClass("active"), $(document).on("mousemove", this.nl).on("mouseup", this.jo), a.preventDefault(), a.stopPropagation())
    };
    f.nl = function (a) {
        this.cb.scrollLeft(this.yv + Math.round((a.screenX - this.wv) * this.scrollWidth / this.Hi))
    };
    f.jo = function (a) {
        this.nl(a);
        this.ce.removeClass("active");
        $(document).off("mousemove", this.nl).off("mouseup", this.jo)
    };
    f.mo = function (a) {
        0 === a.button && (this.xv = a.screenY, this.zv = this.scrollTop, this.pe.addClass("active"), $(document).on("mousemove", this.ol).on("mouseup", this.ko), a.preventDefault(), a.stopPropagation())
    };
    f.ol = function (a) {
        this.cb.scrollTop(this.zv + Math.round((a.screenY - this.xv) * this.scrollHeight / this.Qj))
    };
    f.ko = function (a) {
        this.ol(a);
        this.pe.removeClass("active");
        $(document).off("mousemove", this.ol).off("mouseup", this.ko)
    };
    var xx = null, Z = null;

    function $w(a) {
        Ya = !1;
        Wa = new zv(Ja, [new yv(Od), new wv(Pd)]);
        $("#search").on("keypress", function (b) {
            return yz.call(this, b, a)
        });
        $("#search").on("keydown", zz);
        $("#search").on("keyup", zz)
    }

    function yz(a, b) {
        function c() {
            $("#resultsElements li.folderExpanded \x3e a:not([data-query\x3dgrids])").mousedown();
            setTimeout(function () {
                $("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3dgrids]").mousedown()
            }, 500)
        }

        a.stopPropagation();
        if (13 == a.which) {
            var d = $("#search");
            if (!d.val().match(/^\s*$/)) {
                var e = $("#objectPanel").find("menu");
                switch (d.val().toLowerCase()) {
                    case "grid":
                    case "grids":
                        $("#objectPanel menu .elements a").click();
                        c();
                        $("#resultsElements \x3e .layer").animate({scrollTop: $("#resultsElements a[data-query\x3dgrids]").parent().position().top},
                            600);
                        break;
                    case "layout":
                    case "layouts":
                        e.find(".layout a").click();
                        d.select();
                        break;
                    case "text":
                    case "font":
                    case "fonts":
                        e.find(".text a").click();
                        d.select();
                        break;
                    case "bkground":
                    case "background":
                    case "backgrounds":
                        e.find(".backgrounds a").click();
                        d.select();
                        break;
                    case "upload":
                    case "uploads":
                        e.find(".uploads a").click();
                        d.select();
                        break;
                    default:
                        hx(b)
                }
            }
            return !1
        }
    }

    function hx(a, b, c) {
        function d() {
            l.animate({scrollTop: p - 50}, 600, function () {
                r.remove();
                if (xx && xx.isPending()) {
                    var a = wx(), a = $(".inner \x3e .searchGroup", a.children(".layer")).last();
                    a.data("search") === Z && yx(a)
                }
                c && c()
            })
        }

        function e() {
            var a = $(".infoPanel", n);
            0 < a.length && (n.addClass("doNotTransition"), a.addClass("doNotTransition"), $(".close", a).click(), a.data("infoPanelPointer").remove(), a.remove(), n.removeClass("doNotTransition"));
            var b = Nx(k), c = -1;
            $("\x3e .gallery \x3e li", n).each(function () {
                var a = $(this);
                q + a.data("originalTop") < b && (a.addClass("oldSearch"), setTimeout(function () {
                    a.addClass("doNotTransition newSearch");
                    setTimeout(function () {
                        a.removeClass("doNotTransition newSearch oldSearch")
                    }, 20)
                }, 20 * ++c + 300))
            });
            setTimeout(function () {
                Ya = !1
            }, 20 * c + 300)
        }

        var g = !xx || !xx.isRejected(), h = $("#search"), k = $("#resultsSearch"), l = k.children(".layer").first(), m = $("\x3e .inner \x3e .searchGroup", l);
        b = !!Ka.Ta.get(qd) && !1 !== b;
        l.data("userPreparedSearch", !0);
        if (Z && h.val().trim() == Z.query && g) {
            var n = m.last();
            Cx(n);
            if (!Ya) {
                Ya = !0;
                var q = Ox(n);
                a = q - 50;
                1 < Math.abs(a - l.scrollTop()) ? l.animate({scrollTop: a}, 600, e) : e()
            }
        } else {
            Z = new zx(h.val(), Bv, null, null, b, null, Ax(k, k.height()), Bx.bind(null, a));
            Xx ? h.blur() : h.select();
            n = $('\x3cdiv class\x3d"searchGroup hasContent"\x3e\x3ch2\x3e\x3c/h2\x3e\x3cdiv class\x3d"searchSuggestion"\x3e\x3c/div\x3e\x3cul class\x3d"gallery photoGallery infoPanelGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');
            "" != h.val() ? $("h2", n).text("" + h.val() + "?") : $("h2", n).text("");
            n.height(k.height());
            var r = $();
            0 < $(".searchLoaderHolder.on",
                k).length && (r = $('\x3cdiv class\x3d"placeholder"\x3e\x3cdiv/\x3e'), r.height($(".searchLoaderHolder", k).height()), l.addClass("doNotTransition"), r.insertAfter(m.last()), l.removeClass("doNotTransition"));
            Cx(m.last());
            var p = gy(l), u = Nx(k), g = p > u + 50, h = $();
            b = $();
            if (g) {
                var w = u + 50, z = $();
                m.each(function () {
                    var a = $(this);
                    0 == z.length && Ox(a) + a.outerHeight() > w && (z = a)
                });
                0 == z.length && (z = m.last());
                u = $(".gallery", z);
                b = w - Ox(z);
                var x = 0;
                0 < u.length && (x = b - (u.offset().top - z.offset().top));
                x = Vx(u, x);
                h = h.add(x);
                b = z.nextAll(".searchGroup");
                0 >= $("li", u).length - x.length && (h = $(), b = b.add(z));
                b = b.filter(function () {
                    return !$(this).hasClass("inlineFolderGroup")
                });
                if (0 == h.length && 0 == b.length)g = !1; else {
                    k.addClass("modifying");
                    x = b;
                    0 < h.find("a.infoOpen").length && (x = x.add(z));
                    var C = $(".infoPanel", x);
                    0 < C.length && (x.addClass("doNotTransition"), C.addClass("doNotTransition"), $(".close", C).click(), C.data("infoPanelPointer").remove(), C.remove(), x.removeClass("doNotTransition"));
                    u = u.data("columnData") || null;
                    hy(u, h);
                    h.detach();
                    zn(z, !0);
                    z.hasClass("inlineFolderGroup") &&
                    Az(l.data("view"), !1);
                    k.removeClass("modifying")
                }
            }
            m = $("\x3e .inner \x3e .searchGroup", l);
            h = b.map(function () {
                return $(this).outerHeight(!0)
            }).toArray().reduce(function (a, b) {
                return a + b
            }, 0);
            h = gy(l) + n.height() - h;
            g && h < Nx(k) && n.height(n.height() + (Nx(k) - h));
            n.insertAfter(m.last());
            b.detach();
            var A = b.toArray(), m = m.filter(function () {
                return -1 == A.indexOf(this)
            });
            g || 0 != $(".gallery li", m.last()).length || (m.last().remove(), m = m.filter(function (a) {
                return a != m.length - 1
            }));
            n.data("search", Z);
            var p = 0, B = parseInt(n.css("padding-top"),
                    10) + parseInt(n.css("padding-bottom"), 10);
            m.last().addClass("doNotTransition");
            m.each(function () {
                var a = $(this);
                if (void 0 !== a.data("contentHeight")) {
                    var b = a.data("contentHeight"), b = b + Tx(a);
                    a.height(b);
                    p += b + B
                }
            });
            m.last().removeClass("doNotTransition");
            g = $("#objectPanel").find("menu .search");
            g.hasClass("on") || g.find("a").click();
            Bx(a);
            d()
        }
    }

    function Bx(a) {
        xx && xx.cancel();
        xx = null;
        xx = Cv(Wa, v ? v.Pa() : null, Z.query, Z.js, Z.Hr, Z.Uq, Z.Ry, Z.sort, Z.yi(), Z.cd(), !0).then(function (b) {
            Bz(a, b)
        }).catch(P.CancellationError, function () {
        })
    }

    function Bz(a, b) {
        var c = wx(), d = $("\x3e .layer \x3e .inner \x3e .searchGroup", c).last(), e = b.Kn(), g = $(".photoGallery, .backgroundGallery", d);
        Z.jl = e.length;
        Cx(c.children(".layer"));
        if (0 == e.length && ey())Z.qy(); else {
            var h = b.suggestion, k = Z, l = Z.query;
            if (Ka.Ta.get(qd) && h) {
                var m = $("h2", d), n = $(".searchSuggestion", d);
                n.empty().addClass("hasSuggestion");
                window.setTimeout(function () {
                    n.addClass("showSuggestion")
                }, 300);
                h.overridden ? (Z = new zx(Nv(h), k.js, k.Hr, k.Uq, !1, k.sort, k.cd(), function () {
                    Bx(a)
                }), Z.jl = e.length,
                    d.data("search", Z), m.text("" + Nv(h) + "?"), 0 < h.originalHits ? n.append("Search instead for ").append($("\x3ca/\x3e").data("query", h.originalQuery).append(h.originalQuery)) : n.addClass("originalSearch").append("You typed ").append($("\x3cstrong/\x3e").append(h.originalQuery))) : n.append("Did you mean: ").append($("\x3ca/\x3e").data("query", Nv(h)).append(Cz(h)))
            } else 0 === k.yi() && $(".searchSuggestion", d).empty().removeClass("showSuggestion").removeClass("hasSuggestion");
            0 < e.length ? (e = e.slice(0, k.cd()), e.forEach(function (a) {
                je(Aa,
                    a.G(), a.getVersion(), a.vb())
            }), e.forEach(function (b) {
                (new Dz({model: b, query: l, Z: Bb(a)})).$el.appendTo(g)
            }), yn(g), setTimeout(function () {
                dy(c)
            }, 20 * e.length + 300)) : 0 == k.yi() && (g.remove(), $(".noResults", d).remove(), e = $('\x3cp class\x3d"noResults"\x3e').text(Bb(a).format("searchNoResults")), d.append(e))
        }
    }

    function yx(a) {
        if (0 >= $(".searchLoader", a).length) {
            var b = $('\x3cdiv class\x3d"searchLoader tileListBusyIndicator"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e');
            a.append(b);
            b.addClass("tileListBusyIndicatorOn")
        }
    }

    function Cz(a) {
        var b = $("\x3cspan/\x3e");
        if (!a.tokenReplacements || 0 == a.tokenReplacements.length)return b.text(Nv(a)), b;
        var c = a.originalQuery;
        a = a.tokenReplacements;
        for (var d = 0, e = 0, g = 0; d < c.length && g < a.length;)d == a[g].start ? (e < d && b.append(c.substring(e, d)), b.append($("\x3cspan\x3e").addClass("replacedToken").text(a[g].replacement)), d = e = a[g].end, g++) : d++;
        e < c.length && b.append(c.substring(e, c.length));
        return b
    }

    function Cx(a) {
        $(".searchLoader", a).each(function () {
            $(this).remove();
            $(".searchLoaderHolder", a).removeClass("on")
        })
    };
    function Ez() {
        this.Qf = []
    }

    Ez.prototype.trigger = Backbone.Events.trigger;
    Ez.prototype.listenTo = Backbone.Events.listenTo;
    Ez.prototype.stopListening = Backbone.Events.stopListening;
    _.extend(Ez.prototype, Backbone.Events);
    Ez.prototype.Cd = function (a) {
        Fz(this, a, this.Qf.length)
    };
    function Fz(a, b, c) {
        -1 === a.Qf.indexOf(b) && (c = Math.max(0, Math.min(c, a.Qf.length)), a.Qf.splice(c, 0, b), a.listenTo(b, "all", function () {
            a.trigger.apply(this, arguments)
        }), a.trigger("searchGroup:add", a, b, c))
    }

    Ez.prototype.Nl = function (a) {
        var b = this.Qf.indexOf(a);
        -1 < b && (a.remove(), this.Qf.splice(b, 1), this.stopListening(a), this.trigger("searchGroup:remove", this, a, b))
    };
    function Gz(a) {
        return a.Qf[a.Qf.length - 1]
    }

    Ez.prototype.getLength = function () {
        return this.Qf.length
    };
    function Hz(a, b) {
        this.qt = a;
        this.title = b || "";
        this.ie = [];
        this.Yi = !0
    }

    Hz.prototype.trigger = Backbone.Events.trigger;
    _.extend(Hz.prototype, Backbone.Events);
    Hz.prototype.La = function () {
        return this.title
    };
    Hz.prototype.remove = function () {
        this.qt.cancel()
    };
    Hz.prototype.clear = function () {
        this.ie = [];
        this.Yi = !0;
        this.qt.reset();
        this.trigger("results:clear", this)
    };
    Hz.prototype.$c = function (a) {
        var b = this;
        this.trigger("results:willFetch", b);
        this.qt.Di(a, function (c, d) {
            b.Yi = c.length >= a;
            0 < c.length && (b.ie = b.ie.concat(c));
            b.trigger("results:didFetch", b, c, d)
        })
    };
    function Iz(a) {
        var b = Ja, c = Ga;
        if (-1 < ["grid", "grids"].indexOf(a.toLowerCase()))return new Jz(a);
        if ("uploads" === a)return new Kz(c, !0);
        if ("marketplace" === a)return new Kz(c, !1);
        b = new zv(b, [new yv(Od), new wv(Pd)]);
        a = new zx(a, Bv, null, null, !1, [], 0, function () {
        });
        return new Lz(b, a)
    }

    function Mz() {
    }

    _.extend(Mz.prototype, Backbone.Events);
    Mz.prototype.Di = function (a, b) {
        b && b([], !0)
    };
    Mz.prototype.cancel = function () {
    };
    Mz.prototype.reset = function () {
    };
    function Lz(a, b) {
        this.search = a;
        this.xd = b;
        this.Ya = !1;
        this.Qo = this.rb = null
    }

    _.extend(Lz.prototype, Backbone.Events);
    f = Lz.prototype;
    f.Di = function (a, b) {
        function c(a) {
            return !(a instanceof P.CancellationError)
        }

        this.rb ? b && b([], !0) : this.ix(a, b, this.Ya) || (this.xd.limit = a, this.Qo = b, this.rb = Dv(this.search, v ? v.Pa() : null, this.xd.query, this.xd.js, this.xd.Hr, this.xd.Uq, this.xd.Ry, this.xd.sort, this.xd.yi(), this.xd.cd()).catch(c, function () {
        }).then(this.SG.bind(this)).catch(P.CancellationError, function () {
        }))
    };
    f.ix = function () {
        return !1
    };
    f.cancel = function () {
        this.Ya = !0;
        this.rb && this.rb.cancel();
        this.rb = null
    };
    f.reset = function () {
        this.cancel();
        this.Ya = !1;
        this.xd.reset()
    };
    f.SG = function (a) {
        var b = [];
        !this.Ya && a && a.Kn() && (b = a.Kn());
        this.hx(b, this.xd.cd());
        this.Qo && this.Qo(b, this.Ya);
        this.rb = this.Qo = null;
        this.Ya || (this.xd.jl = b.length, a = this.xd, a.from += a.limit)
    };
    f.hx = function () {
    };
    function Jz(a) {
        this.Gj = 0;
        this.fc = [];
        this.query = a;
        this.Ya = !1;
        if ("grid" === a || "grids" === a)this.query = "grid", this.fc = _.keys(xh)
    }

    Jz.prototype.cancel = function () {
        this.Ya = !0
    };
    Jz.prototype.Di = function (a, b) {
        if (this.Gj >= this.fc.length || this.Ya)b && b([], this.Ya); else {
            var c = this.fc.slice(this.Gj, this.Gj + a);
            this.Gj += a;
            b && b(c, !1)
        }
    };
    Jz.prototype.reset = function () {
        this.Ya = !1;
        this.Gj = 0;
        this.fc = []
    };
    function Kz(a, b) {
        this.Ob = a;
        this.ny = b;
        this.ke = 0;
        this.Ya = !1;
        this.rb = null
    }

    Kz.prototype.Di = function (a, b) {
        function c(a, c) {
            function d(a) {
                return (a = a.na().Tb()) && 0 < Object.keys(a).length
            }

            function l(a) {
                var b = a.na(), c = b.Tb(), d;
                Qr(a.na()) && (d = 100 * Qr(a.na()).ONE_USE || 0);
                return ce({
                    id: a.G(),
                    version: b.getVersion(),
                    files_: _.values(c),
                    oneTimeUsePriceCents: d,
                    status: b.Hc(),
                    type: a.Nb()
                })
            }

            function m(a, b) {
                var c = a.G(), d = b.G();
                return -(c < d ? -1 : c > d ? 1 : 0)
            }

            if (200 === a && c.media && 0 !== c.media.length) {
                var n = c.media.filter(d).sort(m).map(l);
                b && b(n, e.Ya);
                e.ke += n.length;
                e.rb = null
            } else b && b([], e.Ya)
        }

        var d,
            e = this;
        d = [Zd, ae];
        this.rb ? b && b([], !0) : (d = Vr(Ur((new Tr).Sg(this.ny).Yf(!1).Rg(), !1), d).sm(this.ke, a), this.ny || (d = d.xu().Uj(!0)), this.rb = zr(Ga, d, c))
    };
    Kz.prototype.cancel = function () {
        this.Ya = !0;
        this.rb && (this.rb.cancel(), this.rb = null)
    };
    Kz.prototype.reset = function () {
        this.cancel();
        this.Ya = !1;
        this.ke = 0
    };
    function Nz(a, b) {
        void 0 !== a && void 0 !== b && Lz.call(this, a, new zx("*", Av, {designType: b.G()}, null, !1, [new Sv("score", "DESC"), new Sv("lastModified", "DESC"), new Sv("id", "ASC")], 0, function () {
        }));
        this.rn = !1;
        this.Pk = 0
    }

    _.extend(Nz.prototype, Lz.prototype);
    Nz.prototype.reset = function () {
        Lz.prototype.reset.call(this);
        this.rn = !1;
        this.Pk = 0
    };
    Nz.prototype.ix = function (a, b, c) {
        var d = [];
        return this.rn ? (Oz(this, d, this.Pk, a), b && b(d, c), !0) : !1
    };
    Nz.prototype.hx = function (a, b) {
        (this.rn = 0 === a.length || a.length < b) && Oz(this, a, this.Pk, b - a.length)
    };
    function Oz(a, b, c, d) {
        c = _.rest(_.keys(xh), c);
        d = _.first(c, d);
        a.Pk += d.length;
        d.forEach(function (a) {
            b.push(Pz(a))
        })
    }

    function Pz(a) {
        var b = xh[a];
        a = new Et;
        var c = ke(t.Ha().Ab()), b = {
            width: c.C(),
            height: c.D(),
            elements: [{type: "grid", left: 0, top: 0, width: c.C(), height: c.D(), items: b.items}]
        };
        a.name = "Photo Grid";
        a.content = b;
        return a
    }

    function Pw(a) {
        this.Ya = !1;
        this.Gb = a.Gb;
        this.Jb = a.Jb;
        this.Xg = a.Xg;
        this.Tq = a.Tq;
        this.$m = a.$m || null;
        this.Wq = !1;
        this.vc = this.rb = null
    }

    _.extend(Pw.prototype, Lz.prototype);
    Pw.prototype.Di = function (a, b) {
        function c(a) {
            b && b([], e.Ya);
            throw a;
        }

        function d(a) {
            e.vc = a.continuation;
            e.Wq = !e.vc;
            b && b(a.documents, e.Ya);
            e.rb = null
        }

        var e = this, g = nk(mk(lk(this.Tq)).sm(this.vc, a), this.Jb, this.Xg);
        this.$m && g.qz(this.$m);
        this.rb ? b && b([], !0) : this.Wq ? b && b([], this.Ya) : this.rb = Yj(this.Gb, g).then(d).catch(c)
    };
    Pw.prototype.cancel = function () {
        this.Ya = !0;
        this.rb && (this.rb.cancel(), this.rb = null)
    };
    Pw.prototype.reset = function () {
        this.cancel();
        this.Ya = !1;
        this.vc = null;
        this.Wq = !1
    };
    function Qz(a) {
        this.Xg = a.Xg || null;
        this.Ya = !1;
        this.vq = a.vq;
        this.Gb = a.Gb;
        this.Gv = !1;
        this.vc = this.rb = null;
        this.ru = a.ru
    }

    _.extend(Qz.prototype, Lz.prototype);
    Qz.prototype.Di = function (a, b) {
        function c(a) {
            var b = a.Ld().map(h);
            k.Gv = null == a.kc();
            k.vc = a.kc();
            return 0 !== b.length ? (a = (new kk).sp(b), Yj(k.Gb, a)) : P.resolve({documents: []})
        }

        function d(a) {
            b(a.documents, k.Ya)
        }

        function e() {
            b([], k.Ya)
        }

        function g() {
            k.rb = null
        }

        function h(a) {
            return a.G()
        }

        var k = this;
        if (this.rb)b && b([], !0); else if (this.Gv)b && b([], this.Ya); else {
            var l = It((new Ht).Zh(this.Xg).Zf("/designs/layouts").rm(At), this.vq).Tj(a).Sj(this.vc);
            this.rb = vt(this.ru, l).then(c).then(d).catch(e).finally(g)
        }
    };
    Qz.prototype.cancel = function () {
        this.Ya = !0;
        this.rb = null
    };
    Qz.prototype.reset = function () {
        this.cancel();
        this.Ya = !1;
        this.vc = null
    };
    function zx(a, b, c, d, e, g, h, k) {
        this.query = "";
        this.js = b;
        this.Hr = c;
        this.Uq = d;
        this.Ry = e;
        this.sort = g;
        "string" === typeof a ? this.query = a.trim() : a instanceof Fv && (this.query = "group:" + a.ta());
        this.from = 0;
        this.limit = h;
        this.jl = 0;
        this.qy = k
    }

    zx.prototype.yi = function () {
        return this.from
    };
    zx.prototype.cd = function () {
        return this.limit
    };
    function ey() {
        var a = Z;
        return a.jl >= a.limit
    }

    zx.prototype.reset = function () {
        this.jl = this.from = 0
    };
    function Rz(a) {
        if (void 0 !== a && !Sz(a))throw Error("StateMachine constructed with invalid options: " + JSON.stringify(a));
        this.pf = a ? a.Iw || "none" : "none";
        this.Bd = a ? a.Bd.slice(0) : []
    }

    Rz.prototype.trigger = Backbone.Events.trigger;
    _.extend(Rz.prototype, Backbone.Events);
    Rz.prototype.Nd = function () {
        return this.pf
    };
    function Tz(a) {
        return a.Bd.map(function (a) {
            return _.extend({}, a)
        })
    }

    function Uz(a, b) {
        var c = a.Bd.concat(b);
        if (!Sz({Iw: a.pf, Bd: c}))throw Error("Invalid transitions being added: " + JSON.stringify(c));
        a.Bd = a.Bd.concat(b)
    }

    Rz.prototype.transition = function (a) {
        var b = this.pf, c = Vz(this, a);
        if (null !== c)this.pf = c, this.trigger("state:enter", this, c, b); else throw Error("Invalid transition " + a + " from " + this.pf);
    };
    function Wz(a, b) {
        var c = a.pf;
        if (-1 === a.Bd.filter(function (a) {
                return a.from === c && a.to === b
            }).map(function (a) {
                return a.to
            }).indexOf(b))throw Error('Cannot transition from "' + c + '" to "' + b + '"');
        a.pf = b;
        a.trigger("state:enter", a, b, c)
    }

    Rz.prototype.start = function () {
        this.transition("start")
    };
    Rz.prototype.fail = function () {
        this.transition("fail")
    };
    function Vz(a, b) {
        var c = a.Bd.filter(function (c) {
            return c.name === b && c.from === a.pf
        });
        if (1 < c.length)throw Error('More than 1 transition "' + b + '" exists from state "' + a.pf + '"');
        return 1 === c.length ? c[0].to : null
    }

    function Sz(a) {
        var b = a.Iw || "none", c;
        c = -1 === Xz(a.Bd).indexOf(b) ? !1 : !0;
        var d = Yz(a.Bd);
        a = Zz(a.Bd);
        b = 0 === a.length || 1 === a.length && a[0] === b;
        return c && b && 0 === d.length
    }

    function Xz(a) {
        a = a.map(function (a) {
            return [a.from, a.to]
        });
        return _.uniq(_.flatten(a))
    }

    function Zz(a) {
        return Xz(a).filter(function (b) {
            return 0 === a.filter(function (a) {
                    return a.to === b
                }).length
        })
    }

    function Yz(a) {
        return Xz(a).filter(function (b) {
            var c = a.filter(function (a) {
                return a.from === b
            }).map(function (a) {
                return a.name
            });
            return c.length > _.uniq(c).length
        })
    };
    function $z(a) {
        this.Rw = a.justification;
        this.list = a.list;
        this.o = a.italic;
        this.bold = a.bold;
        this.fontSize = a.fontSize;
        this.fontFamily = a.fontFamily;
        this.color = a.color
    }

    _.extend($z.prototype, Backbone.Events);
    f = $z.prototype;
    f.trigger = Backbone.Events.trigger;
    f.gm = function () {
        return ["left", "center", "right", "bold", "italic"]
    };
    f.Rf = function (a) {
        this.Rw = a;
        this.trigger("change:justification", this);
        this.trigger("change", this);
        return this
    };
    f.ew = function () {
        return this.list
    };
    f.Yl = function (a) {
        this.list = a;
        this.trigger("change:list", this);
        this.trigger("change", this);
        return this
    };
    f.Ai = function () {
        return this.o
    };
    f.Ig = function (a) {
        this.o = a;
        this.trigger("change:italic", this);
        this.trigger("change", this);
        return this
    };
    f.vi = function () {
        return this.bold
    };
    f.Gg = function (a) {
        this.bold = a;
        this.trigger("change:bold", this);
        this.trigger("change", this);
        return this
    };
    f.wc = function () {
        return this.fontSize
    };
    f.Lc = function (a) {
        this.fontSize = a;
        this.trigger("change:fontSize", this);
        this.trigger("change", this);
        return this
    };
    f.ef = function (a) {
        this.fontFamily = a;
        this.trigger("change:fontFamily", this);
        this.trigger("change", this);
        return this
    };
    f.xf = function () {
        return this.color
    };
    f.setColor = function (a) {
        this.color = a;
        this.trigger("change:color", this);
        this.trigger("change", this);
        return this
    };
    f.serialize = function () {
        return {
            justification: this.Rw,
            list: this.list,
            italic: this.o,
            bold: this.bold,
            fontSize: this.fontSize,
            fontFamily: this.fontFamily,
            color: this.color
        }
    };
    function qw(a) {
        this.source = a;
        this.filename = "";
        this.viewBox = []
    }

    var cr = "inherit";

    function eq(a) {
        if (a === cr)return cr;
        if (a = Q(a || ""))return a
    }

    function fr(a) {
        if (a === cr)return cr;
        if (a instanceof Hh)return a.ka()
    }

    qw.prototype.rz = function (a) {
        this.filename = a;
        return this
    };
    var aA = "circle clippath defs desc ellipse feblend fecolormatrix fecomponenttransfer fecomposite feconvolvematrix fediffuselighting fedisplacementmap fedistantlight feflood fefunca fefuncb fefuncg fefuncr fegaussianblur feimage femerge femergenode femorphology feoffset fepointlight fespecularlighting fespotlight fetile feturbulence filter g hkern image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg symbol text textpath title tref tspan use view vkern".split(" "),
        bA = "amplitude azimuth basefrequency baseline-shift bias class clip clip-path clip-rule clippathunits color color-interpolation color-interpolation-filters color-profile color-rendering cursor cx cy d diffuseconstant direction display divisor dominant-baseline dx dy edgemode elevation enable-background exponent fill fill-opacity fill-rule filter filterres filterunits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight fx fy g1 g2 glyph-orientation-horizontal glyph-orientation-vertical gradienttransform gradientunits height id image-rendering in in2 intercept k k1 k2 k3 k4 kernelmatrix kernelunitlength kerning lengthadjust letter-spacing lighting-color limitingconeangle marker-end marker-mid marker-start markerheight markerunits markerwidth mask maskcontentunits maskunits method mode numoctaves offset opacity operator order orient overflow pathlength patterncontentunits patterntransform patternunits pointer-events points pointsatx pointsaty pointsatz preservealpha preserveaspectratio primitiveunits r radius refx refy result rotate rx ry scale seed shape-rendering slope spacing specularconstant specularexponent spreadmethod startoffset stddeviation stitchtiles stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfacescale tablevalues targetx targety text-anchor text-decoration text-rendering textlength transform type u1 u2 unicode-bidi values version viewbox viewtarget visibility width word-spacing writing-mode x x1 x2 xchannelselector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space xmlns xmlns:svg xmlns:xlink y y1 y2 ychannelselector z zoomandpan".split(" "),
        cA = /^data:image\/[^,;]+;base64,/;

    function oq(a, b) {
        var c;
        a:{
            try {
                c = $.parseXML(a)
            } catch (d) {
                c = null;
                break a
            }
            c = $(c.documentElement)
        }
        return !c || !b && dA(c) || eA(c) ? !1 : !0
    }

    function dA(a) {
        return a.find("*").andSelf().toArray().some(function (a) {
            return -1 === aA.indexOf(a.localName.toLowerCase())
        })
    }

    function eA(a) {
        return a.find("*").andSelf().toArray().some(function (a) {
            a = a.attributes;
            for (var c = 0; c < a.length; c++) {
                var d = a[c].name.toLowerCase(), e;
                if (e = "xlink:href" === d)e = a[c].value, e = !("#" === e.charAt(0) || cA.test(e));
                if (e || -1 === bA.indexOf(d))return !0
            }
            return !1
        })
    };
    function sw(a) {
        var b = a.indexOf("\x3csvg", 0), c = a.slice(0, b);
        -1 === c.toUpperCase().indexOf("\x3c!DOCTYPE") && (a = c + '\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n' + a.slice(b));
        return a
    }

    function uw(a) {
        function b(a) {
            return 0 !== a.filter(function (a) {
                    return isNaN(a)
                }).length
        }

        var c = ($($.parseXML(a)).find("svg").attr("viewBox") || "").split(/\s/);
        a = c.map(function (a, b) {
            return parseFloat(c[b])
        });
        return 4 !== a.length || b(a) ? [] : a
    }

    function tw(a) {
        function b(a) {
            a = g.attr(a);
            return "undefined" == typeof a || "" === a ? NaN : parseFloat(a.replace(/[^0-9\.]/g, ""))
        }

        var c = $("#limbo"), d = !1;
        0 >= c.length && (c = $('\x3cdiv id\x3d"limbo"\x3e\x3c/div\x3e'), $("body").append(c), d = !0);
        var e = $($.parseXML(a)), g, h, k, l, m;
        if (4 !== uw(a).length) {
            g = e.find("svg");
            if (!g)throw Error("SVG with no \x3csvg\x3e!");
            h = b("x");
            k = b("y");
            l = b("width");
            m = b("height");
            var n = e.find("svg");
            c.append(n);
            n = n.get(0).getBBox();
            isNaN(h) && (h = n.x);
            isNaN(k) && (k = n.y);
            isNaN(l) && (l = n.width);
            isNaN(m) &&
            (m = n.height);
            e.remove();
            d && c.remove();
            c = ' viewBox\x3d"' + [h, k, l, m].join(" ") + '" ';
            d = a.indexOf("\x3csvg", 0) + 4;
            return a.substring(0, d) + c + a.substring(d)
        }
        return a
    }

    function rw(a) {
        if (!oq(a))throw Error("Aborting attempt to generate color changes on unacceptable SVG");
        var b = $(a).filter("svg"), c = '\x3c?xml version\x3d"1.0" standalone\x3d"no"?\x3e', d = a.match(/<\?xml([^?]*)\?>/gi);
        d && 0 <= d.length && (c = d[0]);
        d = b.find("[fill]").not('[fill\x3d"none"]');
        if (0 < b.find("g").filter(function () {
                return /^change/gi.test(this.id)
            }).length)return a;
        var e = [], g = {}, h = 0;
        d.each(function () {
            h++;
            var a = Q($(this).attr("fill"));
            if (a) {
                var b = a.ka();
                g.hasOwnProperty(b) || (e.push(a.ka()), g[b] = 1);
                a = e.indexOf(b) + 1;
                $(this).wrap('\x3cg id\x3d"change' + a + "_" + g[b] + '"\x3e\x3c/g\x3e');
                g[b] += 1
            }
        });
        a = $("\x3cdiv\x3e\x3c/div\x3e").append(b).html();
        return c + a
    };
    function qq(a, b) {
        var c = a.trim(), c = c.replace(/SVGID_/g, b + "SVGID_"), c = c.replace(/font-size\s*:\s*\d+\.?\d*(?=[\s;"])/g, "$\x26px"), c = sw(c);
        return c = tw(c)
    }

    function rq(a) {
        var b = a.get(0);
        b.removeAttribute("width");
        b.removeAttribute("height");
        b.removeAttribute("id");
        $("g", a).each(function (a, b) {
            b.id = b.id.toLowerCase()
        });
        $("style", a).remove();
        fA(a);
        gA(a);
        hA(a);
        iA(a);
        jA(a)
    }

    function fA(a) {
        var b = 0, c = 0, d = /^[neswc]_repeat/i, e = /^([ns][ew]?|e|w|c)(_\d+)(_|$)/i;
        $("g", a).each(function (a, g) {
            if (d.test(g.id))g.id = g.id.substr(0, 1), g.classList.add("repeat"); else {
                var h = g.id.match(e);
                h && h[1] && (g.id = h[1])
            }
            -1 < ["w", "e"].indexOf(g.id) && b++;
            -1 < ["n", "s"].indexOf(g.id) && c++
        });
        var g = 0 < b && 0 === c, h = 0 < c && 0 === b, k = a.get(0);
        g ? (k.classList.add("horizontalOnly"), $("g#w, g#c, g#e", a).each(function (a, b) {
            b.id = "n" + b.id;
            "nc" == b.id && (b.id = "n")
        })) : h && (k.classList.add("verticalOnly"), $("g#n, g#c, g#s", a).each(function (a,
                                                                                          b) {
            b.id += "w";
            "cw" == b.id && (b.id = "w")
        }))
    }

    function gA(a) {
        function b(a, b) {
            var c, k, l;
            l = (c = (k = a.getAttribute("style")) && k.match(kA)) ? k.match(kA)[2] : a.getAttribute("fill");
            c && (k = k.replace(kA, ""), a.setAttribute("style", k), a.setAttribute("fill", l));
            a.hasAttribute("fill") && (a.classList.add("color"), a.setAttribute("data-color", a.getAttribute("fill")), a.classList.add("color-" + b));
            k = a.getAttribute("fill");
            c = Q(k);
            l = null;
            xp.equals(c) ? l = "primaryColor" : yp.equals(c) ? l = "secondaryColor" : zp.equals(c) && (l = "tertiaryColor");
            (c = l) ? a.classList.add(c) : k && (d = !1)
        }

        var c = /^change(\d+|$)/i, d = !0;
        a.find("g").filter(function () {
            return c.test(this.id)
        }).each(function (a, c) {
            var d = parseFloat(c.id.substr(6)), d = isNaN(d) ? 1 : d;
            c.removeAttribute("id");
            b(c, d);
            $("[style*\x3dfill], [fill]", c).each(function () {
                b(this, d)
            })
        });
        d && a.get(0).classList.add("baseColors")
    }

    var kA = /(\b|^)fill\s*:\s*([^;]+);\s*/i;

    function hA(a) {
        var b = /^stack(_|$)/i;
        a.find("g").filter(function () {
            return b.test(this.id)
        }).each(function (a, b) {
            var e = b.id;
            b.removeAttribute("id");
            b.classList.add("canva");
            b.classList.add("stack");
            e = e.match(/_(vcenter|vtop|vbottom)(_|$)/i);
            b.setAttribute("data-valign", e ? e[1].substr(1).toUpperCase() : "CENTER");
            b.setAttribute("data-stack-id", a)
        })
    }

    function iA(a) {
        var b = sq(a), c = b.Y(), d = b.O(), e = /^[op](_|$)/i, g = 0;
        a.find("g").filter(function () {
            return e.test(this.id)
        }).each(function (a, b) {
            var e = document.createElementNS("http://www.w3.org/2000/svg", "g");
            e.setAttribute("class", "canva");
            b.parentNode.insertBefore(e, b);
            b.parentNode.removeChild(b);
            var m = lA(b, ["circle", "ellipse", "path", "polygon", "rect"]);
            if (null !== m) {
                var n = document.createElementNS("http://www.w3.org/2000/svg", "clipPath");
                e.appendChild(n);
                n.id = pq();
                n.setAttribute("transform", "translate(" + -c + ", " + -d + ")");
                m.setAttribute("class", "photoPlaceholder");
                n.appendChild(m);
                var q = document.createElementNS("http://www.w3.org/2000/svg", "image");
                q.setAttribute("class", "placeholder");
                q.setAttribute("clip-path", "url(#" + n.id + ")");
                q.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", "https://static.canva.com/static/images/placeholder.jpg");
                q.setAttribute("transform", "translate(" + c + ", " + d + ")");
                q.setAttribute("data-placeholder-index", g.toString());
                g++;
                e.appendChild(q);
                m = mA(m, "cx cy r rx ry d pathLength points x y width height transform".split(" "));
                m.setAttribute("class", "outline");
                m.setAttribute("fill", "none");
                e.appendChild(m)
            }
        })
    }

    function jA(a) {
        var b = /^t(_|$)/i;
        a.find("g").filter(function () {
            return b.test(this.id)
        }).each(function (a, b) {
            var e = document.createElementNS("http://www.w3.org/2000/svg", "g");
            e.setAttribute("class", "canva");
            b.parentNode.insertBefore(e, b);
            b.parentNode.removeChild(b);
            var g = lA(b, ["rect"]);
            if (null !== g) {
                g = mA(g, "rx ry x y width height".split(" "));
                g.setAttribute("class", "textPlaceholder");
                g.setAttribute("fill", "none");
                e.appendChild(g);
                var e = lA(b, ["text"]), e = nA(e), h = b.id, k = /_(dfont)(_|$)/.test(h), l = /_(dwidth)(_|$)/.test(h),
                    m = /_(dheight)(_|$)/.test(h), n = h.match(/_(left|center|right)(_|$)/), h = h.match(/_ls([0-9]+)(_|$)/), e = $.extend({}, e, {
                        justification: n ? n[1] : void 0,
                        "line-spacing": h ? parseFloat(h[1].substring(0, 1) + "." + h[1].substring(1)) : void 0,
                        "dynamic-font-size": k,
                        "dynamic-width": l && !m,
                        "dynamic-height": m
                    }), q;
                for (q in e)g.setAttribute("data-" + q, e[q]);
                if (b) {
                    q = [];
                    e = b.getElementsByTagNameNS("http://www.w3.org/2000/svg", "text");
                    for (k = 0; k < e.length; k++)l = e[k], l.textContent && 0 < l.textContent.trim().length && q.push(l.textContent.trim());
                    q = q.join(" ")
                } else q = "";
                "" != q && g.setAttribute("data-placeholder-text", q)
            }
        })
    }

    function mA(a, b) {
        var c = document.createElementNS("http://www.w3.org/2000/svg", a.nodeName);
        b.forEach(function (b) {
            a.hasAttribute(b) && c.setAttribute(b, a.getAttribute(b))
        });
        return c
    }

    function lA(a, b) {
        var c = [];
        b.forEach(function (b) {
            b = a.getElementsByTagNameNS("http://www.w3.org/2000/svg", b);
            for (var e = 0; e < b.length; e++)c.push(b[e])
        });
        return 0 === c.length ? null : c[0]
    }

    function nA(a) {
        function b(a) {
            for (var b = a.replace(/^['"]|['"]$/g, ""), d = Nu(La), e, g, q = 0; q < d.length; q++)for (g in e = d[q], e.K)if (e.K[g].l.toLowerCase() === b.toLowerCase())return a = -1 < [e.K.bold, e.K.v].indexOf(e.K[g]), g = -1 < [e.K.o, e.K.v].indexOf(e.K[g]), {
                "font-name": e.name || e.family,
                "font-family": e.family,
                bold: a,
                italic: g
            };
            return c(a)
        }

        function c(a) {
            var b = ["bold", "italic", "bolditalic", "black"], c = {}, d = Nu(La), e = a.replace(/^['"]|['"]$/g, "").toLowerCase();
            if (a = _.find(d, function (a) {
                    return (a.R || "").toLowerCase() ===
                        e
                }))return c["font-name"] = a.name || a.family, c["font-family"] = a.family, c;
            var d = d.filter(function (a) {
                a = (a.R || "").toLowerCase().replace(/-[^-]+$/, "");
                return 0 === e.indexOf(a)
            }), g = _.find(d, function (a) {
                    return -1 < (a.R || "").toLowerCase().indexOf("-regular")
                }) || d[0];
            g && b.forEach(function (a) {
                var b = (g.R || "").toLowerCase().replace(/-[^-]+$/, "");
                e == b + "-" + a && (c["font-name"] = g.name || g.family, c["font-family"] = g.family, c.bold = "bold" == a || "bolditalic" == a || "black" == a, c.italic = "italic" == a || "bolditalic" == a)
            });
            return c
        }

        var d =
            ["fill", "font-size", "font-family"];
        if (!a)return {};
        var e = {};
        d.forEach(function (b) {
            var c = (a.getAttribute(b) || "").trim();
            "" !== c && (e[b] = c)
        });
        (a.getAttribute("style") || "").split(";").forEach(function (a) {
            var b = a.split(":");
            2 == b.length && (a = b[0].trim(), b = b[1].trim(), -1 < d.indexOf(a) && (e[a] = b))
        });
        if (e.fill) {
            var g = Q(e.fill);
            g ? e.fill = g.ka() : delete e.fill
        }
        e["font-size"] && (e["font-size"] = .72 * parseFloat(e["font-size"]));
        e["font-family"] && (g = b(e["font-family"]), delete e["font-family"], $.extend(e, g));
        return e
    };
    (function () {
        function a(a) {
            var b = "animationend" == a ? e() : d();
            return function (a) {
                $(this).on(b, a, c)
            }
        }

        function b(a) {
            var b = "animationend" == a ? e() : d();
            return function () {
                $(this).off(b, c)
            }
        }

        function c(a) {
            return a.data.handler.call(this, a)
        }

        function d() {
            var a = document.createElement("div"), b = {
                transition: "transitionend",
                MozTransition: "transitionend",
                WebkitTransition: "webkitTransitionEnd"
            }, c;
            for (c in b)if (void 0 !== a.style[c])return b[c];
            throw Error("Unsupported browser");
        }

        function e() {
            var a = document.createElement("div"),
                b = {animation: "animationend", MozAnimation: "animationend", WebkitAnimation: "webkitAnimationEnd"}, c;
            for (c in b)if (void 0 !== a.style[c])return b[c];
            throw Error("Unsupported browser");
        }

        ["animationend", "transitionend"].forEach(function (c) {
            var h = "animationend" == c ? e() : d();
            c != h && ($.event.special[c] = {add: a(c), remove: b(c)})
        })
    })();
    function ai(a, b, c, d) {
        var e = 0;
        a == c ? e = b > d ? 1.5 * Math.PI : .5 * Math.PI : (e = Math.atan((d - b) / (c - a)), a < c ? d < b && (e = 2 * Math.PI + e) : e = Math.PI + e, isNaN(e) && (e = 0));
        return oA(180 * e / Math.PI)
    }

    function oA(a) {
        a %= 360;
        0 > a && (a += 360);
        return a
    }

    function Zh(a) {
        return Math.PI / 180 * a
    }

    function Po(a, b) {
        var c = a - b;
        return 0 > c ? 360 + c : c
    }

    function pA(a, b) {
        var c = Math.floor(180 * Math.atan2(a.y - b.y, a.x - b.x) / Math.PI + 90);
        return 0 > c ? 360 + c : c
    }

    function qA(a) {
        switch (a) {
            case "TL":
                return 270;
            case "TR":
                return 0;
            case "BR":
                return 90;
            case "BL":
                return 180;
            default:
                throw Error("Quadrant does not exist");
        }
    }

    function bi(a, b, c, d) {
        return Math.sqrt(Math.pow(c - a, 2) + Math.pow(d - b, 2))
    };
    function rA(a) {
        this.listener = void 0;
        this.uq = a;
        this.Lp = this.visible = !1;
        this.rw = []
    }

    function sA(a) {
        a.uq.aa.forEach(function (a) {
            if (a.H()) {
                if (0 >= a.H().find(".guides").length) {
                    var c = $('\x3cdiv class\x3d"guides"\x3e\x3cdiv class\x3d"vertical gutter"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal gutter"\x3e\x3c/div\x3e\x3c/div\x3e');
                    a.H().append(c)
                }
                a.H().find(".guides").css("display", "block")
            }
        })
    }

    f = rA.prototype;
    f.toggle = function () {
        this.visible ? (this.hide(), tA(this)) : this.Lp ? tA(this) : this.show()
    };
    function uA(a) {
        return a.rw.filter(function (a) {
            return a && a.Ub && a.ca()
        })
    }

    f.add = function (a) {
        this.rw.push(a)
    };
    f.hide = function () {
        this.visible = !1;
        this.uq.aa.forEach(function (a) {
            a.H() && a.H().find(".guides").css("display", "none")
        });
        uA(this).forEach(function (a) {
            a.H().addClass("inactive")
        });
        this.stopListening()
    };
    f.stopListening = function () {
        this.listener && (this.listener.off("mousedown", ".guides", this.Fm), this.listener.off("touchstart", ".guides", this.Fm))
    };
    f.show = function () {
        this.visible = !0;
        sA(this);
        uA(this).forEach(function (a) {
            a.activate()
        });
        this.listener = new V("#canvaDocument");
        this.Fm = this.Fq.bind(this);
        this.listener.on("mousedown", ".guides", this.Fm);
        this.listener.on("touchstart", ".guides", this.Fm)
    };
    f.Fq = function (a) {
        function b(a) {
            var q = a.clientX - l;
            a = a.clientY - m;
            q = {align: "vertical", type: "guide", width: 0, height: k.D(), left: q / M, top: 0};
            e || (q.align = "horizontal", q.width = k.C(), q.left = 0, q.top = a / M, q.height = 0);
            a = k;
            0 <= q.left && q.left <= a.C() && 0 <= q.top && q.top <= a.D() && (a = new Ds(q), a.appendTo(k), a.Na(q.left), a.Oa(q.top), a.activate(), d.add(a));
            g.off("mouseup|touchend", b);
            g.off("mousemove|touchmove", c);
            h.remove()
        }

        function c(a) {
            var b = a.clientX - l;
            a = a.clientY - m;
            e ? h.css("top", 0).css("left", b) : h.css("top", a).css("left",
                0)
        }

        var d = this, e = $(a.target).hasClass("vertical"), g = new V($(document)), h = $('\x3cdiv class\x3d"element guide"\x3e\x3c/div\x3e'), k = J(this.uq), l = k.H().get(0).getBoundingClientRect().left, m = k.H().get(0).getBoundingClientRect().top;
        e ? h.addClass("vertical") : h.addClass("horizontal");
        k.H().find(".elements").append(h);
        g.on("mousemove|touchmove", c);
        g.on("mouseup|touchend", b)
    };
    function vA() {
        var a = Ua();
        return a.visible ? uA(a) : []
    }

    function tA(a) {
        function b() {
            return '\x3cdiv class\x3d"gutter"\x3e\x3c/div\x3e'
        }

        function c() {
            return '\x3cdiv class\x3d"column lsnap"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column rsnap"\x3e\x3c/div\x3e'
        }

        $(".page").hasClass("showGuidelines") ? (a.Lp = !1, $(".page").removeClass("showGuidelines"), $(".page .guidelines").remove()) : (a.Lp = !0, $(".page").addClass("showGuidelines"), $(".page").prepend('\x3cdiv class\x3d"guidelines"\x3e' +
            b() + c() + b() + c() + b() + c() + b() + c() + b() + c() + b() + c() + b() + "\x3c/div\x3e"), wA())
    }

    function wA() {
        if (t && t.gw && t.aa[0]) {
            var a = (t.aa[0].C() - 140) / 18 * M - 2 / 3 + "px";
            $(".page .guidelines .column").css("width", a);
            $(".page .guidelines .gutter").css("width", 20 * M)
        }
    }

    function xA(a) {
        if (!a.H() || !a.H().hasClass("showGuidelines"))return delete ya.Qk, [];
        if (ya.Qk)return ya.Qk;
        ya.Qk = [];
        a.H().find(".guidelines .gutter").each(function (b, c) {
            function d() {
                return 0
            }

            function e() {
                return (c.getBoundingClientRect().right - h().left) / M
            }

            function g() {
                return (c.getBoundingClientRect().left - h().left) / M
            }

            function h() {
                return a.H().get(0).getBoundingClientRect()
            }

            ya.Qk.push({
                Y: g, Qa: g, Bb: e, O: d, Aa: d, ec: function () {
                    return e() - g()
                }, bc: function () {
                    return (h().bottom - h().top) / M
                }, lb: function () {
                    return (h().bottom -
                        h().top) / M
                }, hb: function () {
                    return h().left + c.getBoundingClientRect().left
                }, nb: function () {
                    return h().top
                }, Ua: function () {
                    return 0
                }
            })
        });
        return ya.Qk
    };
    function hn(a) {
        $("#content").on("click", ".elementToolbar a, .textToolbar a", !1);
        yA.forEach(function (b) {
            (zA[b] || []).forEach(function (c) {
                $("#canvaDocument").on("click", c, {cancel: !0}, AA(b, a))
            })
        });
        $("#canvaDocument").on("click", ".elementToolbarBackward.enabled a", {cancel: !0}, BA);
        $("#canvaDocument").on("click", ".elementToolbarForward.enabled a", {cancel: !0}, CA);
        $("#canvaDocument").on("click", ".elementToolbarCopy.enabled a", {cancel: !0}, DA);
        $("#canvaDocument").on("click", ".elementToolbarDelete.enabled a",
            {cancel: !0}, EA);
        $("#canvaDocument").on("click", ".elementToolbarGroup.enabled a", {cancel: !0}, FA);
        $("#canvaDocument").on("click", ".elementToolbarUngroup.enabled a", {cancel: !0}, GA);
        $("#canvaDocument").on("click", ".elementToolbarCrop.enabled a", {cancel: !0}, HA);
        $("#canvaDocument").on("click", ".imageToolbarDelete.enabled a", {cancel: !0}, IA);
        $("#canvaDocument").on("click", ".imageToolbarCrop.enabled a", {cancel: !0}, HA);
        $("#canvaDocument").on("click", ".imageToolbarFlipHorizontally.enabled a", {cancel: !0}, JA);
        $("#canvaDocument").on("click", ".imageToolbarFlipVertically.enabled a", {cancel: !0}, KA);
        $("#canvaDocument").on("change", ".textToolbarFontFamily", LA);
        $("#canvaDocument").on("click", ".textToolbar .fontUpgradeCta", {cancel: !0}, function () {
            var a = Na;
            a.analytics.track("learn_more_fonts");
            Ji(a, MA)
        });
        $("#canvaDocument").on("change", ".textToolbarFontSize", NA);
        $("#canvaDocument").on("click", ".textToolbarBold.enabled a", {cancel: !0}, OA);
        $("#canvaDocument").on("click", ".textToolbarBold.disabled.on a", {cancel: !0},
            OA);
        $("#canvaDocument").on("click", ".textToolbarUppercase.enabled a", {cancel: !0}, PA);
        $("#canvaDocument").on("click", ".textToolbarItalic.enabled a", {cancel: !0}, QA);
        $("#canvaDocument").on("click", ".textToolbarItalic.disabled.on a", {cancel: !0}, QA);
        $("#canvaDocument").on("click", ".textToolbarLeft.enabled a", {cancel: !0}, RA);
        $("#canvaDocument").on("click", ".textToolbarCenter.enabled a", {cancel: !0}, SA);
        $("#canvaDocument").on("click", ".textToolbarRight.enabled a", {cancel: !0}, TA);
        $("#canvaDocument").on("click",
            ".textToolbarList.enabled a", {cancel: !0}, UA);
        $("#canvaDocument").on("click", ".elementToolbarTransparency.enabled a", {cancel: !0}, Za);
        $("#canvaDocument").on("click", ".textToolbarTextSpacing.enabled a", {cancel: !0}, $a);
        $("#canvaDocument").on("click", ".elementToolbarHorizontalAlignLeft.enabled a", {cancel: !0}, VA);
        $("#canvaDocument").on("click", ".elementToolbarHorizontalAlignRight.enabled a", {cancel: !0}, WA);
        $("#canvaDocument").on("click", ".elementToolbarHorizontalAlignCenter.enabled a", {cancel: !0}, XA);
        $("#canvaDocument").on("click",
            ".elementToolbarVerticalAlignTop.enabled a", {cancel: !0}, YA);
        $("#canvaDocument").on("click", ".elementToolbarVerticalAlignBottom.enabled a", {cancel: !0}, ZA);
        $("#canvaDocument").on("click", ".elementToolbarVerticalAlignCenter.enabled a", {cancel: !0}, $A);
        $("#canvaDocument").on("click", ".elementToolbarVerticalDistribute.enabled a", {cancel: !0}, aB);
        $("#canvaDocument").on("click", ".elementToolbarHorizontalDistribute.enabled a", {cancel: !0}, bB);
        $("#canvaDocument").on("click", ".elementToolbarLink.enabled a", {cancel: !0},
            cB);
        $("#canvaDocument").on("click", ".elementToolbarPhotoFilters.enabled a", {cancel: !0}, function () {
            dB.call(this, Hb(a.F))
        });
        $("#canvaDocument").on("click", ".elementToolbarFlipHorizontally.enabled a", {cancel: !0}, eB);
        $("#canvaDocument").on("click", ".elementToolbarFlipVertically.enabled a", {cancel: !0}, fB);
        $(window).resize(gB)
    }

    function gB() {
        wp();
        G.trigger("hideContextualControlsRequested")
    }

    var hB = 0, iB = 0, jB = !1;

    function sp(a, b, c) {
        function d(a, b, c) {
            vh(p.translate(-b, -c), a).translate(b, c)
        }

        var e = a.data("element");
        if (e) {
            var g = e.data("canvaElement");
            if (g) {
                c = c || 2;
                window.clearTimeout(hB);
                hB = window.setTimeout(function () {
                    jB = !1;
                    $(".elementToolbar").removeClass("animating");
                    $(".textToolbar").removeClass("animating");
                    $(".imageToolbar").removeClass("animating")
                }, 150);
                var e = a.data("position") || c, h = b.Y(), k = b.O(), l = 0, m = 0, n = a.data("width"), q = a.data("height"), l = h, m = k - q - 20;
                a.data("position", c);
                var k = document.getElementById("canvaDocument"),
                    h = parseInt($("#overlays").css("left"), 10), h = k.scrollLeft - h, k = k.scrollTop, r = rh(kB().translate(10, 10), -20, -20), p = new L(l, m, n, q);
                d(r, h, k);
                l = p.O() - m;
                if (2 == c) {
                    c = p.Y();
                    var m = p.O(), u = 50 > p.O() && 0 < $(".aboveTextOrImageToolbar").length;
                    a.removeClass("withElementToolbar");
                    g = g.Ua();
                    140 < g && 220 > g && p.Oa(m - (50 - Math.abs(180 - g)));
                    g = 0;
                    u || (g = 45, a.hasClass("imageToolbar") && (g = 0));
                    p.va() > b.O() || u || a.hasClass("imageToolbar") ? (p.setPosition(c, m).translate(0, q + 20 + b.D() + 20 - l + g), d(r, h, k), a.addClass("underneath"), a.hasClass("textToolbar") &&
                    0 < $(".aboveTextOrImageToolbar").length && a.addClass("withElementToolbar"), a.data("position", 3)) : a.removeClass("underneath");
                    e !== a.data("position") && (a.css("display", "none").addClass("doNotAnimate"), wp())
                }
                jB || (b = $(".elementToolbar"), e = a.hasClass("textToolbar") || a.hasClass("imageToolbar"), q = a.data("position") === b.data("position"), e && q ? (jB = !0, b.addClass("aboveTextOrImageToolbar")) : (jB = !1, b.removeClass("aboveTextOrImageToolbar")), b.addClass("animating"));
                p.round();
                a.css("display", "").css("transform", Vi({
                    Nc: p.Y(),
                    Oc: p.O()
                })).delay(20, function () {
                    $(this).hasClass("doNotAnimate") && $(this).removeClass("doNotAnimate")
                });
                u && $(".aboveTextOrImageToolbar").css("display", "").css("transform", Vi({
                    Nc: p.Y(),
                    Oc: p.O() + p.D() + 50
                })).delay(20, function () {
                    $(this).hasClass("doNotAnimate") && $(this).removeClass("doNotAnimate")
                });
                clearTimeout(iB);
                iB = setTimeout(function () {
                    var b = a.data("fxPanelView");
                    b && lB(b, a.offset(), a.hasClass("underneath"))
                }, 120)
            }
        }
    }

    function mB() {
        return $('\x3cul class\x3d"toolbarMoreGroup linkMoreGroup"\x3e\x3cli\x3e\x3cdiv class\x3d"link"\x3e\x3cinput class\x3d"linkInput textInput" type\x3d"text" placeholder\x3d"http://example.com" /\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e')
    }

    function nB(a, b, c) {
        var d = !0, e = a.data("moreGroups") || $();
        c.addClass("toolbarReferencePoint").data("moreControl", b);
        b.append(c);
        b.on("click", function () {
            function e(a) {
                var b = document.elementFromPoint(a.clientX || 0, a.clientY || 0), b = 0 < $(b).closest(c.get(0)).length, d = c.hasClass("letterSpacingSliderPresent");
                a = $(a.target).is("[contenteditable\x3d'true']");
                b || d && a || h()
            }

            function h() {
                l.Ii() && l.wf();
                d = !1;
                window.setTimeout(function () {
                    d = !0
                }, 310);
                $(".sliderTooltip").remove();
                $("#overlays, .element, body").off("mousedown",
                    e);
                b.append(c).removeClass("on");
                c.removeClass("on").removeClass("preparing").removeClass("animating").removeData("toolbar");
                wp = n
            }

            function k(b, c) {
                c.addClass("preparing");
                $("#overlays").append(c);
                var d = b.parent().offset().top - $("#overlays").offset().top;
                c.get(0).getBoundingClientRect();
                var e = 0, g = b.offset().left - $("#overlays").offset().left + 20;
                c.removeClass("upwards").addClass("downwards");
                e = d + b.parent().height();
                d = c.css("margin-left", -c.outerWidth() / 2);
                c.data("toolbar", a).css("top", e + "px").css("left",
                    g + "px").css("margin-left", d + "px").removeClass("preparing").addClass("on")
            }

            if (!b.hasClass("disabled")) {
                G.trigger("hideContextualControlsRequested");
                var l = a.data("element").data("canvaElement");
                if (c.hasClass("menuOverride")) {
                    var m = c.find(".menuOverridden");
                    c.removeClass("menuOverride").css("height", "auto").css("width", "auto").empty().append(m.contents())
                }
                if (d && l) {
                    b.addClass("on");
                    var n = wp;
                    wp = h;
                    k(b, c);
                    $("#overlays, .element, body").on("mousedown", e)
                }
            }
        });
        a.data("moreGroups", e.add(c))
    }

    function wp() {
    }

    var oB = _.template('\x3cmenu class\x3d"tooltipToolbar elementToolbar"\x3e\x3cli class\x3d"elementToolbarCrop"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- cropMsg %\x3e"\x3e\x3c%- cropMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarCopy"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- copyMsg %\x3e"\x3e\x3c%- copyMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarForward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- forwardMsg %\x3e"\x3e\x3c%- forwardMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarBackward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- backMsg %\x3e"\x3e\x3c%- backMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarDelete"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c%- deleteMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarLink active"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- editLinkMsg %\x3e"\x3e\x3c%- editLinkMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e');

    function pB(a, b) {
        var c = a.data("canvaElement");
        if (c && c.Yg()) {
            var d = $("#overlays"), e = a.data("toolbar"), g = So(c);
            if (!e) {
                e = $(oB({
                    cropMsg: b.format("editorToolbarElementCrop"),
                    copyMsg: b.format("editorToolbarElementCopy"),
                    forwardMsg: b.format("editorToolbarElementForward"),
                    backMsg: b.format("editorToolbarElementBack"),
                    deleteMsg: b.format("editorToolbarElementDelete"),
                    editLinkMsg: b.format("editorToolbarElementEditLink")
                }));
                e.appendTo(d).data("element", a);
                a.data("toolbar", e);
                1 < a.length ? (e.find("li").addClass("disabled"),
                    ["Copy", "Delete"].forEach(function (a) {
                        $(".elementToolbar" + a.replace(/[^a-zA-Z]/gi, ""), e).addClass("enabled").removeClass("disabled")
                    })) : c.qb() ? ($("li", e).addClass("disabled"), $(".elementToolbarDelete", e).removeClass("disabled").addClass("enabled")) : e.find("li").addClass("enabled");
                c.xw() && (d = _.template('\x3cli class\x3d"elementToolbarPhotoFilters disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarElementFilter")}),
                    d = $(d), e.prepend(d), c.Cf() && d.removeClass("disabled").addClass("enabled"));
                var h = function (a) {
                    return !0 === a.enabled
                }, k = function (a) {
                    var b = h(a) ? " enabled" : " disabled";
                    return '\x3cli class\x3d"elementToolbar' + a.id.replace(/[^a-zA-Z]/gi, "") + b + '"\x3e\x3ca href\x3d"#" title\x3d"' + a.name + '"\x3e' + a.name + "\x3c/a\x3e\x3c/li\x3e"
                }, d = $('\x3cul class\x3d"toolbarMoreGroup"\x3e' + g.map(k).join("") + "\x3c/ul\x3e");
                if (c.Ni()) {
                    var l = _.template('\x3cli class\x3d"elementToolbarUngroup enabled"\x3e\x3ca title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarElementUngroup")}),
                        l = $(l);
                    e.prepend(l);
                    l = _.template('\x3cli class\x3d"elementToolbarAlign enabled"\x3e\x3ca title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarElementAlign")});
                    l = $(l);
                    e.append(l);
                    k = $('\x3cul class\x3d"toolbarMoreGroup toolbarMoreGroupAlign"\x3e' + c.cA.map(k).join("") + "\x3c/ul\x3e");
                    nB(e, l, k)
                }
                0 !== g.filter(h).length && e.append(_.template('\x3cli class\x3d"elementToolbarMore"\x3e\x3ca class\x3d"more" href\x3d"#" title\x3d"\x3c%- moreMsg %\x3e"\x3e\x3c%- moreMsg %\x3e\x3c/a\x3e\x3c/li\x3e')({moreMsg: b.fl()}));
                nB(e, e.find(".elementToolbarMore"), d);
                nB(e, e.children(".elementToolbarLink"), mB());
                1 == a.length && (c instanceof Xi || c instanceof $o) && c.jc && (g = qB(c.jc(), b), e.find(".elementToolbarDelete").after(g));
                e.data("width", e.outerWidth()).data("height", e.outerHeight())
            }
            c.Ca();
            c.Ii() && c.Cf && c.Cf() && (!c.Oi || c.Cb) && $(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")
        }
    }

    function Lp(a) {
        var b = $("#overlays"), c = a.data("confirmationToolbar");
        c || (c = $('\x3cmenu class\x3d"crop elementToolbar"\x3e\x3cli class\x3d"enabled confirmationToolbarOk"\x3e\x3ca href\x3d"#"\x3eOk\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"enabled confirmationToolbarCancel"\x3e\x3ca href\x3d"#"\x3eCancel\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e'), c.appendTo(b).data("element", a).data("width", c.outerWidth()).data("height", c.outerHeight()), a.data("confirmationToolbar", c))
    }

    function rB(a, b) {
        var c = Nd(Ka), d = a.data("textToolbar"), e = a.data("selectionBox"), g = a.data("canvaElement");
        if (!d && g instanceof Nj) {
            var d = a.data("fontName") + "", h = a.data("fontFamily") + "";
            (h = go(La, h)) && h.displayName && (d = h.displayName);
            h = a.data("fontSize") || "";
            d = $(_.template('\x3cmenu class\x3d"fauxToolbar tooltipToolbar textToolbar"\x3e\x3cli class\x3d"textToolbarFont"\x3e\x3cspan class\x3d"textToolbarFontInner"\x3e\x3cspan class\x3d"fontFamilySelectReplace"\x3e\x3c/span\x3e\x3cspan class\x3d"textToolbarFontFamilySpan"\x3e' +
                (d || "") + '\x3c/span\x3e\x3cspan class\x3d"fontSizeSelectReplace"\x3e\x3c/span\x3e\x3cspan class\x3d"textToolbarFontSizeSpan"\x3e\x3cinput type\x3d"text" autocomplete\x3d"off" value\x3d"' + h + '"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- pickAColorMsg %\x3e"\x3e\x3cspan\x3e\x3c%- pickAColorMsg %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarDelete enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c%- deleteMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarMore"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- moreMsg %\x3e"\x3e\x3c%- moreMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({
                moreMsg: b.fl(),
                deleteMsg: b.format("editorToolbarTextDelete"), pickAColorMsg: b.format("editorToolbarTextPickAColor")
            }));
            d.appendTo($("#overlays")).data("element", a).data("width", d.outerWidth()).data("height", d.outerHeight());
            var h = g.hb(), k = g.nb() + (g.Aa() - g.O()) * M, g = new L(h, k, g.ec() * M, g.bc() * M);
            e && e.addClass("horizontalScale");
            Tq(d, a);
            sp(d, g, 2);
            e && e.show()
        }
        window.setTimeout(function () {
            null != a && bz(a, b, c, !0)
        }, 300)
    }

    function Xq(a, b) {
        var c = $("#overlays"), d = a.data("imageToolbar"), e = a.data("canvaElement");
        d || (d = $(_.template('\x3cmenu class\x3d"tooltipToolbar imageToolbar off"\x3e\x3cli class\x3d"elementToolbarPhotoFilters disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- filterTitle %\x3e"\x3e\x3c%- filterMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"imageToolbarCrop disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- cropMsg %\x3e"\x3e\x3c%- cropMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"imageToolbarDelete disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c%- deleteMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({
            filterTitle: b.format("editorToolbarImageFilterTitle"), filterMsg: b.format("editorToolbarImageFilter"),
            cropMsg: b.format("editorToolbarImageCrop"), deleteMsg: b.format("editorToolbarImageDelete")
        })), e instanceof ap && (d.find(".imageToolbarDelete").before(_.template('\x3cli class\x3d"imageToolbarColor enabled"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3cspan\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarImagePickAColor")})), d.append(_.template('\x3cli class\x3d"imageToolbarMore disabled"\x3e\x3ca class\x3d"more" href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.fl()})),
            nB(d, d.find(".imageToolbarMore"), $('\x3cmenu class\x3d"toolbarMoreGroup"\x3e\x3cli class\x3d"imageToolbarFlipHorizontally enabled"\x3e\x3ca href\x3d"#" title\x3d"Flip Horizontally"\x3eFlip Horizontally\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"imageToolbarFlipVertically enabled"\x3e\x3ca href\x3d"#" title\x3d"Flip Vertically"\x3eFlip Vertically\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e'))), a.data("imageToolbar", d));
        d.appendTo(c).data("element", a).data("width", d.outerWidth()).data("height", d.outerHeight());
        e.Ca();
        window.setTimeout(function () {
            d.removeClass("off")
        }, 100)
    }

    function bz(a, b, c, d, e) {
        function g() {
            wp();
            G.trigger("hideContextualControlsRequested");
            var a = $(this).siblings(".textToolbarFontFamily:not(select)");
            $("#overlays \x3e .mask").addClass("on ddslick");
            a.ddslick("open");
            var d = a.find(".dd-options"), e = $("#canvaDocument").offset();
            d.css("margin-top", "");
            e && e.top && d.offset().top < e.top + 20 && d.css("margin-top", e.top);
            c && (d = a.find(".dd-options"), e = a.closest(".textToolbar").find(".fontUpgradeCta"), 0 === e.length && (e = _.template('\x3cdiv class\x3d"fontUpgradeCta"\x3e\x3cspan class\x3d"fontUploadUpgradePrompt"\x3e\x3c%- fontUploadUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e'),
                e = $(e({
                    fontUploadUpgradePrompt: b.lC(),
                    learnMoreButtonLabel: b.ds()
                })), e.insertAfter(d.closest(".dd-container")), d.height(d.height() - e.height()), a.addClass("showFontUpgradeCta")), e.css("left", parseInt(d.css("left"), 10)), e.css("top", parseInt(d.css("top"), 10) + d.outerHeight(!0)));
            return !1
        }

        function h(a) {
            wp();
            G.trigger("hideContextualControlsRequested");
            var b = $(this).siblings(".textToolbarFontSize"), c = $(this).find("input");
            if (b.hasClass("on"))a.target === a.currentTarget && b.ddslick("close"); else return c.select(),
                $("#overlays \x3e .mask").addClass("on ddslick"), b.ddslick("open"), !1
        }

        function k() {
            $("#overlays \x3e .mask").removeClass("on ddslick")
        }

        function l(b) {
            $("#overlays \x3e .mask").removeClass("on ddslick");
            $("#null").focus();
            if (!b.didSelectAnOption) {
                var c = a.data("canvaElement"), d = c.wc(c.mb()), e = A.find("input"), g = parseFloat(e.val()), h = b.lastKeyBeforeSelect;
                if ("enter" != h && "tab" != h || isNaN(g))e.val(sB(d / Sa.Ge)), "enter" == h && (b.cancel = !0, e.select()); else {
                    -1 === q.indexOf(g) && $(this).ddslick("deselect");
                    var k =
                        Math.max(Math.min(400, g), 1) * Sa.Ge;
                    tB(c, function () {
                        c.Uo(k)
                    })
                }
            }
        }

        function m() {
            function a(b) {
                var c = b.name || b.family, d = b.displayName || c;
                b = b.N;
                var e = $("\x3coption\x3e");
                e.attr("data-image-src", b).val(c).text(d);
                return e
            }

            function b(a) {
                return function (b) {
                    b.appendTo(a)
                }
            }

            var c = zu(La), d = La.Us, e = wu(La), g = $('\x3cselect class\x3d"textToolbarFontFamily"\x3e\x3coptgroup class\x3d"textToolbarFontGroup priority"\x3e\x3c/optgroup\x3e\x3coptgroup class\x3d"textToolbarFontGroup user"\x3e\x3c/optgroup\x3e\x3coptgroup class\x3d"textToolbarFontGroup all"\x3e\x3c/optgroup\x3e\x3c/select\x3e'),
                h = g.find("optgroup.user"), k = g.find("optgroup.priority"), l = g.find("optgroup.all");
            e.map(a).forEach(b(h));
            d.map(a).forEach(b(k));
            c.map(a).forEach(b(l));
            return g
        }

        function n() {
            var a = $('\x3cselect class\x3d"textToolbarFontSize"\x3e');
            q.map(function (a) {
                return $("\x3coption\x3e").attr("data-text", a).text(a)
            }).forEach(function (b) {
                b.appendTo(a)
            });
            return a
        }

        var q = ib, r = $("#overlays"), p = a.data("textToolbar"), u = a.data("canvaElement");
        if (u && (e || u.selected))if (Sa) {
            if (!p) {
                var w = m();
                e = n();
                var z = a.data("fontName") +
                    "", p = a.data("fontFamily") + "", x = z;
                (p = go(La, p)) && p.displayName && (x = p.displayName);
                var C = u.wc(u.mb()), p = $(_.template('\x3cmenu class\x3d"tooltipToolbar textToolbar realToolbar"\x3e\x3cli class\x3d"textToolbarFont"\x3e\x3cspan class\x3d"textToolbarFontInner"\x3e\x3cspan class\x3d"textToolbarFontFamilySpan"\x3e\x3c/span\x3e\x3cspan class\x3d"textToolbarFontSizeSpan"\x3e\x3cinput type\x3d"text" autocomplete\x3d"off"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- pickAColorMsg %\x3e"\x3e\x3cspan\x3e\x3c%- pickAColorMsg %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarMore"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- moreMsg %\x3e"\x3e\x3c%- moreMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({
                    pickAColorMsg: b.format("editorToolbarTextPickAColor"),
                    moreMsg: b.fl()
                }));
                p.find(".textToolbarFontFamilySpan").text(x).before(w);
                p.find(".textToolbarFontSizeSpan").before(e);
                p.find(".textToolbarFontSizeSpan input").val(C);
                d && p.find(".textToolbarMore").before(_.template('\x3cli class\x3d"elementToolbarDelete enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarTextDelete")})).before(_.template('\x3cli class\x3d"elementToolbarLink enabled active"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarTextEditLink")}));
                p.find(".textToolbarFontSize option[data-text\x3d24]").prop("selected", !0);
                x ? (x = p.find(".textToolbarFontFamily option").filter(function () {
                    return $(this).val() === z
                }), w.val(x.val() + "")) : w.val("Glegoo");
                LA.call(w.get(0));
                e.val((C / Sa.Ge).toString());
                NA.call(e.get(0));
                p.appendTo(r).data("element", a).data("width", p.outerWidth()).data("height", p.outerHeight());
                r = $(_.template('\x3cmenu class\x3d"toolbarMoreGroup"\x3e\x3cli class\x3d"textToolbarBold enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- boldMsg %\x3e"\x3e\x3c%- boldMsg %\x3e\x3ca\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarItalic enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- italicMsg %\x3e"\x3e\x3c%- italicMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarUppercase enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- uppercaseMsg %\x3e"\x3e\x3c%- uppercaseMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarList disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- listMsg %\x3e"\x3e\x26bull; \x3c%- listMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarLeft enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- leftMsg %\x3e"\x3e\x3c%- leftMsg %\x3e \x26ndash;\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarCenter enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- centerMsg %\x3e"\x3e\x26ndash; \x3c%- centerMsg %\x3e \x26ndash;\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarRight enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- rightMsg %\x3e"\x3e\x26ndash; \x3c%- rightMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({
                    boldMsg: b.format("editorToolbarTextBold"),
                    italicMsg: b.format("editorToolbarTextItalic"),
                    uppercaseMsg: b.format("editorToolbarTextUppercase"),
                    listMsg: b.format("editorToolbarTextList"),
                    leftMsg: b.format("editorToolbarTextLeft"),
                    rightMsg: b.format("editorToolbarTextRight"),
                    centerMsg: b.format("editorToolbarTextCenter")
                }));
                d && (r.append(_.template('\x3cli class\x3d"dividerAbove textToolbarTextSpacing enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarTextSpacing")})).append(_.template('\x3cli class\x3d"dividerAbove elementToolbarCopy enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarTextCopy")})).append(_.template('\x3cli class\x3d"elementToolbarLink enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarTextLink")})).append(_.template('\x3cli class\x3d"elementToolbarTransparency enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarTextTransparency")})).append(_.template('\x3cli class\x3d"elementToolbarForward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarTextMoveForward")})).append(_.template('\x3cli class\x3d"elementToolbarBackward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label: b.format("editorToolbarTextMoveBack")})),
                    nB(p, p.find(".elementToolbarLink"), mB()));
                nB(p, p.find(".textToolbarMore"), r);
                d = w.find("optgroup.priority option").last().index();
                r = d + w.find("optgroup.user option").last().index() + 1;
                w.hasClass("dd-container") || (w.ddslick({onClose: k}), -1 < d && p.find(".textToolbarFontFamily .dd-options li").eq(d).addClass("endOfGroup"), -1 < r && p.find(".textToolbarFontFamily .dd-options li").eq(r).addClass("endOfGroup"), p.find(".textToolbarFontFamily .dd-option-selected").slice(1).removeClass("dd-option-selected"));
                w = p.find(".textToolbarFontFamilySpan");
                w = new V(w);
                w.on("mousedown", g);
                w.on("touchstart", g);
                var A = p.find(".textToolbarFontSizeSpan");
                e.hasClass("dd-container") || e.ddslick({
                    onClose: l,
                    width: "6em",
                    align: "bottom",
                    linkedControl: A.find("input").get(0)
                });
                e = new V(A);
                e.on("mousedown", h);
                e.on("touchstart", h);
                a.data("textToolbar", p)
            }
            Tq(p, a);
            u.Ca();
            window.setTimeout(function () {
                $(".fauxToolbar.textToolbar").remove()
            }, 300)
        } else $(".fauxToolbar").remove(); else $(".fauxToolbar").remove()
    }

    function CA() {
        G.trigger("hideContextualControlsRequested");
        $("#overlays .element.text").each(function () {
            Jo($(this))
        });
        var a = $(this).parents("li"), b = J(t), c = b.Da(), b = tz(b, c), d = $("#layerGraph");
        if (0 >= d.length)for (var d = $('\x3col id\x3d"layerGraph"\x3e\x3c/ol\x3e'), e = 0; e < b.length + 1; e++)d.append("\x3cli\x3eLayer " + e + "\x3c/li\x3e"); else d.css("opacity", "");
        $("#overlays").append(d);
        d.css("top", a.offset().top - $("#overlays").offset().top + 15);
        d.css("left", a.parents("menu").offset().left - $("#overlays").offset().left -
            15);
        if (!d.data("locked") && (d.stop(), window.clearTimeout(d.data("fadeTimer")), 0 !== c.length)) {
            var e = c[0], g = e.ea(), c = b.filter(function (a) {
                return a.ea() > g
            });
            if (a = c[0])e.insertAfter(a), e.Ca(), b = {
                oldElementIndex: g,
                elementIndex: e.ea(),
                pageIndex: T(t, e.ca())
            }, y.register(new U(4, b));
            var b = $("li", d), h = b.eq(c.length), k = h.prev(), c = b.first().outerHeight(!0);
            h.addClass("selected");
            a && (d.data("locked", !0), h.animate({left: -c / 2}, {
                duration: 100, Fe: "linear", queue: !1, complete: function () {
                    $(this).animate({left: 0}, {
                        duration: 100,
                        Fe: "linear", queue: !1, complete: function () {
                            k.before(h);
                            h.css("left", "").css("top", "");
                            k.css("top", "");
                            d.removeData("locked")
                        }
                    })
                }
            }).animate({top: -c}, {duration: 200, queue: !1}), k.animate({top: c}, 200));
            a = window.setTimeout(function () {
                d.animate({opacity: 0}, 1E3, function () {
                    $(this).remove()
                })
            }, 1E3);
            d.data("fadeTimer", a)
        }
    }

    function BA() {
        G.trigger("hideContextualControlsRequested");
        $("#overlays .element.text").each(function () {
            Jo($(this))
        });
        var a = $(this).parents("li"), b = J(t), c = b.Da(), b = tz(b, c), d = $("#layerGraph");
        if (0 >= d.length)for (var d = $('\x3col id\x3d"layerGraph"\x3e\x3c/ol\x3e'), e = 0; e < b.length + 1; e++)d.append("\x3cli\x3eLayer " + e + "\x3c/li\x3e"); else d.css("opacity", "");
        $("#overlays").append(d);
        d.css("top", a.offset().top - $("#overlays").offset().top + 15);
        d.css("left", a.parents("menu").offset().left - $("#overlays").offset().left -
            15);
        if (!d.data("locked") && (d.stop(), window.clearTimeout(d.data("fadeTimer")), 0 !== c.length)) {
            var e = c[0], g = e.ea(), c = b.filter(function (a) {
                return a.ea() < g
            }).reverse();
            if (a = c[0])e.insertBefore(a), e.Ca(), e = {
                oldElementIndex: g,
                elementIndex: e.ea(),
                pageIndex: T(t, e.ca())
            }, y.register(new U(4, e));
            var e = $("li", d), h = e.eq(b.length - c.length), k = h.next(), b = e.first().outerHeight(!0);
            h.addClass("selected");
            a && (d.data("locked", !0), h.animate({left: -b / 2}, {
                duration: 100, Fe: "linear", queue: !1, complete: function () {
                    $(this).animate({left: 0},
                        {
                            duration: 100, Fe: "linear", queue: !1, complete: function () {
                            k.after(h);
                            h.css("left", "").css("top", "");
                            k.css("top", "");
                            d.removeData("locked")
                        }
                        })
                }
            }).animate({top: b}, {duration: 200, queue: !1}), k.animate({top: -b}, 200));
            b = setTimeout(function () {
                d.animate({opacity: 0}, 1E3, function () {
                    $(this).remove()
                })
            }, 1E3);
            d.data("fadeTimer", b)
        }
    }

    function DA() {
        G.trigger("hideContextualControlsRequested");
        $("#overlays .element.text").each(function () {
            Jo($(this))
        });
        wp();
        G.trigger("hideContextualControlsRequested");
        var a = [];
        t.Da().forEach(function (b) {
            var c = b.clone(), d = b.ca() || J(t);
            b.cl && !1 === b.cl() && c.gu && c.gu();
            jp(c, 30);
            kp(c, 30);
            c.appendTo(d);
            c.sb();
            a.push(c)
        });
        ev();
        a.forEach(Ud);
        O();
        fv();
        setTimeout(function () {
            tv(a)
        }, 20)
    }

    function EA() {
        G.trigger("hideContextualControlsRequested");
        ev();
        t.Da().forEach(function (a) {
            "function" == typeof a.Tt && a.Tt();
            Fx(a);
            a.remove()
        });
        fv();
        $(".multipleSelectionBox").remove()
    }

    function FA() {
        qv()
    }

    function GA() {
        pv()
    }

    function IA() {
        G.trigger("hideContextualControlsRequested");
        var a = $(this).parents(".imageToolbar").data("element").data("canvaElement"), b = a.ub(), c = a.tg(b), b = {
            elementIndex: a.ea(),
            pageIndex: a.ca().ea(),
            placeholderIndex: b,
            "new": {},
            old: c
        };
        a.iy();
        y.register(new U(ry, b));
        a.Ba();
        a.uj()
    }

    function HA() {
        G.trigger("hideContextualControlsRequested");
        t.Da().forEach(function (a) {
            uB(a)
        })
    }

    function JA() {
        var a = vB(this), b = a.ub(), c = a.ya[b], d = c.fb, e = d ^ 1;
        c.Kh(e);
        a = {
            pageIndex: T(t, a.ca()),
            elementIndex: a.ea(),
            placeholderIndex: b,
            old: {flipOrientation: d},
            "new": {flipOrientation: e}
        };
        y.register(new U(12, a))
    }

    function KA() {
        var a = vB(this), b = a.ub(), c = a.ya[b], d = c.fb, e = d ^ 2;
        c.Kh(e);
        a = {
            pageIndex: T(t, a.ca()),
            elementIndex: a.ea(),
            placeholderIndex: b,
            old: {flipOrientation: d},
            "new": {flipOrientation: e}
        };
        y.register(new U(12, a))
    }

    function vB(a) {
        return $(a).parents(".toolbarMoreGroup").data("moreControl").parents(".imageToolbar").data("element").data("canvaElement")
    }

    function LA() {
        function a(a) {
            d.removeClass("loading");
            d.find(".spinner").remove();
            var b = c.data("canvaElement");
            if (b)if (a) {
                if (ao(c, !0), !c.is(".focused")) {
                    a = h.index;
                    var e = b.mc(a), b = {
                        elementIndex: b.ea(),
                        pageIndex: T(t, b.ca()),
                        textIndex: a,
                        "new": e,
                        old: h
                    };
                    y.register(new uy(1, b))
                }
            } else alert("Sorry, there was a problem trying to apply the font " + g + ". Please let us know about it.")
        }

        var b = $(this), c = b.parents(".textToolbar").data("element"), d = b.nextAll(".textToolbarFontFamilySpan"), e = null;
        $("option", b).each(function () {
            1 ==
            this.selected && (e = $(this))
        });
        null == e && (e = $('option[selected\x3d"selected"]', b));
        var g = e.val(), b = e.text();
        d.text(b);
        var h = null;
        if (c) {
            var b = c.data("canvaElement"), k = b.mb();
            -1 < k && (d.addClass("loading").append('\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'), h = b.mc(k), b.ef(k, g, a))
        }
    }

    function NA() {
        var a = $(this), b = a.parents(".textToolbar").data("element"), c = a.nextAll(".textToolbarFontSizeSpan"), d = null;
        $("option", a).each(function () {
            1 == this.selected && (d = $(this))
        });
        null == d && (d = $('option[selected\x3d"selected"]', a));
        c.find("input").val(d.text());
        if (b) {
            var e = b.data("canvaElement"), g = parseFloat(a.val() * Sa.Ge);
            tB(e, function () {
                e.Uo(g)
            })
        }
    }

    function dB(a) {
        var b = function (a) {
            return 0 < a.parents(".toolbarReferencePoint").length ? a.parents(".toolbarReferencePoint").data("toolbar") : a.parents(".elementToolbar, .textToolbar, .imageToolbar")
        }($(this)), c = b.data("element").data("canvaElement");
        c.Qn();
        var d = !!b.data("isFxPanelVisible");
        G.trigger("hideContextualControlsRequested");
        if (!d) {
            G.once("hideContextualControlsRequested", function () {
                b.removeData("isFxPanelVisible")
            });
            b.data("isFxPanelVisible", !0);
            var e = new wB({model: c.Sb(), Os: Rt, Xc: a});
            lB(e,
                b.offset(), b.hasClass("underneath"));
            e.$el.removeClass("appeared").addClass("appearing");
            e.$el.appendTo("#content");
            $(".fxPanel").show();
            window.setTimeout(function () {
                e.$el.removeClass("appearing").addClass("appeared")
            }, 330);
            wp()
        }
    }

    function cB() {
        function a(a) {
            a.val(k).data("element", g).data("lastLinkState", k).focus().select();
            if (!a.data("linkKeyup"))a.data("linkKeyup", d).on("keyup", d)
        }

        function b() {
            var b = $('\x3cinput class\x3d"linkInput textInput" type\x3d"text" placeholder\x3d"http://example.com" /\x3e'), c = $('\x3cdiv class\x3d"link"\x3e\x3c/div\x3e');
            c.append(b);
            a(b);
            var d = h.width(), e = h.position().top;
            h.addClass("overriding").css("overflow", "visible").animate({
                    left: h.position().left - (230 - d) / 2,
                    width: 230,
                    height: 43,
                    top: e
                }, 300,
                "easeOutSine", function () {
                    h.addClass("menuOverride").wrapInner('\x3cdiv class\x3d"menuOverridden"\x3e\x3c/div\x3e').append(c).removeClass("overriding");
                    b.focus()
                })
        }

        function c() {
            var b = e.find("~ .linkMoreGroup input.linkInput");
            a(b)
        }

        function d(a) {
            var b = $(a.target), c = b.parent(), d = b.val().trim(), h = vb.test(d) || mb.test(d), k = b.data("linkKeyup");
            13 === a.which ? "" === d || h ? ("" === d || mb.test(d) || null !== d.match(/^(http)/) || (d = "http://" + d), b.val(d), ep(g, d), xB.call(b.get(0)), wp(), e.toggleClass("hasLink", !!fp(g))) : (b.off("keyup",
                k), alert("Please enter in a valid URL"), setTimeout(function () {
                b.on("keyup", k)
            }, 100)) : (c.removeClass("valid invalid"), d && h ? c.addClass("valid") : d && !h && c.addClass("invalid"))
        }

        var e = function (a) {
            return 0 < a.parents(".toolbarReferencePoint").length ? a.parents(".toolbarReferencePoint").data("toolbar") : a.parents(".elementToolbar, .textToolbar")
        }($(this)), g = e.data("element").data("canvaElement"), h = $(this).parents(".toolbarMoreGroup"), k = fp(g);
        0 < h.length ? b() : c()
    }

    function eB() {
        ev();
        t.Da().forEach(function (a) {
            if (a.xg(1)) {
                var b = a.fb, c = b ^ 1;
                a.Kh(c);
                a = {
                    pageIndex: T(t, a.ca()),
                    elementIndex: a.ea(),
                    "new": {flipOrientation: c},
                    old: {flipOrientation: b}
                };
                y.register(new U($i, a))
            }
        });
        fv()
    }

    function fB() {
        ev();
        t.Da().forEach(function (a) {
            if (a.xg(2)) {
                var b = a.fb, c = b ^ 2;
                a.Kh(c);
                a = {
                    pageIndex: T(t, a.ca()),
                    elementIndex: a.ea(),
                    "new": {flipOrientation: c},
                    old: {flipOrientation: b}
                };
                y.register(new U($i, a))
            }
        });
        fv()
    }

    function xB() {
        var a = $(this).data("element"), b = $(this).data("lastLinkState");
        b != fp(a) && (b = {
            elementIndex: a.ea(),
            pageIndex: T(t, a.ca()),
            "new": {link: fp(a)},
            old: {link: b || ""}
        }, y.register(new U(10, b)), $(this).data("lastLinkState", fp(a)))
    }

    function yB(a) {
        return function () {
            function b(a, b, c) {
                var d = a.get(0), e;
                $("." + b + "Tooltip").show();
                a.on("input", function () {
                    e !== a.val() && (c.call(d), e = a.val())
                });
                c.call(d)
            }

            if (!$(this).hasClass("disabled")) {
                var c = 32 * a.length, d = $(this).parents(".toolbarReferencePoint").data("toolbar").data("element").data("canvaElement"), e = $(this).parents(".toolbarMoreGroup"), g = e.width(), h = e.position().top, k = $('\x3cdiv class\x3d"sliderGroup"\x3e\x3c/div\x3e');
                a.forEach(function (a) {
                    a.fG && a.fG.call(d);
                    var c = a.name.charAt(0).toUpperCase() +
                        a.name.slice(1), g = $('\x3clabel class\x3d"sliderLabel"\x3e\x3cspan\x3e' + (a.displayName || c) + "\x3c/span\x3e\x3c/label\x3e"), h = $('\x3cinput class\x3d"sliderInput ' + a.name + 'SliderInput" step\x3d"1" type\x3d"range" min\x3d"0" max\x3d"100"/\x3e'), r = $("\x3cspan\x3e").addClass("rangeTrack"), p = $('\x3cdiv class\x3d"slider ' + a.name + 'Slider"\x3e\x3c/div\x3e'), u = a.method.call(d) || 0, u = "" + a.gs(u);
                    e.addClass(a.name + "SliderPresent");
                    h.val(u);
                    h.addClass(a.name + "SliderInput");
                    h.data("element", d);
                    h.data("last" + c + "State",
                        a.method.call(d));
                    g.append(r);
                    g.append(h);
                    p.append(g);
                    k.append(p);
                    var w = !1;
                    h.on("mousedown", function () {
                        if (!w) {
                            w = !0;
                            b(h, a.name, a.Yp);
                            var c = function () {
                                $(document).off("mouseup", c);
                                var b = a.name, d = a.cq, e = h.get(0);
                                h.off("change input");
                                d.call(e);
                                $("." + b + "Tooltip").hide();
                                $(".sliderTooltip").hide();
                                w = !1
                            };
                            $(document).on("mouseup", c)
                        }
                    })
                });
                e.addClass("overriding").animate({
                    left: e.position().left - (260 - g) / 2,
                    width: 260,
                    height: c,
                    top: h
                }, 300, "easeOutSine", function () {
                    e.addClass("menuOverride").wrapInner('\x3cdiv class\x3d"menuOverridden"\x3e\x3c/div\x3e').append(k).removeClass("overriding")
                });
                e.css("overflow", "visible")
            }
        }
    }

    function zB(a, b, c, d) {
        return function () {
            var e = $(this).width(), g = parseInt($(this).val(), 10), h = c(g), k = $(this).data("element"), l = $("." + b + "Tooltip"), m = $(this).offset().top, n = $(this).offset().left, m = m - $("#overlays").offset().top + -25, e = n - $("#overlays").offset().left + g / e * 106, g = d(g);
            1 !== l.length && (l = $('\x3cdiv class\x3d"sliderTooltip ' + b + 'Tooltip"\x3e\x3c/div\x3e'), $("#overlays").append(l));
            l.css("top", m).css("left", e).text(String(g));
            k && void 0 !== h && a.call(k, h)
        }
    }

    function AB(a, b) {
        return function () {
            var c = "last" + b.charAt(0).toUpperCase() + b.slice(1) + "State", d = $(this).data("element"), e = $(this).data(c), g = a.call(d);
            e != g && (d = {
                elementIndex: d.ea(),
                pageIndex: T(t, d.ca()),
                "new": {},
                old: {}
            }, d["new"][b] = g, d.old[b] = e, y.register(new U($i, d)), $(this).data(c, g))
        }
    }

    (function () {
        function a(a) {
            return 100 - a
        }

        function b() {
            return this.dw(this.mb())
        }

        function c() {
            return this.mr(this.mb())
        }

        Za = yB([{
            name: "transparency", method: Y.prototype.ow, Yp: zB(Y.prototype.bm, "transparency", a, function (a) {
                return a
            }), cq: AB(Y.prototype.ow, "transparency"), gs: a
        }]);
        $a = yB([{
            name: "letterSpacing", displayName: "Letter spacing", method: b, Yp: zB(function (a) {
                return this.At(this.mb(), a)
            }, "letterSpacing", function (a) {
                return 10 * a - 200
            }, function (a) {
                return 10 * a - 200
            }), cq: AB(b, "letterSpacing"), gs: function (a) {
                return (a +
                    200) / 10
            }
        }, {
            name: "lineHeight", displayName: "Line height", method: c, Yp: zB(function (a) {
                return this.Bt(this.mb(), a)
            }, "lineHeight", function (a) {
                return 2 * a + 50
            }, function (a) {
                return ((2 * a + 50) / 100).toFixed(1)
            }), cq: AB(c, "lineHeight"), gs: function (a) {
                return (a - 50) / 2
            }
        }])
    })();
    function RA() {
        var a = $(this).parents("li"), b = $(this).parents(".textToolbar");
        1 !== b.length && (b = $(this).parents(".toolbarReferencePoint").data("toolbar"));
        var c = b.data("element").data("canvaElement"), d = c.mb();
        tB(c, function () {
            c.Rf(d, "left");
            a.addClass("on");
            a.parents(".toolbarReferencePoint").find(".textToolbarRight").removeClass("on");
            a.parents(".toolbarReferencePoint").find(".textToolbarCenter").removeClass("on")
        })
    }

    function SA() {
        var a = $(this).parents("li"), b = $(this).parents(".textToolbar");
        1 !== b.length && (b = $(this).parents(".toolbarReferencePoint").data("toolbar"));
        var c = b.data("element").data("canvaElement"), d = c.mb();
        tB(c, function () {
            c.Rf(d, "center");
            a.addClass("on");
            a.parents(".toolbarReferencePoint").find(".textToolbarLeft").removeClass("on");
            a.parents(".toolbarReferencePoint").find(".textToolbarRight").removeClass("on")
        })
    }

    function TA() {
        var a = $(this).parents("li"), b = $(this).parents(".textToolbar");
        1 !== b.length && (b = $(this).parents(".toolbarReferencePoint").data("toolbar"));
        var c = b.data("element").data("canvaElement"), d = c.mb();
        tB(c, function () {
            c.Rf(d, "right");
            a.addClass("on");
            a.parents(".toolbarReferencePoint").find(".textToolbarLeft").removeClass("on");
            a.parents(".toolbarReferencePoint").find(".textToolbarCenter").removeClass("on")
        })
    }

    function OA() {
        var a = $(this).parents("li"), b = $(this).parents(".textToolbar");
        1 !== b.length && (b = $(this).parents(".toolbarReferencePoint").data("toolbar"));
        var c = b.data("element"), d = c.data("canvaElement"), e = d.mb(), g = !!c.data("bold");
        tB(d, function () {
            d.Gg(e, !g);
            ao(c, !0);
            (g = !!c.data("bold")) ? a.addClass("on") : a.removeClass("on")
        })
    }

    function PA() {
        var a = $(this).parents("li"), b = t.Da()[0], c = b.mb(), d = "uppercase" === b.mc(c).textTransform;
        tB(b, function () {
            b.Wo(c, d ? void 0 : "uppercase");
            ao(b.Ma(c), !0)
        });
        a.toggleClass("on", d)
    }

    function QA() {
        var a = $(this).parents("li"), b = $(this).parents(".textToolbar");
        1 !== b.length && (b = $(this).parents(".toolbarReferencePoint").data("toolbar"));
        var c = b.data("element"), d = c.data("canvaElement"), e = d.mb(), g = !!c.data("italic");
        tB(d, function () {
            d.Ig(e, !g);
            ao(c, !0);
            (g = !!c.data("italic")) ? a.addClass("on") : a.removeClass("on")
        })
    }

    function UA() {
        var a = $(this).parents("li"), b = $(this).parents(".textToolbar");
        1 !== b.length && (b = $(this).parents(".toolbarReferencePoint").data("toolbar"));
        var c = b.data("element"), d = c.data("canvaElement"), e = d.mb(), g = c.data("list");
        tB(d, function () {
            d.Yl(e, !g);
            (g = !!c.data("list")) ? a.addClass("on") : a.removeClass("on")
        })
    }

    function tB(a, b) {
        if (a.xi().is(".focused"))b(); else {
            var c = a.mb(), d = a.mc(c);
            b();
            var e = a.mc(c), c = {elementIndex: a.ea(), pageIndex: T(t, a.ca()), textIndex: c, "new": e, old: d};
            y.register(new uy(1, c))
        }
    }

    function tp(a, b, c) {
        if (b && c) {
            !c.hg || c instanceof Xi || c instanceof ap ? (b.removeClass("canCrop"), b.removeClass("disableCrop")) : (b.addClass("canCrop"), c.Li && c.Li() ? $(".elementToolbarCrop", b).removeClass("enabled").addClass("disabled") : $(".elementToolbarCrop", b).addClass("enabled").removeClass("disabled"));
            c.Ii() && c.Cf && c.Cf() && $(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled");
            !c.jc || c instanceof ap || (G.trigger("hideContextualControlsRequested"), b.find(".elementToolbarColor").remove(),
                a = qB(c.jc(), a), b.find(".elementToolbarDelete").after(a));
            a = b.hasClass("textToolbar");
            var d = b.find(".elementToolbarLink");
            d.toggleClass("doNotTransition", !a);
            b.toggleClass("hasLink", !!fp(c)).forceLayout();
            d.removeClass("doNotTransition");
            c.Oi && !c.Cb ? b.find("li:not(.elementToolbarDelete)").removeClass("enabled").addClass("disabled") : BB(b, c)
        }
    }

    function BB(a, b) {
        var c = tz(b.ca(), b), d = b.ea(), e = c.filter(function (a) {
            return a.ea() > d
        }), c = c.filter(function (a) {
            return a.ea() < d
        }), g = a;
        a.data("moreGroups") && (g = a.data("moreGroups"), g = a.add(g));
        0 === e.length ? g.find(".elementToolbarForward").removeClass("enabled").addClass("disabled") : g.find(".elementToolbarForward").addClass("enabled").removeClass("disabled");
        0 === c.length ? g.find(".elementToolbarBackward").removeClass("enabled").addClass("disabled") : g.find(".elementToolbarBackward").addClass("enabled").removeClass("disabled")
    }

    function Tq(a, b) {
        function c(a, b, c) {
            b ? a.addClass("on") : a.removeClass("on");
            c ? a.removeClass("disabled").addClass("enabled") : a.removeClass("enabled").addClass("disabled")
        }

        function d(a) {
            var b = "", c = 100 / a.length;
            a.forEach(function (d, e) {
                var g = e * c + "%", h = (e + 1) * c + "%";
                0 == e ? b += d + " " + h + "," : e == a.length - 1 ? b += d + " " + g : (b += d + " " + g + ",", b += d + " " + h + ",")
            });
            return {wI: "-webkit-linear-gradient(left, " + b + ")", AH: "linear-gradient(to right, " + b + ")"}
        }

        var e = co(b), g = (a.data("moreGroups") || $()).filter(function () {
            return $(this).data("moreControl").hasClass("textToolbarMore")
        });
        if (0 !== g.length) {
            0 === e.Zd.length && (e = Sn(b));
            var h = function (a) {
                return e.Zd.reduce(function (b, c) {
                    return b && a(c)
                }, !0)
            }, k = h(function (a) {
                return Bu(La, a)
            }), l = h(function (a) {
                return Cu(La, a)
            }), h = h(function (a) {
                return Du(La, a)
            }), m = g.find(".textToolbarBold"), n = g.find(".textToolbarItalic"), q = g.find(".textToolbarUppercase");
            c(m, !!b.data("bold"), !!b.data("italic") && l && h || !(b.data("italic") && l) && k);
            c(n, !!b.data("italic"), !!b.data("bold") && k && h || !(b.data("bold") && k) && l);
            c(q, "uppercase" === b.data("textTransform"), !0);
            k = b.data("justification") || "left";
            $(".textToolbarRight").removeClass("on");
            $(".textToolbarCenter").removeClass("on");
            $(".textToolbarLeft").removeClass("on");
            "right" === k ? $(".textToolbarRight", g).addClass("on") : "center" == k ? $(".textToolbarCenter", g).addClass("on") : $(".textToolbarLeft", g).addClass("on");
            b.data("list") ? $(".textToolbarList", g).addClass("on") : $(".textToolbarList", g).removeClass("on");
            g = b.data("canvaElement");
            g = g.wc(g.mb()) / Sa.Ge;
            $(".textToolbarFontSize", a).val(g.toString());
            g = sB(g);
            k = a.find(".textToolbarFontSizeSpan input");
            k.is(":focus") || k.val(g);
            g = a.find(".textToolbarColor .pickAColor \x3e span");
            0 < e.ad.length ? (g.removeClass("noColor"), 1 == e.ad.length ? g.css("background-color", e.ad[0]).css("background-image", "") : (k = e.ad.map(function (a) {
                return a || "black"
            }), k = d(k), g.css("background-color", "").css("background-image", k.wI).css("background-image", k.AH))) : b.data("fill") ? (k = Q(b.data("fill")), g.css("background-color", k.ka()).css("background-image", "").removeClass("noColor")) : g.css("background-color", "").css("background-image",
                "").addClass("noColor");
            b.data("fontFamily") && (g = b.data("fontName"), k = e.Zd.filter(function (a) {
                return null !== go(La, a)
            }), k = 1 < k.length ? "" : k[0], l = b.data("fontFamily"), $(".textToolbarFontFamily", a).val(l), g = k || g, (k = go(La, g)) && k.displayName && (g = k.displayName), $(".textToolbarFontFamilySpan", a).text(g));
            !0 === b.children(".inner").get(0).isContentEditable ? $(".toolbarMoreGroup .textToolbarList").removeClass("disabled").addClass("enabled") : $(".toolbarMoreGroup .textToolbarList").removeClass("enabled").addClass("disabled")
        }
    }

    function qB(a, b) {
        var c = $();
        a.forEach(function (a, e) {
            var g = $(_.template('\x3cli class\x3d"elementToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- pickAColorMsg %\x3e"\x3e\x3cspan\x3e\x3c%- pickAColorMsg %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e')({pickAColorMsg: b.format("editorToolbarElementPickAColor")}));
            g.data("colorIndex", e);
            var h = g.find(".pickAColor \x3e span");
            a instanceof Hh ? h.css("background-color", a.ka()) : a === cr && h.addClass("noColor").css("background-color", "");
            c.after(g)
        });
        return c
    }

    function CB() {
        var a = $(this).parents(".elementToolbar");
        1 !== a.length && (a = $(this).parents(".toolbarReferencePoint").data("toolbar"));
        if ((a = a.data("element")) && a.data("canvaElement")instanceof cp)return a.data("canvaElement")
    }

    function VA() {
        var a = CB.call(this);
        a && (DB(a), $(".elementToolbarAlign").click())
    }

    function WA() {
        var a = CB.call(this);
        a && (EB(a), $(".elementToolbarAlign").click())
    }

    function XA() {
        var a = CB.call(this);
        a && (GB(a), $(".elementToolbarAlign").click())
    }

    function YA() {
        var a = CB.call(this);
        a && (HB(a), $(".elementToolbarAlign").click())
    }

    function ZA() {
        var a = CB.call(this);
        a && (IB(a), $(".elementToolbarAlign").click())
    }

    function $A() {
        var a = CB.call(this);
        a && (JB(a), $(".elementToolbarAlign").click())
    }

    function bB() {
        var a = CB.call(this);
        a && (KB(a), $(".elementToolbarAlign").click())
    }

    function aB() {
        var a = CB.call(this);
        a && (LB(a), $(".elementToolbarAlign").click())
    };
    function AA(a, b) {
        var c = MB[a];
        return function (a) {
            return c && c.call(this, a, b)
        }
    }

    var yA = Object.keys({
        yu: "CLICK_FILL_COLOR",
        zu: "CLICK_TEXT_COLOR"
    }), zA = {yu: [".elementToolbarColor a", ".imageToolbarColor a"], zu: [".textToolbarColor a"]}, MB = {
        yu: function (a, b) {
            function c(a) {
                l.removeClass("noColor");
                l.css("background-color", a.ka());
                m.Rd(n, a)
            }

            function d() {
                var a = g(), b = m.ca();
                b && (b = {elementIndex: m.ea(), pageIndex: b.ea(), old: q, "new": a}, y.register(new U(Gx, b)));
                q = a
            }

            function e() {
                k.removeData("colorPalette");
                k.removeData("activeColorPaletteToolbarButton");
                u.remove();
                d();
                m.Ch()
            }

            function g() {
                if (m instanceof
                    ap)return {index: n, placementData: m.tg(n)};
                var a = m instanceof Xi ? cr : "", b = h();
                return {index: n, color: b ? b.ka() : a}
            }

            function h() {
                if (m instanceof ap)return m.Ei(n).Ie();
                var a = m.jc()[n];
                return a === cr ? null : a
            }

            var k = $(this).closest(".elementToolbar, .imageToolbar"), l = $(this).find("span"), m = k.data("element").data("canvaElement"), n = m instanceof Yo ? 0 : m instanceof Xi || m instanceof $o ? l.closest(".elementToolbarColor").data("colorIndex") : m instanceof ap ? m.ub() : -1;
            if (-1 !== n) {
                var q = g(), r = k.data("activeColorPaletteToolbarButton");
                G.trigger("hideContextualControlsRequested");
                if (r !== this) {
                    m.rj();
                    var r = null, p = b.md && $l(b.md);
                    p && 0 < p.length && (r = Ti(p[0]));
                    var u = new di({jk: NB, Ve: Fb(b.F), If: m.ca().$a, Kf: r, Sl: !0, Va: h()});
                    u.on("preview", c);
                    u.on("confirm", d);
                    u.listenTo(y, "beforeOperationStackPop", e);
                    u.listenTo(G, "hideContextualControlsRequested", e);
                    u.render();
                    u.$el.addClass("toolbarOverlay");
                    OB.hf(u.$el, $(this));
                    k.data("colorPalette", u);
                    k.data("activeColorPaletteToolbarButton", this)
                }
            }
        }, zu: function (a, b) {
            function c(a) {
                h.css("background-color",
                    a.ka());
                l.setColor(m, a)
            }

            function d() {
                var a = l.mc(m), b = l.ca();
                b && (b = {
                    elementIndex: l.ea(),
                    pageIndex: T(t, b),
                    textIndex: m,
                    old: n,
                    "new": a
                }, y.register(new uy(1, b)));
                n = a
            }

            function e() {
                g.removeData("colorPalette");
                g.removeData("activeColorPaletteToolbarButton");
                p.remove();
                d()
            }

            var g = $(this).parents(".textToolbar"), h = $(this).find("span"), k = g.data("element"), l = k.data("canvaElement"), m = l.mb(), n = l.mc(m), q = g.data("activeColorPaletteToolbarButton");
            G.trigger("hideContextualControlsRequested");
            if (q !== this) {
                var q = null,
                    r = b.md && $l(b.md);
                r && 0 < r.length && (q = Ti(r[0]));
                var p = new di({jk: NB, Ve: Fb(b.F), If: l.ca().$a, Kf: q, Sl: !0, Va: Q(k.data("fill"))});
                p.on("preview", c);
                p.on("confirm", d);
                p.listenTo(y, "beforeOperationStackPop", e);
                p.listenTo(G, "hideContextualControlsRequested", e);
                p.render();
                p.$el.addClass("toolbarOverlay");
                OB.hf(p.$el, h);
                g.data("colorPalette", p);
                g.data("activeColorPaletteToolbarButton", this)
            }
        }
    };

    function PB(a) {
        a.appendTo("#overlays")
    }

    function QB() {
        return $("#canvaDocument")
    }

    var OB = new Zm({
        Zj: PB, Ok: QB, margin: 10, fm: function (a) {
            var b = {}, c = a.mf.C(), d = a.dg.Y() + (a.dg.C() - c) / 2;
            a.qe.C() >= c && (d < a.qe.Y() ? d = a.qe.Y() : d + c > a.qe.Wa() && (d = a.qe.Wa() - c));
            b.left = Math.round(d - a.kl.Y()) + "px";
            d = a.mf.D();
            c = a.dg.O() - d - a.qe.O();
            d = a.qe.va() - a.dg.va() - d;
            0 > d && c >= d || 0 <= c && c <= d ? b.bottom = Math.round(a.kl.va() - a.dg.O()) + "px" : b.top = Math.round(a.dg.va() - a.kl.O()) + "px";
            return b
        }
    }), NB = new Zm({Zj: PB, Ok: QB, margin: 7, fm: Ym});

    function Nw(a) {
        return new P(function (b, c) {
            var d, e;
            d = new FormData;
            d.append("key", a.key);
            d.append("AWSAccessKeyId", a.Tz);
            d.append("policy", a.aG);
            d.append("signature", a.tH);
            d.append("Content-Type", a.bD || a.file.type);
            d.append("file", a.file);
            e = new XMLHttpRequest;
            e.onerror = c;
            e.onreadystatechange = function () {
                var a, d;
                4 === e.readyState && (d = (a = pf(e.status)) && e.getResponseHeader("x-amz-version-id"), a && d ? b(d) : c())
            };
            e.upload.addEventListener("progress", a.progress || function () {
                });
            e.open("POST", a.url, !0);
            e.send(d)
        })
    }
    ;
    $.fn.reverse = [].reverse;
    $.fn.forceLayout = function () {
        if (0 === this.length)return this;
        var a = this.get(0);
        (a = window.getComputedStyle(a)) && a.getPropertyValue("left");
        return this
    };
    Array.max = function (a) {
        return Math.max.apply(Math, a)
    };
    Array.min = function (a) {
        return Math.min.apply(Math, a)
    };
    Array.lowerBound = function (a, b, c) {
        !c && (c = function (a, b) {
            return a - b
        });
        for (var d = 0, e, g = a.length, h; 0 < g;)e = d + (h = g / 2 | 0), 0 > c(a[e], b) ? (d = ++e, g -= h + 1) : g = h;
        return d
    };
    Array.upperBound = function (a, b, c) {
        !c && (c = function (a, b) {
            return a - b
        });
        for (var d = 0, e, g = a.length, h; 0 < g;)e = d + (h = g / 2 | 0), 0 <= c(b, a[e]) ? (d = ++e, g -= h + 1) : g = h;
        return d
    };
    Array.CJ = function (a, b, c) {
        var d = a.map(b, c), e = Array.min(d);
        return a.filter(function (a, b) {
            return d[b] == e
        })
    };
    $.fn.delay = function (a, b) {
        jQuery.fx.step.delay = function () {
        };
        return this.animate({delay: 1}, a, b)
    };
    function we(a) {
        var b, c, d, e, g, h;
        if (!a.src)return 0;
        if ("data:image/svg+xml" === a.src.substring(0, 18))return 1;
        c = a.naturalHeight;
        b = a.naturalWidth;
        d = b * c;
        if (isNaN(d) || 0 >= d)return 0;
        e = document.createElement("canvas");
        e.width = b;
        e.height = c;
        e = e.getContext("2d");
        e.drawImage(a, 0, 0);
        a = e.getImageData(0, 0, b, c).data;
        for (h = e = 0; h < c; h++)for (g = 0; g < b; g++)0 >= a[4 * (g + h * b) + 3] && e++;
        return e / d
    }

    function RB() {
        var a, b, c = "T" + "transform".slice(1), d = ["Moz", "Webkit", "ms"], e = document.createElement("div");
        if ("transform"in e.style)b = "transform"; else for (var g = 0; g < d.length; g++)if (a = d[g] + c, a in e.style) {
            b = a;
            break
        }
        return $.support.transform = b
    }

    $(function () {
        var a = RB();
        a && "transform" !== a && ($.cssHooks.transform = {
            get: function (b) {
                return $.css(b, a)
            }, set: function (b, c) {
                b.style[a] = c
            }
        })
    });
    function se(a, b) {
        var c = a.get(0).getBoundingClientRect(), d = b.get(0).getBoundingClientRect();
        return SB(c, d)
    }

    function SB(a, b) {
        return !a || !b || a.left + a.width <= b.left || a.top + a.height <= b.top || a.left >= b.left + b.width || a.top >= b.top + b.height ? !1 : !0
    }

    function Gp(a, b) {
        var c;
        c = a instanceof L ? a : kh(a);
        return {transform: Vi({Nc: c.Y(), Oc: c.O(), rotateZ: b || 0}), left: "", top: "", width: c.C(), height: c.D()}
    }

    function Kp(a, b, c) {
        var d = {rotateX: 0, rotateY: 0, rotateZ: 0};
        null != b && (d.Nc = b.Y(), d.Oc = b.O(), a.css("width", b.C() + "px"), a.css("height", b.D() + "px"));
        a.each(function () {
            var a = $(this);
            d.rotateX = a.data("FlipTransformation_rotateX") || 0;
            d.rotateY = a.data("FlipTransformation_rotateY") || 0;
            !!(c & 2) != (0 != d.rotateX % 360) && (d.rotateX += 180, a.data("FlipTransformation_rotateX", d.rotateX));
            !!(c & 1) != (0 != d.rotateY % 360) && (d.rotateY += 0 == d.rotateX % 360 ? 180 : -180, a.data("FlipTransformation_rotateY", d.rotateY));
            a.css("transform",
                Vi(d))
        })
    }

    function Jp(a) {
        var b = a.attr("style"), c, d;
        (c = b.match(/translate(3d)?\((-?[.\d]+)[^-.\d]+(-?[.\d]+)/)) ? (d = parseFloat(c[2]), c = parseFloat(c[3])) : (d = parseFloat(a.css("left")), c = parseFloat(a.css("top")));
        var e = b.match(/width: ([.\d]+)/), g = b.match(/height: ([.\d]+)/), b = e ? parseFloat(e[1]) : a.width();
        a = g ? parseFloat(g[1]) : a.height();
        return new L(d, c, b, a)
    }

    function sq(a) {
        a = a.get(0).getAttribute("viewBox").split(" ");
        return new L(parseFloat(a[0]), parseFloat(a[1]), parseFloat(a[2]), parseFloat(a[3]))
    }

    function Vi(a) {
        var b = a.Nc || 0, c = a.Oc || 0, d = void 0 === a.bf ? 1 : a.bf, e = void 0 === a.Pf ? 1 : a.Pf, g = a.rotateX || 0, h = a.rotateY || 0;
        a = a.rotateZ || 0;
        var k = "";
        if (za)k += "translate3d(" + b + "px," + c + "px,0px)"; else if (0 != b || 0 != c)k += "translate(" + b + "px," + c + "px)";
        if (1 != d || 1 != e)k += " scale(" + d + "," + e + ") ";
        0 != g && (k += " rotateX(" + g + "deg)");
        0 != h && (k += " rotateY(" + h + "deg)");
        0 != a && (k += " rotateZ(" + a + "deg)");
        return k
    }

    function TB(a) {
        a = window.getComputedStyle(a);
        return a.getPropertyValue("transform") || a.getPropertyValue("-webkit-transform")
    }

    function Mf(a) {
        if (a = /^matrix(?:3d)?\(([^)]*)\)$/.exec(TB(a))) {
            a = a[1].split(",");
            if (6 == a.length)return {
                bf: parseFloat(a[0]),
                skewX: parseFloat(a[1]),
                skewY: parseFloat(a[2]),
                Pf: parseFloat(a[3]),
                Nc: parseFloat(a[4]),
                Oc: parseFloat(a[5])
            };
            if (16 == a.length)return {
                bf: parseFloat(a[0]),
                skewX: parseFloat(a[1]),
                skewY: parseFloat(a[4]),
                Pf: parseFloat(a[5]),
                Nc: parseFloat(a[12]),
                Oc: parseFloat(a[13])
            }
        }
        return {bf: 0, skewX: 0, skewY: 0, Pf: 0, Nc: 0, Oc: 0}
    }

    function re(a, b, c) {
        var d = Mf(a), e;
        for (e in b)b.hasOwnProperty(e) && d.hasOwnProperty(e) && (d[e] = c ? d[e] + b[e] : b[e]);
        b = [d.bf, d.skewX, d.skewY, d.Pf, d.Nc, d.Oc];
        $(a).css("transform", "matrix(" + b.join(",") + ")")
    }

    function Pq(a, b) {
        return Math.round(1E5 * a) / 1E5 == Math.round(1E5 * b) / 1E5
    }

    function sB(a) {
        return 0 === a % 1 ? a.toString() : a.toFixed(1)
    }

    $(function () {
        function a() {
            var b = document.createElement("p"), c, d = {
                webkitTransform: "-webkit-transform",
                OTransform: "-o-transform",
                msTransform: "-ms-transform",
                MozTransform: "-moz-transform",
                transform: "transform"
            };
            document.body.insertBefore(b, null);
            for (var e in d)if (void 0 !== b.style[e]) {
                b.style[e] = "translate3d(1px,1px,1px)";
                c = window.getComputedStyle(b, null);
                if (!c) {
                    window.setTimeout(a, 500);
                    return
                }
                c = c.getPropertyValue(d[e])
            }
            document.body.removeChild(b);
            za = void 0 !== c && 0 < c.length && "none" !== c
        }

        a()
    });
    (function () {
        for (var a = 0, b = ["ms", "moz", "webkit", "o"], c = 0; c < b.length && !window.requestAnimationFrame; ++c)window.requestAnimationFrame = window[b[c] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[b[c] + "CancelAnimationFrame"] || window[b[c] + "CancelRequestAnimationFrame"];
        window.requestAnimationFrame || (window.requestAnimationFrame = function (b) {
            var c = (new Date).getTime(), g = Math.max(0, 16 - (c - a)), h = window.setTimeout(function () {
                b(c + g)
            }, g);
            a = c + g;
            return h
        });
        window.cancelAnimationFrame || (window.cancelAnimationFrame =
            function (a) {
                clearTimeout(a)
            })
    })();
    function UB(a) {
        switch (/(\s|^)(tl|t|tr|r|br|b|bl|l)(\s|$)/gi.exec(a.className)[2]) {
            case "tl":
                return 0;
            case "t":
                return 1;
            case "tr":
                return 2;
            case "r":
                return 4;
            case "br":
                return 7;
            case "b":
                return 6;
            case "bl":
                return 5;
            case "l":
                return 3;
            default:
                return null
        }
    }

    function vp(a, b) {
        var c = Math.round(oA(b) / 45);
        8 > c || (c = 0);
        if (a) {
            for (var d = 0; 8 !== d; d++)a.removeClass("octant" + d);
            a.addClass("octant" + c)
        }
    }

    function Yx(a) {
        var b = a.offset(), c = b.left + a.width() / 2;
        a = b.top + a.height() / 2;
        return [c, a]
    }

    function pu(a, b, c, d) {
        function e(a, b) {
            var c = a * a, d = 1 - a, e = d * d;
            return b[0] * e * d + 3 * b[1] * e * a + 3 * b[2] * d * c + b[3] * c * a
        }

        for (var g, h, k = 0, l = []; 1 > k;)g = e(k, [a.x, b.x, c.x, d.x]), h = e(k, [a.y, b.y, c.y, d.y]), l.push({
            x: g,
            y: h
        }), k += 5E-5;
        var m = [{x: a.x, y: a.y}], n = .05, q = null;
        l.forEach(function (a) {
            null !== q && a.x > n && (m.push(q), n += .05);
            q = a
        });
        m.push({x: d.x, y: d.y});
        return m
    }

    var vn = !1, wn = !1;

    function kB() {
        var a, b, c, d;
        vn ? (c = b = 0, d = $(window).width(), a = $(window).height()) : (b = c = 0, a = $("#canvaDocument"), d = a.width() - b - 12, a = a.height() - c - 12);
        return new L(b, c, d, a)
    }

    function VB() {
        return rh(kB().translate(48, 48), -96, -96)
    };
    function WB(a, b) {
        function c() {
            var c = a.slice(0);
            b.forEach(function (a) {
                a = Tz(a.Dc.za).filter(d).map(e(a.name));
                c = c.concat(a)
            });
            return new Rz({Bd: c})
        }

        function d(a) {
            return "start" !== a.name
        }

        function e(a) {
            return function (b) {
                return {name: b.name, from: a + ":" + b.from, to: a + ":" + b.to}
            }
        }

        this.tb = null;
        this.ep = (b || []).slice(0);
        this.za = new Rz;
        this.gh = null;
        var g = this, h;
        0 < this.ep.length ? (h = c(), Uz(this.za, h.Bd), this.ep.forEach(function (a) {
            g.listenTo(a.Dc, "change:state", g.As)
        })) : a && Uz(this.za, a);
        this.listenTo(this.za, "state:enter",
            this.vl)
    }

    WB.prototype.trigger = Backbone.Events.trigger;
    WB.prototype.listenTo = Backbone.Events.listenTo;
    WB.prototype.on = Backbone.Events.on;
    WB.prototype.off = Backbone.Events.off;
    _.extend(WB.prototype, Backbone.Events);
    WB.prototype.start = function () {
        this.za.start()
    };
    WB.prototype.cancel = function () {
        this.tb && this.tb.cancel ? (this.tb.cancel(), this.tb = null) : this.tb && this.tb.abort && (this.tb.abort(), this.tb = null);
        this.ep.forEach(function (a) {
            a.Dc.cancel()
        })
    };
    WB.prototype.As = function (a, b, c, d) {
        var e = this.ep.filter(function (b) {
                return b.Dc === a
            })[0].name + ":" + b;
        this.za.Nd() !== e && Wz(this.za, e);
        var g = Array.prototype.slice.call(arguments, 2), e = ["change:state", this, e].concat(g);
        this.trigger.apply(this, e)
    };
    WB.prototype.vl = function (a, b) {
        this.trigger("change:state", this, b)
    };
    var XB = tb.map(function (a) {
        return a
    }), YB = 4, M = XB[YB], An = 1, ZB = 0, $B = 0;

    function kn() {
        0 < YB && Sa && aC(Sa, YB - 1);
        return !1
    }

    function ln() {
        YB < XB.length - 1 && Sa && aC(Sa, YB + 1);
        return !1
    };
    function zz(a) {
        a.stopPropagation()
    }

    function bC(a) {
        a.preventDefault()
    }

    function cC() {
        return !1
    }

    var Xx = "createTouch"in document, Zx = !1;

    function V(a) {
        this.el = $(a);
        this.xp = {};
        this.fv = ""
    }

    function Ex(a) {
        return 0 <= a.fv.indexOf("touch")
    }

    V.prototype.selected = function (a) {
        var b = this, c = null;
        return function (d) {
            var e = d.type;
            b.fv = e;
            null === c && (c = e);
            return e !== c ? !0 : a.call(this, d)
        }
    };
    function dC(a) {
        return a.split("|").filter(function (a) {
            return "" !== a
        })
    }

    function eC(a) {
        return a.split(/[|+]/).filter(function (a) {
            return "" !== a
        })
    }

    function fC(a, b, c, d) {
        if (a.xp[b + "_" + c])throw a = 'An event handler already exists for "' + b + '"', c && (a += ' and selector "' + c + '"'), Error(a);
        a.xp[b + "_" + c] = d
    }

    V.prototype.on = function (a, b, c) {
        var d = this, e;
        "function" === typeof c ? (e = b, b = c) : e = "";
        if (0 <= a.indexOf("|")) {
            var g = this.selected(b);
            b.xz = g;
            fC(this, a, e, g);
            dC(a).forEach(function (a) {
                if (e)d.el.on(a, e, g); else d.el.on(a, g)
            })
        } else if (fC(this, a, e, b), e)this.el.on(a, e, b); else this.el.on(a, b);
        return this
    };
    V.prototype.off = function (a, b, c) {
        var d = this, e;
        "function" === typeof c ? (e = b, b = c) : e = "";
        var g = this.xp[a + "_" + e];
        if (g) {
            if (g !== (b.xz || b))throw Error('The given handler is not listening to event "' + a + '"');
            b.xz = null;
            eC(a).forEach(function (a) {
                e ? d.el.off(a, e, g) : d.el.off(a, g)
            });
            delete this.xp[a + "_" + e]
        }
        return this
    };
    function gC(a) {
        Error.captureStackTrace && Error.captureStackTrace(this, this.constructor);
        this.message = a
    }

    gC.prototype = Object.create(Error.prototype);
    gC.prototype.constructor = gC;
    function bg(a) {
        switch (a) {
            case "card_declined":
                return new hC;
            case "expired_card":
                return new iC;
            case "incorrect_cvc":
                return new jC;
            case "incorrect_number":
                return new kC;
            case "invalid_cvc":
                return new lC;
            case "invalid_expiry_month":
                return new mC;
            case "invalid_expiry_year":
                return new nC;
            case "invalid_number":
                return new oC;
            case "missing":
                return new pC;
            case "processing_error":
                return new qC;
            default:
                return new rC(a)
        }
    }

    function sC(a, b) {
        if (b instanceof hC)return a.format("creditCardDeclined");
        if (b instanceof iC)return a.format("creditCardExpired");
        if (b instanceof jC)return a.format("creditCardCvcIncorrect");
        if (b instanceof kC)return a.format("creditCardNumberIncorrect");
        if (b instanceof lC)return a.format("creditCardCvcIncorrect");
        if (b instanceof mC)return a.format("creditCardExpiryMonthIncorrect");
        if (b instanceof nC)return a.format("creditCardExpiryYearIncorrect");
        if (b instanceof oC)return a.format("creditCardNumberIncorrect");
        if (b instanceof pC)return a.format("creditCardMissingButRequired");
        if (b instanceof qC)return a.format("creditCardProcessingError");
        if (b instanceof rC)return a.format("creditCardUnknownProcessingError", b.errorCode);
        if (b instanceof tC)return a.format("creditCardNoCardEntered");
        throw Error("unrecognized CreditCardError");
    }

    function hC() {
        gC.call(this, "credit card declined")
    }

    hC.prototype = Object.create(gC.prototype);
    hC.prototype.constructor = hC;
    function iC() {
        gC.call(this, "credit card expired")
    }

    iC.prototype = Object.create(gC.prototype);
    iC.prototype.constructor = iC;
    function jC() {
        gC.call(this, "credit card cvc incorrect")
    }

    jC.prototype = Object.create(gC.prototype);
    jC.prototype.constructor = jC;
    function kC() {
        gC.call(this, "credit card number incorrect")
    }

    kC.prototype = Object.create(gC.prototype);
    kC.prototype.constructor = kC;
    function lC() {
        gC.call(this, "credit card cvc invalid")
    }

    lC.prototype = Object.create(gC.prototype);
    lC.prototype.constructor = lC;
    function mC() {
        gC.call(this, "credit card expiry month invalid")
    }

    mC.prototype = Object.create(gC.prototype);
    mC.prototype.constructor = mC;
    function nC() {
        gC.call(this, "credit card expiry year invalid")
    }

    nC.prototype = Object.create(gC.prototype);
    nC.prototype.constructor = nC;
    function oC() {
        gC.call(this, "credit card number invalid")
    }

    oC.prototype = Object.create(gC.prototype);
    oC.prototype.constructor = oC;
    function pC() {
        gC.call(this, "credit card missing but required")
    }

    pC.prototype = Object.create(gC.prototype);
    pC.prototype.constructor = pC;
    function qC() {
        gC.call(this, "credit card processing error")
    }

    qC.prototype = Object.create(gC.prototype);
    qC.prototype.constructor = qC;
    function rC(a) {
        gC.call(this, "unknown credit card processing error " + a);
        this.errorCode = a
    }

    rC.prototype = Object.create(gC.prototype);
    rC.prototype.constructor = rC;
    function tC() {
        gC.call(this, "no credit card entered")
    }

    tC.prototype = Object.create(gC.prototype);
    tC.prototype.constructor = tC;
    function uC() {
        var a = window.stripeConfig;
        switch (a.impl) {
            case "local":
                return new vC;
            case "stripe":
                return new wC(a.publishableKey, window.Stripe || null);
            default:
                throw Error('unexpected stripe impl "' + a.impl + '"');
        }
    }

    function vC() {
    }

    vC.prototype.createToken = P.method(function (a) {
        return JSON.stringify({brand: "Visa", expMonth: a.Hv, expYear: a.Iv, last4: a.th.slice(-4)})
    });
    function wC(a, b) {
        (this.le = b) && this.le.setPublishableKey(a)
    }

    wC.prototype.createToken = function (a) {
        return new P(function (b, c) {
            if (!this.le)throw Error("Stripe API is unavailable");
            a = {cvc: a.eh, exp_month: a.Hv, exp_year: a.Iv, number: a.th};
            this.le.createToken(a, function (a, e) {
                if (e.error) {
                    var g;
                    try {
                        g = e.error.code || ""
                    } catch (h) {
                        g = ""
                    }
                    c(bg(g))
                } else b(e.id)
            })
        }.bind(this))
    };
    function vz(a) {
        var b = this, c = window.MutationObserver || window.WebKitMutationObserver;
        this.cj = null;
        this.Sk = {nodeinserted: [], noderemoved: [], characterdatamodified: [], attrmodified: []};
        this.Ga = a ? a : {attributes: !1, childList: !0, characterData: !0, subtree: !0};
        this.Ee = new c(function (a) {
            a.forEach(function (a) {
                b.handle(a)
            })
        })
    }

    vz.prototype.normalize = function (a) {
        return a.toLowerCase()
    };
    vz.prototype.on = function (a, b) {
        var c = this.normalize(a);
        this.Sk.hasOwnProperty(c) || (this.Sk[c] = []);
        this.Sk[c].push(b);
        return this
    };
    vz.prototype.handle = function (a) {
        function b(b) {
            var e = c.normalize(b), g = new jQuery.Event(b);
            c.cj && (g.target = a.target, g.currentTarget = c.cj.get(0), c.Sk.hasOwnProperty(e) && c.Sk[e].forEach(function (a) {
                a.call(c.cj, g)
            }))
        }

        var c = this;
        "childList" === a.type ? (a.addedNodes && 0 < a.addedNodes.length ? b("nodeInserted") : a.removedNodes && 0 < a.removedNodes.length && b("nodeRemoved"), b("subtreeModified")) : "attributes" === a.type ? b("attrModified") : "characterData" === a.type && b("characterDataModified")
    };
    vz.prototype.observe = function (a) {
        var b = $(a).get(0);
        if (this.cj)throw Error("Already observing an element");
        b && (this.Ee.observe(b, this.Ga), this.cj = $(a))
    };
    function xz(a) {
        a.Ee.disconnect();
        a.cj = null
    };
    function uj(a, b, c) {
        this.text = b || null;
        b = Db(a);
        this.text && this.text.toLocaleLowerCase() === b.mp().toLocaleLowerCase() && (this.text = null);
        this.rq = c || null;
        this.F = a
    }

    uj.prototype.on = Backbone.Events.on;
    uj.prototype.off = Backbone.Events.off;
    uj.prototype.trigger = Backbone.Events.trigger;
    function xC(a) {
        return a.text ? (a.text.match(/#[a-z0-9_-]+/gi) || []).map(function (a) {
            return a.slice(1).trim()
        }) : []
    }

    function yC(a) {
        return null === a.text || "" === a.text
    }

    uj.prototype.Lk = function () {
        return this.text
    };
    function zC(a, b) {
        var c;
        if (c = b) {
            var d = b.trim().replace(/\s+/g, " ");
            c = "";
            d = d.trim();
            "undefined" == typeof c && (c = "");
            if (256 >= d.length)c = d; else {
                var e = d.substr(0, 256), d = d.substr(256).match(/^\S+/), g = e.match(/\S+$/);
                e.match(/\s$/) || null === d || (10 >= d[0].length ? e += d[0] : 10 >= g[0].length && (e = e.substr(0, 256 - g[0].length)));
                c = e = e.trim() + c
            }
        }
        b = c;
        a.text !== b && (a.text = b, a.trigger("change"))
    }

    function AC(a, b) {
        var c = Bb(a.F), d = Db(a.F);
        return -1 != [d.Ao(), d.format("documentSvgPlaceholderText"), rc(c), sc(c), c.format("objectPanelTextPanelAddBody")].indexOf(b)
    }

    function gz(a, b) {
        var c = a.text || Db(a.F).mp(), d = b && !!b.HC;
        a.rq && (yC(a) || d) && (c = a.rq + "  " + c);
        return c
    };
    var Zo = "screen";

    function Yy(a, b) {
        var c = Ca, d = Ja, e = new Jk(b.id, 2, 0, a, b.version, b.session, b.timestamp, b.content || {}, ek(b.extensions)), c = new Bk(c, d, e, new Uj);
        c.Pi = !0;
        v = c;
        Ka.Ta.get(pd) && v.start();
        v.Ct(BC);
        bb = 0;
        return v
    }

    function gn() {
        $("#canvaDocument").on("mousedown", ".page img, .cropControls img, a", bC);
        $("#content").on("keydown", ".element.text.focused", CC);
        $("#content").on("keydown", ".element.text.focused", DC);
        $("#content").on("input", ".element.text.focused", EC);
        $("#canvaDocument").on("DOMNodeInserted", ".element.text.focused", FC);
        if (!Xx)$("#canvaDocument").on("click", ".page .element:not(.focused)", !1);
        $("#content").on("dblclick", ".selectionBox:not(.multipleSelectionBox)", GC);
        (new V("#canvaDocument")).on("mousedown",
            ".selectionBox, .element", cb).on("touchstart", ".selectionBox, .element", cb);
        (new V("#canvaDocument")).on("click", ".element.focused", zz).on("mousedown", ".element.focused", zz).on("touchstart", ".element.focused", zz).on("mousedown", ".element:not(.focused, .multiSelected)", HC).on("touchstart", ".element:not(.focused, .multiSelected)", HC);
        (new V("#content")).on("click", ".selectionBox.multipleSelectionBox", cC).on("click", ".element.multiSelected", cC).on("mousedown", ".selectionBox.multipleSelectionBox", IC).on("touchstart",
            ".selectionBox.multipleSelectionBox", IC).on("mousedown", ".element.multiSelected", IC).on("touchstart", ".element.multiSelected", IC);
        (new V("#content")).on("click", ".selectionBox", cC).on("mousedown", ".selectionBox", JC).on("touchstart", ".selectionBox", JC);
        (new V("#content")).on("click", ".selectionBox .handle", cC).on("mousedown", ".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle", KC).on("touchstart", ".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle", KC);
        (new V("#content")).on("click",
            ".selectionBox .handle", cC).on("mousedown", ".selectionBox.text.freeResize .handle.br", LC).on("touchstart", ".selectionBox.text.freeResize .handle.br", LC);
        (new V("#content")).on("mousedown", ".multipleSelectionBox .handle", MC).on("touchstart", ".multipleSelectionBox .handle", MC);
        (new V("#content")).on("click", ".cropControls", cC).on("mousedown", ".cropControls", NC).on("touchstart", ".cropControls", NC);
        (new V("#content")).on("click", ".cropControls .handle", cC).on("mousedown", ".cropControls .handle", OC).on("touchstart",
            ".cropControls .handle", OC);
        (new V("#content")).on("click", ".viewPort .frameHandle", cC).on("mousedown", ".viewPort .frameHandle", PC).on("touchstart", ".viewPort .frameHandle", PC);
        (new V("#content")).on("click", ".selectionBox .rotate", cC).on("mousedown", ".selectionBox .rotate", Ui).on("touchstart", ".selectionBox .rotate", Ui);
        (new V("#objectPanel")).on("mousedown", QC).on("touchstart", QC).on("mousedown", ".gallery a", QC).on("touchstart", ".gallery a", QC);
        $("#canvaDocument").on("mouseenter", ".unapproved, .failed",
            RC);
        if (Xx)$("#content").on("click", SC);
        $("#null").keydown(function () {
            $(this).blur()
        });
        Ka.Ta.get(ud) || (window.addEventListener("dragenter", TC, !1), window.addEventListener("dragover", UC, !1), window.addEventListener("drop", VC, !1), $("#dropZone").on("mouseover", WC).on("dragleave", XC))
    }

    function YC() {
        var a = t;

        function b(a) {
            a.qm(Aa)
        }

        vn || Ij(a).forEach(b)
    }

    function ZC(a, b, c, d, e, g) {
        function h() {
            return new $C({
                ue: (new UAParser).getBrowser().name,
                document: a,
                sa: b,
                xa: v,
                rh: Date.now(),
                bn: new Sk(Ja),
                $q: new tl,
                ii: d,
                F: g
            })
        }

        if (vn)Sa = new aD({model: a, F: g}); else {
            db = dz.mC({
                model: a, sa: b, xa: v, oc: Va, jg: c, np: function (a) {
                    document.title = a
                }, Ip: e, jq: h, F: g
            });
            Sa = new aD({model: a, F: g});
            eb = new bD({model: a, Be: Sa, F: g});
            var k = new rA(a);
            Ua = function () {
                return k
            }
        }
    }

    function fn(a, b, c, d, e, g) {
        function h(a) {
            -1 === l.indexOf(a) && (l.push(a), m())
        }

        t && (O(), t.off(), Sa.remove(), vn || (db.remove(), eb.remove()));
        var k = _.flatten(_.pluck(a.pages, "elements")).length, l = [], m = _.after(k + 1, function () {
            if (t && t.oa) {
                var a = 10 * t.oa().length;
                G.off("elementLoaded", h);
                G.off("elementLoadingError", h);
                window.setTimeout(function () {
                    G.trigger("documentRendered");
                    window.setTimeout(function () {
                        $("#canvaDocument").addClass("rendered")
                    }, 2E3);
                    g && (Ff(g, "rendered"), g.done());
                    t.on("change", t.Go);
                    t.listenTo(G,
                        "elementLoaded:graphic", t.Go);
                    t.listenTo(G, "elementLoaded:svg", t.Go);
                    t.Go()
                }, 100 + a)
            }
        });
        G.on("elementLoaded", h);
        G.on("elementLoadingError", h);
        t = new tj(a, b, d);
        t.on("change", Zy);
        ZC(t, Ka, c, Na, e ? e() : [], d);
        t.aa.forEach(function (a) {
            a.oa().forEach(function (b) {
                a.trigger("element:add", a, b)
            })
        });
        m();
        y = new oy;
        YC()
    }

    function Ud(a) {
        var b = a.ca();
        if (null == b)throw Error("cannot register element add operation - element must first be added to a page");
        a = wy(a.serialize());
        a.pageIndex = T(t, b);
        y.register(new U(sy, a))
    }

    function cD(a) {
        var b = a.ca();
        if (null == b)throw Error("cannot register element group operation - group has no page");
        a = a.serialize();
        var c = wy(a);
        c.pageIndex = T(t, b);
        c.childRange = rz(a);
        y.register(new U(13, c))
    }

    function dD(a) {
        var b = a.ca();
        if (null == b)throw Error("cannot register element ungroup operation - group has no page");
        a = a.serialize();
        var c = wy(a);
        c.pageIndex = T(t, b);
        c.childRange = rz(a);
        y.register(new U(14, c))
    }

    function Fx(a) {
        var b = a.ca();
        null != b && (a = wy(a.serialize()), a.pageIndex = T(t, b), y.register(new U(ty, a)))
    }

    function ay() {
        return J(t).H() || $("#canvaDocument \x3e .inner \x3e .page").first()
    }

    function eD(a) {
        function b(a) {
            a.qb() && (c(a), ev(), Fx(a), a.remove(), fv())
        }

        function c(a) {
            var b = a.Ie();
            cq(a);
            y.register(new U(Ix, {backgroundColor: b, elementIndex: g, oldElementIndex: g, pageIndex: h}))
        }

        var d = a.ca(), e = d.qa(), g = a.ea(), h = T(t, d), e = uh(a.qa(), e);
        a.qb() && e ? d.oa().filter(function (b) {
            return b !== a
        }).forEach(b) : a.qb() && !e ? c(a) : a.Ru() && e && (d.oa().forEach(b), Dj(a), fD(a), y.register(new U(Kx, {
            backgroundColor: a.Ie(),
            elementIndex: a.ea(),
            oldElementIndex: g,
            pageIndex: h
        })))
    }

    function Zy() {
        if (v) {
            var a = t.serialize();
            Dw(a);
            Pj(a) ? (bb = v.post(bb, a), null == bb && ly()) : (my(), v.close())
        }
    }

    var gD = 0;

    function BC(a) {
        window.clearTimeout(gD);
        ny();
        1 == a ? gD = window.setTimeout(my, 3E4) : 2 == a ? 1 === bb && 2 === v.qc() && window.opener && "/" === window.opener.location.pathname && window.opener.location.reload() : 3 == a && (ly(), v.close());
        G.trigger("session:sync", a)
    }

    function aj() {
        qe().write(function () {
            $(".elementToolbar, .textToolbar, .imageToolbar, .toolbarTooltip, .fxPanel").addClass("subdued")
        })
    }

    function Zi() {
        qe().write(function () {
            $(".elementToolbar, .textToolbar, .imageToolbar, .toolbarTooltip, .fxPanel").removeClass("subdued")
        })
    }

    (function () {
        function a() {
            b = [];
            $(document).off("keyup", a)
        }

        var b = [];
        cb = function (c) {
            var d = void 0 !== c.clientX ? c.clientX : c.originalEvent.touches[0].clientX, e = void 0 !== c.clientY ? c.clientY : c.originalEvent.touches[0].clientY;
            if (c.metaKey) {
                $(document).on("keyup", a);
                var g = [], h = null;
                $("#canvaDocument .page.selected .element").each(function () {
                    var a = this.getBoundingClientRect();
                    a.left < d && a.right > d && a.top < e && a.bottom > e ? (a = $(this).data("canvaElement"), g.push(a), -1 === b.indexOf(a) && (a.selected ? (uz(a), b.unshift(a)) :
                        b.push(a))) : h = $(this).data("canvaElement")
                });
                b.forEach(function (a, c) {
                    -1 === g.indexOf(a) && b.splice(c, 1)
                });
                h && -1 !== b.indexOf(h) && b.unshift(h);
                var k = b.pop();
                if (k)return O(), Vd(k), b.unshift(k), c.stopPropagation(), c.preventDefault(), !1
            }
            return !0
        }
    })();
    function hD() {
        return t.aa.map(function (a) {
            return {rect: a.H().get(0).getBoundingClientRect(), page: a}
        })
    }

    function HC(a) {
        function b(a) {
            qb = !!a.shiftKey;
            N = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            ba = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            Pa = p.H().get(0).getBoundingClientRect();
            wb.read(c);
            return !1
        }

        function c() {
            var a = !1;
            if (p.yg()) {
                var b = p.cc();
                b && !Kj(Aa, b) && (a = !0)
            }
            if (!p.Oi || p.Cb || a) {
                a = N - z;
                b = ba - x;
                F && p.Ni() && p.kf();
                if (F) {
                    var c = iD(Pa, h);
                    c && c.page ? (W && (W = !1, p.H().removeClass("outsidePage")), p.fk() && !p.Ri(p.ca()) ? (Fa && c.page != Fa && Fa.H().removeClass("hotspotHover"),
                        Fa = c.page, Fa.H().addClass("hotspotHover")) : Fa && Fa.H().removeClass("hotspotHover")) : (p.H().addClass("outsidePage"), W = !0)
                }
                if (F || 4 < Math.abs(a) || 4 < Math.abs(b)) {
                    F = !0;
                    p.setPosition(A + a / M, B + b / M);
                    qb || K.hasClass("placing") || Ro(p) ? jD() : ve(p, I, fa);
                    var b = C.get(0).getBoundingClientRect(), c = $(".page.selected.on").get(0).getBoundingClientRect(), d = $("#overlays").get(0).getBoundingClientRect(), a = b.left - d.left, d = b.top - d.top, g = Math.round((b.left - c.left) / M), b = Math.round((b.top - c.top) / M);
                    e.addClass("positionIndicatorShowing").addClass("positionIndicatorMoving").css("transform",
                        "translate(" + a + "px," + d + "px)").text(g + ", " + b);
                    aj();
                    p.Ca()
                }
                F && !qa && (a = K.find("img"), a.attr("data-screen-width", p.C()).attr("data-screen-height", p.D()), p.Oi && a.attr("data-media-approved", p.Cb), K.addClass("clone"), !p.Lm() && p instanceof Yo && K.addClass("cutout"), b = ce({
                    id: p.pa,
                    version: p.ra,
                    origin: p.origin ? p.origin.Nb() : "CANVA",
                    files_: [{quality: "THUMBNAIL", page: 0, url: a.attr("src")}, {
                        quality: "SCREEN",
                        page: 0,
                        url: a.attr("src")
                    }]
                }), c = $("\x3cli\x3e\x3c/li\x3e"), c.data("result", b).append(a.clone()), K.data("li",
                    c), p.Lm() || p.de()) && (ye(K, null, Ex(ab)), qa = !0)
            }
        }

        function d(a) {
            ab.off("mousemove|touchmove", b).off("mouseup|touchend", d);
            S.read(function () {
                var b = p.H().get(0).getBoundingClientRect();
                S.write(function () {
                    var c;
                    e.remove();
                    C.remove();
                    Zi();
                    p.Mc = !1;
                    $("#hotspots").remove();
                    Fa && Fa.H().removeClass("hotspotHover");
                    $("#overlays .align").removeClass("on");
                    if (F)p.ca() && (p.Ri(p.ca()) ? (ev(), eD(p), c = {
                        elementIndex: p.ea(),
                        pageIndex: T(t, p.ca()),
                        "new": {left: p.Y(), top: p.O()},
                        old: {left: A, top: B}
                    }, c = new U($i, c), y.register(c),
                        fv()) : (c = iD(b, h)) && p.fk() ? (ev(), c = kD(p, b, c, A, B), eD(c), fv(), w && Vd(c)) : (c = wy(p.serialize()), c.pageIndex = T(t, p.ca()), c.left = A, c.top = B, c = new U(ty, c), ev(), y.register(c), p.remove(), fv())); else if (!n && !m && (Vd(p), q)) {
                        c = k.closest(".text");
                        var d = Nd(Ka);
                        u ? Jo(c) : a.shiftKey || (p instanceof Xi ? (bz(c, Hb(g), d), lv(c, !0), p.Ca()) : p instanceof cp ? (p.kf(), lv(c), bz(c, Hb(g), d, !1, !0)) : lv(c))
                    }
                    K.removeClass("clone cutout").removeData("startLeft").removeData("startTop").removeData("li");
                    K.find("img").removeAttr("data-screen-width").removeAttr("data-screen-height")
                })
            })
        }

        if (3 == a.which || a.ctrlKey)return !0;
        $("#overlays .positionIndicator").remove();
        var e = $('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');
        $("#overlays").append(e);
        var g = Ma, h = hD(), k = $(a.target), l = 0 !== k.parents(".group").length, m = k.is(".group"), n = k.is(".elements"), q = k.is(".text") || 0 < k.parents(".text").length, r = q ? k.closest(".element") : $(this);
        l && (r = k.parents(".group").first());
        var p = r.data("canvaElement");
        if (!p.Km())return a.preventDefault(), a.stopImmediatePropagation(), !1;
        G.trigger("hideContextualControlsRequested");
        a.altKey && (r = p.ca(), l = r.elements.indexOf(p), p = p.clone(), rp(r, p, l + 1), r = p.H());
        var u = r.hasClass("focused"), w = p.selected, z = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, x = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
        if ($(document.elementFromPoint(z, x)).is(".handle.on"))return !0;
        if (a.shiftKey && 0 === t.Da().length || p.qb() && !w)return eb.gl(a, !0);
        var C = $("\x3cdiv\x3e\x3c/div\x3e"), l = oA(p.Ua());
        45 < l && 135 >= l ? C.css({position: "absolute", bottom: 0, left: 0}) : 135 < l && 225 >= l ? C.css({
            position: "absolute",
            bottom: 0, right: 0
        }) : 225 < l && 315 >= l ? C.css({position: "absolute", top: 0, right: 0}) : C.css({
            position: "absolute",
            top: 0,
            left: 0
        });
        p.H().append(C);
        a.shiftKey || w || O();
        p instanceof Xi ? (a = $("#overlays .svg.text.focused"), 0 < a.length && (Jo(a), Rq(p)), a = k.siblings("image").filter(function () {
            return this.classList.contains("placeholder") && "https://static.canva.com/static/images/placeholder.jpg" != this.getAttribute("xlink:href")
        }), k.is("image.placeholder") && "https://static.canva.com/static/images/placeholder.jpg" != k.attr("xlink:href") ? p.Jh(k) : k.is(".outline") && 1 === a.length &&
        p.Jh(a), $(".uploadAPhoto").each(function (a, b) {
            var c = b.getBoundingClientRect();
            if (z > c.left && z < c.right && x < c.bottom && x > c.top) {
                var c = $(b).parent().find("image.placeholder"), c = p.H().find("image.placeholder").index(c), d = p;
                by();
                $("#fileUpload").data("upload-destination", d);
                $("#fileUpload").data("upload-placeholder-index", c);
                return !1
            }
            return !0
        })) : p instanceof ap && k.is(".placeholder") && p.td() !== k && p.Jh(k);
        var A = p.Y(), B = p.O(), F = !1, I = {}, fa = ue(p), qa = !1, K = p.H();
        K.data("startLeft", A).data("startTop", B);
        var N = 0,
            ba = 0, Pa = r.get(0).getBoundingClientRect(), wb = qe(), S = qe(), W = !1, Fa, qb = !1;
        p.Mc = !0;
        var ab = new V($(document));
        ab.on("mousemove|touchmove", b).on("mouseup|touchend", d);
        return !1
    }

    function kD(a, b, c, d, e) {
        var g = (b.left - c.rect.left) / M;
        b = (b.top - c.rect.top) / M;
        var h = wy(a.serialize());
        h.pageIndex = T(t, a.ca());
        h.left = d;
        h.top = e;
        d = new U(ty, h);
        ev();
        y.register(d);
        d = a.clone();
        a.remove();
        d.qb() && cq(d);
        d.appendTo(c.page);
        d.setPosition(g, b);
        Ud(d);
        fv();
        return d
    }

    function iD(a, b) {
        for (var c = 0; c != b.length; c++) {
            var d = b[c].rect;
            if (a.bottom > d.top && a.top < d.bottom && a.right > d.left && a.left < d.right)return b[c]
        }
        return null
    }

    function lD(a, b) {
        return t.Da().filter(function (c) {
            c = c.H().get(0).getBoundingClientRect();
            return c.left < a && c.right > a && c.top < b && c.bottom > b
        }).sort(function (a, b) {
            return a.ea() - b.ea()
        })
    }

    function mD(a) {
        var b = Ma;
        2 > t.Da().length || (uz(a), $(".elementToolbar").remove(), a = t.Da(), 1 < a.length ? (a.forEach(function (a) {
            a.H().removeData("toolbar")
        }), gv(Hb(b))) : 1 === a.length && ($(".multipleSelectionBox").remove(), O(), a[0].H().removeClass("multiSelected"), $x(a[0]), a[0].Ca()))
    }

    function nD(a) {
        function b(a, b) {
            return a.ea() - b.ea()
        }

        if (2 > a.length)return null;
        var c = As(new cp, a);
        c.insertBefore(a[0]);
        (function (a) {
            a.sort(b);
            for (var c = a[0], g = 1; g !== a.length; g++)a[g].insertAfter(c), c = a[g];
            return a
        })(a).forEach(function (a) {
            c.addElement(a);
            var b = (new Eh).translate(-1 * c.Y(), -1 * c.O());
            a.transform(b);
            c.H().find(".elements").append(a.H())
        });
        return c
    }

    function qv() {
        function a(a) {
            return Ro(a)
        }

        var b = t.Da();
        !(1 >= b.length || 0 < b.filter(a).length) && (O(), b = nD(b)) && (Vd(b), cD(b))
    }

    function oD(a, b, c) {
        var d = a.oa().slice(), e = b(a), g = a.getActiveElement();
        g && (e = b(g));
        ev();
        dD(a);
        xy(a);
        d.forEach(function (a) {
            var b = a.Y(), d = a.O();
            c(a, e);
            y.register(new U($i, {
                elementIndex: a.ea(),
                pageIndex: T(t, a.ca()),
                "new": {left: a.Y(), top: a.O()},
                old: {left: b, top: d}
            }))
        });
        if (a = nD(d))$x(a), cD(a);
        fv()
    }

    function DB(a) {
        oD(a, function (a) {
            return a.Qa()
        }, function (a, c) {
            hp(a, a.Qa() - c)
        })
    }

    function EB(a) {
        oD(a, function (a) {
            return a.Bb()
        }, function (a, c) {
            jp(a, c - a.Bb())
        })
    }

    function GB(a) {
        oD(a, function (a) {
            return a.Qa() + a.ec() / 2
        }, function (a, c) {
            var d = a.Qa() + a.ec() / 2;
            hp(a, d - c)
        })
    }

    function HB(a) {
        oD(a, function (a) {
            return a.Aa()
        }, function (a, c) {
            ip(a, a.Aa() - c)
        })
    }

    function IB(a) {
        oD(a, function (a) {
            return a.lb()
        }, function (a, c) {
            kp(a, c - a.lb())
        })
    }

    function JB(a) {
        oD(a, function (a) {
            return a.Aa() + a.bc() / 2
        }, function (a, c) {
            var d = a.Aa() + a.bc() / 2;
            ip(a, d - c)
        })
    }

    function KB(a) {
        var b = a.oa().slice();
        ev();
        dD(a);
        xy(a);
        a = b.slice().sort(function (a, b) {
            return a.Qa() > b.Qa()
        });
        var c = a.shift().Bb(), d = a.pop().Qa(), e = a.reduce(function (a, b) {
            return b.ec() + a
        }, 0), g = (d - c - e) / (a.length + 1), h = c;
        a.forEach(function (a) {
            var b = a.Y(), c = a.O();
            hp(a, a.Qa() - h - g);
            h = a.Bb();
            y.register(new U($i, {
                elementIndex: a.ea(),
                pageIndex: T(t, a.ca()),
                "new": {left: a.Y(), top: a.O()},
                old: {left: b, top: c}
            }))
        });
        if (b = nD(b))$x(b), cD(b);
        fv()
    }

    function LB(a) {
        var b = a.oa().slice();
        ev();
        dD(a);
        xy(a);
        a = b.slice().sort(function (a, b) {
            return a.Aa() > b.Aa()
        });
        var c = a.shift().lb(), d = a.pop().Aa(), e = a.reduce(function (a, b) {
            return b.bc() + a
        }, 0), g = (d - c - e) / (a.length + 1), h = c;
        a.forEach(function (a) {
            var b = a.Y(), c = a.O();
            ip(a, a.Aa() - h - g);
            h = a.lb();
            y.register(new U($i, {
                elementIndex: a.ea(),
                pageIndex: T(t, a.ca()),
                "new": {left: a.Y(), top: a.O()},
                old: {left: b, top: c}
            }))
        });
        if (b = nD(b))$x(b), cD(b);
        fv()
    }

    function xy(a) {
        var b = [].concat(a.oa()).reverse(), c = lp(a);
        a.kf();
        b.forEach(function (b) {
            a.tj(b);
            var e = zs(c, lp(b));
            b.insertAfter(a);
            b.H().insertAfter(a.H());
            b.bm(e.Bc);
            b.setPosition(e.left, e.top);
            Wi(b, e.rotation)
        });
        a.remove();
        O();
        tv(b)
    }

    function pv() {
        var a = t.Da();
        1 === a.length && Ro(a[0]) && (O(), ev(), a = a[0], dD(a), xy(a), fv())
    }

    function IC(a) {
        function b(a) {
            z = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            x = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            A.read(c);
            return !1
        }

        function c() {
            var a = z - k, b = x - l, c = $(".multipleSelectionBox").get(0).getBoundingClientRect(), c = iD(c, C);
            if (w || 4 < Math.abs(a) || 4 < Math.abs(b))w = !0, h.setPosition(n + a / M, q + b / M), ve(h, p, u), c && c.page && c.page !== h.ca() && !h.Ri(h.ca()) ? c.page.H().addClass("hotspotHover") : $(".page").removeClass("hotspotHover"), gv(Hb(e))
        }

        function d() {
            F.off("mousemove|touchmove",
                b).off("mouseup|touchend", d);
            B.read(function () {
                var a = $(".multipleSelectionBox").get(0).getBoundingClientRect();
                B.write(function () {
                    var b = iD(a, C);
                    $(".page").removeClass("hotspotHover");
                    $("#overlays .align").removeClass("on");
                    Zi();
                    pD(g, !1);
                    if (w) {
                        ev();
                        if (h.Ri(h.ca()))g.forEach(function (a, b) {
                            var c = {
                                elementIndex: a.ea(),
                                pageIndex: T(t, a.ca()),
                                "new": {left: a.Y(), top: a.O()},
                                old: {left: r[b].left, top: r[b].top}
                            };
                            y.register(new U($i, c))
                        }); else if (b) {
                            var c = [];
                            g.forEach(function (a, d) {
                                if (a.fk()) {
                                    var e = kD(a, a.H().get(0).getBoundingClientRect(),
                                        b, r[d].left, r[d].top);
                                    c.push(e)
                                }
                            });
                            O();
                            tv(c)
                        } else g.forEach(function (a, b) {
                            var c = wy(a.serialize());
                            c.left = r[b].left;
                            c.top = r[b].top;
                            c.pageIndex = T(t, a.ca());
                            y.register(new U(ty, c));
                            a.remove()
                        }), $(".multipleSelectionBox").remove();
                        fv()
                    }
                })
            })
        }

        var e = Ma;
        if (3 == a.which || a.ctrlKey)return !0;
        var g = t.Da().sort(function (a, b) {
            return b.ea() - a.ea()
        }), h = new Lf(g), k = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, l = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, m = lD(k, l)[0];
        if (a.shiftKey &&
            m)return mD(m), !1;
        aj();
        pD(g, !0);
        var n = h.Y(), q = h.O(), r = g.map(function (a) {
            return {left: a.Y(), top: a.O()}
        }), p = {}, u = ue(g), w = !1, z = 0, x = 0, C = hD(), A = qe(), B = qe(), F = new V($(document));
        F.on("mousemove|touchmove", b).on("mouseup|touchend", d);
        return !1
    }

    $(function () {
        fb = new vz;
        fb.on("nodeInserted", qD).on("nodeInserted", rD).on("nodeRemoved", rD).on("characterDataModified", rD)
    });
    function lv(a, b) {
        if (!a.hasClass("focused")) {
            var c = a.data("canvaElement");
            if (c) {
                a.parents(".page").hasClass("dark") && a.addClass("dark");
                if (a.is(".svg .text")) {
                    var d = a.parents(".element").first();
                    a.data("precedingElement", d.prevAll(".element").first()).addClass("focused svg element");
                    d.appendTo("#overlays");
                    c.setPosition();
                    Yi(c)
                } else a.is(".group .text") ? (d = a.parents(".group").first(), a.data("precedingElement", d.prevAll(".element").first()).addClass("focused"), d.appendTo("#overlays"), d.data("canvaElement").setPosition()) :
                    (a.data("precedingElement", a.prevAll(".element").first()).appendTo("#overlays").addClass("focused"), c.setPosition());
                d = c.mb();
                a.removeClass("focused");
                c = c.mc(d);
                a.data("oldTextData", c);
                a.addClass("focused");
                bo(a);
                c = a.children(".inner");
                c.attr("contentEditable", "true");
                c.focus();
                c.on("paste", sD);
                xz(fb);
                fb.observe(a);
                tD.DH(a);
                d = Db(Ma);
                d = a.data("placeholderText") || d.Ao();
                d = c.text() == d;
                (b || d) && uo(c)
            }
        }
    }

    function uo(a, b) {
        window.setTimeout(function () {
            var c, d;
            window.getSelection && document.createRange ? (d = document.createRange(), d.selectNodeContents(a.get(0)), c = window.getSelection(), c.removeAllRanges(), c.addRange(d)) : document.body.createTextRange && (d = document.body.createTextRange(), d.moveToElementText(a.get(0)), d.select());
            b && b()
        }, 1)
    }

    function sD(a) {
        if (document.queryCommandSupported("ms-pasteContentOnly"))document.execCommand("ms-pasteContentOnly"); else if (document.queryCommandSupported("insertHTML") && a.originalEvent.clipboardData) {
            var b = a.originalEvent.clipboardData.getData("text/plain"), b = _.escape(b).replace(/\r?\n/g, "\x3cbr\x3e").replace(/ {2}/g, " \x26nbsp;");
            document.execCommand("insertHTML", !1, b)
        } else throw Error("Beware! Unsupported browser. Sneaking around.");
        a.preventDefault()
    }

    function qD(a) {
        function b(a) {
            var b = a.attr("style");
            b && -1 < b.indexOf("Glegoo, Helvetica, Arial, sans-serif") && a.attr("style", "")
        }

        a = $(a.target);
        b(a);
        a.children().each(function () {
            b($(this))
        })
    }

    var uD = !1;

    function rD(a) {
        if (uD)uD = !1; else {
            var b = $(this), c = b.data("designObject") || null, d = b.data("Canva.textElementUpdated:lastCalledAt") || 0;
            5 < a.timeStamp - d && (b.data("Canva.textElementUpdated:lastCalledAt", a.timeStamp), c && b.is(".svg") && Dq(c));
            a = /[\uE000-\uF8FF]/g;
            c = b.html();
            a.test(c) && (uD = !0, b.html(c.replace(a, "")))
        }
    }

    var tD = function () {
        function a(a) {
            a.get(0) === e && (0 !== d && (window.cancelAnimationFrame(d), d = 0), $(e).off("keydown mousemove", b), e = null, h = 0)
        }

        function b() {
            g = Date.now();
            0 === d && (d = window.requestAnimationFrame(c))
        }

        function c() {
            var a = Date.now();
            if (5E3 < a - g)d = 0; else {
                if (100 < a - h) {
                    var b = jQuery.data(e, "textToolbar");
                    b && Tq(b, $(e));
                    h = a
                }
                d = window.requestAnimationFrame(c)
            }
        }

        var d = 0, e = null, g = 0, h = 0;
        return {
            DH: function (c) {
                c = c.get(0);
                c !== e && (null !== e && a($(e)), e = c, b(), $(e).on("keydown mousemove", b))
            }, EH: a
        }
    }();

    function Jo(a) {
        var b = a.data("precedingElement"), c = a.data("canvaElement"), d = a.children(".inner"), e = c.Ub || ay(), g = c.mb(), h = !1;
        tD.EH(a);
        a.removeClass("dark");
        if (a.is(".svg.text"))h = a.parents(".element").first(), 0 < b.length ? h.insertAfter(b) : h.prependTo($(".elements", e)), a.removeData("precedingElement").removeClass("focused svg element"), d.attr("contentEditable", "false"), Yi(c), Mn(c, g), h = !0; else if (a.is(".group .text")) {
            var h = a.parents(".group").first(), k = h.data("canvaElement");
            b && 0 < b.length ? h.insertAfter(b) :
                h.prependTo($(".elements", e));
            k.setPosition();
            a.removeData("precedingElement").removeClass("focused");
            d.attr("contentEditable", "false");
            Mn(c, g);
            h = !0
        } else 0 < a.length && (b && 0 < b.length ? a.insertAfter(b) : a.prependTo($(".elements", e)), a.removeClass("focused"), d.attr("contentEditable", "false"), a.text().match(/^\s*$/) ? ((b = a.data("oldTextData")) && c.Mh(g, b), ev(), Fx(c), c.remove(), fv()) : (Mn(c, g), h = !0));
        d.off("paste", sD);
        xz(fb);
        c.Na();
        c.Oa();
        $("#null").focus();
        window.setTimeout(function () {
            $("#null").blur()
        }, 0);
        if (h) {
            if (d = a.data("oldTextData"))b = c.mc(g), g = {
                elementIndex: c.ea(),
                pageIndex: T(t, c.ca()),
                textIndex: g,
                "new": b,
                old: d
            }, g = new uy(1, g), ev(), y.register(g), c.pp = !0, fv();
            c = t.La();
            g = a.text();
            yC(c) && zC(c, AC(c, g) ? "" : g)
        }
        a.removeData("oldTextData")
    }

    function JC(a) {
        var b = Ma, c;
        if (/touch/gi.test(a.type) || !$(this).hasClass("multipleSelectionBox")) {
            var d = $(this).data("element"), e = d.data("canvaElement");
            if (e)if (e instanceof Nj)c = d.get(0), a.target = c; else {
                $(this).css("visibility", "hidden");
                var g = document.elementFromPoint(void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY), h = $(g).closest(".element").get(0);
                h ? (a.target = g, c = h) : (c = d.get(0), a.target = c);
                $(this).css("visibility", "");
                e.Ni() && ((d = e.getActiveElement()) && d.H().get(0) === c ? e.kf() : e.H().get(0) === c ? e.kf() : e.oa().forEach(function (a) {
                    a.H().get(0) === c && (e.kf(), a && -1 !== e.elements.indexOf(a) ? (e.activeElement = a, e.activeElement.H().addClass("active")) : e.activeElement = null, a = a.H(), a.hasClass("text") && (lv(a), bz(a, Hb(b), Nd(Ka), !1, !0)))
                }))
            } else return;
            HC.call(c, a)
        }
        return !1
    }

    function GC(a) {
        var b = $(this).data("element"), c = $(b).data("canvaElement");
        if (a.metaKey)return !1;
        b.hasClass("text") ? lv(b) : c.hg && uB(c);
        return !1
    }

    function Vd(a, b) {
        function c(a) {
            var b = a.H();
            a.Qd();
            b.is(".text.focused") && Jo(b);
            b.addClass("multiSelected")
        }

        var d = Ma, e = a.H(), g = t.Da();
        !a.Yg() || a.selected || pp(a) || (a.Kg(!0), 0 === g.length ? (vD(e), !b && wD(a, Hb(d))) : (g.forEach(c), e.addClass("multiSelected"), gv(Hb(d))))
    }

    function wD(a, b) {
        var c = a.H();
        a instanceof Nj ? rB(c, b) : pB(c, b);
        (a instanceof Xi || a instanceof ap) && -1 < a.ub() ? Xq(c, b) : a instanceof ap && Xq(c, b)
    }

    function $x(a) {
        var b = t.Da();
        if (1 != b.length || -1 == b.indexOf(a))O(), Vd(a)
    }

    function fD(a) {
        O();
        Vd(a)
    }

    function vv(a) {
        var b = t.Da(), c = J(t), d = c.oa().length - 1, e = -1, e = -1;
        0 !== a && 1 === b.length && (e = c.elements.indexOf(b[0]), -1 !== e && (e += a, 0 > e && (e = d), e > d && (e = 0), b = c.elements[e] || null)) && (b.qb() && (0 < a ? (e += 1, e > d && (e = 0)) : (--e, 0 > e && (e = d))), (a = c.elements[e] || null) && $x(a))
    }

    function vD(a) {
        var b = $("#overlays"), c = a.data("selectionBox"), d = a.data("canvaElement") || null;
        a.addClass("selected");
        c || (c = $('\x3cdiv class\x3d"selectionBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle t" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle l" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle r" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle b" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"Rotate this element"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e'), c.data("element",
            a).appendTo(b), a.hasClass("text") && c.addClass("text"), a.hasClass("svg") && c.addClass("svg"), a.hasClass("graphic") && c.addClass("graphic"), a.hasClass("unapproved") && c.addClass("unapproved"), a.hasClass("group") && c.addClass("group"), a.data("selectionBox", c));
        d && d.Ca()
    }

    function uz(a) {
        a.Kg(!1);
        a.kf();
        a.Qd();
        var b = a.H();
        b.removeClass("selected").removeClass("multiSelected");
        b.is(".text.focused") ? Jo(b) : b.is(".group") && 1 === b.find(".text.focused").length ? Jo(b.find(".text.focused")) : a instanceof Xi && (b = a.xi(), 0 < b.length && Jo(b));
        (b = a.ca()) && !a.Ri(b) && (Fx(a), a.remove())
    }

    function xD(a) {
        uz(a);
        Vd(a)
    }

    function tv(a) {
        for (var b = 0; b !== a.length; b++)if (!a[b].Yg())return;
        if (1 === a.length)Vd(a[0]); else for (b = 0; b !== a.length; b++)Vd(a[b], !0)
    }

    function O() {
        G.trigger("hideContextualControlsRequested");
        t.Da().forEach(uz);
        $(".multipleSelectionBox").remove();
        $(document.activeElement).is("input, textarea") || window.getSelection().removeAllRanges()
    }

    function nv(a) {
        void 0 === a && (a = t.Da());
        if (0 < a.length) {
            var b = a.map(function (a) {
                return a.clone()
            });
            si(b, a[a.length - 1])
        }
    }

    function ov() {
        function a(a) {
            if (a.yg()) {
                var b = a.cc();
                if (b && !Kj(Aa, b)) {
                    var c = (new dq).Vd(b.getVersion());
                    Cr(Ga, b.G(), c).then(function (b) {
                        je(Aa, b.G(), b.na().getVersion(), b.na().Tb());
                        a.gt()
                    }).catch($.noop)
                }
            }
        }

        function b(b) {
            b.Ni() ? (jp(b, 30), kp(b, 30), b.oa().forEach(a), b.appendTo(d)) : (a(b), e ? (jp(b, 30), kp(b, 30), b.insertAfter(e), e = b) : b.appendTo(d));
            h++;
            h === g.length && (ev(), g.forEach(Ud), O(), fv(), tv(g), nv(g))
        }

        var c = ti();
        if (c) {
            var d = J(t), e = c.Fl;
            !e || -1 < d.elements.indexOf(e) || (e = null);
            var g = c.elements.filter(function (a) {
                    return !!a
                }),
                h = 0;
            g.forEach(b)
        }
    }

    function NC(a) {
        function b(a) {
            q = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            r = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            n.write(c);
            return !1
        }

        function c() {
            var a = Zh(e.Ua()), b = (q - g) * Math.cos(a) - (h - r) * Math.sin(a) + g - g, a = -1 * (h - r) * Math.cos(a) - (q - g) * Math.sin(a) + h - h;
            if (m || 4 < Math.abs(b) || 4 < Math.abs(a))m = !0, b /= M, a /= M, e.vt(k + b, l + a), e.Ca()
        }

        function d() {
            p.off("mousemove|touchmove", b).off("mouseup|touchend", d);
            e.Mc = !1
        }

        if (3 == a.which || a.ctrlKey || $(a.target).is(".handle"))return !0;
        var e =
            $(this).data("canvaElement"), g = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, h = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
        a = e.bd();
        var k = a.Y(), l = a.O(), m = !1, n = qe(), q = 0, r = 0;
        e.Mc = !0;
        var p = new V($(document));
        p.on("mousemove|touchmove", b).on("mouseup|touchend", d);
        return !1
    }

    function OC(a) {
        function b(a) {
            K = a.shiftKey ? !1 : !0;
            fa = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            qa = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            N.read(c);
            return !1
        }

        function c() {
            p = nh(oe($(".cropControls").get(0).getBoundingClientRect()));
            N.write(function () {
                var a = 0, b = 0, c = 0, d = 0, b = a = 0, k = pA({
                    x: fa,
                    y: qa
                }, r), p = bi(n, q, fa, qa), N = Math.cos(Zh(k - u)) * p;
                K && (k = u, p = N);
                k = Po(k, g.Ua());
                N = 0;
                switch (UB(e.get(0))) {
                    case 2:
                        N = k - qA("TR");
                        b = p * Math.cos(Zh(N));
                        a = p * Math.sin(Zh(N));
                        K && (b = a / m);
                        c = w;
                        d = z - b;
                        a = x + a;
                        b = C + b;
                        break;
                    case 7:
                        N = k - qA("BR");
                        b = p * Math.sin(Zh(N));
                        a = p * Math.cos(Zh(N));
                        K && (b = a / m);
                        c = w;
                        d = z;
                        a = x + a;
                        b = C + b;
                        break;
                    case 5:
                        N = k - qA("BL");
                        b = p * Math.cos(Zh(N));
                        a = p * Math.sin(Zh(N));
                        K && (b = a / m);
                        c = w - a;
                        d = z;
                        a = x + a;
                        b = C + b;
                        break;
                    case 0:
                        N = k - qA("TL"), b = p * Math.sin(Zh(N)), a = p * Math.cos(Zh(N)), K && (b = a / m), c = w - a, d = z - b, a = x + a, b = C + b
                }
                var p = l.Y() + l.C(), N = l.O() + l.D(), k = Math.floor(d) > l.O(), ba = Math.floor(c) > l.Y(), Pa = Math.ceil(c + a) < p, ja = Math.ceil(d + b) < N;
                k && (l.O(), F === l.O() ? (d = F, b = I, K && (c = A, a = B)) : (d = l.O(), b = I + (F - d), K &&
                (a = b * m, c = A, Math.ceil(c + a) < p && (a = p, b = a / m))));
                ba && (l.Y(), A === l.Y() ? (c = A, a = B, K && (b = I, d = F)) : (c = l.Y(), a = B + (A - c), K && (b = a / m, d = F, Math.ceil(d + b) < N && (b = N, a = b * m))));
                Pa && (A + B === p ? (a = B, c = A, K && (d = F, b = I)) : (a = p - c, K && (b = a / m, d = F)));
                ja && (F + I === N ? (b = I, d = F, K && (c = A, a = B)) : (b = N - d, K && (a = b * m, c = A)));
                isNaN(1 * b) || isNaN(1 * a) || isNaN(1 * d) || isNaN(1 * c) || (b < N && (d = F, c = A, b = N, K && (a = b * m)), a < p && (c = A, d = F, a = p, K && (b = a / m)), k = Math.floor(d) > l.O(), ba = Math.floor(c) > l.Y(), Pa = Math.ceil(c + a) < p, ja = Math.ceil(d + b) < N, k || ba || Pa || ja || (h.Na(c / M).Oa(d / M).la(a /
                    M).ja(b / M), g.cf(h), g.Ca(), A = c, F = d, B = a, I = b))
            })
        }

        function d() {
            Pa.off("mousemove|touchmove", b).off("mouseup|touchend", d);
            ba.write(function () {
                e.removeClass("on");
                g.Mc = !1
            })
        }

        var e = $(this), g = t.Da()[0], h = g.bd(), k = g.bd().scale(M), l = g.ab().scale(M);
        l.Na(0).Oa(0);
        var m = oh(k), n = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, q = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, r = {
            x: n,
            y: q
        };
        a = nh(oe(e.get(0).getBoundingClientRect()));
        var p = nh(oe($(".cropControls").get(0).getBoundingClientRect())),
            u = pA(a, p), w = k.Y(), z = k.O(), x = k.C(), C = k.D(), A = k.Y(), B = k.C(), F = k.O(), I = k.D(), fa = 0, qa = 0, K = !0, N = qe(), ba = qe();
        g.Mc = !0;
        var Pa = new V($(document));
        Pa.on("mousemove|touchmove", b).on("mouseup|touchend", d);
        return !1
    }

    function PC(a) {
        function b(a) {
            C = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            A = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            B.read(c);
            return !1
        }

        function c() {
            var a, b, c, d, F = 0, I = 0, wb = h.clone(), S = bi(l, m, C, A), F = Po(pA({
                x: C,
                y: A
            }, n), e.Ua()), W = 0;
            switch (UB(g.get(0))) {
                case 2:
                    W = F - qA("TR");
                    I = S * Math.cos(Zh(W));
                    F = S * Math.sin(Zh(W));
                    a = h.Y();
                    c = h.O() - I;
                    b = h.C() + F;
                    d = h.D() + I;
                    break;
                case 7:
                    W = F - qA("BR");
                    I = S * Math.sin(Zh(W));
                    F = S * Math.cos(Zh(W));
                    a = h.Y();
                    c = h.O();
                    b = h.C() + F;
                    d = h.D() + I;
                    break;
                case 5:
                    W =
                        F - qA("BL");
                    F = S * Math.sin(Zh(W));
                    I = S * Math.cos(Zh(W));
                    a = h.Y() - F;
                    c = h.O();
                    b = h.C() + F;
                    d = h.D() + I;
                    break;
                case 0:
                    W = F - qA("TL"), I = S * Math.sin(Zh(W)), F = S * Math.cos(Zh(W)), a = h.Y() - F, c = h.O() - I, b = h.C() + F, d = h.D() + I
            }
            S = k.O();
            c < S && (z === S ? (c = z, d = x) : (c = S, d = x + (z - c)));
            S = k.Y();
            a < S && (u === S ? (a = u, b = w) : (a = S, b = w + (u - a)));
            S = k.D() + k.O();
            c + d > S && (z + x === S ? (d = x, c = z) : d = S - c);
            S = k.C() + k.Y();
            a + b > S && (u + w === S ? (b = w, a = u) : b = S - a);
            20 > b ? b = 20 : 20 > d ? d = 20 : isNaN(1 * d) || isNaN(1 * b) || isNaN(1 * c) || isNaN(1 * a) || (wb.Na(a).Oa(c).la(b).ja(d), u = a, z = c, w = b, x = d, B.write(function () {
                Kf(e,
                    wb.scale(1 / M));
                p && ve(p, q, r);
                e.Ca()
            }))
        }

        function d() {
            I.off("mousemove|touchmove", b).off("mouseup|touchend", d);
            F.write(function () {
                $("#overlays .align").removeClass("on");
                g.removeClass("on");
                e.Mc = !1
            })
        }

        var e = t.Da()[0], g = $(this);
        e.Ca();
        var h = e.ab();
        h.scale(M);
        var k = e.bd();
        k.scale(M).translate(h.Y(), h.O());
        var l = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, m = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, n = {
                x: l,
                y: m
            }, q = {}, r = ue(e), p = e instanceof Yo ? new Jf(e) : null, u = h.Y(),
            w = h.C(), z = h.O(), x = h.D(), C = 0, A = 0, B = qe(), F = qe();
        e.Mc = !0;
        var I = new V($(document));
        I.on("mousemove|touchmove", b).on("mouseup|touchend", d);
        return !1
    }

    function MC(a) {
        function b(a) {
            var b = (void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX) - l;
            a = (void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY) - m;
            var c = Math.sqrt(Math.pow(n + b, 2) + Math.pow(q + a, 2));
            B = d(w);
            10 > n + b || 10 > q + a || (z = c / r, x.css("top", B.top - A + "px").css("left", B.left - C + "px").css("width", B.width + "px").css("height", B.height + "px"), u.css("-webkit-transform", "scale(" + z + ")").css("transform", "scale(" + z + ")"))
        }

        function c() {
            fa.off("mousemove|touchmove", b).off("mouseup|touchend",
                c);
            Zi();
            pD(p, !1);
            g();
            u.remove();
            e();
            x.remove()
        }

        function d(a) {
            var b = Infinity, c = Infinity, d = 0, e = 0;
            a.each(function (a, g) {
                var h = g.getBoundingClientRect();
                h.top < b && (b = h.top);
                h.left < c && (c = h.left);
                h.bottom > e && (e = h.bottom);
                h.right > d && (d = h.right)
            });
            return {top: b, left: c, right: d, bottom: e, width: d - c, height: e - b}
        }

        function e() {
            $(".multipleSelectionBox").css("visibility", "visible");
            $(".elementToolbar").css("visibility", "visible");
            $(".multiSelected").each(function () {
                var a = $(this).data("canvaElement");
                $(this).css("opacity",
                    1 - a.Bc / 100)
            })
        }

        function g() {
            var a = u.get(0).getBoundingClientRect(), b = a.left, c = a.top;
            ev();
            w.each(function () {
                function a() {
                    0 == x && g.setPosition(q / M, r / M)
                }

                var d = $(this).data("multi-id"), e = $(".multiSelected").filter(function () {
                    return $(this).data("multi-id") == d
                }).first(), g = e.data("canvaElement"), k = e.get(0).getBoundingClientRect(), l = $(this).get(0).getBoundingClientRect(), m = g.qa(), n = g.Tk() ? g.Mk() : null, p = T(t, g.ca()), e = (l.right - l.left) / (k.right - k.left), k = (l.bottom - l.top) / (k.bottom - k.top), q = l.left - b + I, r = l.top -
                    c + F, x = g.Ua();
                $(this).remove();
                g instanceof Nj ? (l = g.wc(0), l = parseFloat(parseFloat(l * z)), k = g.C() * e, e = g.mc(0), g.Lc(0, l), g.la(k), g.ja(), g.Ba(), a(), l = g.mc(0), e = {
                    elementIndex: g.ea(),
                    pageIndex: p,
                    textIndex: 0,
                    "new": l,
                    old: e
                }, y.register(new uy(1, e))) : (g.setSize(g.C() * e, g.D() * k), a());
                (function () {
                    var a = g.qa();
                    if (!mh(m, a)) {
                        var b = m.serialize(), a = a.serialize();
                        g.Tk() && (b.transformDependentData = n, a.transformDependentData = g.Mk());
                        b = {elementIndex: g.ea(), pageIndex: p, old: b, "new": a};
                        y.register(new U($i, b))
                    }
                })();
                g.Ba();
                gv(Hb(h))
            });
            fv()
        }

        var h = Ma, k = $(this), l = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, m = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, n = $(".multipleSelectionBox").width(), q = $(".multipleSelectionBox").height(), r = Math.sqrt(Math.pow(n, 2) + Math.pow(q, 2)), p = t.Da();
        k.addClass("on");
        aj();
        G.trigger("hideContextualControlsRequested");
        pD(p, !0);
        var u, w, z = 1, x = $('\x3cdiv id\x3d"ghostSelectionBox" class\x3d"cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr"\x3e\x3c/a\x3e\x3ca class\x3d"handle br"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl"\x3e\x3c/a\x3e\x3c/div\x3e');
        (function () {
            w = $($(".multiSelected").map(function (a) {
                $(this).data("multi-id", a);
                return this
            })).clone(!0).off();
            w.each(function () {
                $(this).removeAttr("id");
                $(this).find("*").removeAttr("id")
            });
            w.removeClass(".multiSelected");
            u = $('\x3cdiv class\x3d"ghost element"\x3e\x3c/div\x3e');
            $(".elementToolbar").css("visibility", "hidden");
            $(".multipleSelectionBox").css("visibility", "hidden");
            $(".multiSelected").css("opacity", "0");
            w.appendTo(u);
            var a = t.Da()[0].H().parent(".elements");
            u.appendTo(a);
            k.hasClass("br") ?
                u.addClass("fixTopLeft") : k.hasClass("bl") ? u.addClass("fixTopRight") : k.hasClass("tr") ? u.addClass("fixBottomLeft") : k.hasClass("tl") && u.addClass("fixBottomRight")
        })();
        var C = $("#canvaDocument").offset().left, A = $("#canvaDocument").offset().top, B = d(w), F = B.top - $(".page.selected").offset().top, I = B.left - $(".page.selected").offset().left;
        u.css("left", I + "px").css("top", F + "px");
        w.each(function (a, b) {
            re(b, {Nc: -I, Oc: -F}, !0)
        });
        $("#overlays").append(x);
        x.css("top", B.top - A + "px").css("left", B.left - C + "px").css("width",
            B.width + "px").css("height", B.height + "px");
        var fa = new V($(document));
        fa.on("mousemove|touchmove", b).on("mouseup|touchend", c);
        return !1
    }

    function LC(a) {
        function b(a) {
            var b = (g || 0) + Math.sqrt(Math.pow(void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, 2) + Math.pow(void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, 2)) - h;
            0 < b ? lr(e, b / M) : lr(e);
            e.Ca();
            a.preventDefault();
            a.stopPropagation();
            return !1
        }

        function c() {
            k.off("mousemove|touchmove", b).off("mouseup|touchend", c);
            e.Se && e.Se();
            e.Mc = !1;
            var a = {elementIndex: e.ea(), pageIndex: T(t, e.ca()), "new": {padding: e.padding}, old: {padding: g}};
            y.register(new U($i, a))
        }

        var d = $(this);
        d.addClass("on");
        var e = d.parents(".selectionBox").data("element").data("canvaElement"), g = e.padding, h = Math.sqrt(Math.pow(void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, 2) + Math.pow(void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, 2));
        e.Mc = !0;
        var k = new V($(document));
        k.on("mousemove|touchmove", b).on("mouseup|touchend", c)
    }

    function KC(a) {
        function b(a) {
            Kk = h instanceof Xi || h instanceof $o ? x : a.shiftKey ? !x : x;
            Oh = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            Nh = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            lx.read(c);
            return !1
        }

        function c() {
            pb = bj(h);
            var a = pA({x: Oh, y: Nh}, z), b = bi(u, w, Oh, Nh), c = Math.cos(Zh(a - Wd)) * b, d = 0, g = 0, k = 0;
            Kk && (a = Wd, b = c);
            if (!(kx && 3 > Math.abs(jx - Oh) || mx && 3 > Math.abs(ja - Nh))) {
                kx = mx = !1;
                var l = UB(e.get(0)), x, Ta, fe = !1, a = Po(a, h.Ua());
                switch (l) {
                    case 4:
                        d = c;
                        x = W;
                        Ta = ba;
                        break;
                    case 3:
                        d =
                            c;
                        x = ba;
                        Ta = W;
                        break;
                    case 1:
                        g = c;
                        x = wb;
                        Ta = K;
                        break;
                    case 6:
                        g = c;
                        x = K;
                        Ta = wb;
                        break;
                    case 2:
                        fe = !0;
                        x = S;
                        Ta = N;
                        k = a - qA("TR");
                        d = b * Math.sin(Zh(k));
                        g = b * Math.cos(Zh(k));
                        break;
                    case 7:
                        fe = !0;
                        x = qa;
                        Ta = Pa;
                        k = a - qA("BR");
                        g = b * Math.sin(Zh(k));
                        d = b * Math.cos(Zh(k));
                        break;
                    case 5:
                        fe = !0;
                        x = N;
                        Ta = S;
                        k = a - qA("BL");
                        d = b * Math.sin(Zh(k));
                        g = b * Math.cos(Zh(k));
                        break;
                    case 0:
                        fe = !0, x = Pa, Ta = qa, k = a - qA("TL"), g = b * Math.sin(Zh(k)), d = b * Math.cos(Zh(k))
                }
                h instanceof Nj && (3 === l ? (x = N, Ta = W) : 4 === l && (x = qa, Ta = ba));
                var ei = x.get(0).getBoundingClientRect(), Dy = B.scrollLeft,
                    Ey = B.scrollTop;
                Kk && fe && (0 === d ? d = g * p : g = d / p);
                var Xp;
                Xp = 0 === d ? h.C() : fe ? Math.max(q + d, C) / M : Math.max(q + d, Math.max(3 * M), Fa) / M;
                var Yp;
                Yp = 0 === g ? h.D() : fe ? Math.max(r + g, A) / M : Math.max(r + g, Math.max(3 * M), qb) / M;
                Ro(h) || ve(h, xG, yG, {d: !0, Wn: !0, r: !0, cI: !0}, Kk);
                c = $("#overlays").get(0).getBoundingClientRect();
                Ta = Ta.get(0).getBoundingClientRect();
                a = Ta.left - c.left;
                c = Ta.top - c.top;
                Ta.left < pb.x && fa.addClass("positionIndicatorScalingFromLeft");
                Ta.top > pb.y && fa.addClass("positionIndicatorScalingFromBottom");
                fa.addClass("positionIndicatorShowing").addClass("positionIndicatorScaling").css("transform",
                    "translate(" + a + "px," + c + "px)").html(Xp.toFixed(0) + " ? " + Yp.toFixed(0));
                lx.write(function () {
                    h.setSize(Xp, Yp);
                    var a = x.get(0).getBoundingClientRect(), b = Ey - I, c = Dy - F;
                    I = Ey;
                    F = Dy;
                    ab += ei.top - a.top - b;
                    ed += ei.left - a.left - c;
                    a = h;
                    b = (n + ab) / M;
                    gp(a, (m + ed) / M);
                    np(a, b);
                    h instanceof Nj && 0 !== h.Ua() ? (h.la(), h.sb()) : h.Ba()
                });
                jx = Oh;
                ja = Nh
            }
        }

        function d() {
            ei.off("mousemove|touchmove", b).off("mouseup|touchend", d);
            FI.write(function () {
                fa.remove();
                $("#overlays .align").removeClass("on");
                e.removeClass("on");
                h instanceof Nj ? window.setTimeout(function () {
                    h.Se();
                    ao(g, !0);
                    Zi();
                    h.Mc = !1
                }, 0) : (Zi(), h.Mc = !1);
                var a = h.qa();
                if (!mh(k, a)) {
                    ev();
                    eD(h);
                    var b = k.serialize(), a = a.serialize();
                    h.Tk() && (b.transformDependentData = l, a.transformDependentData = h.Mk());
                    b = {elementIndex: h.ea(), pageIndex: T(t, h.ca()), old: b, "new": a};
                    y.register(new U($i, b));
                    fv()
                }
                qa.remove();
                K.remove();
                N.remove();
                ba.remove();
                Pa.remove();
                wb.remove();
                S.remove();
                W.remove()
            })
        }

        var e = $(this);
        e.addClass("on");
        var g = e.parents(".selectionBox").data("element"), h = g.data("canvaElement"), k = h.qa(), l = h.Tk() ? h.Mk() : null,
            m = Math.round(h.left * M), n = Math.round(h.top * M), q = op(h), r = cj(h), p = q / r, u = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, w = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, z = {
                x: u,
                y: w
            }, x = !(h instanceof Nj || h instanceof ap);
        a = (new L(0, 0, 3, 3)).scale(M);
        a = th(new L(0, 0, p, 1), a);
        var C = a.C(), A = a.D(), B = $("#canvaDocument").get(0), F = B.scrollLeft, I = B.scrollTop, fa = $('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');
        $("#overlays").append(fa);
        aj();
        G.trigger("hideContextualControlsRequested");
        var qa = $("\x3cdiv\x3e\x3c/div\x3e");
        qa.css({position: "absolute", top: 0, left: 0});
        h.H().append(qa);
        var K = $("\x3cdiv\x3e\x3c/div\x3e");
        K.css({position: "absolute", top: 0, left: "50%"});
        h.H().append(K);
        var N = $("\x3cdiv\x3e\x3c/div\x3e");
        N.css({position: "absolute", top: 0, right: 0});
        h.H().append(N);
        var ba = $("\x3cdiv\x3e\x3c/div\x3e");
        ba.css({position: "absolute", top: "50%", right: 0});
        h.H().append(ba);
        var Pa = $("\x3cdiv\x3e\x3c/div\x3e");
        Pa.css({position: "absolute", bottom: 0, right: 0});
        h.H().append(Pa);
        var wb = $("\x3cdiv\x3e\x3c/div\x3e");
        wb.css({position: "absolute", bottom: 0, left: "50%"});
        h.H().append(wb);
        var S = $("\x3cdiv\x3e\x3c/div\x3e");
        S.css({position: "absolute", bottom: 0, left: 0});
        h.H().append(S);
        var W = $("\x3cdiv\x3e\x3c/div\x3e");
        W.css({position: "absolute", top: "50%", left: 0});
        h.H().append(W);
        var Fa = 0, qb = 0;
        h instanceof Xi && (a = h.Fa ? $.extend(!0, {}, h.Fa) : null) && (Fa = (a.left + a.right) * Oq(h).scale * M, qb = (a.top + a.bottom) * Oq(h).scale * M);
        var ab = 0, ed = 0, pb = bj(h);
        a = nh(oe(e.get(0).getBoundingClientRect()));
        var Wd = pA(a, pb), ja = w, jx = u, kx = !1, mx = !1,
            xG = {}, yG = ue(h), Oh = 0, Nh = 0, Kk = x, lx = qe(), FI = qe();
        h.Mc = !0;
        var ei = new V($(document));
        ei.on("mousemove|touchmove", b).on("mouseup|touchend", d);
        return !1
    }

    function gv(a) {
        if (t && t.Da) {
            var b = t.Da();
            if (!(2 > b.length)) {
                var c = $("#overlays"), d = $(".selectionBox.multipleSelectionBox");
                0 == d.length && (d = $('\x3cdiv class\x3d"selectionBox multipleSelectionBox"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e'), d.appendTo(c));
                0 === b.filter(function (a) {
                    return 0 !== a.Ua()
                }).length && d.addClass("cornerHandles");
                c = yD(b);
                d.css("left", c.Y()).css("top", c.O()).css("width", c.C()).css("height", c.D());
                var e = $();
                b.map(function (a) {
                    e.push(a.H().get(0))
                });
                pB(e, a);
                $(".elementToolbarPhotoFilters").remove();
                $(".elementToolbarMore").remove();
                $(".elementToolbarForward").remove();
                $(".elementToolbarBackward").remove()
            }
        }
    }

    function yD(a) {
        var b = a.map(function (a) {
            return a.Qa() * M + (a.ca().hb() || 0)
        }), c = a.map(function (a) {
            return a.Aa() * M + (a.ca().nb() || 0)
        }), b = Array.min(b), c = Array.min(c), d = Array.max(a.map(function (a) {
            return a.Bb() * M + (a.ca().hb() || 0)
        }));
        a = Array.max(a.map(function (a) {
            return a.lb() * M + (a.ca().nb() || 0)
        }));
        return new L(b, c, d - b, a - c)
    }

    function zD() {
        var a = $(this), b = a.data("canvaElement");
        if (b && b.Yg() && !(0 < a.parents(".group").length))if (se(a, $("#marquee")))if (b.qb()) {
            var c = a.get(0).getBoundingClientRect(), d = $("#marquee").get(0).getBoundingClientRect();
            d.top + 10 < c.top && d.left + 10 < c.left ? (b.Kg(!0), a.addClass("multiSelected")) : (b.Kg(!1), a.removeClass("multiSelected"))
        } else b.Kg(!0), a.addClass("multiSelected"); else b.Kg(!1), a.removeClass("multiSelected")
    }

    function FC(a) {
        a = a.target;
        "SPAN" == a.tagName && (a.style.removeProperty("font-size"), a.style.removeProperty("background-color"), a.style.removeProperty("line-height"), a.style.removeProperty("letter-spacing"))
    }

    function CC(a) {
        (function (a) {
            if (13 !== a.keyCode || !document.queryCommandSupported("insertLineBreak") || a.ctrlKey || a.metaKey)return !1;
            if (a.shiftKey || a.altKey)return !0;
            if (document.queryCommandState("insertUnorderedList") || document.queryCommandState("insertOrderedList"))return !1;
            a = document.queryCommandValue("formatBlock");
            return "" !== a && "div" !== a && "p" !== a ? !1 : !0
        })(a) && (document.execCommand("insertLineBreak", !1, null), a.preventDefault())
    }

    function DC() {
        if (AD)$("#content").off("keydown", ".element.text.focused", DC); else {
            var a = $(this);
            BD(a)
        }
    }

    function EC() {
        AD = !0;
        var a = $(this);
        BD(a)
    }

    var AD = !1;

    function BD(a) {
        function b() {
            a.data("handleTextElementInputTimerId", 0);
            CD(a);
            ao(a, !0)
        }

        if (!DD(a)) {
            var c = a.data("handleTextElementInputTimerId") || 0;
            0 === c && (c = AD ? requestAnimationFrame(b) : window.setTimeout(b, 20), a.data("handleTextElementInputTimerId", c))
        }
    }

    function CD(a) {
        var b = a.data("canvaElement");
        if (b) {
            var c = b.mb();
            0 < Object.keys(b.Fk(c)).length && ED(function () {
                b.ci(c)
            })
        }
    }

    function DD(a) {
        return a.hasClass("svg") || 0 < a.closest(".element.svg").length
    }

    function ED(a) {
        var b = window.getSelection(), c = document.createElement("span");
        c.classList.add("fauxCaret");
        c.appendChild(document.createTextNode(""));
        if (b.rangeCount) {
            var d = b.getRangeAt(0);
            d.collapse(!1);
            d.insertNode(c)
        }
        a();
        b = window.getSelection();
        b.rangeCount && (d = document.createRange(), d.setStart(c.childNodes[0], 0), d.collapse(!0), b.removeAllRanges(), b.addRange(d));
        c.parentNode.removeChild(c)
    }

    function ao(a, b) {
        function c(a, b) {
            return a.Qa() + b > a.ca().Bb()
        }

        function d(a) {
            return a.Qa() <= a.ca().Qa()
        }

        if (!DD(a)) {
            var e = a.data("canvaElement");
            if (e) {
                var g = a.children(".inner");
                if (0 !== g.length) {
                    var h = 0 < a.parents(".element.group").length;
                    h && e.Se();
                    100 < g.text().length && e.Ll(e.mb());
                    var k = b && !e.cl();
                    k && (g.css("width", "0"), g.addClass("explicitLineBreaksLayoutMode"));
                    var l = g.prop("scrollWidth"), m = Mf(g[0]).bf;
                    m && 1 < m && (l /= m);
                    var m = a.data("justification"), n = e.C(), q = e.Y();
                    if (k) {
                        var r = n;
                        a.data("ephemeralStartWidth") ?
                            r = a.data("ephemeralStartWidth") : a.data("ephemeralStartWidth", e.C());
                        l = Math.max(r, l + 2);
                        e.ca() && (m && "left" !== m ? "right" === m ? (e.Na(q + n - l), d(e) && (l = n, e.Na(0), e.Se())) : "center" === m && (e.Na(q + (n - l) / 2), d(e) || c(e, l)) && (e.Na(q), l = n, e.Se()) : c(e, l) && (l = e.ca().Bb() - e.Qa(), e.Se()))
                    } else l = Math.max(n, l);
                    n = m = 0;
                    if (m = 0 !== e.Ua() && b) {
                        var p = $('\x3cspan class\x3d"shim"\x3e\x26nbsp;\x3c/span\x3e');
                        e.H().find(".shim").remove();
                        e.H().prepend(p);
                        var u = p.get(0).getBoundingClientRect(), w = e.O(), z = e.Y()
                    }
                    k && g.removeClass("explicitLineBreaksLayoutMode");
                    e.la(l);
                    g = e.D();
                    e.Ba();
                    h && b && Cs(a.parents(".group").first().data("canvaElement"), e, g);
                    m && g !== e.D() ? (h = p.get(0).getBoundingClientRect(), p.remove(), m = h.top - u.top, n = h.left - u.left, 0 == m && 0 == n || e.setPosition(z - n / M, w - m / M), window.setTimeout(function () {
                        e.Ba()
                    }, 0)) : p && p.remove()
                }
            }
        }
    }

    function uv() {
        var a = t.Da(), b, c, d, e, g;
        (c = J(t)) && 1 === a.length && (b = a[0], a = b.qa(), b instanceof ap ? (d = c.qa(), d.Oa(d.O() - 12), d.la(d.C() + 24), d.ja(d.D() + 24), d.Na(d.Y() - 12)) : d = xe(a.clone(), c.qa()), b instanceof Nj ? (uz(b), ev(), g = b.mc(0), e = b.wc(0) * (d.D() / a.D()), b.Lc(0, e), window.setTimeout(function () {
            b.la(d.C());
            b.ja();
            b.Ba()
        }, 0), b.setPosition(d.Y(), d.O()), e = b.mc(0), g = {
            elementIndex: b.ea(),
            pageIndex: T(t, c),
            textIndex: 0,
            "new": e,
            old: g
        }, g = new uy(1, g), y.register(g)) : (b.Eb(d), b.Ba()), c = {
            elementIndex: b.ea(), pageIndex: T(t,
                c), "new": d.serialize(), old: a.serialize()
        }, c = new U($i, c), y.register(c), b instanceof Nj && fv(), Vd(b))
    }

    function QC() {
        var a = $("#overlays .confirmationToolbarCancel a");
        0 < $("#overlays \x3e .mask.on").length && 0 < a.length && a.trigger("click")
    }

    function RC(a) {
        function b(a) {
            if ($(a.target).is("#cutoutMessage") || 0 < $(a.target).parents("#cutoutMessage").length || $("#overlays").hasClass("shakeOverlays"))return !0;
            clearTimeout(u);
            $("#overlays").addClass("shakeOverlays");
            u = setTimeout(function () {
                $("#overlays").removeClass("shakeOverlays")
            }, 300)
        }

        function c(a) {
            $(a.target).hasClass("buttonCutoutMessageEditText") && (a = p, a.xk = !1, a.H().toggleClass("failed", a.xk), a.Xl(0), a.zt(0), a.ef(0, "Glegoo"), a.Il = !0, bo(a.H(), !0), a.Ba(), Vd(p), lv(p.H(), !0), p.Ca(), d())
        }

        function d() {
            $(n).off("mousedown",
                b).off("mouseleave", d);
            $("#cutoutMessage").on("transitionend", e).addClass("disappear")
        }

        function e() {
            $(this).remove()
        }

        function g() {
            var a = r.get(0) === n;
            if (a = r.data("triggerElement") !== n && !a) {
                var a = $("#overlays").find(".text.focused"), b;
                0 < a.length ? (a = oe(a.get(0).getBoundingClientRect()), b = oe(n.getBoundingClientRect()), a = pe(a, b)) : a = !1;
                a = !a
            }
            return a
        }

        var h, k, l;
        l = 200;
        var m = 85, n = a.currentTarget;
        a = Db(Ma);
        h = n.classList.contains("unapproved");
        k = a.format("documentMediaLoadFailedError");
        var q = n.classList.contains("failed"),
            r = $("#cutoutMessage"), p = $(n).data("canvaElement");
        if (p) {
            0 >= r.length && (r = $('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));
            q && (l = 240, m = 100, k = a.format("documentFontLoadFailedError"));
            r.data("canvaElement", p).html(k).toggleClass("unapproved", h).toggleClass("failed", q).off("transitionend").removeClass("disappear");
            $(n).on("mousedown", b);
            g() && (a = oe(n.getBoundingClientRect()), h = oe($("#overlays").get(0).getBoundingClientRect()), k = $("#canvaDocument").offset(), k = rh(kB().translate(10, 10), -20, -20).translate(k.left,
                k.top).translate(-h.Y(), -h.O()), l = new L(0, 0, l, m), vh(sh(l, a).translate(-h.Y(), -h.O()), k), r.css(l.serialize()).appendTo("#overlays").data("triggerElement", n).on("click", c));
            $(n).on("mouseleave", d);
            var u
        }
    }

    function SC(a) {
        $(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, #canvaDocument \x3e .inner \x3e .page, #canvaDocument \x3e .inner \x3e .page \x3e .elements") && ($(a.target).is("input") || $(document.activeElement).blur(), O())
    }

    function ye(a, b, c) {
        function d(a) {
            Zx = !0;
            window.clearTimeout(F);
            F = window.setTimeout(function () {
                Zx = !1
            }, 1E3);
            var b = document.elementFromPoint(a.originalEvent.touches[0].clientX, a.originalEvent.touches[0].clientY);
            I.forEach(function (a) {
                a != b && l.call(a)
            });
            a = $(b);
            var c = 0 <= I.indexOf(b);
            !c && 0 < a.parents("#hotspots").length && a.is(".element.hotspot") ? (B = b, g.call(b), I = [b]) : I = c ? [b] : []
        }

        function e() {
            $(document).off("touchmove", d).off("touchend", e);
            var a = $(B);
            0 < a.parents("#hotspots").length && a.is(".element.hotspot") &&
            m.call(B);
            window.setTimeout(function () {
                Zx = !1
            }, 300)
        }

        function g() {
            if (a.hasClass("svg") || a.hasClass("cutout")) {
                var b = $("#cutoutMessage");
                0 >= b.length && (b = $('\x3cdiv id\x3d"cutoutMessage"\x3e').text(q.format("documentCutoutInFrameWarning")), b.appendTo("#content"));
                b.off("transitionend").removeClass("disappear");
                u = !1
            } else {
                var c = r.clone(!0);
                c.css("width", "").css("height", "");
                var d = $(this).data("canvaElement"), e = $(this).data("placeholderIndex");
                a.data("placedInElement", d).addClass("placing").addClass("draggedMediaOverHotspot");
                var g = a.data("li"), h = g.data("result"), k = g.find("img").data("mediaApproved"), g = h.G(), h = h.getVersion(), l = d.Af(e), c = new L(0, 0, p ? op(p) : parseInt(c.data("screenWidth"), 10), p ? cj(p) : parseInt(c.data("screenHeight"), 10));
                th(c, l).translate(-l.Y(), -l.O());
                c = {
                    type: "image",
                    index: e,
                    mediaId: g,
                    mediaVersion: h,
                    origin: p ? p.Md() : null,
                    imageBox: c.serialize(),
                    flipOrientation: p ? p.fb : 0,
                    mediaApproved: void 0 === k ? !0 : k
                };
                C = d.tg(e);
                A = bq(d.qg(e));
                u = !0;
                g === C.mediaId ? u = !1 : (d.Sf(e, c), p && (c = p.H(), g = c.data("selectionBox"), c = c.data("toolbar"),
                g && g.hide(), c && c.addClass("hidden"), p.qg && (b = bq(p.Sb()))), d = d.qg(e), d.remove(), bu(d, b || bq(d)))
            }
        }

        function h() {
            x.read(k)
        }

        function k() {
            var b = a.offset();
            x.write(function () {
                $("#cutoutMessage").css("left", b.left + a.width() / 2 - $("#cutoutMessage").outerWidth() / 2).css("top", b.top + a.height() / 2 - $("#cutoutMessage").outerHeight() / 2)
            })
        }

        function l() {
            var b = $(this).data("canvaElement"), c = $(this).data("placeholderIndex"), d = b.qg(c);
            a.removeData("placedInElement").removeClass("placing").removeClass("draggedMediaOverHotspot");
            $("#cutoutMessage").on("transitionend", n).addClass("disappear");
            u && (b.Sf(c, C), d.remove(), bu(d, A), p && (c = p.H(), b = c.data("selectionBox"), c = c.data("toolbar"), b && b.show(), c && c.removeClass("hidden")))
        }

        function m() {
            if (a.data("li") && ($("#cutoutMessage").on("transitionend", n).addClass("disappear"), !a.hasClass("svg") && !a.hasClass("cutout"))) {
                var b = a.data("li").data("result"), c = $(this).data("canvaElement"), d = $(this).data("placeholderIndex"), e = c.Jk(d);
                c.by();
                $x(c);
                var g = {
                    elementIndex: c.ea(), pageIndex: T(t, c.ca()),
                    placeholderIndex: d, "new": c.tg(d), old: C
                }, h = {
                    elementIndex: c.ea(),
                    pageIndex: T(t, c.ca()),
                    placeholderIndex: d,
                    "new": {filter: bq(c.qg(d))},
                    old: {filter: A}
                }, g = new U(ry, g), h = new U(11, h);
                ev();
                y.register(g);
                y.register(h);
                c.pp = !0;
                c.Jh(e);
                a.one("transitionend", n).addClass("disappeared").removeClass("draggedMediaOverHotspot").removeClass("placing");
                w.remove();
                e.removeData("oldPlacement");
                p && (p.Na(a.data("startLeft")), p.Oa(a.data("startTop")), Fx(p), p.remove(), p instanceof Yo && c instanceof Xi && 0 != p.fb && setTimeout(function () {
                    function a(c) {
                        c.target !=
                        l.get(0) && (clearTimeout(u), c.target == l.find("a")[0] ? ($(document).on("mouseout mouseup", b), c.preventDefault()) : k())
                    }

                    function b() {
                        $(document).off("mouseout mouseup", b);
                        k()
                    }

                    function e() {
                        $(document).off("mousemove", e);
                        x = setTimeout(function () {
                            l.on("mouseenter", g).on("mouseleave", h)
                        }, 100)
                    }

                    function g() {
                        clearTimeout(u)
                    }

                    function h() {
                        clearTimeout(u);
                        u = setTimeout(k, 1E3)
                    }

                    function k() {
                        clearTimeout(x);
                        $(document).off("mousedown", a).off("mousemove", e);
                        l.off("mouseenter", g).off("mouseleave", h);
                        l.on("transitionend",
                            n).addClass("disappear")
                    }

                    var l = $("#cutoutMessage");
                    0 == l.length && (l = $('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));
                    l.off("transitionend").addClass("closeable").removeClass("disappear").text(q.format("documentCutoutFlippedImageWarning")).append('\x3ca href\x3d"#" class\x3d"close"\x3eClose\x3c/a\x3e').appendTo(c.ca().H());
                    var m = c.qa(), p = c.Af(d), r = m.O() + p.O() + p.D() / 2, r = r * M, r = r - l.outerHeight() / 2, m = m.Y() + p.Y() + p.C() / 2, m = m * M, m = m - l.outerWidth() / 2;
                    l.css("top", r).css("left", m);
                    $(document).on("mousedown",
                        a).on("mousemove", e);
                    var x = 0, u = setTimeout(k, 1E4)
                }, 200));
                fv();
                e = b.Md();
                e !== de && "GOOGLE" !== e || Xd(Ia, b, c.Ei(d));
                Ev(Wa, Qv(b))
            }
        }

        function n() {
            $(this).remove()
        }

        b = b || J(t);
        var q = Db(Ma), r = $("img", a), p = a.data("canvaElement"), u = !0, w = $('\x3csection id\x3d"hotspots"\x3e\x3c/section\x3e'), z = rr(b);
        w.css(z.serialize());
        var x = qe();
        b.oa().forEach(function (a) {
            if ((a instanceof Xi || a instanceof ap) && !pp(a)) {
                var b = $('\x3cdiv class\x3d"container"\x3e\x3c/div\x3e'), d = a.qa();
                b.css(d.scale(M).round().serialize()).css("transform",
                    "rotate(" + a.Ua().toString() + "deg)");
                for (var d = a.Oe(), e = 0; e < d; e++) {
                    var k = a.Af(e);
                    k.scale(M).round();
                    var n = $('\x3cdiv class\x3d"element hotspot"\x3e\x3c/div\x3e');
                    n.css(k.serialize()).data("canvaElement", a).data("placeholderIndex", e).appendTo(b);
                    !1 === c && n.mouseover(g).mousemove(h).mouseout(l).mouseup(m)
                }
                b.appendTo(w)
            }
        });
        w.appendTo("#content");
        b = Sa.Ea[b.ea()].$el;
        w.css("left", b.offset().left).css("top", b.offset().top);
        var C = null, A = null, B = null, F = null;
        if (!0 === c) {
            var I = [];
            $(document).on("touchmove", d).on("touchend",
                e)
        }
    }

    function Dx(a, b) {
        function c(a) {
            a = {
                left: a.originalEvent.touches[0].clientX,
                top: a.originalEvent.touches[0].clientY,
                width: 0,
                height: 0
            };
            for (var b = {left: m, top: n, width: 0, height: 0}, c = 0; c < l.length; c++) {
                var d = l[c];
                SB(a, d) && !SB(b, d) ? e.call(d.element) : SB(b, d) && !SB(a, d) && g.call(d.element)
            }
            m = a.left;
            n = a.top
        }

        function d(b) {
            $(document).off("touchmove", c).off("touchend", d);
            for (var e = {
                left: b.changedTouches[0].clientX,
                top: b.changedTouches[0].clientY,
                width: 0,
                height: 0
            }, g = 0; g < l.length; g++) {
                var m = l[g];
                if (SB(e, m)) {
                    var n = $(".page",
                        k).index(m.element);
                    $(m.element).data("page", $("#canvaDocument \x3e .inner \x3e .page").eq(n));
                    h.call(m.element, b, a)
                }
            }
        }

        function e() {
            $(this).addClass("hover");
            $(this).data("page").addClass("hotspotHover");
            a.addClass("placing")
        }

        function g() {
            $(this).removeClass("hover");
            $(this).data("page").removeClass("hotspotHover");
            a.removeClass("placing")
        }

        function h(b, c) {
            function d(a) {
                var b;
                b = new Bh({type: Oo, id: l.id, version: l.version});
                FD(a, b);
                var c = new wj(t, a);
                qz({mf: pz(c), an: t.Ha(), page: c});
                a = Ah(new yh(a.layout),
                    c.serialize());
                c = {"new": a, old: F, pageIndex: B.ea()};
                zy(B, a, l.previewUrl, b);
                y.register(new yy(4, c))
            }

            function e(a) {
                return a.getDocument().ca(m.pageIndex)
            }

            O();
            2 == arguments.length && (a = c);
            var g = a.data("li"), h = $(this).data("page"), h = $("#canvaDocument \x3e .inner \x3e .page").index(h);
            xj(t, h);
            var l = g.find("a").data("documentProperties"), m = g.find("a").data("pageTemplateRequest"), h = g.find("a").data("pageTemplateRequest"), n = g.find("a").data("pageTemplate"), B = J(t), F = B.di();
            if (m)B.clear(), kz(B, l.previewUrl), Ca.getDocument(ik(l.id)).then(e).then(d);
            else if (h)B.clear(), $.getJSON(h.url, function (a) {
                d(a.content.pages[0])
            }); else if (n)d(n); else if (0 < g.parents(".backgroundGallery").length)Hx(a.data("li")), h = g.data("result"), Ev(Wa, Qv(h)); else if (0 < g.parents(".templateGallery").length) {
                var n = g.data("layoutItem"), I = g.data("designItem"), h = g.data("searchResult"), g = g.parents(".results").data("view");
                I ? GD(g, I) : n ? HD(n) : h && ID(h)
            }
            k.remove();
            a.remove();
            $("#canvaDocument \x3e .inner \x3e .page").removeClass("hotspotHover")
        }

        var k = $('\x3cdiv id\x3d"hotspots"\x3e\x3c/div\x3e');
        k.css("left", parseInt($("#canvaDocument").css("left"), 10)).css("top", -$("#canvaDocument").get(0).scrollTop).css("z-index", "99999").appendTo("#content");
        $("#canvaDocument \x3e .inner \x3e .page").each(function () {
            $(this).clone().data("page", $(this)).empty().appendTo(k)
        });
        if (b) {
            var l = [], m = 0, n = 0;
            $(".page", k).each(function () {
                var a = $(this).offset(), b = $(this).outerWidth(), c = $(this).outerHeight();
                l.push({element: this, left: a.left, top: a.top, width: b, height: c})
            });
            $(document).on("touchmove", c).on("touchend", d)
        } else $(".page",
            k).mouseover(e).mouseout(g).mouseup(h)
    }

    function uB(a) {
        function b() {
            $("#overlays \x3e .mask").addClass("on");
            h.addClass("cropping");
            a.Ca();
            $(".cropControls img.uncropped").css("opacity", .5);
            $(".cropControls .cropBox").css("background-color", "rgba(255, 255, 255, 1)");
            vp($(".cropControls"), a.Ua());
            $(".imageToolbar").hide()
        }

        function c(a) {
            13 === a.which ? d() : 27 === a.which && e()
        }

        function d() {
            var b = a.Y(), c = a.O();
            a.bh();
            $(".imageToolbar").show();
            b = {
                elementIndex: a.ea(),
                pageIndex: T(t, a.ca()),
                placeholderIndex: a.ub(),
                "new": {
                    placeholderBox: a.ab().serialize(),
                    imageBox: a.bd().serialize(), cropped: !0, left: a.Y(), top: a.O()
                },
                old: {
                    placeholderBox: l.serialize(),
                    imageBox: k.serialize(),
                    cropped: m || a instanceof Yo,
                    left: b,
                    top: c
                }
            };
            y.register(new U(6, b));
            $("#overlays \x3e .mask").removeClass("on");
            $(".cropControls .cropBox").css("background-color", "rgba(255, 255, 255, 0)");
            a.Ba();
            a.Ca();
            g()
        }

        function e() {
            a instanceof Yo ? (l && Kf(a, l), a.cf(k), a.lp = !1, h.removeClass("cropping")) : (a.cf(k), a.bh());
            $(".imageToolbar").show();
            $("#overlays \x3e .mask").removeClass("on");
            $(".cropControls .cropBox").css("background-color",
                "rgba(255, 255, 255, 0)");
            a.Ba();
            a.Ca();
            g()
        }

        function g() {
            $("#content").off("click", ".crop .confirmationToolbarOk a", d).off("click", ".crop .confirmationToolbarCancel a", e);
            $(document).off("keydown", c)
        }

        if (a.hg && a.Br()) {
            var h = a.H(), k = a.bd(), l = a.ab(), m = !!a.ye;
            $("#content").on("click", ".crop .confirmationToolbarOk a", d).on("click", ".crop .confirmationToolbarCancel a", e);
            $(document).on("keydown", c);
            a.Eo(a.ub(), b)
        }
    }

    function jD() {
        qe().write(function () {
            $("#overlays .align").removeClass("on")
        })
    }

    function ve(a, b, c, d, e) {
        function g(a) {
            return a instanceof Y || a instanceof Lf ? a.Qa() * M + a.ca().hb() : a.hb()
        }

        function h(a) {
            return a instanceof Y || a instanceof Lf ? a.Aa() * M + a.ca().nb() : a.nb()
        }

        function k(a, c, e) {
            function g(a) {
                function b(c, d) {
                    return a(c) - a(d)
                }

                var c, d = [];
                Wd.slice(0).sort(b).forEach(function (e) {
                    c && 0 == b(c.fc[0], e) ? (c.fc.push(e), c.We = Math.min(c.We, e.We), c.Xe = Math.min(c.Xe, e.Xe), c.Ef = Math.max(c.Ef, e.Ef), c.Ff = Math.max(c.Ff, e.Ff)) : d.push(c = {
                        fc: [e],
                        pos: a(e),
                        We: e.We,
                        Xe: e.Xe,
                        Ef: e.Ef,
                        Ff: e.Ff,
                        tq: NaN
                    })
                });
                return d
            }

            function h(a, b) {
                return a.pos - b.pos
            }

            function k(a, b) {
                return a.tq < b.tq ? a : b
            }

            function l(a, b, c) {
                var d = Array.lowerBound(b, {pos: c - e}, h), g = Array.upperBound(b, {pos: c + e}, h);
                b = b.slice(d, g);
                b.forEach(function (a) {
                    a.tq = Math.abs(c - a.pos)
                });
                b.length && a.push(b.reduce(k))
            }

            var m = null, n = null, p = [], q = {
                Wn: !1,
                r: !1,
                cy: !1,
                t: !1,
                b: !1,
                cx: !1
            }, r = a.ec(), u = a.bc(), w, S, W, Fa, qb, ab, ed, pb;
            w = a.Qa();
            S = a.Aa();
            W = a.Bb();
            Fa = a.lb();
            qb = a.ec();
            ab = a.bc();
            ed = w + qb / 2;
            pb = S + ab / 2;
            var Wd = c.map(function (a) {
                var b = a.Qa(), c = a.Bb(), d = (b + c) / 2, e = a.Aa(),
                    g = a.lb();
                return {object: a, We: b, Xe: e, bo: d, co: (e + g) / 2, Ef: c, Ff: g}
            });
            b.Yk || (b.Yk = !0, b.gf = {
                We: g(function (a) {
                    return a.We
                }), bo: g(function (a) {
                    return a.bo
                }), Ef: g(function (a) {
                    return a.Ef
                }), Xe: g(function (a) {
                    return a.Xe
                }), co: g(function (a) {
                    return a.co
                }), Ff: g(function (a) {
                    return a.Ff
                })
            });
            c = 0;
            var ja = null;
            c = [];
            if (void 0 === d || d.Wn)if (ja = null, c = [], l(c, b.gf.We, w), l(c, b.gf.Ef, w), ja = c.length && c.reduce(k))for (m = ja.pos, q.Wn = !0, c = 0; c < ja.fc.length; ++c)p.push(ja.fc[c].object);
            if (void 0 === d || d.r)if (ja = null, c = [], l(c, b.gf.We, W),
                    l(c, b.gf.Ef, W), ja = c.length && c.reduce(k))for (m = ja.pos - qb, q.r = !0, c = 0; c < ja.fc.length; ++c)p.push(ja.fc[c].object);
            if (void 0 === d || d.d)if (ja = null, c = [], l(c, b.gf.Xe, S), l(c, b.gf.Ff, S), ja = c.length && c.reduce(k))for (n = ja.pos, q.t = !0, c = 0; c < ja.fc.length; ++c)p.push(ja.fc[c].object);
            if (void 0 === d || d.cI)if (ja = null, c = [], l(c, b.gf.Xe, Fa), l(c, b.gf.Ff, Fa), ja = c.length && c.reduce(k))for (n = ja.pos - ab, q.b = !0, c = 0; c < ja.fc.length; ++c)p.push(ja.fc[c].object);
            (function () {
                var c = null, c = [];
                l(c, b.gf.bo, ed);
                if (c = c.length && c.reduce(k)) {
                    m =
                        c.pos - qb / 2;
                    q.cy = !0;
                    for (var e = 0; e < c.fc.length; ++e)p.push(c.fc[e].object);
                    var g = (e = d && d.We) ? a.Bb() : a.Qa();
                    r = 2 * Math.abs(c.bo - g);
                    e && (m -= (r - qb) / 2)
                }
            })();
            (function () {
                var a = null, a = [];
                l(a, b.gf.co, pb);
                if (a = a.length && a.reduce(k)) {
                    n = a.pos - ab / 2;
                    q.cx = !0;
                    for (var c = 0; c < a.fc.length; ++c)p.push(a.fc[c].object);
                    c = d && d.Xe;
                    u = 2 * Math.abs(a.co - (c ? Fa : S));
                    c && (n -= (u - ab) / 2)
                }
            })();
            w = a.Y() - a.Qa();
            W = a.O() - a.Aa();
            null !== m && m > a.Y() ? m += w : null !== m && m < a.Y() && (m += w);
            null !== n && n > a.O() ? n += W : null !== n && n < a.O() && (n += W);
            null !== m && 0 === Math.round(10 *
                m) / 10 && (m = 0);
            null !== n && 0 === Math.round(10 * n) / 10 && (n = 0);
            return {Oh: m, Ph: n, hJ: r, gJ: u, Vf: p, bi: q}
        }

        void 0 === e && (e = !0);
        var l = a.Qa(), m = a.Aa();
        e = k(a, c, 5);
        void 0 !== d && null != e.Oh && null != e.Ph && (Math.abs(l - e.Oh) > Math.abs(m - e.Ph) ? e.Ph = null : e.Oh = null);
        null != e.Oh && (!a.Ua() && 1 === e.Vf.length && !e.Vf[0].Ua() && 5 > Math.abs(e.Vf[0].Y() - a.Y()) ? !d && a.Na(e.Vf[0].Y()) : !d && a.Na(e.Oh));
        null != e.Ph && (!a.Ua() && 1 === e.Vf.length && !e.Vf[0].Ua() && 5 > Math.abs(e.Vf[0].O() - a.O()) ? !d && a.Oa(e.Vf[0].O()) : !d && a.Oa(e.Ph));
        if (null != e.Oh || null !=
            e.Ph)e = k(a, c, 1);
        jD();
        c = e.Vf;
        if (null != e.Oh) {
            var l = Array.max(c.map(function (a) {
                return a.lb()
            }).concat(a.lb())), m = Array.min(c.map(function (a) {
                return a.Aa()
            }).concat(a.Aa())), n = Math.abs(l - m) * M, q = Array.min(c.map(function (a) {
                return h(a)
            }).concat(h(a))), r = [];
            e.bi.Wn && r.push(g(a) - 1);
            e.bi.r && r.push(g(a) + a.ec() * M);
            e.bi.cy && r.push(g(a) + a.ec() / 2 * M);
            qe().write(function () {
                r.forEach(function (a, b) {
                    $("#overlays .vertical.align").eq(b).addClass("on").css("top", Math.round(q)).css("left", Math.round(a)).css("height",
                        Math.round(n))
                })
            })
        }
        if (null != e.Ph) {
            var l = Array.max(c.map(function (a) {
                return a.Bb()
            }).concat(a.Bb())), m = Array.min(c.map(function (a) {
                return a.Qa()
            }).concat(a.Qa())), p = Math.abs(l - m) * M, u = Array.min(c.map(function (a) {
                return g(a)
            }).concat(g(a))), w = [];
            e.bi.t && w.push(h(a) - 1);
            e.bi.b && w.push(h(a) + a.bc() * M);
            e.bi.cx && w.push(h(a) + a.bc() / 2 * M);
            qe().write(function () {
                w.forEach(function (a, b) {
                    $("#overlays .horizontal.align").eq(b).addClass("on").css("top", Math.round(a)).css("left", Math.round(u)).css("width", Math.round(p))
                })
            })
        }
    }

    function ue(a) {
        var b = [];
        void 0 !== a && (a instanceof Y ? b.push(a) : a instanceof Array && (b = a));
        var c = 0 == b.length ? J(t) : b[0].ca();
        a = c.oa();
        a = a.filter(function (a) {
            return -1 == b.indexOf(a) && !a.qb()
        });
        a.push(c);
        var d = [];
        Ua && Ua() && (d = vA());
        c = xA(c) || [];
        return a.concat(d).concat(c)
    }

    function TC() {
        var a = $("#objectPanel"), b = 1 === a.find(".uploads.on").length;
        $("#dropZone").addClass("on");
        $(".mask").last().addClass("on");
        b || (a.data("previousStage", $("menu \x3e li.on", a).index()), a.children("menu").find(".uploads a").click())
    }

    function UC(a) {
        a.preventDefault();
        a.dataTransfer.dropEffect = "copy"
    }

    function WC() {
        XC()
    }

    function XC() {
        function a() {
            $(this).removeClass("on off")
        }

        $("#dropZone").addClass("off").delay(300, a);
        $(".mask").last().addClass("off").delay(300, a);
        var b = $("#objectPanel"), c = b.data("previousStage");
        null != c && c != $("#objectPanel \x3e menu .uploads").index() && b.children("menu").find("a").click();
        b.removeData("previousStage")
    }

    function VC(a) {
        function b() {
            $(this).removeClass("on off")
        }

        a.preventDefault();
        a.stopPropagation();
        $("#dropZone").addClass("off").delay(300, b);
        $(".mask").last().addClass("off").delay(300, b);
        $("#objectPanel").removeData("previousStage");
        void 0 !== a && ox(a);
        return !1
    }

    function ky() {
        $("body").addClass("blockDocument");
        O();
        $("#search").blur()
    }

    function jv(a, b) {
        var c = a.Je();
        c && kr(a, c + 105 * b / 2);
        c = {elementIndex: a.ea(), pageIndex: T(t, a.ca()), "new": {borderWidth: a.Je()}, old: {borderWidth: c}};
        y.register(new U($i, c))
    }

    function kv(a, b) {
        var c = a.spacing, d = c + 5 * b;
        0 <= d && 50 >= d && (sr(a, d), c = {
            elementIndex: a.ea(),
            pageIndex: T(t, a.ca()),
            "new": {spacing: a.spacing},
            old: {spacing: c}
        }, y.register(new U($i, c)))
    }

    function iv(a) {
        var b = a.Je();
        b ? kr(a, 0) : kr(a, 105);
        a = {elementIndex: a.ea(), pageIndex: T(t, a.ca()), "new": {borderWidth: a.Je()}, old: {borderWidth: b}};
        y.register(new U($i, a))
    }

    function mv(a, b) {
        function c() {
            a.lv && a.lv()
        }

        function d() {
            a.Ew && a.Ew()
        }

        function e() {
            a.Ay && a.Ay(0)
        }

        var g = a.Ma(a.mb());
        0 === In(g) && (1 === b ? ED(d) : -1 === b ? ED(c) : 0 === b && ED(e), ao(g, !0))
    }

    function pD(a, b) {
        a.forEach(function (a) {
            a.Mc = b
        })
    };
    function JD(a, b, c) {
        return location.protocol + "//" + location.host + "/design/" + encodeURIComponent(a) + (c ? "/" + encodeURIComponent(c) : "") + (b ? "/" + encodeURIComponent(b) : "")
    }

    function KD(a, b, c) {
        return JD(a, "view", Hk(v)) + "?" + LD(a, b, c)
    }

    function LD(a, b, c) {
        return ["utm_content\x3d" + encodeURIComponent(a), "utm_campaign\x3d" + encodeURIComponent("designshare"), "utm_medium\x3d" + encodeURIComponent(c), "utm_source\x3d" + encodeURIComponent(b)].join("\x26")
    };
    function MD() {
    }

    MD = Backbone.View.extend({className: "switch"});
    f = MD.prototype;
    f.events = function () {
        return {
            "blur input": this.rs,
            "change input": this.vD,
            dragstart: this.vh,
            "focus input": this.ts,
            mousedown: this.wh
        }
    };
    f.initialize = function (a) {
        a = _.defaults({}, a, {fo: null, on: !1, pl: null});
        this.fo = a.fo;
        this.ei = void 0 === a.ei || !!a.ei;
        this.ho = this.ho.bind(this);
        this.io = this.io.bind(this);
        this.pl = a.pl;
        this.ys = a.on
    };
    function ND(a) {
        return !!a.input.prop("checked")
    }

    f.rs = function () {
        this.$el.removeClass("switchFocused")
    };
    f.vD = function () {
        var a = ND(this);
        this.$el.toggleClass("switchOn", a);
        this.trigger("toggle", a)
    };
    f.ho = function (a) {
        var b = this.handle.offset().left, c = b + this.handle.outerWidth(), b = ND(this) && a.pageX < b;
        a = !ND(this) && a.pageX > c;
        if (b || a)this.handle.removeClass("switchHandlePressed"), OD(this), this.toggle()
    };
    f.io = function (a) {
        $(a.target).closest(this.el).length && (this.trigger("click"), this.ei && this.toggle());
        this.handle.removeClass("switchHandlePressed");
        OD(this)
    };
    f.vh = function (a) {
        a.preventDefault()
    };
    f.ts = function () {
        this.$el.addClass("switchFocused")
    };
    f.wh = function (a) {
        a.target === this.handle[0] && ($(document).on("mousemove", this.ho), this.handle.addClass("switchHandlePressed"));
        $(document).on("mouseup", this.io)
    };
    f.remove = function () {
        Backbone.View.prototype.remove.call(this);
        OD(this)
    };
    function OD(a) {
        $(document).off({mousemove: a.ho, mouseup: a.io})
    }

    f.render = function () {
        var a;
        this.ys ? (a = this.ys, delete this.ys) : a = !(!this.input || !this.input.prop("checked"));
        this.$el.html(this.template(this.Za()));
        this.$el.toggleClass("switchOn", a);
        this.handle = this.$(".switchHandle");
        this.input = this.$("input");
        this.input.prop("checked", a);
        return this
    };
    f.Za = function () {
        return {offLabel: this.fo, onLabel: this.pl}
    };
    f.template = _.template('\x3cinput type\x3d"checkbox"\x3e\x3cdiv class\x3d"switchContent"\x3e\x3cdiv class\x3d"switchLabelOn"\x3e\x3c%- onLabel %\x3e\x3c/div\x3e\x3cdiv class\x3d"switchHandle"\x3e\x3c/div\x3e\x3cdiv class\x3d"switchLabelOff"\x3e\x3c%- offLabel %\x3e\x3c/div\x3e\x3c% if (offLabel) { %\x3e\x3cdiv class\x3d"switchLabelOffSpacer"\x3e\x3c%- offLabel %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');
    f.toggle = function (a) {
        void 0 === a && (a = !this.input.prop("checked"));
        a !== this.input.prop("checked") && (this.input.prop("checked", a), this.input.change())
    };
    function PD(a) {
        var b = {};
        Backbone.View.call(this, {
            el: a.el, events: (b["click li:not(.noTab):not(.on) a"] = function (a) {
                var b = QD(this);
                a = $(a.target).closest("li");
                this.select(b.index(a))
            }, b)
        })
    }

    la(PD, Backbone.View);
    function QD(a) {
        return a.$el.children("li:not(.noTab)")
    }

    function RD(a) {
        a = QD(a);
        var b = a.filter(".on");
        return a.index(b)
    }

    PD.prototype.select = function (a) {
        var b = QD(this);
        b.removeClass("on");
        -1 < a && a < b.length && b.eq(a).addClass("on");
        this.trigger("change", a)
    };
    PD.prototype.remove = function () {
        this.$el.off("click")
    };
    function SD(a) {
        this.gv = -1;
        this.xe = a.xe;
        this.wa = a.wa;
        this.My = a.My || 0;
        this.Ij = a.Ij
    }

    f = SD.prototype;
    f.init = function () {
        var a = this.xe.children(".tab"), b = this.Ij ? Math.max(0, RD(this.Ij)) : this.My;
        a.addClass("doNotTransition");
        this.Hy(b);
        Df(function () {
            return a.removeClass("doNotTransition")
        });
        this.Ij && this.listenTo(this.Ij, "change", this.Hy);
        return this
    };
    f.remove = function () {
        this.stopListening();
        this.trigger("remove")
    };
    f.Hy = function (a) {
        var b = this, c = this.xe.children(".tab");
        0 > a || a >= c.length || (this.xe.addClass("tabStageTransitioning"), this.xe.one("webkitTransitionEnd msTransitionEnd transitionend", function () {
            b.xe.removeClass("tabStageTransitioning")
        }), c.each(function (c, e) {
            var g = c === a;
            b.xe.toggleClass("stage" + (c + 1), g);
            $(e).toggleClass("tabActive", g);
            g && (b.gv = c, TD(b))
        }), this.trigger("change", UD(this), a))
    };
    function TD(a) {
        var b = UD(a);
        b.css("height", "");
        Df(function () {
            this.xe.css("height", b.outerHeight())
        }.bind(a))
    }

    function UD(a) {
        return a.xe.children(".tab").eq(a.gv)
    }

    f.off = Backbone.Events.off;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.listenTo = Backbone.Events.listenTo;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    function qz(a) {
        function b(a) {
            a.translate(-g.Y(), -g.O());
            ph(a, r, p, q);
            a.translate(z, x)
        }

        var c = a.page, d = c.qa(), e = function (a) {
            a = ke(a.Ab());
            return new L(0, 0, a.C(), a.D())
        }(a.an), g = a.mf || d;
        a = g.C();
        var h = g.D(), k = e.C(), l = e.D(), m = k / a, n = l / h, q = Math.min(m, n), r = a / 2, p = h / 2, u = k / 2, w = l / 2, z = u - r, x = w - p;
        c.oa().forEach(function (a) {
            if (!a.Td && !pp(a)) {
                var c;
                if (a instanceof ap && 1 === a.Oe()) {
                    var g = a.spacing;
                    c = a.qa();
                    g = or(d.C(), d.D(), g, !1);
                    c = uh(c, g)
                } else c = a instanceof Yo ? Zp(a) && a.qb() : !1;
                if (c)a instanceof ap ? a.Eb(or(k, l, a.spacing,
                    !1)) : a.Eb(e.clone()); else {
                    if (a.qb()) {
                        c = a.qa();
                        g = 1;
                        b(c);
                        if (m < n)var g = c.O(), h = l - c.va(), g = l / (l - 2 * Math.max(0, g, h)); else m > n && (g = c.Y(), h = k - c.Wa(), g = k / (k - 2 * Math.max(0, g, h)));
                        1 < g && ph(c, u, w, g)
                    } else c = a.qa(), a instanceof Nj && (g = q * a.wc(0), a.cl() ? a.Lc(0, g) : (a.Se(), a.Lc(0, g), a.gu())), b(c);
                    a.Eb(c)
                }
            }
        });
        c.la(k);
        c.ja(l);
        return xe(g.clone(), e)
    };
    function VD() {
    }

    VD = Backbone.View.extend({className: "tileListBusyIndicator"});
    f = VD.prototype;
    f.initialize = function () {
        this.transitionDelay = -1;
        this.kp = 0
    };
    f.hide = function () {
        WD(this, function () {
            this.$el.removeClass("tileListBusyIndicatorOn")
        })
    };
    f.render = function () {
        this.$el.html(this.template());
        return this
    };
    function WD(a, b) {
        0 != a.kp && (window.clearTimeout(a.kp), a.kp = 0);
        0 <= a.transitionDelay ? a.kp = window.setTimeout(b.bind(a), a.transitionDelay) : b.call(a)
    }

    f.show = function () {
        WD(this, function () {
            this.$el.addClass("tileListBusyIndicatorOn")
        })
    };
    f.template = function () {
        return _.range(8).map(function () {
            return "\x3cspan\x3e\x3c/span\x3e"
        }).join("")
    };
    function XD(a) {
        this.lf = a.lf || "";
        this.Vc = a.Vc;
        this.$el = $("\x3cdiv\x3e").addClass("masonryLayout")
    }

    f = XD.prototype;
    f.on = Backbone.Events.on;
    f.off = Backbone.Events.off;
    f.trigger = Backbone.Events.trigger;
    f.add = function (a, b) {
        function c() {
            return _.min(_.range(d.length), function (a) {
                return d[a]
            })
        }

        var d, e;
        this.fa || YD(this, this.Le());
        d = this.fa.get().map(this.D, this);
        this.fa.eq(0).append(a);
        e = a.get().map(this.D, this);
        a.each(function (a, h) {
            var k = c();
            d[k] += e[a];
            b ? this.fa.eq(k).prepend(h) : this.fa.eq(k).append(h)
        }.bind(this))
    };
    function ZD(a, b) {
        var c = a.Le();
        if (void 0 !== b.fa) {
            if (b.fa.length !== c)throw Error("Cannot merge masonry layouts with different column counts.");
            a.fa || YD(a, c);
            a.fa.each(function (a, c) {
                b.fa.eq(a).children().appendTo(c)
            })
        }
    }

    f.contains = function (a) {
        return !(!this.fa || !this.fa.children().filter(a).length)
    };
    function YD(a, b) {
        var c = "masonryLayoutColumn " + a.lf;
        a.fa = _.range(b).map(function () {
            return $("\x3cdiv\x3e").addClass(c).width(100 / b + "%")
        }).reduce($.merge);
        a.fa.appendTo(a.$el)
    }

    f.Sq = function (a) {
        var b = this.$el.width() / this.Le();
        return Math.floor(a / b) * this.Le() + this.Le()
    };
    f.Le = function () {
        var a;
        "function" === typeof this.Vc ? (a = this.$el.width(), a = this.Vc(a)) : a = this.Vc;
        return Math.max(a, 1)
    };
    f.D = function (a) {
        var b = window.getComputedStyle(a);
        a = a.getBoundingClientRect().height;
        var c = Math.pow(10, 2);
        return Math.round(a * c) / c + (parseInt(b.marginBottom, 10) || 0) + (parseInt(b.marginTop, 10) || 0)
    };
    f.Ld = function () {
        var a;
        a = this.fa.children().get();
        a.sort(function (a, c) {
            return a.offsetTop !== c.offsetTop ? a.offsetTop - c.offsetTop : a.offsetLeft - c.offsetLeft
        });
        return $(a)
    };
    f.Bi = function (a) {
        function b(a) {
            return a.offsetHeight + a.offsetTop
        }

        var c;
        if (!this.contains(a))throw Error("The given element is not an item in the masonry layout.");
        c = b(a[0]);
        return $(this.fa.children().get().filter(function (a) {
            return b(a) > c
        }))
    };
    f.Pe = function () {
        var a;
        return this.fa ? (a = _.min(this.fa.get(), this.D, this), $(a)) : null
    };
    f.isEmpty = function () {
        return !(this.fa && this.fa.children().length)
    };
    f.push = function (a) {
        this.add(a)
    };
    f.Ba = function () {
        var a = this.Le();
        this.fa && a !== this.fa.length && (a = this.Ld().detach(), this.fa && this.fa.remove(), this.fa = void 0, this.push(a), this.trigger("redraw"))
    };
    f.remove = function (a) {
        this.fa && this.fa.children().filter(a).remove()
    };
    f.split = function (a) {
        var b, c;
        if (!this.contains(a))throw Error("The given element is not an item in the masonry layout.");
        b = this.Bi(a);
        if (0 === b.length)return null;
        c = new XD({lf: this.lf, Vc: this.Vc});
        YD(c, this.fa.length);
        this.fa.each(function (a, e) {
            var g = $(e).children().filter(b);
            c.fa.eq(a).append(g)
        });
        return c
    };
    f.unshift = function (a) {
        this.add(a, !0)
    };
    function $D(a) {
        this.children = [];
        this.lf = a.lf;
        this.Vc = a.Vc;
        this.$el = $("\x3cdiv\x3e")
    }

    f = $D.prototype;
    f.listenTo = Backbone.Events.listenTo;
    f.off = Backbone.Events.off;
    f.on = Backbone.Events.on;
    f.trigger = Backbone.Events.trigger;
    function aE(a) {
        return new XD({lf: a.lf, Vc: a.Vc})
    }

    f.Sq = function (a) {
        var b = this.$el.width() / this.Le();
        return Math.ceil(a / b) * this.Le() + this.Le()
    };
    f.Le = function () {
        var a;
        "function" === typeof this.Vc ? (a = this.$el.width(), a = this.Vc(a)) : a = this.Vc;
        return Math.max(a, 1)
    };
    f.Ld = function () {
        var a = [];
        this.children.forEach(function (b) {
            b instanceof XD ? a = a.concat(b.Ld().get()) : a.push(b)
        });
        return $(a)
    };
    function bE(a, b) {
        return cE(a).filter(function (a) {
                return a.contains(b)
            })[0] || null
    }

    function cE(a) {
        return a.children.filter(function (a) {
            return a instanceof XD
        })
    }

    f.Pe = function () {
        var a = cE(this).slice(-1)[0];
        return a && a.Pe() || null
    };
    function dE(a, b, c) {
        var d, e;
        d = bE(a, b);
        if (!d)throw Error("The given element is not an item in the masonry layout.");
        c.insertAfter(d.$el);
        e = a.children.indexOf(d);
        a.children.splice(e + 1, 0, c[0]);
        d.Bi(b).length && (a.trigger("beforeSplit", d.fa), b = d.split(b), b.$el.insertAfter(c), a.children.splice(e + 2, 0, b), a.trigger("afterSplit", d.fa, b.fa))
    }

    f.push = function (a) {
        if (!(this.children.slice(-1)[0]instanceof XD)) {
            var b;
            b = aE(this);
            b.$el.appendTo(this.$el);
            this.children.push(b)
        }
        this.children.slice(-1)[0].push(a)
    };
    f.Ba = function () {
        function a() {
            b = !0
        }

        var b = !1;
        cE(this).forEach(function (b) {
            b.on("redraw", a);
            b.Ba();
            b.off("redraw", a)
        });
        b && this.trigger("redraw")
    };
    f.remove = function (a) {
        this.children = this.children.reduce(function (b, c) {
            c instanceof XD ? (c.remove(a), c.isEmpty() ? c.$el.remove() : b.push(c)) : b.push(c);
            return b
        }, [])
    };
    function eE(a, b) {
        var c = a.children.indexOf(b[0]), d, e;
        if (0 > c)throw Error("The given element is not a block in the layout.");
        d = a.children[c + 1];
        e = a.children[c - 1];
        d instanceof XD && e instanceof XD && (a.trigger("beforeMerge", e.fa, d.fa), ZD(e, d), d.$el.remove(), a.children.splice(a.children.indexOf(d), 1));
        b.remove();
        a.children.splice(c, 1)
    }

    f.unshift = function (a) {
        if (!(this.children[0]instanceof XD)) {
            var b;
            b = aE(this);
            b.$el.prependTo(this.$el);
            this.children.unshift(b)
        }
        this.children[0].unshift(a)
    };
    function fE(a) {
        this.lg = a;
        this.WB = $.isWindow(this.lg[0]);
        this.sw = _.throttle(this.dispatchEvent.bind(this), 200)
    }

    f = fE.prototype;
    f.Zn = function () {
        this.stopListening();
        this.lg.on("scroll", this.sw)
    };
    f.stopListening = function () {
        this.lg.off("scroll", this.sw)
    };
    function gE(a, b, c) {
        c = _.defaults({}, c, {Ir: !1});
        var d = b.offset().top;
        c = c.Ir ? parseInt(b.css("margin-bottom"), 10) : 0;
        b = b.outerHeight();
        d = d + b + c;
        b = a.WB ? a.lg.scrollTop() : a.lg.offset().top + parseInt(a.lg.css("border-top-width"), 10);
        a = a.lg.innerHeight();
        return d - (b + a)
    }

    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.off = Backbone.Events.off;
    f.trigger = Backbone.Events.trigger;
    f.dispatchEvent = function () {
        this.trigger("scroll", this)
    };
    function Ux() {
    }

    Ux = Backbone.View.extend({
        className: "infoPanel",
        template: _.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e'),
        XG: _.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cp class\x3d"price" title\x3d"title"\x3e\x3c%- price %\x3e\x3c/p\x3e\x3cp class\x3d"id"\x3e\x3ca target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3eID: \x3c%- id %\x3e\x3c/a\x3e\x3c/p\x3e\x3c% if (hasComponentMedia) { %\x3e\x3cul class\x3d"componentItems componentMedia threeCol"\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% if (hasKeywords) { %\x3e\x3cp class\x3d"keywords"\x3e\x3c/p\x3e\x3c% } %\x3e'),
        rB: _.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle"\x3e\x3c%- count %\x3e layouts\x3c/h4\x3e\x3c% if (hasComponentDesignPages) { %\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e\x3c% } %\x3e'),
        nD: _.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3c%- count %\x3e layouts \x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e'),
        nI: _.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isUnapproved) { %\x3e\x3cp class\x3d"unapproved error"\x3e\x3c%- uploadError %\x3e\x3cbr\x3e\x3c%- imageRequirementsTitle %\x3e\x3c/p\x3e\x3cul class\x3d"unapproved error"\x3e\x3cli\x3e\x3c%- imageRequirementsSize %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsExt %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsRgb %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cp class\x3d"delete removeUpload" data-media-id\x3d"\x3c%- id %\x3e" data-version\x3d"\x3c%- version %\x3e"\x3e\x3cspan class\x3d"icon" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c/span\x3e\x3c%- deleteMsg %\x3e\x3c/p\x3e'),
        fq: _.template('\x3cli class\x3d"componentItem fetchingComponentItem componentItem\x3c%- id %\x3e"\x3e\x3cspan class\x3d"componentItemLinkLoading"\x3e\x3c/span\x3e\x3ca class\x3d"componentItemLink" target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c% if (hasPrice) { %\x3e\x3cspan class\x3d"componentItemPrice"\x3e\x3c%- price %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/li\x3e'),
        QC: _.template('\x3cspan class\x3d"mediaKeyword"\x3e\x3c%- keyword %\x3e\x3c/span\x3e', {variable: "keyword"})
    });
    f = Ux.prototype;
    f.initialize = function (a) {
        this.F = a.F;
        this.Z = Bb(a.F);
        this.title = a.title || this.model.La && this.model.La() || ic(this.Z);
        this.document = null;
        this.Gb = a.Gb;
        this.Vr = a.Vr;
        this.ee = a.ee;
        this.Tr = a.Tr;
        this.Lr = a.Lr;
        this.Ur = a.Ur;
        this.zs = a.zs;
        this.kb = a.kb;
        this.sh = a.sh;
        this.fg = new Map
    };
    f.events = function () {
        return {
            "mousedown .componentLayouts .componentItem a": this.EB,
            "click .componentLayouts .componentItem a": this.fA,
            "click .brandInfo a": this.RG,
            "click .mediaKeyword": this.VG,
            "click .removeUpload": this.tG,
            "click .close": this.close
        }
    };
    f.render = function () {
        this.$el.html(this.template({title: this.title, close: gc(this.Z)}));
        if (this.Vr)this.$el.html(this.nI({
            title: this.title || ic(this.Z),
            id: this.model.G(),
            version: this.model.getVersion(),
            isUnapproved: this.Ur,
            close: gc(this.Z),
            closeThisInfoPanel: hc(this.Z),
            uploadError: this.Z.format("objectPanelInfoUploadError"),
            imageRequirementsTitle: this.Z.format("objectPanelInfoImageRequirementsTitle"),
            imageRequirementsSize: this.Z.format("objectPanelInfoImageRequirementsSize"),
            imageRequirementsExt: this.Z.format("objectPanelInfoImageRequirementsExt"),
            imageRequirementsRgb: this.Z.format("objectPanelInfoImageRequirementsRgb"),
            deleteMsg: this.Z.format("objectPanelInfoDelete")
        })); else if (this.Lr)this.$el.html(this.rB({
            title: this.title,
            count: this.model.yf().pageCount,
            hasComponentDesignPages: this.uw(),
            close: gc(this.Z),
            closeThisInfoPanel: hc(this.Z)
        })), this.uw() && hE(this); else if (this.ee)this.$el.html(this.nD({
            title: this.title,
            count: this.model.zf(),
            close: gc(this.Z),
            closeThisInfoPanel: hc(this.Z)
        })), Iv(this.model) && 0 < this.model.zf() && iE(this); else if (this.Tr) {
            this.$el.html(this.XG({
                title: this.title,
                id: this.model.G(),
                url: "/media/" + encodeURIComponent(this.model.G()),
                price: jE(this),
                hasComponentMedia: this.yr(),
                hasKeywords: this.vw(),
                close: gc(this.Z)
            }));
            if (this.vw()) {
                var a = this.model.nh().map(this.QC).join(", ");
                this.$(".keywords").html("Keywords: " + a)
            }
            this.yr() && kE(this);
            this.model.ta && this.model.ta() && lE(this)
        }
        return this
    };
    function kE(a) {
        function b(a, b) {
            function d() {
                var a = $(this).attr("src");
                $(this).remove();
                k++;
                u.removeClass("fetchingComponentItem");
                u.find(".componentItemLink").css("background-image", "url(" + a + ")");
                k >= h && mE(c)
            }

            if (200 === a) {
                var e = 0, g = b.na().Tb()[Vp], p = Qr(b.na());
                p && (e = 100 * Qr(b.na()).ONE_USE || 0);
                var u = $(c.fq({url: "/media/" + b.G(), id: b.G(), hasPrice: p, price: nE(c, e)}));
                c.$(".componentMedia").append(u);
                $("\x3cimg/\x3e").attr("src", g.ia()).one("load", d)
            }
        }

        var c = a, d = a.model.hr(), e = Math.ceil(d.length / 3), g = .21 *
            $(".infoPanelGallery").width() + 20;
        a = a.$(".componentMedia");
        var h = d.length, k = 0;
        oE(c);
        a.css("height", e * g + "px");
        d.forEach(function (a) {
            var c = (new dq).Vd(a.getVersion());
            Ga.bb(a.G(), c, b)
        })
    }

    function pE(a, b) {
        function c(a) {
            e.resolve(a)
        }

        var d = $.Deferred(), e = $.Deferred();
        Ha.ta(a.model.ta()).then(d.resolve.bind(d)).catch(d.resolve.bind(d, null));
        "DESIGN" == a.model.type && a.model.pb && a.model.pb() ? Ha.pb(a.model.pb()).then(c) : e.resolve();
        $.when(d, e).done(b)
    }

    function lE(a) {
        pE(a, function (b, c) {
            var d = "DESIGN" == a.model.type ? $("\x3cspan\x3e") : $("\x3ca\x3e").attr("href", "#");
            if (b) {
                var e = b.ac() || b.brandname || "Brand " + b.G();
                c ? b.personal ? d.text(b.ac() || b.brandname || c.ac() || c.oh()) : d.text((c.ac() || c.oh()) + " from " + e) : d.text(e)
            } else d.text(this.Z.format("objectPanelInfoUnknownBrand"));
            a.$(".brandInfo .brand").text("by ").append(d).addClass("on");
            a.$(".brandInfo .spinner").removeClass("on").addClass("off")
        })
    }

    function iE(a) {
        function b(a) {
            var b = d.model.getFile(Vp, a), c = "https://static.canva.com/static/images/default_thumbnail.gif", e = $(d.fq({
                url: "#",
                id: a,
                hasPrice: !1
            }));
            b && (c = b.url);
            d.$(".componentLayouts").append(e);
            $("\x3cimg/\x3e").attr("src", c).one("load", function () {
                var a = $(this).attr("src");
                $(this).remove();
                l++;
                e.removeClass("fetchingComponentItem");
                e.find(".componentItemLink").css("background-image", "url(" + a + ")");
                l >= m && mE(d)
            })
        }

        function c(a, b) {
            var c = xq(b.media).filter(Boolean) || [];
            0 < c.length && (c = $r(new Zr, c).xu(), Dr(Ga, c, function (b,
                                                                         c) {
                var e = 0;
                200 === b && (e = c.media.reduce(function (a, b) {
                    return a + (Qr(b.na()).ONE_USE || 0)
                }, 0));
                0 !== e && d.$(".componentLayouts .componentItem" + a).append('\x3cspan class\x3d"componentItemPrice unlistedPrice"\x3e$\x3c/span\x3e')
            }))
        }

        var d = a, e = a.model.zf(), g = Math.ceil(e / 2), h = .31 * $(".infoPanelGallery").width() + 20, k = a.$(".componentLayouts"), l = 0, m = e;
        oE(a);
        lE(a);
        k.css("height", g * h + "px");
        Hv(a.model).sort().forEach(function (a) {
            b(a);
            qE(d, a, function (b) {
                c(a, b)
            })
        })
    }

    function hE(a) {
        function b(a) {
            var b = !1, d = "https://static.canva.com/static/images/default_thumbnail.gif";
            e[a] && (b = !0, d = e[a].url);
            var h = $(c.fq({url: "#", id: a, hasPrice: !1}));
            h.toggleClass("componentItemThumbnailUpdating", !b || g);
            c.$(".componentLayouts").append(h);
            $("\x3cimg/\x3e").attr("src", d).one("load", function () {
                var a = $(this).attr("src");
                $(this).remove();
                m++;
                h.removeClass("fetchingComponentItem");
                h.find(".componentItemLink").css("background-image", "url(" + a + ")");
                m >= n && mE(c)
            })
        }

        var c = a, d = a.model.yf().imageSets.thumbnail, e = d.images,
            g = a.model.getVersion() > d.version, d = a.model.yf().pageCount, h = Math.ceil(d / 2), k = .31 * $(".infoPanelGallery").width() + 20, l = a.$(".componentLayouts"), m = 0, n = d;
        oE(a);
        l.css("height", h * k + "px");
        for (a = 0; a < d; a++)b(a)
    }

    function oE(a) {
        a.$el.addClass("infoPanelLoading")
    }

    function mE(a) {
        window.setTimeout(function () {
            a.$el.removeClass("infoPanelLoading").addClass("infoPanelLoaded")
        }, 300)
    }

    f.vw = function () {
        return this.model.nh && 0 < (this.model.nh() || []).length
    };
    f.uw = function () {
        return this.model.yf && 1 < this.model.yf().pageCount
    };
    f.yr = function () {
        return this.model.hr && 0 < (this.model.hr() || []).length
    };
    function nE(a, b) {
        return null === b ? a.Z.format("objectPanelInfoPriceUnavailable") : 0 === b ? a.Z.format("objectPanelInfoFree") : a.Z.format("objectPanelInfoPrice", (b / 100).toFixed(0))
    }

    function jE(a) {
        var b = Gv(a.model);
        a.yr() && (b = a.model.oneTimeUseAggregatePriceCents);
        return nE(a, b)
    }

    f.close = function () {
        Wx.call(this.$(".close").get(0))
    };
    f.RG = function () {
        $("#search").val("brand:" + this.model.ta());
        Z = null;
        hx(this.F)
    };
    f.VG = function (a) {
        $("#search").val(a.currentTarget.textContent);
        Z = null;
        hx(this.F)
    };
    f.tG = function (a) {
        this.close(a);
        a = (new Hr).re(this.model.G()).Vd(this.model.getVersion()).Yf(!0);
        Fr(Ga, a, this.zs)
    };
    f.qr = function (a) {
        var b;
        if (!(this.model instanceof xk))throw Error("attempted to get a page from a non-design");
        b = this.model.ca(a);
        !b && this.document && (b = this.document.ca(a));
        b ? this.kb && this.sh && (a = {}, a[this.sh.xf()] = "#" + this.kb, b = rE(null, b, a)) : b = null;
        return b
    };
    function qE(a, b, c) {
        var d = a.model.getFile("ORIGINAL", b).ia();
        $.getJSON(d, function (d) {
            a.fg.set(b, d);
            c && c(d)
        })
    }

    function sE(a, b) {
        var c = a.fg.get(b);
        if (c)return c.content.pages[0]
    }

    function tE(a) {
        return a.Gb.getDocument(ik(a.model.G())).then(function (a) {
            return this.document = a.getDocument()
        }.bind(a))
    }

    f.fA = function (a) {
        function b(a) {
            var b;
            c.model instanceof xk && (b = new Bh({type: Oo, id: c.model.G(), version: c.model.getVersion()}), FD(a, b));
            var d = new wj(t, a);
            qz({mf: pz(d), an: t.Ha(), page: d});
            a = Ah(new yh(a.layout), d.serialize());
            d = {"new": a, old: h, pageIndex: e.ea()};
            zy(e, a, g, b);
            y.register(new yy(4, d))
        }

        var c = this;
        a = parseInt(a.currentTarget.textContent, 10);
        var d = this.ee ? sE(this, a) : this.qr(a), e = J(t), g = this.model instanceof xk ? zk(this.model, a) : this.model.be(), h = e.di();
        d ? b(d) : (e.clear(), g && kz(e, g), this.ee ? qE(this,
            a, b) : tE(this).then(this.qr.bind(this, a)).then(b.bind(this)))
    };
    f.EB = function (a) {
        var b, c, d, e, g = parseInt($(a.currentTarget).text(), 10), h = {url: "https://static.canva.com/static/images/default_thumbnail.gif"};
        this.ee ? (b = sE(this, g), e = {url: this.model.getFile(Vp, g).ia()}, c = {
            draft: {
                content: {pages: []},
                imageSets: {thumbnail: {images: [e || h]}}
            }
        }) : (b = this.qr(g), c = $.extend(!0, {}, this.model), e = c.draft.imageSets.thumbnail.images[g], c.draft.imageSets.thumbnail.images[0] = e || h, d = this.model instanceof xk ? zk(this.model, g) : this.model.be());
        b ? (c.draft.content.pages = [], c.draft.content.pages[0] = $.extend(!0, {},
            b), b = {pageTemplate: b}) : b = this.ee ? {cdfRequest: {url: this.model.getFile("ORIGINAL", g).ia()}} : {pageTemplateRequest: {pageIndex: g}};
        b.documentProperties = {id: this.model.G(), version: this.model.getVersion(), previewUrl: d};
        c = uE.Xv(gk(c), Bb(this.F));
        c.$el.children("a").data(b).css("width", $(a.currentTarget).css("width")).css("height", $(a.currentTarget).css("height"));
        $(a.currentTarget).parents("li").data("view", c);
        return bx.call(a.currentTarget, a)
    };
    function uE() {
    }

    uE = Backbone.View.extend({});
    uE.MH = function () {
        var a = Date.now();
        return function (b) {
            var c = Date.now(), d = Math.max(0, 500 - (c - a));
            window.setTimeout(b, d);
            a = c + d
        }
    }();
    uE.Xv = function (a, b) {
        if (a instanceof Fv)return "DESIGN" === a.type && uE.MH(function () {
            a.sg()
        }), new Dz({model: a, Z: b});
        if (a instanceof Et)return new vE({model: a});
        if (a instanceof xk)return new wE({model: a});
        if ("string" === typeof a && -1 < _.keys(xh).indexOf(a))return new xE({model: a});
        throw new TypeError("Unknown galleryObject type: " + typeof a);
    };
    f = uE.prototype;
    f.Aa = function () {
        return Math.round(this.$el.offset().top)
    };
    f.lb = function () {
        return this.Aa() + Math.round(this.$el.height())
    };
    f.zi = function () {
        return Math.round(parseInt(this.$el.css("left"), 10) + this.$el.width() / 2)
    };
    f.kd = function (a, b) {
        b ? this.$el.css("top", "+\x3d" + a) : this.$el.addClass("doNotTransition").css("top", "+\x3d" + a).removeClass("doNotTransition")
    };
    function yE(a, b, c) {
        var d = a.$el.data("originalTop");
        c ? a.$el.css("top", d + b) : a.$el.addClass("doNotTransition").css("top", d + b).removeClass("doNotTransition")
    }

    f.mk = function () {
        var a = this.$el.children("a"), b = a.offset(), c = a.width(), d = a.height(), e = $('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e'), a = a.children().first().clone();
        a.hasClass("multiPageLayoutItem") && (a = a.find("img"));
        a.css("width", c).css("height", d).appendTo(e);
        e.data("li", this.$el).css("left", b.left).css("top", b.top).css("width", c).css("height", d);
        return e
    };
    function xE() {
    }

    xE = uE.extend({
        tagName: "li",
        className: "newSearch grid",
        template: _.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')
    });
    xE.prototype.initialize = function (a) {
        this.qw = this.model;
        this.rC = xh[this.qw];
        !a.el && this.render();
        this.$el.data("view", this)
    };
    xE.prototype.render = function () {
        this.$el.html(this.template()).attr("data-grid-name", this.qw);
        this.$("a").append(nr(this.rC.items));
        return this
    };
    function vE() {
    }

    vE = uE.extend({
        tagName: "li",
        className: "newSearch loading",
        template: _.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/a\x3e'),
        sC: _.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c/a\x3e')
    });
    vE.prototype.initialize = function (a) {
        !a.el && this.render();
        this.$el.data("view", this)
    };
    vE.prototype.render = function () {
        var a = this, b = this.model.getContent();
        Ft(this.model) ? (this.$el.addClass("grid").html(this.sC(this.model)), this.$("a").append(nr(b.elements[0].items)), this.$el.removeClass("loading")) : (this.$el.html(this.template(this.model)), this.$("img").on("load", function () {
            a.$el.removeClass("loading")
        }));
        this.$el.data("layoutItem", this.model);
        return this
    };
    vE.prototype.mk = function () {
        var a = uE.prototype.mk.call(this), b = a.children().first();
        a.addClass("template");
        Ft(this.model) && (a.addClass("draggableGridItem dragging"), b.find(".item \x3e .content").addBack().css("left", 1).css("right", 1).css("top", 1).css("bottom", 1));
        return a
    };
    function wE() {
    }

    wE = vE.extend({className: "designGalleryItem newSearch loading", tagName: "li"});
    wE.prototype.initialize = function () {
        this.render()
    };
    wE.prototype.render = function () {
        var a = this.model.draft, b = this;
        this.$el.data({designItem: this.model, view: this});
        this.$el.html(this.template({pageCount: a.pageCount, name: a.content.title, thumbnail: yk(b.model)}));
        this.$el.toggleClass("designItemThumbnailUpdating", AE(this));
        this.$("img").on("load", function () {
            b.$el.removeClass("loading")
        });
        return this
    };
    function AE(a) {
        var b;
        try {
            b = a.model.yf().imageSets.thumbnail.version
        } catch (c) {
            b = -1
        }
        return a.model.getVersion() > b
    }

    wE.prototype.mk = function () {
        var a, b, c;
        a = uE.prototype.mk.call(this);
        a.addClass("template");
        b = a.find(".designItem");
        1 === b.length && (c = a.find("img"), c.css("width", a.width()), c.css("height", a.height()), b.remove(), a.append(c));
        return a
    };
    wE.prototype.template = _.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c% if (pageCount \x3e 1) { %\x3e\x3cdiv class\x3d"designItem multiPageDesignItem" style\x3d"background-image: url(\x3c%\x3d thumbnail.images[0].url %\x3e);"\x3e\x3cdiv class\x3d"multiPageDesignItemPageCount"\x3e\x3c%\x3d pageCount %\x3e\x3c/div\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/div\x3e\x3c% } else { %\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c% } %\x3e\x3c/a\x3e');
    function Dz() {
    }

    Dz = uE.extend();
    f = Dz.prototype;
    f.initialize = function (a) {
        this.jg = new ze(window.viewConfig);
        this.query = a.query;
        this.Z = a.Z;
        this.render()
    };
    f.render = function () {
        this.$el = this.createElement();
        this.$el.data("view", this);
        this.$el.data("searchResult", this.model);
        this.$el.data("result", this.model);
        return this
    };
    f.ee = function () {
        return Iv(this.model)
    };
    f.createElement = function () {
        function a() {
            var a = "";
            if (c.query && /^\w+$/.test(c.query)) {
                var b = c.query.toLowerCase(), a = c.model.ur(), e = !1;
                if (a)for (var h = 0; h < a.length; h++)if (a[h].toLowerCase() == b) {
                    e = !0;
                    break
                }
                a = '\x3cspan class\x3d"superKeyword ' + (e ? "superHit" : "superMiss") + '" title\x3d"' + (e ? "Remove superKeyword " : "Add superKeyword ") + "'" + b + "'\" \x3eS\x3c/span\x3e ";
                g.data("superKeywordAdd", !e);
                g.data("query", b);
                d.append($(a))
            }
        }

        function b() {
            var a = $('\x3cdiv class\x3d"multiPageLayoutItem"\x3e\x3c/div\x3e'),
                b = $('\x3cdiv class\x3d"multiPageLayoutItemPageCount"\x3e\x3c/div\x3e'), d = c.model.getFile(Vp, 0);
            a.css("background-image", "url(" + d + ")");
            b.text(String(c.model.zf()));
            g.find("a \x3e *").wrapAll(a);
            g.find(".multiPageLayoutItem").append(b)
        }

        var c = this, d, e, g = $('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg\x3e\x3c/a\x3e\x3c/li\x3e'), h = this.model.getFile(Vp), k = this.model.getFile(ee), l = this.Z.format("objectPanelSearchResultItemViewShowMoreInfo");
        (function () {
            var a = $("img", g);
            Hp(Ip, a, h.ia()).then(function () {
                g.removeClass("loading")
            }).catch(function () {
                var a =
                    c;
                a.$el.addClass("failed");
                a.$el.find(".multiPageLayoutItem").removeClass("multiPageLayoutItem");
                a.$el.find(".multiPageLayoutItemPageCount").remove();
                a.$el.find(".price").remove();
                a.$el.find(".info").remove()
            });
            a.data("screen-url", k.ia()).data("screen-width", k.C()).data("screen-height", k.D()).attr("width", h.C()).attr("height", h.D());
            c.model.type === ae && (c.model.tr() ? a.addClass("graphic") : a.addClass("svg"))
        })();
        (function () {
            var a = Gv(c.model), b = (a / 100).toFixed(0) + " USD", h = c.model.oneTimeUseAggregatePriceCents,
                a = null === a ? "" : 0 === a ? c.Z.format("objectPanelMediaItemCostFree") : "$" + b;
            (h = !!h) && (a = '\x3cspan class\x3d"inner"\x3e$\x3c/span\x3e');
            d = $(c.JC({priceHtml: a, priceCategory: h ? "poa" : "", showMoreInfo: l}));
            e = $('\x3cspan class\x3d"price ' + (h ? "poa" : "free") + '"\x3e' + a + "\x3c/span\x3e");
            $("a", g).append(e).append(d)
        })();
        c.ee() && (b(), $(".info", g).remove());
        "CANVA" !== c.model.Md() && $(".info", g).remove();
        c.model.restricted || c.model.status == Jr || ($(".info", g).remove(), $(".price", g).remove(), $("img", g).addClass("inMarketplaceReview"));
        this.jg.Xf.get("quickKeywordEditEnabled", void 0) && a();
        return g
    };
    f.JC = _.template('\x3cspan class\x3d"info"\x3e\x3cspan class\x3d"price \x3c%\x3d priceCategory %\x3e"\x3e\x3c%\x3d priceHtml %\x3e\x3c/span\x3e\x3cspan class\x3d"moreInfo" title\x3d"\x3c%- showMoreInfo %\x3e"\x3ei\x3c/span\x3e\x3c/span\x3e');
    function BE() {
    }

    BE = Backbone.View.extend({className: "searchGroup"});
    f = BE.prototype;
    f.initialize = function (a) {
        this.Ck = a.Ck;
        this.Yv = [];
        this.vj = a.model;
        this.listenTo(this.vj, {"results:willFetch": this.Yh, "results:didFetch": this.sf, "results:clear": this.AA});
        this.F = a.F;
        this.ht = !1;
        a.el || this.render();
        this.$el.data("view", this)
    };
    f.render = function () {
        this.$el.html(this.template({title: this.vj.La()}));
        this.$(".gallery").addClass(this.Ck);
        "" === this.vj.La() && this.$("h2").remove();
        return this
    };
    f.Yh = function () {
    };
    f.sf = function (a, b, c) {
        function d(a) {
            return uE.Xv(a, n)
        }

        function e(a) {
            a.$el.appendTo(m)
        }

        function g(a) {
            return a instanceof Fv && "DESIGN" === a.type
        }

        function h(a) {
            return a instanceof xE
        }

        function k(a) {
            return a instanceof vE
        }

        function l() {
            m.addClass("templateGallery").removeClass("photoGallery")
        }

        var m, n = Bb(this.F);
        c || (m = this.$(".gallery"), this.$el.addClass("hasContent"), 0 < b.length ? (a = b.map(d), a.forEach(e), a.some(h) && m.addClass("gridGallery").removeClass("photoGallery"), a.some(k) && l(), b.some(g) && l(), this.Yv =
            this.Yv.concat(a), this.ha(), this.trigger("results:render")) : 0 === this.vj.ie.length && (m.remove(), this.$(".noResults").remove(), this.$el.append(this.mi({
            noResultsMessage: n.format("searchNoResults"),
            noDesignsMessage: n.format("objectPanelSearchNoDesigns")
        }))))
    };
    f.AA = function () {
        this.$(".gallery").find("li").each(function () {
            $(this).data("view").remove()
        })
    };
    f.ha = function () {
        yn(this.$(".gallery"), !1)
    };
    f.compact = function () {
        zn(this.$el, !0)
    };
    f.ja = function (a, b) {
        var c = 0 === a ? 0 : "";
        b ? this.$el.css("height", a).css("padding", c) : this.$el.addClass("doNotTransition").css("height", a).css("padding", c).removeClass("doNotTransition")
    };
    function CE(a, b) {
        a.$el.addClass("doNotTransition").css("height", "+\x3d" + b).removeClass("doNotTransition")
    }

    f.Bi = function (a) {
        var b = a.lb();
        return a.$el.nextAll().toArray().filter(function (a) {
            return Math.round($(a).offset().top) >= b
        }).map(function (a) {
            return $(a).data("view")
        })
    };
    function DE(a, b) {
        var c = a.Bi(b);
        if (0 === c.length)return 0;
        var d = c.slice(0).sort(function (a, b) {
            return a.Aa() - b.Aa()
        }), c = c.slice(0).sort(function (a, b) {
            return b.lb() - a.lb()
        }), d = d[0];
        return c[0].lb() - d.Aa()
    }

    function EE(a) {
        return a.$el.outerHeight(!0) - a.$el.height()
    }

    f.wk = function () {
    };
    f.$u = function () {
    };
    f.mi = _.template('\x3cp class\x3d"noResults"\x3e\x3c%- noResultsMessage %\x3e\x3c/p\x3e');
    f.template = _.template('\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e');
    function FE() {
    }

    FE = BE.extend();
    FE.prototype.initialize = function (a) {
        this.F = a.F;
        BE.prototype.initialize.call(this, a)
    };
    FE.prototype.mi = _.template('\x3cp class\x3d"noResults noDesignResults"\x3e\x3c%\x3d noDesignsMessage %\x3e\x3c/p\x3e');
    function GE() {
    }

    GE = BE.extend({});
    GE.prototype.initialize = function (a) {
        this.Ej = null;
        this.Jv = 0;
        BE.prototype.initialize.apply(this, arguments);
        a.el && this.$(".gallery li").each(function () {
            var a = new uE({el: this});
            $(this).data("view", a)
        })
    };
    GE.prototype.wk = function (a, b) {
        var c = a.$el, d = this.Bi(a), e = c.height(), e = c.data("originalTop") + e, g = HE(this, e);
        this.$el.addClass("folderExpanded");
        c.addClass("folderExpanded");
        d.forEach(function (a) {
            yE(a, Math.min(b, g), !0)
        });
        b > g && window.setTimeout(function () {
            d.forEach(function (a) {
                yE(a, b, !1)
            })
        }, 300);
        this.ja(e, !0);
        this.Jv = b;
        null === this.Ej && (c = DE(this, a), e = this.$el.next(), this.Ej = $('\x3cdiv class\x3d"spacer"\x3e\x3c/div\x3e'), this.Ej.css("height", c).insertAfter(e))
    };
    GE.prototype.$u = function (a) {
        var b = this.Bi(a), c = this.Jv - HE(this);
        0 < c && b.forEach(function (a) {
            a.kd(-c, !1)
        });
        this.$el.removeClass("folderExpanded");
        a.$el.removeClass("folderExpanded");
        b.forEach(function (a) {
            yE(a, 0, !0)
        });
        var d = this;
        window.setTimeout(function () {
            d.compact();
            d.Ej && d.Ej.remove();
            d.Ej = null
        }, 360)
    };
    function HE(a, b) {
        void 0 === b && (b = a.$el.height());
        var c = a.$el.parents(".layer").outerHeight(!0), d = a.$el.position().top;
        return c - (d + b)
    };
    function IE() {
    }

    IE = BE.extend({
        className: "inlineFolderGroup searchGroup",
        template: _.template('\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e')
    });
    IE.Xj = 150;
    f = IE.prototype;
    f.initialize = function (a) {
        this.model = a.model;
        this.Re = null;
        BE.prototype.initialize.apply(this, arguments);
        this.render();
        this.ja(0, !1)
    };
    f.remove = function () {
        function a() {
            BE.prototype.remove.apply(b, arguments);
            b.ht = !1
        }

        var b = this, c = this.$(".infoPanel .close"), d = 0 < c.length, e = this.$el.parent();
        this.ht = !0;
        d && c.trigger("click");
        if (this.Re)this.Re.css("opacity", 0).one("transitionend", function () {
            $(this).remove();
            b.Re = null
        });
        if (0 < e.length) {
            var g = this.$el.offset(), c = g.top + this.$el.outerHeight(), d = e.offset().top + e.outerHeight(), c = c - d;
            if (0 < c) {
                CE(this, -c);
                var h = e.outerHeight() - g.top;
                this.$(".gallery li").each(function () {
                    var a = $(this).data("originalTop");
                    (a >= h || a < -g.top) && $(this).remove()
                })
            }
            this.$el.one("transitionend", a).addClass("disappearing")
        } else a()
    };
    f.Yh = function () {
        0 === this.vj.ie.length && yx(this.$el);
        BE.prototype.Yh.apply(this, arguments)
    };
    f.sf = function (a, b, c) {
        Cx(this.$el);
        BE.prototype.sf.apply(this, arguments);
        var d = this;
        window.setTimeout(function () {
            d.compact()
        }, 300)
    };
    f.compact = function () {
        if (0 !== this.model.ie.length) {
            var a = this;
            BE.prototype.compact.apply(this, arguments);
            window.setTimeout(function () {
                a.$el.height() < IE.Xj && a.ja(IE.Xj, !0)
            }, 300)
        }
    };
    function JE(a) {
        if (null === a.Re) {
            var b = a.$el.parents(".layer");
            a.Re = $('\x3cdiv class\x3d"folder header clone"\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this folder"\x3eClose\x3c/a\x3e\x3ch2\x3e\x3cspan\x3e' + _.escape(a.vj.La()) + "\x3c/span\x3e\x3c/h2\x3e\x3c/div\x3e");
            a.Re.css("opacity", 0).insertAfter(b).delay(20, function () {
                $(this).css("opacity", "")
            });
            a.Re.find("a.close").one("click", function () {
                a.trigger("headerClose:click", a)
            })
        }
    }

    function KE(a) {
        if (null !== a.Re) {
            var b = a.Re;
            a.Re = null;
            b.css("opacity", 0).one("transitionend", function () {
                $(this).remove()
            })
        }
    };
    function LE() {
    }

    LE = Backbone.View.extend({tagName: "section", className: "layer"});
    LE.ah = function (a, b) {
        return new BE({model: a, Ck: "infoPanelGallery photoGallery", F: b})
    };
    f = LE.prototype;
    f.events = function () {
        return {scroll: _.throttle(this.scroll, 200)}
    };
    f.initialize = function (a) {
        this.F = a.F;
        this.Ul = this.model = a.model;
        this.Db = [];
        this.Ro = [];
        this.ah = a.ah || LE.ah;
        this.Jr = !1;
        this.listenTo(this.Ul, "searchGroup:add", this.Cd);
        this.listenTo(this.Ul, "searchGroup:remove", this.Nl);
        this.listenTo(this.Ul, "results:willFetch", this.Yh);
        this.listenTo(this.Ul, "results:didFetch", this.sf);
        this.$el.data("view", this)
    };
    f.render = function () {
        this.$el.empty();
        this.Db.forEach(function (a) {
            this.$el.append(a.$el)
        }, this);
        this.$el.append('\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e');
        return this
    };
    f.scroll = function () {
        0 < this.Db.filter(function (a) {
            return a.ht
        }).length || this.Pn()
    };
    f.Pn = function () {
        var a = this.$el.parent(), b = this.Db[this.Db.length - 1], c = Gz(this.Ul);
        if (0 !== a.length && b && c && !this.Jr) {
            var d = function () {
                var c = b.$el.offset().top + b.$el.outerHeight(), d = a.offset().top + a.outerHeight();
                return c - d
            };
            qe(this).read(function () {
                if (c.Yi && d() <= .33 * a.outerHeight()) {
                    var b = this.$("\x3e .inner \x3e .searchGroup .gallery li").length;
                    500 < b && qe(this).write(function () {
                        fy(this.$el, b - 500)
                    });
                    this.Jr = !0;
                    c.$c(ME(this))
                }
                c.Yi || qe(this).write(function () {
                    this.$el.data("userPreparedSearch", !0)
                })
            })
        }
    };
    f.Cd = function (a, b, c) {
        (a = this.Db[c - 1]) && a.compact();
        b = this.ah(b, this.F);
        this.Db.splice(c, 0, b);
        a ? b.$el.insertAfter(a.$el) : b.$el.appendTo(this.$el.children(".inner"))
    };
    f.Nl = function (a, b, c) {
        a = this.Db[c];
        this.Db.splice(c, 1);
        a.remove()
    };
    f.Yh = function (a) {
        this.Ro.push(a);
        yx(this.$el)
    };
    f.sf = function (a, b) {
        var c = this.Ro.indexOf(a);
        -1 < c && this.Ro.splice(c, 1);
        0 === this.Ro.length && Cx(this.$el);
        this.Jr = !1;
        if (a.Yi) {
            var d = this;
            setTimeout(function () {
                a === Gz(d.model) && d.Pn()
            }, 20 * b.length + 300)
        }
    };
    function ME(a) {
        a = a.$el.parent();
        return Ax(a, a.height())
    };
    function NE() {
    }

    NE = LE.extend({});
    f = NE.prototype;
    f.events = function () {
        var a = LE.prototype.events.apply(this, arguments);
        a["mousedown .albumGallery a"] = this.FA;
        a["click .albumGallery a"] = function () {
            return !1
        };
        a["mousedown .albumGallery a img"] = function (a) {
            a.preventDefault()
        };
        a["click .inlineFolderGroup \x3e .header a.close"] = this.Xu;
        a.mousedown = this.MA;
        return a
    };
    f.initialize = function (a) {
        LE.prototype.initialize.call(this, a);
        this.ik = !1;
        this.sn = 0;
        this.Zk = $();
        this.listenTo(G, "infoPanelToggle", this.IC)
    };
    function OE(a) {
        a = a.Db.filter(function (a) {
            return a instanceof IE
        });
        return 0 < a.length ? a[0] : null
    }

    f.scroll = function (a) {
        LE.prototype.scroll.apply(this, arguments);
        var b = OE(this);
        b && qe().read(function (a) {
            var d = parseInt(b.$el.css("margin-top"), 10), e = parseInt(b.$el.css("margin-bottom"), 10), g = b.$el.outerHeight(!1), d = b.$el.position().top + d, h = 0 < d, k = d + g < e;
            a.write(function () {
                h || k ? KE(b) : JE(b)
            })
        })
    };
    f.Pn = function () {
        this.$el.data("userPreparedSearch") ? px.call(this.el) : LE.prototype.Pn.apply(this, arguments)
    };
    f.MA = function (a) {
        if (a.target === this.el || "li" === a.target.nodeName.toLowerCase() && 0 < $(a.target).parents(".browseCategories").length)return (a = this.Db[0].$("li.folderExpanded").data("view")) && PE(this, a), !1
    };
    f.FA = function (a) {
        var b = this.Db[0];
        a = $(a.currentTarget).parent().data("view");
        var c = b.$el.hasClass("folderExpanded") && !a.$el.hasClass("folderExpanded");
        a.$el.hasClass("folderExpanded") ? PE(this, a) : c ? (b = b.$("li.folderExpanded").data("view"), PE(this, b)) : this.ik || QE(this, a);
        return !1
    };
    f.Xu = function () {
        var a = this.$(".gallery .folderExpanded").data("view");
        !this.ik && PE(this, a)
    };
    function QE(a, b) {
        var c = Bb(a.F), d = a.Db[0], e = a.model, g = b.$el.children("a"), h = g.attr("title"), g = g.data("query");
        "marketplace" === g ? ($(".fileUploadButton").addClass("buttonMarketplace").text(kc(c)), $("#fileUpload").data("marketplace", "marketplace")) : ($(".fileUploadButton").removeClass("buttonMarketplace").text(jc(c)), $("#fileUpload").removeData("marketplace"));
        var c = Iz(g), k = new Hz(c, h);
        Fz(e, k, 1);
        e = a.Db[1];
        e.$el.attr("data-query", g);
        RE(a, IE.Xj);
        d.wk(b, a.sn);
        0 === DE(d, b) && e.$el.addClass("end");
        a.listenTo(e,
            "headerClose:click", function () {
                a.Xu()
            });
        a.Zk.remove();
        a.Zk = $('\x3cdiv class\x3d"inlineFolderPointer"\x3e\x3c/div\x3e');
        a.Zk.css("left", b.zi() + parseInt(a.$el.css("padding-left"), 10)).insertBefore(e.$el);
        yx(e.$el);
        setTimeout(function () {
            k.$c(ME(a))
        }, 360);
        a.$el.removeData("userPreparedSearch")
    }

    function PE(a, b) {
        var c = Bb(a.F), d = a.Db[0], e = a.model;
        $(".fileUploadButton").removeClass("buttonMarketplace").text(jc(c));
        $("#fileUpload").removeData("marketplace");
        if (1 < e.getLength()) {
            a.ik = !0;
            var c = Gz(e), g = OE(a);
            a.stopListening(g);
            e.Nl(c);
            a.Zk && setTimeout(function () {
                a.Zk.remove();
                a.ik = !1
            }, 300)
        }
        d.$u(b);
        RE(a, 0);
        a.$el.data("userPreparedSearch", !0)
    }

    function SE(a, b) {
        var c = a.$(".gallery .folderExpanded").data("view");
        b === c && (!a.ik && PE(a, b), window.setTimeout(function () {
            QE(a, b)
        }, 360))
    }

    f.Cd = function (a, b, c) {
        (a = this.Db[c - 1]) && a.compact();
        var d = new IE({model: b, Ck: "infoPanelGallery photoGallery", F: this.F});
        this.Db.splice(c, 0, d);
        d.$el.insertAfter(a.$el).delay(20, function () {
            d.ja(IE.Xj - 72, !0)
        })
    };
    f.sf = function (a, b, c) {
        LE.prototype.sf.apply(this, arguments);
        Az(this, !0)
    };
    function Az(a, b) {
        var c = a.Db[0], d = OE(a), e = c.$("li.folderExpanded").data("view");
        if (e) {
            var g = EE(d), h = d.$el.data("contentHeight") || 0, g = g + h, k = Tx(d.$el), l = Math.max(g, IE.Xj), d = c.$el.find("li");
            b ? c.wk(e, l + k) : d.addClass("doNotTransition").delay(20, function () {
                c.wk(e, l + k);
                $(this).delay(20, function () {
                    $(this).removeClass("doNotTransition")
                })
            });
            RE(a, l)
        }
    }

    f.IC = function (a, b) {
        var c = OE(this);
        if (c && c.el === a.get(0)) {
            var c = this.Db[0], d = c.$("li.folderExpanded").data("view");
            c.wk(d, this.sn + b)
        }
    };
    function RE(a, b) {
        var c = b - a.sn;
        a.sn = b;
        a.Db[0].$el.nextAll(".searchGroup:not(.inlineFolderGroup)").find(".infoPanel, .infoPanelPointer").one("transitionend", function () {
            $(this).removeClass("transitionTop")
        }).addClass("transitionTop").delay(20, function () {
            $(this).css("top", "+\x3d" + c)
        })
    };
    function Qw() {
    }

    Qw = Backbone.View.extend({className: "textControls"});
    Qw.Cu = 1.02;
    f = Qw.prototype;
    f.events = function () {
        return {"mousedown a.add": this.dD, "click a.add": this.CA}
    };
    f.initialize = function (a) {
        this.md = a.md;
        this.F = a.F;
        this.Nm = !1;
        this.listenTo(this.model, "change:defaultFont", this.jI);
        this.render()
    };
    f.template = _.template("\x3c% if (hasBrandKit) { %\x3e\x3cp\x3e\x3c%- brandFontLabel %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- fontLabel %\x3e\x3c/p\x3e\x3c% } %\x3e\x3cul\x3e\x3c/ul\x3e");
    f.WC = _.template('\x3cli style\x3d"color: \x3c%\x3d color %\x3e; text-align: \x3c%- justification %\x3e;"\x3e\x3ca class\x3d"add" data-style\x3d"\x3c%\x3d style %\x3e"href\x3d"#" style\x3d"color: \x3c%\x3d color %\x3e; font-family: \'\x3c%\x3d fontFamily %\x3e\'; font-size: \x3c%\x3d fontSizePercentage %\x3e%; font-style: \x3c%\x3d italic ? "italic" : "normal"%\x3e; font-weight: \x3c%\x3d bold ? "bold" : "normal"%\x3e;"\x3e\x3c%\x3d placeholderText %\x3e\x3c/a\x3e\x3c/li\x3e');
    f.render = function () {
        var a, b = this;
        this.$el.html(this.template(function () {
            var a = Bb(b.F);
            return {
                hasBrandKit: !!b.md,
                fontLabel: a.format("objectPanelTextPanelFontLabel"),
                brandFontLabel: a.format("objectPanelTextPanelBrandFontLabel")
            }
        }()));
        a = this.$el.children("ul");
        for (var c in xb)a.append(TE(this, xb[c]));
        UE(this, this.BG.bind(this));
        return this
    };
    f.BG = function () {
        var a;
        this.$(".add").each(function () {
            a = a || Math.min(1, this.parentElement.offsetWidth / this.offsetWidth);
            this.style.fontSize = parseFloat(this.style.fontSize) * a + "%"
        })
    };
    function UE(a, b) {
        function c() {
            d++;
            3 === d && b && b()
        }

        var d = 0;
        Object.keys(xb).forEach(function (a) {
            a = this.Me(xb[a]).fontFamily;
            Eu(a, c)
        }, a)
    }

    function TE(a, b) {
        var c = a.Me(b);
        return $(a.WC(c))
    }

    f.Me = function (a) {
        var b = {
            title: 32,
            subtitle: 18,
            body: 14
        }, c = $.extend(!0, {}, this.model.om[a]), d = $.extend(!0, {}, this.model.Om[a]), e = VE(this, a), g = Bb(this.F);
        switch (a) {
            case "title":
                g = rc(g);
                break;
            case "subtitle":
                g = sc(g);
                break;
            case "body":
                g = g.format("objectPanelTextPanelAddBody");
                break;
            default:
                throw Error("Unknown Canva.TextElementStyle " + a);
        }
        g = {bold: !1, italic: !1, justification: "center", color: "auto", placeholderText: g, style: a};
        c = _.extend({}, g, d, c, e);
        (e = go(La, c.fontFamily)) ? c.fontFamily = e.family : c = _.extend({},
            g, d);
        void 0 === c.fontSize && (c.fontSize = b[a]);
        c.fontSizePercentage = c.fontSize * nb;
        return c
    };
    function VE(a, b) {
        var c;
        try {
            c = gm(dm(a.md)[0]) || []
        } catch (d) {
            c = []
        }
        return c.filter(function (a) {
            return !!jm(a) && a.getName() === b
        }).map(function (a) {
            a = jm(a);
            return {bold: a.vi(), italic: a.Ai(), fontFamily: a.family, fontSize: a.Gi()}
        })[0]
    }

    f.jI = function (a, b, c) {
        var d = this.$el.find("[data-style\x3d" + b + "]").parent(), e = TE(this, b);
        Eu(c.fontFamily, function () {
            d.replaceWith(e)
        })
    };
    f.CA = function (a) {
        var b = this.model, c = $(a.currentTarget), d = c.data("style");
        a = this.Me(d);
        a.fontSize *= Sa.Ge;
        var e = WE(this, c);
        e.find("a").css("font-size", a.fontSize * nb + "%");
        e.css("font-size", "100%").css("opacity", 0).appendTo("#content");
        var g = e.width();
        e.remove();
        c = {style: d, lockedWidth: !1, width: g * Qw.Cu, html: c.text(), placeholderText: c.text()};
        _.extend(c, a);
        O();
        var h = J(b);
        new Nj(c, function (a) {
            h.addElement(a, !0);
            Ud(a)
        });
        this.Nm = !0;
        return !1
    };
    function WE(a, b) {
        var c = J(a.model).Tn(), d = a.Me(b.data("style")), e = b.clone(), g = XE(a), h = parseFloat(b.get(0).style.fontSize || 100) / 100, d = d.color && "auto" !== d.color ? d.color : "inherit";
        e.css("width", b.width()).css("height", b.height()).css("white-space", "nowrap").css("color", d).css("font-size", g * h * 100 + "%");
        g = $('\x3cdiv class\x3d"textControls clone text"\x3e\x3c/div\x3e');
        g.css("font-size", 100 * M + "%").css("color", c ? "white" : "black").append(e);
        return g
    }

    f.dD = function (a) {
        function b(a) {
            var h = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            a = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            if (d.Nm)return x.off("mousemove|touchmove", b).off("mouseup|touchend", c), l && l.remove(), g.removeClass("picked"), d.Nm = !1, e.css("opacity", 1), !1;
            if (null == l)if (Ex(x)) {
                var K = ai(u, w, h, a);
                if (300 < K || 60 > K)l = WE(d, e), e.css("opacity", 0), $("#content").append(l), g.addClass("pickedUp"); else return !0
            } else if (4 < Math.abs(h - u) || 4 < Math.abs(a - w))l = WE(d, e),
                e.css("opacity", 0), $("#content").append(l), g.addClass("pickedUp");
            null != l && (K = k.top + a - w, l.css("left", k.left + h - u).css("top", K), K = Math.min(1, Math.sqrt(Math.pow(h - u, 2) + Math.pow(a - w, 2)) / z), l.css("font-size", 100 * (1 + (q - 1) * K) + "%").css("color", Uh(F, I, K).ka()), (h < n.left || h > n.left + m.outerWidth() || a < n.top || a > n.top + m.outerHeight()) && l && !l.hasClass("disappeared") && !l.hasClass("placing") && se(r, l) ? (null == C && (C = new te(l, p)), ve(C, B, A)) : $("#overlays .align").removeClass("on"));
            return !1
        }

        function c(a) {
            function h() {
                $(this).remove();
                e.css("visibility", "visible").css("opacity", "");
                g.removeClass("pickedUp")
            }

            function k() {
                setTimeout(function () {
                    e.one("transitionend", function () {
                        $(this).removeClass("reappearing")
                    }).css("visibility", "").addClass("reappearing").css("opacity", "");
                    g.removeClass("pickedUp")
                }, 20)
            }

            function p(a) {
                A === a && (G.off("elementLoaded", q), G.off("elementLoadingError", p))
            }

            function q(a) {
                A === a && (G.off("elementLoaded", q), G.off("elementLoadingError", p), A.appendTo(J(d.model)), Ud(A), Vd(A), lv(A.H()), l.remove(), k())
            }

            x.off("mousemove|touchmove",
                b).off("mouseup|touchend", c);
            $("#overlays .align").removeClass("on");
            $("#content").trigger("mousedown");
            O();
            var B = void 0 !== a.clientX ? a.clientX : a.changedTouches[0].clientX;
            a = void 0 !== a.clientY ? a.clientY : a.changedTouches[0].clientY;
            if (null == l && 4 > Math.abs(B - u) && 4 > Math.abs(a - w))return !1;
            if (null != l)if ((B < n.left || B > n.left + m.outerWidth() || a < n.top || a > n.top + m.outerHeight()) && l && !l.hasClass("disappeared") && se(r, l)) {
                B = e.data("style");
                a = {
                    type: "text", style: B, left: C.Y(), top: C.O(), width: C.C() * Qw.Cu, html: e.text(),
                    placeholderText: e.text()
                };
                _.extend(a, d.Me(B));
                a.fontSize *= Sa.Ge;
                var A = Sd(a);
                G.on("elementLoaded", q);
                G.on("elementLoadingError", p)
            } else null == l || l.hasClass("disappeared") ? null != l && l.hasClass("disappeared") && k() : (B = e.offset(), l.addClass("returning"), l.one("transitionend", h).css("left", B.left).css("top", B.top).css("font-size", "100%").css("color", "white"))
        }

        if (3 !== a.which) {
            var d = this, e = $(a.currentTarget), g = e.parent("li"), h = $(a.currentTarget).data("style"), k = e.offset(), l = null, m = $("#objectPanel"), n = m.offset(),
                h = this.Me(h);
            h.fontSize *= Sa.Ge;
            var q = 1 / (parseFloat(e.get(0).style.fontSize) / nb * XE(this) / h.fontSize) * M, r = ay(), p = r.offset(), u = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, w = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, z = Math.abs(u - (n.left + m.outerWidth())), x = new V($(document));
            x.on("mousemove|touchmove", b).on("mouseup|touchend", c);
            var C = null, A = ue(), B = {};
            a = J(this.model).Tn();
            var F = Jh(new Hh, 255, 255, 255), I = new Hh;
            h.color && "auto" !== h.color ? I = Q(h.color) || I : a ? Jh(I, 255,
                255, 255) : Jh(I, 0, 0, 0);
            d.Nm = !1;
            return Xx
        }
    };
    function XE(a) {
        return parseFloat(getComputedStyle(a.el.querySelector("ul")).fontSize) / parseFloat(getComputedStyle(a.el).fontSize)
    };
    function YE() {
    }

    YE = LE.extend();
    YE.prototype.initialize = function (a) {
        this.wg = this.Vq = this.sq = !1;
        this.limit = 0;
        this.Z = Bb(a.F);
        a.model = new Ez;
        LE.prototype.initialize.call(this, a);
        this.model.Cd(ZE());
        this.listenTo(this.model, "results:didFetch", this.lF)
    };
    function ZE() {
        var a = Mm(Jm()).ta(), a = new Qz({Xg: a.G(), Gb: Ca, vq: t.Ha().G(), ru: new ut});
        return new Hz(a)
    }

    function $E(a) {
        var b = new Nz(new zv(Ja), t.Ha());
        return new Hz(b, a.Z.format("objectPanelLayoutsPanelLayoutsTabTitle"))
    }

    YE.prototype.$c = function (a) {
        this.wg = !0;
        this.limit = a;
        Gz(this.model).$c(a)
    };
    YE.prototype.lF = function (a) {
        Gz(this.model).Yi || this.Vq ? this.sq = !0 : (this.Vq = !0, this.model.Cd($E(this)), (this.sq = 0 < a.ie.length) || this.Db[0].remove(), Gz(this.model).$c(this.limit))
    };
    YE.prototype.reset = function () {
        this.Vq = this.wg = !1;
        for (var a = this.model; Gz(a);)a.Nl(Gz(a));
        this.model.Cd(ZE())
    };
    function Ow() {
    }

    Ow = LE.extend();
    Ow.ah = function (a, b) {
        return new FE({model: a, Ck: "infoPanelGallery photoGallery", F: b})
    };
    Ow.prototype.initialize = function (a) {
        this.wg = !1;
        a.model = new Ez;
        a.ah = Ow.ah;
        LE.prototype.initialize.call(this, a);
        this.model.Cd(new Hz(a.sB))
    };
    Ow.prototype.$c = function (a) {
        this.wg = !0;
        Gz(this.model).$c(a)
    };
    function aF() {
    }

    aF = LE.extend();
    aF.prototype.initialize = function (a) {
        this.wg = !1;
        a.model = new Ez;
        LE.prototype.initialize.call(this, a);
        this.model.Cd(bF())
    };
    function bF() {
        var a;
        a = new Nz(new zv(Ja), t.Ha());
        return new Hz(a)
    }

    aF.prototype.$c = function (a) {
        this.wg = !0;
        Gz(this.model).$c(a)
    };
    aF.prototype.reset = function () {
        var a = Gz(this.model);
        this.wg = !1;
        this.model.Nl(a);
        this.model.Cd(bF())
    };
    function Rw() {
    }

    Rw = Backbone.View.extend();
    f = Rw.prototype;
    f.initialize = function (a) {
        this.kb = a.kb;
        this.Sm = a.Sm;
        this.Gb = a.Gb;
        this.Yn = void 0;
        this.sh = a.ZC.reduce(function (a, c) {
            a[c.template] = Rx(c);
            return a
        }, {});
        this.rt = [];
        this.Xo = !!a.Xo;
        this.Gt = !!a.Sm;
        this.F = a.F;
        this.Z = Bb(this.F);
        this.render();
        cF(this);
        this.$el.data("view", this);
        this.listenTo(this.model, "resize", this.ly)
    };
    f.events = function () {
        return {"click .templateGallery .info .moreInfo": this.SA, "click .templateGallery a": this.XA}
    };
    f.UF = _.template('\x3csection class\x3d"tab"\x3e\x3csection class\x3d"layer scrollPane"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/section\x3e');
    f.template = _.template('\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"layoutsControls"\x3e\x3c% if (showTabs) { %\x3e\x3cul class\x3d"layoutsTabs"\x3e\x3cli\x3e\x3ca href\x3d"#" class\x3d"objectPanelLayoutsTab"\x3e\x3c%- layoutsLabelText %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca href\x3d"#" class\x3d"objectPanelDesignsTab"\x3e\x3c%- yourDesignsLabelText %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c/div\x3e\x3c% } %\x3e\x3csection class\x3d"layoutsTabContainer tabContainer"\x3e\x3c/section\x3e');
    f.cG = function (a) {
        var b = this.$(".layoutsControls");
        a = a.currentTarget.scrollTop;
        var c = 2 * (50 - a) / 100;
        200 >= a ? b.css("transform", "translateY(-" + a + "px)").css("opacity", c) : b.css("transform", "translateY(-200px)").css("opacity", "0")
    };
    function dF(a) {
        var b = $(a.UF());
        b.find(".scrollPane").on("scroll", a.cG.bind(a));
        return b
    }

    function cF(a) {
        var b = a.$(".layoutsTabs"), c = a.$(".tabContainer"), b = new PD({
            el: b[0],
            mJ: window.location.href
        }), c = new SD({xe: c, wa: Cf, Ij: b});
        b.select(0);
        c.on("change", a.BF, a);
        c.init()
    }

    f.$c = function (a) {
        eF(this).$c(a)
    };
    function eF(a) {
        var b = Math.max(0, a.$(".layoutsTabs \x3e .on").index());
        return a.rt[b]
    }

    f.XA = function (a) {
        function b() {
            if (d.hasClass("infoOpen"))xn(); else {
                var a = document.createElement("span");
                $(a).css("visibility", "hidden").css("width", 0).css("height", 0);
                d.append(a);
                ex.call(a, c)
            }
        }

        O();
        if ($(a.target).is(".moreInfo"))return !1;
        var c = this.F, d = $(a.currentTarget);
        a = d.parents("li").data("view");
        var e = a.model;
        this.$(".gallery li.on").removeClass("on");
        a.ee && a.ee() ? b() : e.getContent ? (HD(e), a.$el.addClass("on")) : e.Tb ? (ID(e), a.$el.addClass("on")) : e.yf && (1 === e.yf().pageCount ? (GD(this, e), a.$el.addClass("on")) :
            b());
        return !1
    };
    f.SA = function (a) {
        return ex.call(a.currentTarget, this.F)
    };
    function GD(a, b) {
        function c(a) {
            return a.getDocument()
        }

        function d(a) {
            g = a.ca(0);
            h = new Bh({type: Oo, id: a.G(), version: a.getVersion()});
            FD(g, h);
            if (null !== e.kb && e.sh.hasOwnProperty(b.G())) {
                var c = {};
                c[e.sh[b.G()].xf()] = "#" + e.kb;
                rE(null, g, c)
            }
            c = new wj(t, g);
            qz({mf: pz(c), an: t.Ha(), page: c});
            fF(J(t), zh(c.serialize()), l, zk(a, 0), h)
        }

        var e = a, g, h, k = J(t), l = k.di(), m = zk(b, 0);
        b.ca(0) ? d(b) : (k.clear(), m && kz(k, m), a.Gb.getDocument(ik(b.G())).then(c).then(d))
    }

    function HD(a) {
        var b = J(t), c = a.getContent(), c = Ah(new yh, c);
        if (Ft(a)) {
            a = b.C();
            var d = b.D(), e = 0 < Cj(b).length, g = c.elements && c.elements[0];
            if (g) {
                var h = g.spacing;
                void 0 === h && (h = 10);
                _.extend(g, or(a, d, h, e).serialize())
            }
        }
        fF(b, c)
    }

    function ID(a) {
        var b = J(t);
        a.sg(function (c) {
            if (c && c.content && c.content.pages) {
                var d = {
                    id: a.G(),
                    version: a.getVersion(),
                    price: Gv(a),
                    title: a.La(),
                    keywords: a.nh()
                }, d = new yh(d);
                $.extend(!0, d, _.omit(c.content.pages[0], "layout"));
                fF(b, d, null, a.be())
            }
        });
        Ev(Wa, Qv(a))
    }

    function fF(a, b, c, d, e) {
        c = {"new": b, old: c || a.di(), pageIndex: a.ea()};
        zy(a, b, d, e);
        y.register(new yy(4, c))
    }

    f.render = function () {
        this.$el.html(this.template({
            showControls: this.Gt,
            showTabs: this.Gt,
            layoutsLabelText: this.Z.format("objectPanelLayoutsPanelLayoutsTabLabel"),
            yourDesignsLabelText: this.Z.format("objectPanelLayoutsPanelYourDesignsTabLabel")
        }));
        var a = dF(this).toggleClass("layoutsPanel", this.Xo), b = a.find(".layer");
        this.$(".tabContainer").append(a);
        this.Yn = this.Xo ? new YE({el: b, F: this.F}) : new aF({el: b, F: this.F});
        this.rt.push(this.Yn);
        this.Gt && (a = dF(this).addClass("designsPanel"), b = a.find(".layer"), this.$(".tabContainer").append(a),
            a = this.Sm(b), this.rt.push(a));
        return this
    };
    f.ly = function () {
        this.Yn.reset();
        eF(this) === this.Yn && this.$c(Ax(this.$el, this.$el.height()))
    };
    f.BF = function () {
        eF(this).wg || this.$c(Ax(this.$el, this.$el.height()))
    };
    function Ww(a) {
        this.ml = this.ml.bind(this);
        this.ss = this.ss.bind(this);
        this.Hf = this.Hf.bind(this);
        this.element = a;
        this.element.on({dragenter: this.ml, dragover: this.ss, drop: this.Hf})
    }

    _.extend(Ww.prototype, Backbone.Events);
    Ww.prototype.trigger = Backbone.Events.trigger;
    Ww.prototype.ml = function () {
        1 === $("#objectPanel \x3e menu \x3e .uploads.on").length || $("#objectPanel \x3e menu \x3e .uploads \x3e a").click();
        this.trigger("dragenter")
    };
    Ww.prototype.ss = function (a) {
        a.originalEvent.dataTransfer.dropEffect = "copy";
        a.preventDefault()
    };
    Ww.prototype.Hf = function (a) {
        var b;
        try {
            b = a.originalEvent.dataTransfer.files
        } catch (c) {
        }
        a.preventDefault();
        a.stopPropagation();
        b && b.length && this.trigger("drop", b);
        return !1
    };
    function gF() {
    }

    gF = Backbone.View.extend({className: "uploadsFolderItem"});
    f = gF.prototype;
    f.events = function () {
        return {click: this.Gf, dragstart: this.vh, mousedown: this.wh}
    };
    f.initialize = function (a) {
        this.Ka = a.Ka;
        this.model = a.model;
        this.root = a.root
    };
    f.Gf = function () {
        this.Ka.Fu(this.model)
    };
    f.vh = function (a) {
        a.preventDefault();
        return !1
    };
    f.wh = function (a) {
        return 3 === a.which || this.St(a)
    };
    f.xs = function (a, b) {
        function c() {
            d.$el.removeClass("uploadsFolderItemDragging")
        }

        var d = this;
        b ? setTimeout(c, 600) : (this.Gf(), c())
    };
    f.render = function () {
        this.$el.addClass("uploadsFolderItemLoading");
        this.$el.html(this.template());
        this.Pl();
        return this
    };
    f.Pl = function () {
        var a, b, c = this;
        a = this.model.dc().D() / this.model.dc().C();
        b = this.$(".uploadsFolderItemThumbnail");
        b.css("padding-bottom", 100 * a + "%");
        a = b.find("img");
        a.one("load", function () {
            c.$el.removeClass("uploadsFolderItemLoading")
        });
        Hp(Ip, a, this.model.dc().ia())
    };
    f.St = function (a) {
        var b = this.el.getBoundingClientRect(), c = a.clientX, d = a.clientY, e = this.$el.clone().off(), c = new L(c, d, c, d), b = oe(b);
        if (this.root) {
            this.$el.addClass("uploadsFolderItemDragging");
            var d = this.Ka, g = this.model;
            ne(d, Yd(g), b, e, c, d.Fu.bind(d, g));
            this.su(a)
        }
        return !1
    };
    f.template = _.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e');
    f.su = function (a) {
        function b(c) {
            3 < Math.sqrt(Math.pow(c.clientX - a.clientX, 2) + Math.pow(c.clientY - a.clientY, 2)) && (e = !0, d.root.off("mousemove", b))
        }

        function c(a) {
            d.root.off("mousemove", b);
            d.root.off("mouseup", c);
            d.xs(a, e)
        }

        var d = this, e = !1;
        d.root.on("mouseup", c);
        d.root.on("mousemove", b)
    };
    function hF(a) {
        this.Ka = a.Ka;
        this.Yd = a.Yd;
        this.rd = !1;
        this.Ar = !0;
        this.ha = new iF;
        this.offset = 0;
        this.view = new jF({Z: a.Z});
        this.view.on({retry: this.fetch, signIn: this.authorize}, this)
    }

    f = hF.prototype;
    f.listenTo = Backbone.Events.listenTo;
    f.on = Backbone.Events.on;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    f.authorize = function () {
        gt(this.Yd).then(this.view.Yy.bind(this.view, !1)).then(this.fetch.bind(this)).catch(function () {
        })
    };
    f.wA = function () {
        return ht(this.Yd).catch(function () {
            throw new kF;
        })
    };
    f.fetch = function () {
        function a() {
            b.rd = !1
        }

        var b = this;
        !b.rd && b.Ar && (this.rd = !0, this.view.Ad(!0), this.view.Wh(!1), this.uI().bind(this).then(this.wA).then(this.yn).finally(a).then(this.hF).catch(kF, this.gF).catch(lF, this.rF).catch(this.iF))
    };
    f.yk = function () {
        this.fetch()
    };
    f.yn = function () {
        return this.Yd.Jn(this.offset, 25)
    };
    f.getElement = function () {
        return this.view.$el
    };
    f.Pe = function () {
        return this.ha.Pe()
    };
    f.ww = function () {
        return this.Ar
    };
    f.gF = function () {
        this.view.Ad(!1);
        this.view.Yy(!0)
    };
    f.hF = function (a) {
        var b, c = this;
        b = $(a.map(function (a) {
            return (new gF({Ka: c.Ka, model: a, root: $(window)})).render()
        }).map(function (a) {
            return a.el
        }));
        ge(this.Ka, a);
        this.Ar = 0 < a.length;
        this.Bo("uploadsItemAppearing", b, 2200);
        this.ha.push(b);
        this.offset += a.length;
        this.view.Ad(!1);
        this.view.Vh(1 > this.ha.Ld().length && 1 > a.length);
        this.trigger("fetch")
    };
    f.iF = function () {
        this.view.Ad(!1);
        this.view.Wh(!0)
    };
    f.rF = function () {
        this.view.Ad(!1);
        this.view.Wh(!0)
    };
    f.Bo = function (a, b, c) {
        b.addClass(a);
        b.on("animationend", function e() {
            $(this).off("animationend", e);
            $(this).removeClass(a)
        });
        setTimeout(function () {
            b.removeClass(a)
        }, c)
    };
    f.remove = function () {
        this.stopListening()
    };
    f.render = function () {
        this.view.render();
        this.view.$el.prepend(this.ha.$el);
        return this
    };
    f.uI = P.method(function () {
        function a() {
            return P.try(function () {
                return bt() || P.delay(500).then(a).cancellable()
            })
        }

        return a().timeout(2500).catch(P.TimeoutError, function () {
            throw new lF;
        })
    });
    function kF() {
    }

    kF.prototype = Object.create(Error.prototype);
    function lF() {
    }

    lF.prototype = Object.create(Error.prototype);
    function jF() {
    }

    jF = Backbone.View.extend({className: "facebookPhotos uploadsFolderContent"});
    f = jF.prototype;
    f.mi = _.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');
    f.ni = _.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3cbutton class\x3d"button facebookPhotosRetry"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/p\x3e');
    f.events = function () {
        return {"click .buttonFacebook": this.nE, "click .facebookPhotosRetry": this.nF}
    };
    f.initialize = function (a) {
        this.Ed = new VD;
        this.Z = a.Z
    };
    f.nE = function () {
        this.trigger("signIn")
    };
    f.nF = function () {
        this.trigger("retry")
    };
    f.render = function () {
        this.$el.append(this.Ed.render().$el);
        return this
    };
    f.sH = _.template('\x3cdiv class\x3d"facebookPhotosSignIn"\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e\x3cbutton class\x3d"button buttonFacebook"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');
    f.Ad = function (a) {
        a ? this.Ed.show() : this.Ed.hide()
    };
    f.Vh = function (a) {
        var b = this.$(".uploadsFolderContentEmptyMessage");
        a ? 1 > b.length && this.$el.append(this.mi({message: this.Z.format("objectPanelUploadsPanelFacebookFolderEmptyMessage")})) : b.remove()
    };
    f.Wh = function (a) {
        var b = this.$(".uploadsFolderContentErrorMessage");
        a ? 1 > b.length && this.$el.append(this.ni({
            buttonLabel: this.Z.format("objectPanelUploadsPanelFacebookFolderTryAgainButtonLabel"),
            message: this.Z.format("objectPanelUploadsPanelFacebookFolderErrorMessage")
        })) : b.remove()
    };
    f.Yy = function (a) {
        var b = this.$(".facebookPhotosSignIn");
        a ? 1 > b.length && this.$el.append(this.sH({
            buttonLabel: this.Z.format("objectPanelUploadsPanelFacebookFolderAuthorizeButton"),
            message: this.Z.format("objectPanelUploadsPanelFacebookFolderSignInMessage")
        })) : b.remove()
    };
    function mF() {
    }

    mF = Backbone.View.extend({className: "uploadsFolderInfo uploadsInfo"});
    f = mF.prototype;
    f.events = function () {
        return {"click .uploadsInfoTrash": this.trigger.bind(this, "trash")}
    };
    f.initialize = function (a) {
        this.Ia = a.Ia;
        this.F = a.F;
        this.Jb = a.Jb
    };
    f.render = function () {
        this.$el.html(this.template(this.Za()));
        return this
    };
    f.Za = function () {
        var a = Bb(this.F), b = new Kt(this.Ia.getName(), this.Ia.lc(), a), c = this.Ia.pb() === this.Jb, d = this.Ia.shared, b = b.ac(), b = a.format("objectPanelUploadsPanelFolderInfoHeader", b);
        return {
            isOwner: c,
            isShared: d,
            headerMessage: b,
            itemCount: a.format("objectPanelUploadsPanelFolderInfoItemCount", this.Ia.itemCount),
            youSharedMessage: a.format("objectPanelUploadsPanelFolderInfoYouShared"),
            sharedWithYouMessage: a.format("objectPanelUploadsPanelFolderInfoSharedWithYou"),
            trashLabel: a.format("objectPanelUploadsPanelFolderInfoTrashLabel")
        }
    };
    f.template = _.template('\x3ch3\x3e\x3c%- headerMessage %\x3e\x3c/h3\x3e\x3cp class\x3d"uploadsFolderInfoItemCount"\x3e\x3c%- itemCount %\x3e\x3c/p\x3e\x3c% if (isShared \x26\x26 isOwner) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- youSharedMessage %\x3e\x3c/p\x3e\x3c% } else if (isShared) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- sharedWithYouMessage %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c% if (isOwner) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e');
    function nF() {
    }

    nF = Backbone.View.extend({className: "uploadsFolderItemInfo uploadsInfo"});
    f = nF.prototype;
    f.events = function () {
        return {
            "click .uploadsInfoDownload": this.trigger.bind(this, "download"),
            "click .uploadsInfoTrash": this.trigger.bind(this, "trash"),
            "change select": this.ZH
        }
    };
    f.initialize = function (a) {
        this.Cq = a.Cq;
        this.Ia = a.Ia;
        this.gb = a.gb;
        this.item = a.item;
        this.Z = a.Z
    };
    function oF(a) {
        var b = a.$("select").val();
        return a.gb.filter(function (a) {
            return a.G() === b
        })[0]
    }

    f.render = function () {
        this.$el.html(this.template(this.Za()));
        this.$("select").val(this.Ia.G());
        return this
    };
    f.Za = function () {
        var a = this;
        return {
            downloadLink: this.Cq,
            downloadOriginalTitle: this.Z.format("objectPanelUploadsPanelItemInfoDownloadOriginal"),
            item: this.item,
            options: this.gb.map(function (b) {
                var c = new Kt(b.getName(), b.lc(), a.Z);
                return _.extend({}, b, {name: c.ac()})
            }).map(this.KF),
            trashLabel: this.Z.format("objectPanelUploadsPanelItemInfoTrash")
        }
    };
    f.ZH = function () {
        this.trigger("move", oF(this))
    };
    f.KF = _.template('\x3coption value\x3d"\x3c%- id %\x3e"\x3e\x3c%- name %\x3e\x3c/option\x3e');
    f.template = _.template('\x3c% if (item.name) { %\x3e\x3ch3\x3e\x3c%- item.name %\x3e\x3c/h3\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3cselect\x3e\x3c%\x3d options %\x3e\x3c/select\x3e\x3c% if (downloadLink) { %\x3e\x3ca class\x3d"uploadsInfoDownload" title\x3d"\x3c%- downloadOriginalTitle %\x3e"\x3e\x26#11015;\x3c/a\x3e\x3c% } %\x3e');
    function pF() {
    }

    pF = Backbone.View.extend({className: "uploadsFolderItem"});
    f = pF.prototype;
    f.initialize = function (a) {
        this.Ka = a.Ka;
        this.disabled = !1;
        this.model = a.model;
        this.$i = a.$i;
        this.Z = a.Z;
        this.he = void 0;
        this.root = a.root;
        (this.Wb = a.Wb) && this.listenTo(this.Wb, {complete: this.FF, fail: this.GF, update: this.ez})
    };
    f.events = function () {
        return {click: this.Gf, dragstart: this.vh, mousedown: this.wh}
    };
    f.Gf = function (a) {
        var b = a.target.classList.contains("uploadsInfoButton");
        if (!this.disabled)if (b)this.trigger("infoClick", this.model); else {
            var b = !1, c = this.model.bb();
            a.target && $(a.target).is("img") ? b = .1 < we(a.target) : 1 === $(a.target).find("img").length && (b = .1 < we($(a.target).find("img").get(0)));
            c ? this.Ka.Hu(c, void 0, void 0, b) : this.Wb && this.Wb.bb() && this.Ka.Iu(this.Wb, void 0, void 0, b)
        }
    };
    f.FF = function () {
        this.he.remove();
        this.he = void 0;
        this.stopListening(this.Wb)
    };
    f.GF = function () {
        this.oe(!0);
        this.he.$el.addClass("uploadProgressBarFail");
        this.stopListening(this.Wb);
        setTimeout(this.Ey.bind(this), 1E3);
        setTimeout(this.trigger.bind(this, "uploadFail"), 5350)
    };
    f.vh = function (a) {
        a.preventDefault();
        return !1
    };
    f.wh = function (a) {
        var b = a.target.classList.contains("uploadsInfoButton"), c = 3 == a.which;
        return this.disabled || c || b || a.ctrlKey || this.St(a)
    };
    f.xs = function (a, b) {
        function c() {
            d.$el.removeClass("uploadsFolderItemDragging")
        }

        var d = this, e = this.el.getBoundingClientRect();
        b ? (me(this.Ka, oe(e)), setTimeout(c, 600)) : (this.Gf(a), c())
    };
    f.render = function () {
        this.$el.addClass("uploadsFolderItemLoading");
        this.$el.html(this.template(this.model));
        this.$el.toggleClass("uploadsFolderItemMovable", this.$i);
        this.Pl();
        if (this.Wb && !this.Wb.Ec) {
            var a = this.$(".uploadsControls");
            this.he || (this.he = new qF);
            this.he.render().$el.insertBefore(a)
        }
        if (a = this.Wb)a = this.Wb, a = a.Ec && !a.media;
        a && this.Ey();
        return this
    };
    f.Pl = function () {
        function a() {
            d.off("load", a);
            e.$el.removeClass("uploadsFolderItemLoading")
        }

        var b, c, d, e = this;
        b = this.model.dc().D() / this.model.dc().C();
        c = this.$(".uploadsFolderItemThumbnail");
        c.css("padding-bottom", 100 * b + "%");
        d = c.find("img");
        d.on("load", a);
        b = this.model.dc().ia();
        Hp(Ip, d, b)
    };
    f.show = function () {
        this.he && this.ez()
    };
    f.St = function (a) {
        var b, c, d = this.model.bb();
        b = a.clientX;
        c = a.clientY;
        var e = this.$el.clone().off();
        e.find(".uploadProgressBar").remove();
        e.find(".uploadsControls").remove();
        this.trigger("pickedUp", this.model, e.find("img"));
        if (this.root) {
            b = new L(b, c, b, c);
            c = oe(this.el.getBoundingClientRect());
            this.$el.addClass("uploadsFolderItemDragging");
            if (d) {
                var g = this.Ka, h;
                h = d.na().Tb()[ee];
                h = ce({
                    id: d.G(),
                    version: d.na().getVersion(),
                    files_: [{page: 0, quality: "THUMBNAIL", url: e.find("img").attr("src")}, {
                        page: 0, quality: "SCREEN",
                        url: h.ia(), width: h.C(), height: h.D()
                    }]
                });
                ne(g, h, c, e, b, g.Hu.bind(g, d))
            } else this.Wb && (d = this.Ka, g = this.Wb, h = e.find("img").attr("src"), h = ce({
                id: g.bb().G(),
                version: 1,
                files_: [{page: 0, quality: "THUMBNAIL", url: h}, {
                    page: 0,
                    quality: "SCREEN",
                    url: h,
                    width: g.Ab().width,
                    height: g.Ab().height
                }]
            }), ne(d, h, c, e, b, d.Iu.bind(d, g)));
            this.su(a)
        }
        return !0
    };
    f.template = _.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e');
    f.oe = function (a) {
        this.disabled = a
    };
    function rF(a, b) {
        a.$i = b;
        a.$el.toggleClass("uploadsFolderItemMovable", a.$i)
    }

    f.Ey = function () {
        this.he && this.he.remove();
        this.he = void 0;
        this.$el.addClass("uploadsFolderItemFailed");
        this.$el.find("img").attr("title", this.Z.format("objectPanelUploadsPanelUploadFailed"));
        rF(this, !1);
        this.oe(!0)
    };
    f.Lj = P.method(function (a, b) {
        var c = this;
        return a ? P.try(function () {
            c.$el.toggleClass("doNotAnimate", !!b).addClass("doNotTransition").height(c.$el.height())
        }).delay(20).then(function () {
            c.$el.removeClass("doNotTransition").addClass("uploadsFolderItemHidden").height("")
        }).delay(350) : (this.$el.removeClass("doNotAnimate uploadsFolderItemHidden"), P.resolve())
    });
    f.ez = function () {
        sF(this.he, this.Wb.$e)
    };
    f.su = function (a) {
        function b(c) {
            3 < Math.sqrt(Math.pow(c.clientX - a.clientX, 2) + Math.pow(c.clientY - a.clientY, 2)) && (e = !0, d.root.off("mousemove", b))
        }

        function c(a) {
            d.root.off("mousemove", b);
            d.root.off("mouseup", c);
            d.xs(a, e)
        }

        var d = this, e = !1;
        d.root.on("mouseup", c);
        d.root.on("mousemove", b)
    };
    function tF(a) {
        this.Ds = this.Sa = void 0;
        this.zg = a.Jb === a.Ia.pb();
        this.Ka = a.Ka;
        this.vc = null;
        this.sa = a.sa;
        this.rd = !1;
        this.Ia = a.Ia;
        this.gb = a.gb;
        this.$b = a.$b;
        this.Xk = !1;
        this.ud = [];
        this.ha = new iF;
        this.Ob = a.Ob;
        this.Z = a.Z;
        this.eo = !0;
        this.Kc = a.Kc;
        this.Xh = a.Xh;
        this.Cc = a.Cc;
        this.listenTo(this.Cc, "create", this.eI);
        this.Jb = a.Jb;
        this.Hd = a.Hd;
        this.view = new uF({disabled: a.disabled, model: this.Ia, Z: this.Z});
        this.listenTo(this.view, {upload: this.mm, share: this.iH})
    }

    f = tF.prototype;
    f.listenTo = Backbone.Events.listenTo;
    f.off = Backbone.Events.off;
    f.on = Backbone.Events.on;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    f.od = function () {
        this.Gw = void 0;
        this.Ic && (eE(this.ha, this.Ic.$el), this.Ic = void 0)
    };
    f.fetch = function (a) {
        if (!this.rd && !this.Xk && this.eo) {
            var b = (new df).Sj(this.vc).Zf(le(this.Ia));
            b.includeMetadata = !0;
            a && b.Tj(a);
            this.rd = !0;
            this.view.Ad(!0);
            this.$b.YC(b).bind(this).then(this.PE).catch(this.QE)
        }
    };
    f.yk = function (a) {
        a = this.ha.Sq(a);
        isFinite(a) ? this.fetch(a) : this.fetch(25)
    };
    f.getElement = function () {
        return this.view.$el
    };
    function vF(a, b) {
        for (var c = 0; c < a.ud.length; c++) {
            var d = a.ud[c];
            if (d.model === b || d.Wb === b)return d
        }
        return null
    }

    f.Pe = function () {
        return this.ha.Pe()
    };
    function wF(a) {
        return a.Cc.In(a.Ia.G()).filter(function (b) {
            return !vF(a, b)
        }).filter(function (b) {
            return b.Ec && !b.media ? !1 : b.Ec && b.bb() ? -1 === a.Xh.indexOf(b.bb().G()) : !0
        })
    }

    f.ww = function () {
        return this.eo
    };
    f.moveItem = function (a, b, c) {
        var d = vF(this, a);
        d && (this.od(), this.view.Vh(1 === this.ud.length), b = Le(Me(new Ke, le(this.Ia)).uz([a.G()]), le(b)), P.settle([this.$b.gD(b), d.Lj(!0, c)]).then(function (b) {
            b[0].isFulfilled() ? this.removeItem(a) : xF(this, a)
        }.bind(this)))
    };
    f.wx = function (a) {
        function b() {
            var b;
            b = (new nF({Cq: !!e.sa.Ta.get(Gd), Ia: e.Ia, gb: e.gb, item: a, Z: e.Z})).render();
            b.on({move: e.moveItem.bind(e, a), trash: e.YH.bind(e, a), download: e.DB.bind(e, a)});
            return b
        }

        function c() {
            var a;
            a = (new yF({Dd: !1, gg: !0, content: d.$el, Z: e.Z, target: g.$el})).render();
            a.on("close", e.od, e);
            return a
        }

        var d, e = this, g;
        a === this.Gw ? this.od() : (d = b(), g = vF(this, a), this.od(), this.Ic = c(), dE(e.ha, g.$el, e.Ic.$el), e.Ic.show(), this.Gw = a, this.Hd(this.Ic.getContent(), !0))
    };
    f.PE = function (a) {
        var b = this;
        ie(this.Ka, function () {
            return (a.Ld() || []).map(function (a) {
                return a.bb()
            })
        }());
        this.vc = a.kc();
        this.rd = !1;
        this.eo = !!this.vc;
        zF(this, wF(this).map(this.ky, this));
        zF(this, a.Ld().filter(function (a) {
            return b.ud.every(function (b) {
                return b.Wb && b.Wb.bb() ? b.Wb.bb().G() !== a.G() : !0
            })
        }).filter(function (a) {
            return -1 === b.Xh.indexOf(a.G())
        }).filter(function (a) {
            return "MEDIA" === a.Nb() && "FONT" !== a.bb().Nb()
        }).map(this.vG, this));
        this.view.Ad(!1);
        this.view.Vh(1 > this.ud.length);
        AF(this.view);
        this.trigger("fetch")
    };
    function BF(a) {
        function b() {
            if (!e.zg)return e.Kc.pb(e.Ia.pb())
        }

        function c() {
            CF(e.view, !1)
        }

        function d(a, b) {
            a && (e.zg || b) && (e.Ds = b ? b : void 0, e.Sa = a, CF(e.view, !0), DF(e.view, !1, EF(e)))
        }

        var e = a, g;
        g = (new ff).Zf(le(a.Ia));
        a.$b.ob(g).then(function (a) {
            var g = a.ob();
            a = a.pg();
            g && (e.Ia = g);
            g = "ADMIN" === a;
            a = "OWNER" === a;
            var l = e.Ia.lc(), m = e.Ia === FF;
            !g && !a || l || m ? c() : P.all([e.Kc.ta(e.Ia.ta()), b()]).spread(d).catch(c)
        }).catch(c)
    }

    f.QE = function () {
        this.rd = !1;
        this.Xk = !0;
        this.view.Ad(!1);
        this.view.Wh(!0)
    };
    f.ws = function (a) {
        this.removeItem(a);
        this.trigger("trash", a.G())
    };
    f.IF = function (a) {
        var b = vF(this, a);
        b && (b.model = b.model.gk({id: a.bb().G()}), b.oe(!1), rF(b, !0))
    };
    f.Bo = function (a, b, c) {
        b.addClass(a);
        b.on("animationend", function e() {
            $(this).off("animationend", e);
            $(this).removeClass(a)
        });
        setTimeout(function () {
            b.removeClass(a)
        }, c)
    };
    function zF(a, b) {
        var c = $(b.map(function (a) {
            return a.el
        }));
        a.ud = a.ud.concat(b);
        a.Bo("uploadsItemAppearing", c, 2200);
        a.ha.push(c);
        b.forEach(function (a) {
            a.show()
        })
    }

    f.remove = function () {
        this.ud.forEach(function (a) {
            a.remove()
        });
        this.Mg && this.Mg.remove();
        this.stopListening()
    };
    f.removeItem = function (a) {
        a = vF(this, a);
        a.remove();
        this.ud.splice(this.ud.indexOf(a), 1);
        this.view.Vh(1 > this.ud.length)
    };
    f.render = function () {
        this.view.render();
        this.view.$el.prepend(this.ha.$el);
        return this
    };
    f.vG = function (a) {
        a = (new pF({Ka: this.Ka, model: a, $i: !0, Z: this.Z, root: $(window)})).render();
        this.listenTo(a, {infoClick: this.wx, pickedUp: this.trigger.bind(this, "pickedUp")});
        return a
    };
    f.ky = function (a) {
        this.listenTo(a, "start", this.IF);
        a = (new pF({
            Ka: this.Ka,
            model: Object.freeze(E(bf, {
                id: "",
                thumbnail: {height: a.Ab().height, url: a.be(), width: a.Ab().width},
                type: "MEDIA"
            })),
            $i: !1,
            Z: this.Z,
            root: $(window),
            Wb: a
        })).render();
        this.listenTo(a, {infoClick: this.wx, pickedUp: this.trigger.bind(this, "pickedUp")});
        return a
    };
    function xF(a, b) {
        var c = vF(a, b);
        c && (c.Lj(!1), a.view.Vh(!1))
    }

    f.eI = function () {
        function a(a) {
            a.oe(!0)
        }

        var b = wF(this);
        !this.vc && this.eo || 1 > b.length || (b = b.map(this.ky, this), b.forEach(a), GF(this, b), this.view.Vh(!1))
    };
    function GF(a, b) {
        var c = $(b.map(function (a) {
            return a.el
        }));
        a.ud = b.concat(a.ud);
        a.Bo("uploadsItemUploading", c, 600);
        a.ha.unshift(c);
        b.forEach(function (a) {
            a.show()
        })
    }

    f.mm = function (a) {
        this.Ka.mm(this.Ia, a, "button")
    };
    f.iH = function (a, b) {
        function c(a, b) {
            "UNSHARED" === a ? EF(d) && (d.zg || window.confirm(d.Z.format("objectPanelUploadsPanelSharePopOverUnshareConfirmation"))) && (HF(d, d.Sa.G(), !1), d.view.oe(!d.zg), d.trigger("disabled", !d.zg)) : (HF(d, a, b), d.view.oe(!1), d.trigger("disabled", !1))
        }

        var d = this, e;
        this.Sa && (e = d.zg ? this.Z.format("objectPanelUploadsPanelSharePopOverPrivateLabel") : qc(this.Z, this.Ds.ac() || this.Ds.oh()), e = [{
            id: "UNSHARED",
            au: !EF(this),
            title: e
        }, {
            id: this.Sa.G(),
            au: EF(this),
            title: this.Sa.ac() || this.Z.format("objectPanelUploadsPanelSharePopOverPublicLabel")
        }],
        this.Mg && (d.stopListening(this.Mg), this.Mg.remove()), this.Mg = new IF({
            hs: !0,
            title: this.Z.format("objectPanelUploadsPanelSharePopOverTitle")
        }), JF(this.Mg, e), this.Mg.Ft(a, b), this.listenTo(this.Mg, "change", c))
    };
    function HF(a, b, c) {
        function d() {
            DF(e.view, !1, EF(e))
        }

        var e = a;
        c = c ? "EDITOR" : void 0;
        DF(e.view, !0);
        b = $e(a.Ia, b, c);
        a.$b.hu(b).then(function (a) {
            a && a.ob() && a.ob().G() === e.Ia.G() ? (e.Ia = a.ob(), DF(e.view, !1, EF(e))) : d()
        }).catch(d)
    }

    function EF(a) {
        return 0 < (a.Ia.ti() && a.Ia.ti().getEntries() || []).filter(function (b) {
                return a.Sa && b.ta() === a.Sa.G() && "EDITOR" === b.pg()
            }).length
    }

    f.YH = function (a) {
        function b() {
            return c().then(function (a) {
                return Ir(g.Ob, a.G(), a.na().getVersion())
            })
        }

        function c() {
            return P.try(function () {
                return a.bb() || Cr(g.Ob, a.G(), Yr(new dq))
            })
        }

        function d(b) {
            b.isFulfilled() ? g.ws(a) : xF(g, a)
        }

        var e = vF(this, a), g = this;
        e && (this.od(), P.settle([b(), e.Lj(!0)]).get(0).then(d))
    };
    f.DB = function (a) {
        var b = this;
        (function () {
            var c = a.G(), d = new dq;
            d.includeImportFileUrl = !0;
            d = Yr(d);
            return Cr(b.Ob, c, d)
        })().then(function (a) {
            a = a.na().importFileUrl;
            var b = $("#canvaDownloadIframe");
            1 > b.length && (b = $("\x3ciframe /\x3e", {id: "canvaDownloadIframe"}).appendTo("body"));
            b.attr("src", a)
        })
    };
    function uF() {
    }

    uF = Backbone.View.extend({className: "uploadsFolderContent"});
    f = uF.prototype;
    f.events = function () {
        return {
            "change .uploadsFolderContentFileInput": this.oE,
            "click .uploadsFolderContentUploadButton": this.EF,
            "click .uploadsFolderContentShareButton:not(.buttonSpinner)": this.sF
        }
    };
    f.initialize = function (a) {
        this.Ed = new VD;
        this.disabled = a.disabled;
        this.Z = a.Z;
        this.model = a.model
    };
    f.render = function () {
        this.$el.html(this.template());
        this.$el.toggleClass("uploadsFolderContentChristmas", -1 < ["christmas", "xmas", "x-mas"].indexOf(this.model.getName() ? this.model.getName().toLowerCase() : ""));
        this.$el.append(this.Ed.render().$el);
        this.oe(this.disabled);
        return this
    };
    f.oE = function () {
        var a;
        a = this.$(".uploadsFolderContentFileInput")[0].files;
        a.length && this.trigger("upload", a)
    };
    f.sF = function (a) {
        var b = a.target.getBoundingClientRect();
        this.trigger("share", b.right, b.top + b.height / 2);
        $(a.target).blur()
    };
    f.EF = function () {
        this.$(".uploadsFolderContentFileInput").click()
    };
    f.Ad = function (a) {
        a ? this.Ed.show() : this.Ed.hide()
    };
    f.oe = function (a) {
        this.disabled = a;
        this.$el.toggleClass("uploadsFolderContentDisabled", a);
        this.$el.find(".uploadsFolderContentUploadButton").prop("disabled", a)
    };
    f.Vh = function (a) {
        var b = this.$(".uploadsFolderContentEmptyMessage");
        a ? 1 > b.length && this.$el.append(this.mi({emptyPrompt: this.Z.format("objectPanelUploadsPanelEmptyFolderPrompt")})) : b.remove();
        this.$el.toggleClass("uploadsFolderContentEmpty", a)
    };
    f.Wh = function (a) {
        var b = this.$(".uploadsFolderContentErrorMessage");
        a ? 1 > b.length && this.$el.append(this.ni({message: this.Z.format("objectPanelUploadsPanelFolderContentLoadingError")})) : b.remove()
    };
    function CF(a, b) {
        var c = a.$(".uploadsFolderContentShareButton");
        b ? 1 > c.length && a.$el.prepend(a.hH()) : c.remove();
        a.$el.toggleClass("uploadsFolderContentShareable", b)
    }

    function AF(a) {
        if (1 > a.$(".uploadsFolderContentUploadButton").length) {
            var b = $(a.mI({label: a.Z.format("objectPanelUploadsPanelFolderUploadButtonLabel")}));
            b.prop("disabled", a.disabled);
            a.$el.prepend(b)
        }
    }

    function DF(a, b, c) {
        a = a.$(".uploadsFolderContentShareButton");
        a.toggleClass("buttonSpinner", b);
        a.toggleClass("uploadsFolderContentShareButtonShared", c)
    }

    f.mi = _.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- emptyPrompt %\x3e\x3c/p\x3e');
    f.ni = _.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');
    f.template = _.template('\x3cinput class\x3d"uploadsFolderContentFileInput" type\x3d"file" accept\x3d"image/jpeg,image/png,image/raw,image/svg+xml,image/x-fuji-raf" multiple\x3e');
    f.hH = _.template('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentShareButton"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c/button\x3e');
    f.mI = _.template('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentUploadButton"\x3e\x3c%- label %\x3e\x3c/button\x3e');
    function KF() {
    }

    KF = Backbone.View.extend({className: "uploadsFolder"});
    f = KF.prototype;
    f.close = function () {
        this.$el.removeClass("uploadsFolderOpen")
    };
    f.events = function () {
        return {
            "blur .uploadsFolderName \x3e input": this.cF,
            "click .uploadsFolderName \x3e span": this.bF,
            "click .uploadsFolderThumbnail": this.yx,
            dragenter: this.ml,
            dragleave: this.kE,
            dragstart: this.vh,
            drop: this.Hf,
            "mouseover .uploadsFolderThumbnail": this.DF,
            "mouseout .uploadsFolderThumbnail": this.CF,
            "focus .uploadsFolderName \x3e input": this.dF,
            "keypress .uploadsFolderName \x3e input": this.eF
        }
    };
    f.initialize = function (a) {
        this.Dd = a.Dd;
        this.$j = a.$j;
        this.kb = a.kb;
        this.disabled = !1;
        this.model = a.model;
        this.bj = !1;
        this.Z = a.Z;
        this.uo = -1;
        this.jy = !1;
        this.Yo = a.Yo;
        this.wa = a.wa
    };
    function LF(a, b, c) {
        a = a.el.getBoundingClientRect();
        return b >= a.left && b <= a.right && c >= a.top && c <= a.bottom
    }

    function MF(a) {
        function b() {
            return k.model.G().split("").reduce(function (a, b) {
                return a + b.charCodeAt(0)
            }, 0)
        }

        var c = "rgba(159, 109, 218, 1);rgba(250, 204, 51, 1);rgba(235, 78, 135, 1);rgba(80, 154, 210, 1);rgba(243, 149, 48, 1);rgba(226, 70, 51, 1);rgba(126, 198, 100, 1);rgba(49, 70, 146, 1)".split(";"), d = !!a.model.G(), e = !!a.model.dc(), g = !!a.model.lc(), h = "LOGOS" === a.model.lc(), k = a;
        return e ? "" : h && a.kb ? "#" + a.kb : d && !g ? c[b() % c.length] : "rgba(217, 218, 221, 1)"
    }

    function NF(a, b, c) {
        return a.Dd && LF(a, b, c) && !a.Pi()
    }

    f.Pi = function () {
        return this.$el.hasClass("uploadsFolderOpen")
    };
    f.ml = function (a) {
        this.Dd && (this.$el.addClass("uploadsFolderDropping"), this.Pi() || (this.wa.clearTimeout(this.uo), this.uo = this.wa.setTimeout(this.yx.bind(this, a), 1E3)))
    };
    f.kE = function (a) {
        LF(this, a.originalEvent.clientX, a.originalEvent.clientY) || (this.wa.clearTimeout(this.uo), this.uo = -1, this.$el.removeClass("uploadsFolderDropping"))
    };
    f.vh = function (a) {
        a.preventDefault();
        return !1
    };
    f.Hf = function (a) {
        var b;
        try {
            b = a.originalEvent.dataTransfer.files
        } catch (c) {
        }
        this.$el.removeClass("uploadsFolderDropping");
        b && b.length && this.Dd && !this.disabled && (a.preventDefault(), a.stopPropagation(), this.trigger("drop", this.model, b))
    };
    f.bF = function () {
        this.disabled || (this.$j ? OF(this, !0) : this.trigger("click", this.model))
    };
    f.cF = function () {
        this.bj && (this.bj = !1, PF(this))
    };
    f.dF = function () {
        this.bj = !0
    };
    f.eF = function (a) {
        13 === a.which && PF(this)
    };
    f.yx = function (a) {
        this.disabled || (a = a.target.classList.contains("uploadsInfoButton"), this.trigger(a ? "infoClick" : "click", this.model))
    };
    f.DF = function () {
        this.$el.addClass("uploadsFolderHover")
    };
    f.CF = function () {
        this.$el.removeClass("uploadsFolderHover")
    };
    f.open = function () {
        this.$el.addClass("uploadsFolderOpen")
    };
    f.render = function () {
        var a = !this.$j || this.disabled, b = new Kt(this.model.getName(), this.model.lc(), this.Z);
        this.bj = !1;
        this.$el.toggleClass("uploadsFolderAllowDrop", this.Dd);
        this.$el.toggleClass("uploadsFolderStaticName", a);
        this.$el.attr("title", b.ac());
        this.$el.html(this.template(this.Za()));
        this.Pl();
        OF(this, this.jy);
        return this
    };
    f.Pl = function () {
        function a() {
            c.off("load", a);
            e.$el.removeClass("uploadsFolderLoading")
        }

        var b, c, d = !1, e = this;
        b = this.$(".uploadsFolderThumbnail");
        b.addClass(function () {
            var a = e.model.dc();
            return a && a.D() > a.C() ? "uploadsFolderThumbnailPortrait" : "uploadsFolderThumbnailLandscape"
        }());
        b.css("background-color", MF(this));
        b.toggleClass("uploadsFolderThumbnailDefault", !this.model.dc());
        d = "LOGOS" === this.model.lc();
        c = b.children("img");
        c.on("load", a);
        Hp(Ip, c, function () {
            var a = e.model.dc();
            return a ? a.ia() : d ? "https://static.canva.com/static/images/logos_folder_thumbnail_transparent_bg.png" :
                "https://static.canva.com/static/images/default_folder_thumbnail_transparent_bg.png"
        }())
    };
    f.Za = function () {
        var a = new Kt(this.model.getName(), this.model.lc(), this.Z);
        return _.extend({}, this.model, {name: a.ac(), shared: this.model.shared, showControls: this.Yo})
    };
    f.show = function () {
        this.$el.addClass("uploadsFolderLoading")
    };
    f.Ku = function () {
        var a = this;
        this.$el.addClass("uploadsFolderZoomIn");
        this.wa.setTimeout(function () {
            a.$el.removeClass("uploadsFolderTransparent");
            a.$el.removeClass("uploadsFolderZoomIn")
        }, 500)
    };
    f.template = _.template('\x3cdiv class\x3d"uploadsFolderThumbnail"\x3e\x3cimg\x3e\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3c% if (shared) { %\x3e\x3cspan class\x3d"uploadsInfoShared"\x3eshared\x3c/span\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderName"\x3e\x3cinput type\x3d"text" value\x3d"\x3c%- name %\x3e"\x3e\x3cspan\x3e\x3c%- name %\x3e\x3c/span\x3e\x3c/div\x3e');
    f.oe = function (a) {
        this.disabled = a
    };
    f.Lj = P.method(function (a) {
        var b = this;
        return a ? P.try(function () {
            b.$el.addClass("doNotTransition");
            b.$el.height(b.$el.height())
        }).delay(20).then(function () {
            b.$el.removeClass("doNotTransition");
            b.$el.addClass("uploadsFolderHidden");
            b.$el.height("")
        }).delay(300) : (this.$el.removeClass("uploadsFolderHidden"), P.resolve())
    });
    function OF(a, b) {
        var c;
        a.bj = !1;
        a.jy = b;
        a.$el.toggleClass("uploadsFolderRenaming", b);
        b && (c = a.$(".uploadsFolderName \x3e input"), c.val(a.model.getName()), c.select(), a.bj = !0)
    }

    function QF(a) {
        var b;
        b = a.$(".uploadsFolderThumbnail");
        b.css("background-color", "rgba(217, 218, 221, 1)");
        a.wa.setTimeout(function () {
            b.css("background-color", MF(a))
        }, 20)
    }

    function PF(a) {
        var b = pc(a.Z), b = a.$(".uploadsFolderName \x3e input").val().trim() || b;
        a.trigger("rename", a.model, b)
    };
    function RF(a) {
        this.kb = a.kb;
        this.Ka = a.Ka;
        this.vc = null;
        this.Gq = this.gn = void 0;
        this.Yd = a.Yd;
        this.vk = a.vk;
        this.sa = a.sa;
        this.rd = !1;
        this.$b = a.$b;
        this.Kd = [];
        this.Xk = !1;
        this.ha = new iF;
        this.listenTo(this.ha, "redraw", this.UE);
        this.Ob = a.Ob;
        this.F = a.F;
        this.ns = !0;
        var b;
        b = new SF({F: this.F});
        this.listenTo(b, "click", this.fF);
        this.hl = b;
        this.so = this.so.bind(this);
        this.Kc = a.Kc;
        this.Xh = [];
        this.Cc = a.Cc;
        this.Jb = a.Jb;
        this.Zm = [];
        this.wa = a.wa;
        this.Hd = a.Hd;
        this.view = new TF({Z: Bb(this.F), root: a.root});
        this.listenTo(this.view,
            {close: this.eE, drop: this.Hf, drag: this.jE, dragScroll: this.lE})
    }

    function UF(a, b, c) {
        return a.Kd.filter(function (a) {
            return !VF(this, a.model) && NF(a, b, c)
        }.bind(a))[0]
    }

    RF.prototype.eE = function () {
        this.od()
    };
    RF.prototype.jE = function (a, b) {
        function c() {
            d && e.view.fh.addClass("uploadsFolderItemCloneOverTarget").removeClass("uploadsFolderItemCloneNotOverTarget")
        }

        var d, e = this;
        WF(this, a, b);
        d = UF(this, a, b);
        d !== this.gn && (this.gn && this.view.fh.addClass("uploadsFolderItemCloneNotOverTarget").removeClass("uploadsFolderItemCloneOverTarget"), this.gn = d, this.Gq && clearTimeout(this.Gq), this.Gq = setTimeout(c, 300))
    };
    RF.prototype.lE = function (a) {
        this.Hs && this.trigger("dragScroll", a)
    };
    RF.prototype.Hf = function (a, b) {
        function c() {
            XF(g.view, "uploadsFolderItemCloneDropping");
            e.$el.toggleClass("uploadsFolderDroppedOn", !0);
            setTimeout(function () {
                e.$el.toggleClass("uploadsFolderDroppedOn", !1)
            }, 500)
        }

        var d, e, g = this, h = this.Hs, k = this.Nx, l = this.Mx;
        WF(this, -1, -1);
        this.Hs = this.Mx = this.Nx = this.gn = void 0;
        d = (e = UF(this, a, b)) && e.model;
        h && d && d !== l && !VF(g, d) ? (c(), k.moveItem(h, d, !0)) : g.Bg || XF(this.view, "uploadsFolderItemCloneHidden")
    };
    var FF = Re({
        brand: "",
        id: "FACEBOOK",
        itemCount: 0,
        modifiedDate: 0,
        name: "Facebook",
        systemFolder: null,
        thumbnail: {height: 200, url: "https://static.canva.com/static/images/upload_folder_facebook.png", width: 200},
        user: ""
    });
    f = RF.prototype;
    f.off = Backbone.Events.off;
    f.listenTo = Backbone.Events.listenTo;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    f.od = function () {
        var a;
        this.Fw = void 0;
        this.Ic && (eE(this.ha, this.Ic.$el), this.KC = this.Ic.af, this.Ic = void 0, YF(this) || this.Dj());
        this.Bg && (a = this.ob(this.Bg), this.ri.remove(), this.ri = void 0, ZF(this, a).close(), this.Bg = void 0, $F(this.view, !1))
    };
    f.ev = function (a) {
        var b = KF, c = a.pb() === this.Jb, d = !!a.lc();
        a = new b({Dd: !0, $j: c && !d, kb: this.kb, model: a, Z: Bb(this.F), Yo: !a.lc(), wa: this.wa});
        this.listenTo(a, {click: this.us, drop: this.iz, infoClick: this.tE, rename: this.uG});
        a.render().show();
        return a
    };
    f.Um = function (a) {
        var b;
        b = (new kf).$f(a.getName()).tm("MEDIA").Vj(this.Jb);
        this.$b.Um(b).then(this.qE.bind(this, a)).catch(this.rE.bind(this, a))
    };
    function aG(a, b) {
        function c() {
            var a;
            a = new hF({Ka: e.Ka, Yd: e.Yd, Z: Bb(e.F)});
            a.fetch();
            a.render();
            return a
        }

        function d(a) {
            return !(!a.G() && !a.lc())
        }

        var e = a;
        switch (b) {
            case FF:
                return c();
            default:
                return function () {
                    var a;
                    a = new tF({
                        Ka: e.Ka,
                        sa: e.sa,
                        Ia: b,
                        gb: e.rg().filter(d),
                        $b: e.$b,
                        Ob: e.Ob,
                        Z: Bb(e.F),
                        Kc: e.Kc,
                        Xh: e.Xh,
                        Cc: e.Cc,
                        Jb: e.Jb,
                        disabled: VF(e, b),
                        Hd: e.Hd
                    });
                    e.vk && BF(a);
                    a.fetch(25);
                    e.listenTo(a, {trash: e.ws, pickedUp: e.OE.bind(e, a, b), disabled: e.sE.bind(e, b)});
                    a.render();
                    return a
                }()
        }
    }

    f.fetch = function (a) {
        var b;
        this.rd || this.Xk || !this.ns || (b = (new hf).Sj(this.vc), b.folderTypes = ["MEDIA"], b.includeSystemFolders = !0, b.includeThumbnails = !0, b = b.Vj(this.Jb), a && b.Tj(a), this.rd = !0, this.view.Ad(!0), this.$b.hC(b).bind(this).then(this.xE).catch(this.yE))
    };
    f.yk = function (a) {
        a = this.ha.Sq(a);
        isFinite(a) ? this.fetch(a) : this.fetch(25)
    };
    f.ob = function (a) {
        return this.rg().filter(function (b) {
            return b.G() === a
        })[0]
    };
    f.rg = function () {
        return this.Kd.map(function (a) {
            return a.model
        })
    };
    f.Pe = function () {
        return this.ha.Pe()
    };
    function bG(a) {
        return a.rg().filter(function (a) {
            return (a = a.lc()) && "LOGOS" === a
        })[0]
    }

    function cG(a) {
        return a.rg().filter(function (a) {
            return (a = a.lc()) && "UNFOLDERED" === a
        })[0]
    }

    function YF(a) {
        function b() {
            var a = ZF(h, FF);
            return !a || g.eq(2).is(a.$el) || g.eq(3).is(a.$el)
        }

        function c(a) {
            return a.childNodes.length
        }

        function d() {
            var a = cG(h), a = a && ZF(h, a);
            return !a || g.eq(1).is(a.$el) || g.eq(2).is(a.$el)
        }

        function e() {
            var a = bG(h), a = a && ZF(h, a);
            return !a || g.eq(1).is(a.$el)
        }

        var g = a.ha.Ld(), h = a;
        return function () {
                var a = h.ha.$el.find(".uploadsLayoutColumn").get().map(c), b = [].concat(a).sort().reverse();
                if (b = _.isEqual(a, b))b = 2 > Math.max.apply(Math, a) - Math.min.apply(Math, a);
                return b
            }() && b() && g.first().is(h.hl.$el) &&
            d() && e()
    }

    f.getElement = function () {
        return this.view.$el
    };
    function ZF(a, b) {
        return a.Kd.filter(function (a) {
            return a.model === b
        })[0]
    }

    function dG(a) {
        return a.Bg ? a.ob(a.Bg) : void 0
    }

    function VF(a, b) {
        return _.contains(a.Zm, b.G())
    }

    f.us = function (a) {
        a.G() === this.Bg ? this.od() : (this.od(), ZF(this, a).open(), $F(this.view, !0), this.ri = aG(this, a), this.Bg = a.G(), eG(this, {
            gg: !1,
            content: this.ri.getElement(),
            Ia: a
        }), this.trigger("open"), this.Hd(ZF(this, a).$el))
    };
    f.qE = function (a, b) {
        var c, d;
        c = b.ob();
        d = ZF(this, a);
        d.model = c;
        d.oe(!1);
        d.render();
        QF(d)
    };
    f.rE = function (a, b) {
        var c = ua(ZF(this, a));
        window.alert(b instanceof Array && b[0] && "quota exceeded" == b[0].error ? Bb(this.F).format("objectPanelUploadsPanelCreateFolderQuotaExceededError") : Bb(this.F).format("objectPanelUploadsPanelCreateFolderError"));
        this.stopListening(c);
        this.Kd.splice(this.Kd.indexOf(c), 1);
        this.ha.remove(c.$el);
        this.Dj()
    };
    f.tE = function (a) {
        var b = a.G() === this.Fw;
        this.od();
        b || (this.Fw = a.G(), b = (new mF({
            Ia: a,
            F: this.F,
            Jb: this.Jb
        })).render(), b.on("trash", this.XH.bind(this, a)), eG(this, {
            gg: !0,
            content: b.$el,
            Ia: a
        }), this.Hd(this.Ic.getContent(), !0))
    };
    f.vE = function (a) {
        var b;
        b = this.ob(a.G());
        b = ZF(this, b);
        b.model = a;
        b.render()
    };
    f.xE = function (a) {
        var b;
        b = a.rg();
        b.length && fG(this, b);
        this.ob(FF.G()) || gG(this);
        this.ha.push(this.hl.$el);
        this.vc = a.kc();
        this.rd = !1;
        this.ns = !!this.vc;
        this.Dj();
        this.view.Ad(!1);
        this.trigger("fetch")
    };
    f.yE = function () {
        this.rd = !1;
        this.Xk = !0;
        this.view.Ad(!1);
        this.view.Wh(!0)
    };
    f.sE = function (a, b) {
        b ? this.Zm.push(a.G()) : this.Zm = _.without(this.Zm, a.G())
    };
    f.ws = function (a) {
        this.Xh.push(a)
    };
    f.OE = function (a, b, c, d) {
        this.Nx = a;
        this.Mx = b;
        this.Hs = c;
        this.view.fh = d
    };
    f.UE = function () {
        this.od();
        this.Dj()
    };
    f.fF = function () {
        var a = this, b;
        b = function () {
            var b;
            b = Re({name: pc(Bb(a.F)), user: a.Jb});
            b = a.ev(b);
            b.$el.addClass("uploadsFolderTransparent");
            a.Kd.push(b);
            a.ha.push(b.$el);
            b.oe(!0);
            OF(b, !0);
            return b
        }();
        this.Hd(b.$el).then(function () {
            b.Ku()
        });
        null != H && H.track("new_upload_folder")
    };
    f.so = function () {
        this.ha.Ba()
    };
    f.Ax = function () {
        var a = cG(this), b = a && a.G() === this.Bg;
        a && !b && this.us(a)
    };
    function gG(a) {
        var b;
        b = function () {
            var b;
            b = new KF({Dd: !1, $j: !1, kb: a.kb, model: FF, Z: Bb(a.F), Yo: !1, wa: this.wa});
            a.listenTo(b, "click", a.us);
            b.render().show();
            return b
        }();
        a.Kd.push(b);
        a.ha.push(b.$el)
    }

    function fG(a, b) {
        var c;
        c = b.map(a.ev, a);
        a.Kd = a.Kd.concat(c);
        c = $(c.map(function (a) {
            return a.el
        }));
        a.ha.push(c)
    }

    f.remove = function () {
        $(window).off("resize", this.so);
        this.stopListening();
        this.view.remove()
    };
    f.uG = function (a, b) {
        var c, d;
        c = a.gk({name: b});
        d = ZF(this, a);
        d.model = c;
        d.render();
        OF(d, !1);
        a.G() ? (c = (new Xe).Zf(le(a)).$f(b), this.$b.hu(c).catch(this.vE.bind(this, a))) : this.Um(c)
    };
    f.render = function () {
        this.hl.render();
        this.view.render();
        this.view.$el.prepend(this.ha.$el);
        return this
    };
    function WF(a, b, c) {
        a.Kd.forEach(function (a) {
            VF(this, a.model) || a.$el.toggleClass("uploadsFolderDropping", NF(a, b, c))
        }.bind(a))
    }

    f.show = function () {
        $(window).on("resize", this.so)
    };
    function eG(a, b) {
        var c = b.Ia === FF, d = ZF(a, b.Ia).$el;
        a.Ic = (new yF({Dd: !c, gg: b.gg, content: b.content, Z: Bb(a.F), af: a.KC, target: d})).render();
        a.Ic.on({close: a.od, drop: a.iz.bind(a, b.Ia)}, a);
        dE(a.ha, d, a.Ic.$el);
        a.Ic.show()
    }

    f.Dj = function () {
        function a() {
            var a = bG(e);
            if (a = a && ZF(e, a))d.splice(d.indexOf(a.el), 1), d.unshift(a.el)
        }

        function b() {
            var a = ZF(e, FF);
            a && (d.splice(d.indexOf(a.el), 1), d.unshift(a.el))
        }

        function c() {
            var a = cG(e);
            if (a = a && ZF(e, a))d.splice(d.indexOf(a.el), 1), d.unshift(a.el)
        }

        var d, e = this;
        this.Ic || (d = this.ha.Ld().detach().toArray(), b(), c(), a(), d.splice(d.indexOf(e.hl.el), 1), d.unshift(e.hl.el), this.ha.push($(d)))
    };
    f.XH = function (a) {
        function b() {
            var b = a.itemCount, d = Bb(c.F);
            return window.confirm(d.format("objectPanelUploadsPanelTrashFolderConfirmation", b))
        }

        var c = this, d;
        0 < a.itemCount && !b() || (this.od(), d = Ze((new Xe).Zf(le(a))), P.settle([this.$b.hu(d), ZF(c, a).Lj(!0).bind(c).then(c.Dj)]).then(function (b) {
            b[0].isFulfilled() ? (b = ZF(this, a), b.remove(), this.stopListening(b), this.Kd.splice(this.Kd.indexOf(b), 1)) : (ZF(this, a).Lj(!1), this.Dj())
        }.bind(this)))
    };
    f.iz = function (a, b) {
        VF(this, a) || this.Ka.mm(a, b, "drop")
    };
    function TF() {
    }

    TF = Backbone.View.extend({className: "uploadsFolders"});
    TF.prototype.initialize = function (a) {
        this.Ed = new VD;
        this.fh = $();
        this.Z = a.Z;
        this.root = a.root || $(window)
    };
    TF.prototype.events = function () {
        return {mousedown: this.wh}
    };
    TF.Ez = 50;
    TF.Oz = 100;
    TF.Pz = 5;
    f = TF.prototype;
    f.wh = function (a) {
        function b() {
            function b(a) {
                var h = a.clientX;
                a = a.clientY;
                d.trigger("drag", h, a);
                h < TF.Ez ? (e || d.trigger("close"), e = !0, d.trigger("dragScroll", 0)) : h > g ? d.trigger("dragScroll", 0) : Math.abs(l - a) > TF.Pz ? d.trigger("dragScroll", c(h, a)) : d.trigger("dragScroll", 0);
                return !1
            }

            function k(a) {
                d.root.off("mousemove", b);
                d.root.off("mouseup", k);
                d.trigger("dragScroll", 0);
                d.trigger("drop", a.clientX, a.clientY)
            }

            var l = a.clientY;
            d.root.on("mousemove", b);
            d.root.on("mouseup", k);
            return !1
        }

        function c(a, b) {
            var c = 0, e = 0,
                c = TF.Oz, g = new L(a, b, 0, 0), e = d.$el.parent(".scrollPane").get(0).getBoundingClientRect(), q = oe(e), e = g.O() - (q.O() + c), c = g.va() - (q.va() - c);
            return 0 > e ? Math.max(Math.floor(e / 10), -10) : 0 < c ? Math.min(Math.ceil(c / 10), 10) : 0
        }

        var d = this, e = !1, g = this.el.getBoundingClientRect().right;
        return function () {
                var b = 0 < $(a.target).parents(".uploadsFolderItemMovable").length, c = $(a.target).hasClass("uploadsFolderItemMovable");
                return 3 == a.which || !(c || b)
            }() || b()
    };
    f.render = function () {
        this.Ed.render();
        this.$el.append(this.Ed.$el);
        return this
    };
    function XF(a, b) {
        var c, d;
        c = a.fh.clone();
        c.removeClass().addClass(b);
        d = a.fh.get(0).getBoundingClientRect();
        c.css("top", d.top + "px").css("left", d.left + "px").css("width", d.width + "px").css("height", d.height + "px");
        $("body").append(c);
        a.fh.remove();
        a.fh = $();
        setTimeout(function () {
            c.remove()
        }, 500)
    }

    f.Ad = function (a) {
        a ? this.Ed.show() : this.Ed.hide()
    };
    f.Wh = function (a) {
        var b = this.$(".uploadsFoldersError");
        a ? 1 > b.length && this.$el.append(this.ni({message: this.Z.format("objectPanelUploadsPanelFoldersFetchError")})) : b.remove()
    };
    function $F(a, b) {
        a.$el.toggleClass("uploadsFoldersFolderOpen", b)
    }

    f.ni = _.template('\x3cp class\x3d"uploadsFoldersError"\x3e\x3c%- message %\x3e\x3c/p\x3e');
    function yF() {
    }

    yF = Backbone.View.extend({className: "inlineContent"});
    yF.Hz = 14.14;
    f = yF.prototype;
    f.events = function () {
        return {"click .inlineContentClose": this.trigger.bind(this, "close"), drop: this.Hf}
    };
    f.initialize = function (a) {
        this.Dd = a.Dd;
        this.Lu = !1;
        this.gg = !!a.gg;
        this.content = a.content;
        this.Z = a.Z;
        this.af = a.af;
        this.target = a.target
    };
    f.getContent = function () {
        return this.content
    };
    f.Hf = function (a) {
        var b;
        try {
            b = a.originalEvent.dataTransfer.files
        } catch (c) {
        }
        b && b.length && this.Dd && (a.preventDefault(), a.stopPropagation(), this.trigger("drop", b))
    };
    function hG(a) {
        function b() {
            var a = yF.Hz / 2, b = d.target.offset().left + d.target.outerWidth() / 2, e = d.$el.offset().left;
            c(b - e - a)
        }

        function c(a) {
            d.af = a;
            e.css("transform", "translateX(" + a + "px) rotate(-45deg)")
        }

        var d = a, e;
        e = a.$(".inlineContentPointer");
        e.addClass("doNotTransition");
        void 0 !== a.af ? c(a.af) : b();
        window.setTimeout(function () {
            e.removeClass("doNotTransition");
            b()
        }, 20)
    }

    f.render = function () {
        this.$el.html(this.template(this.Za()));
        this.$el.toggleClass("inlineContentAppearing", !this.Lu);
        this.$(".inlineContentContent").append(this.content);
        return this
    };
    f.Za = function () {
        return {closeButton: this.gg, closeTitle: this.Z.format("objectPanelUploadsPanelInlineContentCloseTitle")}
    };
    f.show = function () {
        this.Lu = !0;
        hG(this);
        iG(this)
    };
    function iG(a) {
        var b;
        P.try(function () {
            a.$el.height("auto");
            b = a.$el.height();
            a.$el.height(0)
        }).delay(20).then(function () {
            a.$el.removeClass("inlineContentAppearing");
            a.$el.height(b)
        }).delay(200).then(function () {
            a.$el.addClass("doNotTransition");
            a.$el.height("")
        }).delay(20).then(function () {
            a.$el.removeClass("doNotTransition")
        })
    }

    f.template = _.template('\x3cdiv class\x3d"inlineContentPointer"\x3e\x3c/div\x3e\x3c% if (closeButton) { %\x3e\x3ca class\x3d"inlineContentClose" href\x3d"#" title\x3d"\x3c%- closeTitle %\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"inlineContentContent"\x3e\x3c/div\x3e');
    function iF() {
        $D.call(this, {
            Vc: function (a) {
                return Math.floor(a / 90)
            }, lf: "uploadsLayoutColumn"
        });
        this.listenTo(this, {afterSplit: this.bA, beforeMerge: this.jA, beforeSplit: this.kA})
    }

    iF.prototype = Object.create($D.prototype);
    iF.prototype.bA = function (a, b) {
        b.addClass("doNotTransition");
        b.each(function (b, d) {
            d = $(d);
            d.css("margin-top", jG(a.eq(b)) - d.offset().top)
        }.bind(this));
        b.height();
        b.removeClass("doNotTransition");
        setTimeout(function () {
            a.children().add(b).add(b.children()).css("margin-top", "")
        }, 20)
    };
    iF.prototype.kA = function (a) {
        kG(a.children())
    };
    function jG(a) {
        function b(a) {
            return a.offset().top + a.outerHeight()
        }

        return a.children().length ? b(a.children().last()) : b(a)
    }

    function kG(a) {
        var b = a.get().map(function (a) {
            return window.getComputedStyle(a)
        });
        a.each(function (a, d) {
            d.style.marginTop = d.previousSibling ? Math.max(parseInt(b[a - 1].marginBottom, 10) || 0, parseInt(b[a].marginTop, 10) || 0) + "px" : (parseInt(b[a].marginTop, 10) || 0) + "px"
        })
    }

    iF.prototype.jA = function (a, b) {
        var c;
        c = b.children();
        c.addClass("doNotTransition");
        kG(c);
        (function () {
            return b.get().map(function (a) {
                return a.firstChild
            })
        })().forEach(function (b, c) {
            b && (b = $(b), b.css("margin-top", b.offset().top - jG(a.eq(c))).addClass("closing-transition").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend", function () {
                $(this).removeClass("closing-transition")
            }))
        }.bind(this));
        c.height();
        c.removeClass("doNotTransition");
        setTimeout(function () {
            c.css("margin-top",
                "")
        }, 20)
    };
    function SF() {
    }

    SF = Backbone.View.extend({className: "newUploadsFolder"});
    f = SF.prototype;
    f.events = function () {
        return {click: this.trigger.bind(this, "click")}
    };
    f.initialize = function (a) {
        this.F = a.F
    };
    f.Ku = function () {
        this.$el.addClass("newUploadsFolderAppearing");
        setTimeout(function () {
            this.$el.removeClass("newUploadsFolderAppearing")
        }.bind(this), 450)
    };
    f.render = function () {
        var a = Bb(this.F);
        this.$el.html(this.template({label: a.format("objectPanelUploadsPanelNewFolderButtonLabel")}));
        return this
    };
    f.template = _.template('\x3cdiv class\x3d"newUploadsFolderThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"newUploadsFolderLabel"\x3e\x3c%- label %\x3e\x3c/div\x3e');
    function Vw(a) {
        this.Ka = a.Ka;
        this.ki = 0;
        this.element = $("\x3cdiv\x3e").addClass("layer scrollPane uploadsPanel");
        this.gb = new RF({
            kb: a.kb,
            Ka: a.Ka,
            vk: a.vk,
            Yd: a.Yd,
            sa: a.sa,
            $b: a.$b,
            Ob: a.Ob,
            F: a.F,
            Kc: a.Kc,
            Cc: a.Cc,
            Jb: a.Jb,
            wa: a.wa,
            Hd: this.Hd.bind(this)
        });
        this.gb.on({fetch: this.Zp, open: this.uE, dragScroll: this.wE}, this);
        this.gb.once("fetch", this.gb.Ax, this.gb);
        this.Yw = -1;
        this.listenTo(a.IB, {dragenter: this.mE, drop: this.oI})
    }

    f = Vw.prototype;
    f.listenTo = Backbone.Events.listenTo;
    f.wE = function (a) {
        a !== this.ki ? (this.ki = a, this.Po && clearInterval(this.Po), 0 !== this.ki && (this.Po = setInterval(this.XF.bind(this), 10))) : 0 === a && this.Po && clearInterval(this.Po)
    };
    f.Hd = function (a, b) {
        var c = this.element.height(), d = gE(this.Gh, a, {Ir: !0}), e = c + d - a.outerHeight(!0), c = c / 3, g = null;
        this.element.find(".closing-transition").each(function (a, b) {
            var c = parseInt(b.style.marginTop, 10) - 10;
            if (gE(this.Gh, $(b), {Ir: !0}) < d && 0 < c)return e -= c, d -= c, !1
        }.bind(this));
        if (b && 0 < d)g = this.element.scrollTop() + d + 10; else if (!b && e > c || 0 > e)g = this.element.scrollTop() + e - c;
        return new P(function (a) {
            null !== g ? this.element.animate({scrollTop: g}, 200, "linear", a) : a()
        }.bind(this))
    };
    f.Zp = function () {
        var a = this.gb.ri, b = a && a.Pe();
        a && a.ww() && b && 800 > gE(this.Gh, b) && 0 === this.ki ? this.gb.ri.yk(800) : (a = this.gb.Pe()) && 800 > gE(this.Gh, a) && this.gb.yk(800)
    };
    f.getElement = function () {
        return this.element
    };
    f.mE = function () {
        var a = dG(this.gb);
        a && a !== FF || this.gb.Ax()
    };
    f.uE = function () {
        this.gb.ri.on("fetch", this.Zp, this)
    };
    f.pF = function () {
        var a = this.Gh.lg.scrollTop();
        a > this.Yw && this.Zp();
        this.Yw = a
    };
    f.XF = function () {
        var a = 1 * this.element.scrollTop();
        (function () {
            return 0 === a && 0 > this.ki
        })() || this.element.scrollTop(a + this.ki)
    };
    f.render = function () {
        this.gb.getElement().appendTo(this.element);
        this.gb.render();
        return this
    };
    f.show = function () {
        var a = Number(this.element.height()), b = 800;
        isNaN(a) || (b += a);
        var a = this.element, a = $(a), c = a.data("CANVA_SCROLL_TARGET");
        c || (c = new fE(a), c.Zn(), a.data("CANVA_SCROLL_TARGET", c));
        this.Gh = c;
        this.Gh.on("scroll", this.pF, this);
        this.Gh.Zn();
        this.gb.show();
        this.gb.yk(b)
    };
    f.oI = function (a) {
        var b = dG(this.gb);
        b && !VF(this.gb, b) && this.Ka.mm(b, a, "drop")
    };
    function qF() {
    }

    qF = Backbone.View.extend({className: "uploadProgressBar"});
    qF.prototype.initialize = function () {
        this.Lx = 0
    };
    qF.prototype.render = function () {
        this.$el.html(this.template());
        sF(this, this.Lx);
        return this
    };
    function sF(a, b) {
        var c;
        c = a.$(".uploadProgressBarFill");
        c.css("transform", "translateX(" + Math.max(c.height() / a.$el.width() * 100, b) + "%)");
        a.Lx = b
    }

    qF.prototype.template = _.template('\x3cdiv class\x3d"uploadProgressBarFill"\x3e\x3c/div\x3e');
    function Xw(a) {
        this.$el = $('\x3cdiv class\x3d"uploadProgressPorthole"\x3e\x3cdiv class\x3d"uploadProgressPortholeFill"\x3e\x3c/div\x3e\x3c/div\x3e');
        this.root = a.root;
        this.root.append(this.$el);
        this.Js = this.$e = 0;
        this.Hj = Date.now();
        this.Uy = 0;
        this.Cc = a.Cc
    }

    f = Xw.prototype;
    f.off = Backbone.Events.off;
    f.listenTo = Backbone.Events.listenTo;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    f.start = function () {
        this.Hj = Date.now() - 100;
        this.stopListening(this.Cc);
        this.listenTo(this.Cc, {create: this.BH, fail: this.lH})
    };
    f.BH = function () {
        this.Js = setTimeout(this.Sw.bind(this), 50)
    };
    f.Sw = function () {
        function a() {
            .025 > Math.random() && (c.$el.addClass("showRubberDucky"), setTimeout(function () {
                c.$el.removeClass("showRubberDucky")
            }, 9E3))
        }

        var b = ew(this.Cc, this.Hj), c = this;
        clearTimeout(this.Uy);
        clearTimeout(this.Js);
        this.root.addClass("showUploadsProgressPorthole");
        100 === b ? this.finish() : (this.$e = Math.round(.7 * b + .05), lG(this), a(), this.Js = setTimeout(this.Sw.bind(this), 1E3))
    };
    f.finish = function () {
        var a = this;
        this.Uy = setTimeout(function () {
            a.Hj = Date.now() - 2E3 - 100;
            a.$e = 100;
            lG(a);
            setTimeout(a.reset.bind(a), 1100)
        }, 2E3)
    };
    f.lH = function (a) {
        var b = this.$el.find(".uploadProgressPortholeFill");
        b.addClass("uploadProgressPortholeFillFailure");
        setTimeout(function () {
            b.removeClass("uploadProgressPortholeFillFailure")
        }, 650);
        a && Zv.show(a)
    };
    function lG(a) {
        var b = a.$el.find(".uploadProgressPortholeFill"), c = "translateY(" + (100 - a.$e) + "%)";
        b.css("transform", c + " rotate(2deg)");
        setTimeout(function () {
            b.css("transform", c + " rotate(-2deg)")
        }, 1050);
        setTimeout(function () {
            b.css("transform", c)
        }, 2100)
    }

    f.reset = function () {
        this.$e = 0;
        this.Hj = Date.now();
        this.root && this.root.removeClass("showUploadsProgressPorthole");
        lG(this)
    };
    f.remove = function () {
        this.reset();
        this.stopListening(this.Cc);
        this.$el.remove()
    };
    function Tw() {
    }

    Tw = Backbone.View.extend({});
    Tw.prototype.initialize = function (a) {
        var b = this, c = new Ez;
        this.listenTo(c, "results:didFetch", function (a, c, d) {
            b.trigger("results:didFetch", a, c, d)
        });
        var d = new Hz(new Mz);
        c.Cd(d);
        this.Df = new NE({model: c, el: this.$(".layer"), F: a.F});
        c = new GE({model: d, el: this.$(".browseCategories"), F: a.F});
        this.Df.Db.push(c);
        !a.el && this.render()
    };
    function Uw() {
    }

    Uw = Backbone.View.extend({});
    Uw.prototype.initialize = function (a) {
        var b = this, c = new Ez;
        this.listenTo(c, "results:didFetch", function (a, c, d) {
            b.trigger("results:didFetch", a, c, d)
        });
        var d = new Hz(new Mz);
        c.Cd(d);
        this.Df = new NE({model: c, el: this.$(".layer"), F: a.F});
        c = new GE({model: d, el: this.$(".browseCategories"), F: a.F});
        this.Df.Db.push(c);
        !a.el && this.render()
    };
    function Yw() {
    }

    Yw = Backbone.View.extend();
    f = Yw.prototype;
    f.events = function () {
        return {
            "click .buttonFacebook": this.qI,
            "click .buttonGoogleDrive": this.rI,
            "click .fileUploadButton": this.NA,
            "click .folderUpgradeCta .buttonLearnMore": this.OA
        }
    };
    f.initialize = function (a) {
        this.Yc = a.Yc;
        this.F = a.F;
        this.Rn = this.qh = this.al = this.Sn = this.zw = !1;
        a = Bb(this.F);
        a = $(this.pA({
            googleDrive: !!Ka.Ta.get(Bd),
            marketplace: !!Ka.Ta.get(od),
            showUpgradeCta: Nd(Ka),
            folderUpgradePrompt: a.format("objectPanelUploadsPanelFolderUpgradePrompt"),
            learnMoreButtonLabel: a.format("objectPanelUploadsPanelLearnMoreButtonLabel"),
            uploadButtonLabel: jc(a),
            dragIn: a.format("objectPanelUploadsPanelDragIn"),
            uploadsFolder: a.format("objectPanelUploadsPanelUploadsFolderLabel"),
            uploadsFolderTitle: a.format("objectPanelUploadsPanelUploadsFolderTitle"),
            uploadsFolderImageAlt: oc(a, "Upload"),
            marketplaceFolder: a.format("objectPanelUploadsPanelMarketplaceFolderLabel"),
            marketplaceFolderTitle: a.format("objectPanelUploadsPanelMarketplaceFolderTitle"),
            marketplaceFolderImageAlt: oc(a, "Marketplace"),
            facebookFolderImageAlt: oc(a, "Facebook"),
            googleFolderImageAlt: oc(a, "Google Drive")
        }));
        var b = $(this.UG());
        this.$(".layer").children(".inner").append(a).append(b);
        a = new Ez;
        this.listenTo(a, "results:willFetch", this.Yh);
        this.listenTo(a, "results:didFetch", this.sf);
        b = new Hz(new Mz);
        a.Cd(b);
        this.Df = new NE({model: a, el: this.$(".layer"), F: this.F});
        a = new GE({model: b, el: this.$(".browseCategories"), F: this.F});
        this.Df.Db.push(a);
        mG(this);
        nG(this)
    };
    f.Yh = function () {
        this.$(".inlineFolderGroup").addClass("fetching").removeClass("fetched")
    };
    f.sf = function (a, b, c) {
        var d = Bb(this.F), e = this.$(".inlineFolderGroup"), g = a.La() === this.$("a.google").attr("title"), h = a.La() === this.$("a.facebook").attr("title");
        !h || this.qh || c ? h && this.qh && !c && 0 === a.ie.length ? this.$(".noResults").text(nc(d, "Facebook")) : !g || this.Rn || c ? g && this.Rn && !c && 0 === a.ie.length ? this.$(".noResults").text(nc(d, "Google")) : a.ie.length !== b.length || c || (g = a.La() === this.$("a.uploads").attr("title"), h = a.La() === this.$("a.marketplace").attr("title"), g && 0 === b.length && this.$(".noResults").text(d.format("objectPanelUploadsPanelOwnUploadsForDesigns")),
        h && 0 === b.length && this.$(".noResults").text(d.format("objectPanelUploadsPanelOwnUploadsForMarketplace"))) : (g = $('\x3cbutton class\x3d"button buttonGoogle buttonGoogleDrive"\x3e').text(lc(d, "Google")), this.$(".noResults").text(mc(d, "Google")).after(g)) : (g = $('\x3cbutton class\x3d"button buttonFacebook"\x3e').text(lc(d, "Facebook")), this.$(".noResults").text(mc(d, "Facebook")).after(g));
        e.removeClass("fetching").addClass("fetched");
        this.trigger("results:didFetch", a, b, c)
    };
    function nG(a) {
        var b = a.$("li a.uploads").parents("li").data("view"), c = a.$("li a.marketplace").parents("li").data("view"), d = Ur(Vr((new Tr).Sg(!0).Yf(!1), [Zd, ae]).Rg(), !1).sm(0, 1);
        zr(Ga, d, function (d, g) {
            a.zw = 200 === d && !!g.media && 0 < g.media.length;
            iw() ? QE(a.Df, c) : a.zw && QE(a.Df, b)
        })
    }

    function mG(a) {
        function b() {
            Od.pb() ? c.qh = !0 : et(Od).then(function () {
                c.qh = !0
            }).catch(function () {
                c.qh = !1
            })
        }

        var c = a, d = 0, e = window.setInterval(function () {
            bt() && (window.clearInterval(e), b());
            d++;
            5 < d && (window.clearInterval(e), c.qh = !1)
        }, 500)
    }

    f.OA = function () {
        var a = this.Yc;
        a.analytics.track("learn_more_folders");
        Ji(a, oG)
    };
    f.NA = function (a) {
        function b(a) {
            $("#fileUpload").data("marketplacePaidMedia", 1 === a);
            by()
        }

        $("#fileUpload").removeData("marketplacePaidMedia");
        $(a.target).hasClass("buttonMarketplace") ? ($("#fileUpload").data("marketplace", "marketplace"), (new pG({No: b})).je($(a.target))) : ($("#fileUpload").removeData("marketplace"), by());
        return !1
    };
    f.rI = function () {
        function a() {
            qG(d);
            c.al = !1;
            SE(c.Df, g)
        }

        function b() {
            qG(d);
            c.al = !1
        }

        var c = this, d = this.$("button.buttonGoogleDrive"), e = 0 < this.$("li.folderExpanded .google").length, g = this.$("li a.google").parents("li").data("view");
        e && this.Rn || this.al || (this.al = !0, H && H.track("google_links"), rG(d), Pd.Nu(!0).then(a).fail(b))
    };
    f.qI = function () {
        function a() {
            kt();
            qG(d);
            c.Sn = !1;
            SE(c.Df, h)
        }

        function b() {
            qG(d);
            c.Sn = !1
        }

        var c = this, d = this.$("button.buttonFacebook"), e = 0 < this.$("li.folderExpanded .facebook").length, g = 0 < this.$("li.folderExpanded .google").length, h = this.$("li a.facebook").parents("li").data("view");
        e && this.qh || this.Sn || g && this.Rn || this.al || (this.Sn = !0, H && H.track("facebook_links"), rG(d), gt(Od).then(a).catch(b))
    };
    function rG(a) {
        a.addClass("buttonSpinner");
        a.append('\x3cspan class\x3d"spinner"/\x3e')
    }

    function qG(a) {
        $(".spinner", a).remove();
        a.removeClass("buttonSpinner")
    }

    f.pA = _.template('\x3csection class\x3d"uploadButtonAndMessage"\x3e\x3cbutton class\x3d"button buttonBlock fileUploadButton"\x3e\x3c%- uploadButtonLabel %\x3e\x3c/button\x3e\x3cp\x3e\x3c%- dragIn %\x3e\x3c/p\x3e\x3c% if (showUpgradeCta) { %\x3e\x3cdiv class\x3d"folderUpgradeCta"\x3e\x3cspan class\x3d"folderUpgradePrompt"\x3e\x3c%- folderUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/section\x3e\x3cdiv class\x3d"browseCategories"\x3e\x3cul class\x3d"gallery photoGallery albumGallery categories"\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"uploads" title\x3d"\x3c%- uploadsFolderTitle %\x3e" class\x3d"uploads"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/upload_folder_thumbnail.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- uploadsFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3e\x3c%- uploadsFolder %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% if (marketplace) { %\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"marketplace" title\x3d"marketplaceFolderTitle" class\x3d"marketplace"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/marketplace_folder_thumbnail.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- marketplaceFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3e\x3c%- marketplaceFolder %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% } %\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"facebook" title\x3d"Facebook" class\x3d"facebook"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/upload_folder_facebook.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- facebookFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3eFacebook\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% if (googleDrive) { %\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"google" title\x3d"Google Drive" class\x3d"google"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/upload_folder_google_drive.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- googleFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3eGoogle Drive\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c/div\x3e');
    f.UG = _.template('\x3cdiv class\x3d"searchGroup"\x3e\x3cul class\x3d"gallery infoPanelGallery photoGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');
    function IF(a) {
        this.xr = a.xr || $(document);
        this.items = [];
        this.vg = void 0;
        this.hs = !!a.hs;
        this.qu = a.qu || $("body");
        this.title = a.title;
        a = new sG;
        a.on("toggle", this.VH.bind(this));
        this.view = a
    }

    f = IF.prototype;
    f.on = Backbone.Events.on;
    f.off = Backbone.Events.off;
    f.trigger = Backbone.Events.trigger;
    function tG(a) {
        function b() {
            d.xr.off("keydown", b);
            c.off("click", b);
            c.remove();
            d.view.hide();
            d.vg = void 0;
            return !1
        }

        var c = $('\x3cdiv class\x3d"contextMenuMask" /\x3e'), d = a;
        a.vg = b;
        c.on("click", b);
        a.xr.on("keydown", b);
        a.qu.append(c)
    }

    f.remove = function () {
        this.vg && this.vg();
        this.view.remove()
    };
    function JF(a, b) {
        a.items = b;
        a.view.render({items: a.items, title: a.title})
    }

    f.Ft = function (a, b) {
        this.vg && this.vg();
        this.qu.append(this.view.getElement());
        this.hs && tG(this);
        this.view.Ft(a, b)
    };
    f.VH = function (a) {
        var b = this.items.filter(function (b) {
            return b.title === a
        })[0];
        this.vg && this.vg();
        b && this.trigger("change", b.id, !b.au)
    };
    function sG() {
    }

    sG = Backbone.View.extend({className: "contextMenu"});
    f = sG.prototype;
    f.events = function () {
        return {"click .contextMenuItem": this.LE}
    };
    f.getElement = function () {
        return this.$el
    };
    f.hide = function () {
        var a = this.$el;
        a.removeClass("contextMenuOn").addClass("contextMenuOff");
        setTimeout(function () {
            a.css("left", "-9999em").css("top", "-9999em")
        }.bind(this), 400)
    };
    f.LE = function (a) {
        this.trigger("toggle", $(a.target).text())
    };
    f.render = function (a) {
        var b = this.$el, c = $('\x3cstrong class\x3d"contextMenuInfo"/\x3e').text(a.title), d = $('\x3cul class\x3d"contextMenuItems"/\x3e');
        a.items.forEach(function (a) {
            var b = $('\x3cli class\x3d"contextMenuItem"/\x3e').text(a.title);
            a.au && b.addClass("contextMenuItemTicked");
            d.append(b)
        });
        b.empty().append(c).append(d);
        return this
    };
    f.Ft = function (a, b) {
        this.$el.css("left", a).css("top", b).removeClass("contextMenuOff").addClass("contextMenuOn")
    };
    function uG(a) {
        this.items = [];
        this.gx = a.gx || Infinity;
        this.ls = a.ls || 0;
        this.placeholder = a.placeholder;
        this.yd = a.yd;
        this.root = a.root;
        this.view = new vG({Im: !!a.Im, Fd: a.Fd, ek: a.ek, Uk: a.Uk || "", placeholder: a.placeholder});
        this.view.render(this.items);
        this.view.getElement().appendTo(this.root);
        this.listenTo(this.view, {add: this.add, submit: this.submit});
        for (a = 0; a < this.ls; a++)this.add()
    }

    f = uG.prototype;
    f.listenTo = Backbone.Events.listenTo;
    f.off = Backbone.Events.off;
    f.on = Backbone.Events.on;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    _.extend(uG.prototype, Backbone.Events);
    f = uG.prototype;
    f.add = function (a, b) {
        var c = new wG({changed: void 0 !== a, focus: !!b, placeholder: this.placeholder, yd: this.yd, title: a || ""});
        this.items.push(c);
        this.view.render(this.items);
        this.items.length >= this.gx && this.view.Si.remove();
        this.listenTo(c, {empty: this.ME.bind(this, c)})
    };
    f.accept = function (a) {
        this.items.forEach(function (b) {
            if (b.toString() === a) {
                b.stopListening(b.view);
                var c = b.view, d = !b.Fp;
                c.$el.removeClass("dynamicListItemRejected");
                zG(c, "dynamicListItemAccepted", d);
                b.Fp = !0
            }
        });
        AG(this)
    };
    function AG(a) {
        0 === a.$d().length && a.view.Vt.toggleClass("buttonSpinner", !1)
    }

    f.$d = function () {
        return this.items.filter(function (a) {
            return !a.Fp && !a.isRejected() && !a.Ut
        }).filter(function (a) {
            return a.hasChanged()
        })
    };
    f.reject = function (a) {
        this.items.forEach(function (b) {
            if (b.toString() === a) {
                b.stopListening(b.view);
                var c = b.view, d = !b.ft;
                c.$el.removeClass("dynamicListItemAccepted");
                zG(c, "dynamicListItemRejected", d);
                b.ft = !0
            }
        });
        AG(this)
    };
    f.remove = function (a) {
        var b = this.items.indexOf(a);
        a.remove();
        this.stopListening(a);
        0 <= b && this.items.splice(b, 1)
    };
    f.ME = function (a) {
        this.items.length > this.ls && this.remove(a)
    };
    f.submit = function () {
        function a(a) {
            return a.hasChanged()
        }

        function b(a) {
            a.stopListening(a.view);
            zG(a.view, "dynamicListItemSubmitted", !a.Ut);
            a.Ut = !0
        }

        function c(a) {
            this.trigger("item", a.La(), a.getSelection())
        }

        setTimeout(function () {
            AG(this);
            this.$d().forEach(c, this);
            this.items.filter(a).forEach(b);
            this.trigger("submit")
        }.bind(this), 500)
    };
    function vG() {
    }

    vG = Backbone.View.extend({className: "dynamicList"});
    f = vG.prototype;
    f.initialize = function (a) {
        this.Im = a.Im;
        this.Fd = a.Fd;
        this.ek = a.ek;
        this.Uk = a.Uk || "";
        this.Xr = !1;
        this.Tw = 0;
        this.Qs = !1;
        this.placeholder = a.placeholder
    };
    f.events = function () {
        return {
            "click .dynamicListItemAdder button": this.HE,
            "input .dynamicListItemAdder input": this.JE,
            "keydown .dynamicListItem input": this.NE,
            "keydown .dynamicListItemAdder input": this.KE,
            "keydown .buttonSubmit:not(:disabled)": this.tD,
            "mousedown .buttonSubmit:not(:disabled)": this.uD
        }
    };
    f.getElement = function () {
        return this.$el
    };
    function BG(a) {
        function b() {
            this.Si.addClass("dynamicListItemAdded");
            setTimeout(c.bind(this), 300);
            this.trigger("add", d.val(), !0);
            d.val("");
            this.Qs = this.Xr = !1
        }

        function c() {
            this.Si.removeClass("dynamicListItemAdded")
        }

        var d = a.Si.find("input"), e = Date.now();
        500 < e - a.Tw && (a.Tw = e, a.Qs ? setTimeout(b.bind(a), 300) : b.call(a))
    }

    f.submit = function () {
        this.Si.find("input").blur();
        this.Vt.toggleClass("buttonSpinner", !0);
        this.Qs = !0;
        this.trigger("submit")
    };
    f.HE = function () {
        BG(this)
    };
    f.JE = function () {
        this.Xr = !0;
        BG(this)
    };
    f.tD = function (a) {
        13 === a.which && this.submit()
    };
    f.uD = function () {
        this.submit()
    };
    f.KE = function (a) {
        if (13 === a.which || 9 === a.which)this.Xr ? BG(this) : a.shiftKey || this.$el.find(".buttonSubmit").focus()
    };
    f.NE = function (a) {
        if (13 === a.which || 9 === a.which)return a.shiftKey ? $(a.target).parent().prev().find("input").focus() : $(a.target).parent().next().find("input").focus(), !1
    };
    f.render = function (a) {
        var b = CG(this);
        this.Uk && this.$el.append(this.yC || (this.yC = $('\x3ch3 class\x3d"dynamicListHeading"\x3e\x3c/h3\x3e').text(this.Uk)));
        this.ek && this.$el.append(this.oA || (this.oA = $('\x3cp class\x3d"dynamicListBlurb"\x3e\x3c/p\x3e').text(this.ek)));
        this.$el.append(b);
        a.forEach(function (a) {
            DG(a);
            b.append(a.view.getElement())
        });
        b.append(this.Si || (this.Si = EG(this)));
        this.$el.append(this.Vt || (this.Vt = FG(this)));
        return this
    };
    function CG(a) {
        a = a.$el.find("ul");
        0 === a.length && (a = $('\x3cul class\x3d"dynamicListItems"\x3e'));
        return a
    }

    function EG(a) {
        var b, c = $('\x3cli class\x3d"dynamicListItem dynamicListItemAdder"\x3e\x3c/li\x3e');
        a.Im ? b = $('\x3cbutton class\x3d"dynamicListItemAdderButton textInput"\x3e+ Add another\x3c/button\x3e') : (b = $('\x3cinput class\x3d"dynamicListItemValue textInput" value\x3d"" autocomplete\x3d"off" /\x3e'), b.attr("placeholder", a.placeholder));
        c.append(b);
        return c
    }

    function FG(a) {
        var b = $('\x3cbutton class\x3d"button buttonBlock buttonSubmit"\x3e\x3c/button\x3e');
        b.text(a.Fd);
        b.append('\x3cdiv class\x3d"spinner" /\x3e');
        return b
    };
    function wG(a) {
        function b(a) {
            return !0 === a.selected
        }

        this.Fp = !1;
        this.changed = a.changed;
        this.focus = a.focus;
        this.placeholder = a.placeholder;
        this.Ut = this.ft = !1;
        this.selection = void 0;
        this.yd = a.yd;
        this.title = a.title;
        this.view = new GG;
        this.listenTo(this.view, {change: this.change, commit: this.cB, select: this.select});
        this.yd && (this.selection = (this.yd.filter(b)[0] || {}).value, this.changed && this.yd && HG(this.view, this.yd))
    }

    wG.prototype.listenTo = Backbone.Events.listenTo;
    wG.prototype.stopListening = Backbone.Events.stopListening;
    wG.prototype.trigger = Backbone.Events.trigger;
    _.extend(wG.prototype, Backbone.Events);
    f = wG.prototype;
    f.change = function (a) {
        this.title = a;
        !this.changed && this.yd && this.yd && HG(this.view, this.yd);
        this.changed = !0
    };
    f.cB = function () {
        this.hasChanged() && (this.isEmpty() ? this.trigger("empty") : this.trigger("commit"))
    };
    f.La = function () {
        return this.title
    };
    f.getSelection = function () {
        return this.selection
    };
    f.hasChanged = function () {
        return this.changed
    };
    f.isEmpty = function () {
        return "" === this.title
    };
    f.isRejected = function () {
        return !!this.ft
    };
    f.select = function (a) {
        a !== this.selection && (IG(this, a), this.changed = !0)
    };
    function IG(a, b) {
        a.yd.forEach(function (a) {
            a.value === b && (this.selection = b)
        }, a)
    }

    f.remove = function () {
        JG(this.view);
        this.stopListening(this.view)
    };
    function DG(a) {
        function b() {
            c.view.focus()
        }

        var c = a;
        a.view.render(a.title, a.placeholder);
        a.focus && setTimeout(b, 0)
    }

    f.toString = function () {
        return this.title
    };
    function GG() {
    }

    GG = Backbone.View.extend({tagName: "li", className: "dynamicListItem"});
    f = GG.prototype;
    f.events = function () {
        return {
            "blur input": this.AE,
            "focus input": this.CE,
            "input input": this.EE,
            "keypress input": this.FE,
            "click input": this.BE,
            "change select": this.qF
        }
    };
    f.focus = function () {
        var a, b;
        b = this.$el.find("input").get(0);
        a = b.value.length;
        b.createTextRange ? b.focus() : b.setSelectionRange && (b.selectionStart || 0 === b.selectionStart) ? (b.focus(), b.setSelectionRange(a, a)) : b.focus()
    };
    f.getElement = function () {
        return this.$el
    };
    function JG(a) {
        a.$el.addClass("dynamicListItemRemoved");
        window.setTimeout(function () {
            this.remove();
            this.off()
        }.bind(a), 300)
    }

    f.AE = function () {
        this.trigger("commit")
    };
    f.CE = function (a) {
        $(a.target).select();
        a.preventDefault();
        return !1
    };
    f.EE = function (a) {
        a = $(a.target).val();
        this.trigger("change", a)
    };
    f.FE = function (a) {
        13 !== a.which && 9 !== a.which || this.trigger("commit")
    };
    f.BE = function (a) {
        $(a.target).select();
        a.preventDefault();
        return !1
    };
    f.qF = function (a) {
        a = $(a.target).val();
        this.trigger("select", a)
    };
    f.render = function (a, b) {
        var c = "dyn" + Date.now();
        this.input || (this.input = $('\x3cinput autocomplete\x3d"off" class\x3d"dynamicListItemValue textInput" /\x3e').attr("name", c).attr("placeholder", b), this.$el.empty(), this.$el.append(this.input));
        this.input.val(a);
        this.Ih && this.$el.append(this.Ih);
        return this
    };
    function HG(a, b) {
        function c(a) {
            var b = $("\x3coption\x3e");
            b.val(a.value).text(a.text).prop("selected", a.selected);
            this.select.append(b)
        }

        function d() {
            this.Ih.removeClass("dynamicListItemCategoryAppear")
        }

        a.Ih || (a.Ih = $('\x3cspan class\x3d"select dynamicListItemCategory"\x3e\x3c/span\x3e'), a.Ih.addClass("dynamicListItemCategoryAppear"), setTimeout(d.bind(a), 350), a.select = $("\x3cselect\x3e\x3c/select\x3e"), a.Ih.append(a.select), b.forEach(c, a));
        a.$el.append(a.Ih)
    }

    function zG(a, b, c) {
        c && (a.$el.addClass("dynamicListItemMarked"), setTimeout(function () {
            a.$el.removeClass("dynamicListItemMarked")
        }, 350));
        a.$el.find("input").prop("disabled", !0);
        a.$el.find("select").prop("disabled", !0);
        a.$el.addClass(b)
    };
    function KG() {
    }

    KG = Backbone.View.extend({className: "dropdownPane"});
    KG.prototype.initialize = function () {
        this.once("show", this.render)
    };
    KG.prototype.show = function () {
        this.$el.hasClass("focus") || (this.trigger("show", this), this.$el.siblings().removeClass("focus"), this.$el.addClass("focus"))
    };
    function LG() {
    }

    LG = X.extend({className: "dropdownMenuPopoverContainer"});
    f = LG.prototype;
    f.initialize = function (a) {
        X.prototype.initialize.call(this, a);
        this.jj = [];
        this.bg = null;
        this.on("show", this.mH);
        this.on("remove", this.rG)
    };
    f.render = function () {
        X.prototype.render.call(this);
        this.$("h2, .buttonContainer").remove();
        var a = this.$(".content");
        this.jj.forEach(function (b) {
            b.$el.appendTo(a)
        });
        return this
    };
    function MG(a, b) {
        a.listenTo(b, "show", a.aH);
        a.listenTo(b, "show", a.Fh);
        a.jj.push(b)
    }

    f.Fh = function (a) {
        var b = window.innerHeight - 108, c = a.$el.hasClass("focus");
        c && a.$el.removeClass("focus");
        var d = a.$el.prop("offsetHeight");
        c && a.$el.addClass("focus");
        this.$(".content").css("height", Math.min(d, b))
    };
    f.hf = function () {
        X.prototype.hf.call(this);
        this.bg && this.Fh(this.bg);
        return this
    };
    f.aH = function (a) {
        this.bg = a
    };
    f.mH = function () {
        0 < this.jj.length && this.jj[0].show()
    };
    f.rG = function () {
        this.bg = null;
        this.jj.forEach(function (a) {
            a.remove()
        });
        this.jj.length = 0
    };
    function $C() {
    }

    $C = LG.extend({className: "dropdownMenuPopoverContainer brandPrimaryColorStyled"});
    f = $C.prototype;
    f.initialize = function (a) {
        LG.prototype.initialize.call(this, a);
        this.ue = a.ue;
        this.document = a.document;
        this.sa = a.sa;
        this.xa = a.xa;
        this.pd = this.document.Ha();
        this.zl = null;
        this.Kr = this.Nr = !1;
        this.bn = a.bn;
        this.$q = a.$q;
        this.ii = a.ii;
        this.F = a.F;
        this.tv = null;
        var b = this.pd.Ab(), c = NG, d = this.pd.getName(), e = !!this.sa.Ta.get(td), g = !!this.sa.Ta.get(Fd), h = Nd(this.sa);
        a = a.rh;
        var k = this.F;
        k.qd || (k.qd = new Dc(k.Ga));
        this.Sv = new c({cs: d, wq: b, Oq: e, Pq: g, Qq: h, rh: a, qd: k.qd});
        c = OG;
        d = this.pd.G();
        e = this.F;
        e.De || (e.De = new Fc(e.Ga));
        this.Ce = new c({ze: d, De: e.De});
        this.uy = b.units;
        c = PG;
        d = b.C();
        e = b.D();
        b = b.units;
        g = this.F;
        g.qf || (g.qf = new Ec(g.Ga));
        this.hv = new c({pq: d, mq: e, oq: b, qf: g.qf});
        b = QG;
        c = this.pd.G();
        d = this.F;
        d.dd || (d.dd = new Gc(d.Ga));
        this.vd = new b({ze: c, dd: d.dd});
        MG(this, this.Sv);
        MG(this, this.Ce);
        MG(this, this.hv);
        MG(this, this.vd);
        this.listenTo(this.Sv, "show", this.fI);
        this.Rv()
    };
    f.events = function () {
        var a = LG.prototype.events.call(this);
        a["click .documentSaveButton"] = this.bE;
        a["click .documentCopyButton"] = this.CD;
        a["click .documentResizePaneButton"] = this.ID;
        a["click .documentResizeButton"] = this.GD;
        a["click .customDimensionsPaneButton"] = this.ED;
        a["keydown .customDimensionsWidth, .customDimensionsHeight"] = this.RE;
        a["blur .customDimensionsWidth, .customDimensionsHeight"] = this.sD;
        a["change .customDimensionsUnits"] = this.wD;
        a["click .customDimensionsResizeButton"] = this.FD;
        a["click .magicResizePaneButton"] =
            this.WD;
        a["change .magicResizePane input"] = this.yD;
        a["click .magicResizeButton:enabled"] = this.VD;
        a["click .button.retry"] = this.Rv;
        a["click .resizeUpgradeCta .buttonLearnMore"] = this.HD;
        return a
    };
    f.Mo = function (a) {
        this.trigger("documentResizeRequested", a)
    };
    function RG(a) {
        var b = a.$(".customDimensionsUnits").prop("value"), c = SG(a.$(".customDimensionsWidth"), b), d = SG(a.$(".customDimensionsHeight"), b), e = a.pd.Ab(), g = e.C(), h = e.D(), e = e.units;
        c === g && d === h && b == e ? a.cancel() : (g = $k({
            width: c,
            height: d,
            units: b
        }), g = ql(rl(g)), a.bn.createDocumentType(g).then(function (a) {
            a = a.Ha();
            this.Mo(a);
            this.ok()
        }.bind(a)));
        null != H && Qf(H, "change_design_dimension", null, null, "editor", {
            resize_type: "custom",
            new_units: b,
            new_width: c.toString(),
            new_height: d.toString()
        })
    }

    function TG(a) {
        a.zl || (a.zl = Bn(3E4), a.zl.finally(function () {
            a.zl = null
        }));
        return a.zl
    }

    f.Rv = function () {
        this.bz({});
        Uk(this.bn, ul(this.$q)).bind(this).tap(function (a) {
            this.tv = a.docTypes
        }).then($C.gG).then(this.bz).catch(this.vC)
    };
    f.HD = function () {
        var a = this.ii;
        a.analytics.track("learn_more_magic_design");
        Ji(a, UG)
    };
    f.bz = function (a) {
        this.Ce.xt(a);
        this.bg === this.Ce && (this.Ce.render(), this.Fh(this.Ce));
        this.vd.xt(a);
        this.bg === this.vd && (this.vd.render(), this.Fh(this.vd), VG(this))
    };
    f.vC = function () {
        this.Ce.yt();
        this.bg === this.Ce && (this.Ce.render(), this.Fh(this.Ce));
        this.vd.yt();
        this.bg === this.vd && (this.vd.render(), this.Fh(this.vd))
    };
    f.fI = function () {
        if (!this.Kr) {
            var a = this;
            this.Kr = !0;
            TG(this).then(function () {
                var b = a.$(".documentCopyButton");
                b.prop("disabled", !1);
                b.removeClass("disabled");
                b.parent().removeAttr("title");
                a.Kr = !1
            })
        }
    };
    function SG(a, b) {
        function c(a) {
            return +dl($k({units: "PIXELS", width: a, height: a}), b).C().toFixed(d)
        }

        var d = "PIXELS" === b ? 0 : 3, e = c(40), g = c(5E3), h = parseFloat(a.prop("value")) || 0, k = 0, k = h < e ? e : h > g ? g : "PIXELS" === b ? Math.round(h) : +h.toFixed(d);
        a.val(String(k));
        return k
    }

    function VG(a) {
        a.Nr || (a.Nr = !0, TG(a).then(function () {
            var b = 0 < a.$(".magicResizePane input:checked").length;
            a.$(".magicResizeButton").prop("disabled", !b).toggleClass("disabled", !b);
            a.Nr = !1
        }))
    }

    f.bE = function (a) {
        var b = this;
        a = $(a.currentTarget);
        a.addClass("active");
        a.one("animationend", function () {
            b.trigger("documentSaveRequested");
            b.ok()
        })
    };
    f.CD = function () {
        var a = this.xa.Pa();
        window.open(JD(a, "remix", Hk(this.xa)), "");
        this.ok()
    };
    f.ID = function () {
        this.Ce.show()
    };
    f.GD = function (a) {
        var b = this;
        a = $(a.currentTarget);
        var c = a.prop("value");
        a.addClass("active");
        a.one("animationend", function () {
            if (c === b.document.Ha().G())b.cancel(); else {
                var a = _.find(b.tv, function (a) {
                    return a.G() == c
                });
                b.Mo(a);
                b.ok()
            }
        });
        null != H && Qf(H, "change_design_dimension", null, null, "editor", {
            resize_type: "preset",
            resize_doctype_id: c
        })
    };
    f.ED = function () {
        this.hv.show()
    };
    f.RE = function (a) {
        13 === a.keyCode && RG(this)
    };
    f.sD = function (a) {
        var b = this.$(".customDimensionsUnits").prop("value");
        SG($(a.currentTarget), b)
    };
    f.wD = function () {
        var a = this.$(".customDimensionsUnits").prop("value"), b = this.$(".customDimensionsWidth").prop("value"), c = this.$(".customDimensionsHeight").prop("value"), b = dl($k({
            units: this.uy,
            width: b,
            height: c
        }), a), c = "PIXELS" === a ? 0 : 3;
        this.$(".customDimensionsWidth").val(+b.C().toFixed(c));
        this.$(".customDimensionsHeight").val(+b.D().toFixed(c));
        this.uy = a
    };
    f.FD = function () {
        RG(this)
    };
    f.WD = function () {
        this.vd.show();
        VG(this)
    };
    f.yD = function () {
        VG(this)
    };
    f.VD = function (a) {
        var b = [], c = this.$(".magicResizePane input:checked:enabled");
        a = $(a.currentTarget);
        a.blur();
        a.prop("disabled", !0);
        c.toArray().forEach(function (a) {
            var c = this.xa.Pa();
            (a = window.open(JD(c, "remix", Hk(this.xa)) + "?resizeTo\x3d" + encodeURIComponent(a.value), "")) && b.push(a)
        }, this);
        this.vd.$(".errorMessage").remove();
        b.length === c.length ? this.ok() : (b.forEach(function (a) {
            a.close()
        }), a.prop("disabled", !1), this.Jt());
        null != H && H.track("magic_resize")
    };
    f.Jt = function () {
        WG.IH(this.ue) ? (new WG({ue: this.ue})).show() : (this.vd.Jt(), this.Fh(this.vd))
    };
    $C.gG = function (a) {
        var b = a.docTypes, c = {};
        a.categories.forEach(function (a) {
            c[a.G()] = a
        });
        a = b.filter(function (a) {
            return !!c[a.gr()]
        }).map(function (a) {
            return {
                id: a.G(),
                displayName: a.getName(),
                displayDimensions: a.Ab().print(),
                category: c[a.gr()].getName()
            }
        });
        return _.groupBy(a, "category")
    };
    function NG() {
    }

    NG = KG.extend({
        className: "dropdownPane fileMenuPane",
        template: _.template('\x3cheader\x3e\x3ch3 class\x3d"fileMenuPaneTitle"\x3e\x3c%- data.layoutName %\x3e\x3c/h3\x3e\x3cdiv class\x3d"documentDimensions"\x3e\x3c%- data.documentDimensions %\x3e\x3c/div\x3e\x3c% if (data.enableDocumentResize) { %\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizePaneButton"\x3e\x3c%- data.changeDimensionsLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% if (data.enableMagicResize) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button magicResizePaneButton"\x3e\x3c%- data.magicResizeLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c% } else if (data.showUpgradeCta) { %\x3e\x3cdiv class\x3d"resizeUpgradeCta"\x3e\x3cspan\x3e\x3c%- data.resizeUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- data.learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/header\x3e\x3csection\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentSaveButton" data-syncstatus\x3d"\x3c%- data.lastSavedLabel %\x3e"\x3e\x3c%- data.saveLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3cli title\x3d"\x3c%- data.waitingForSaveTitle %\x3e"\x3e\x3cbutton class\x3d"button documentCopyButton disabled" disabled\x3e\x3c%- data.makeACopyLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/section\x3e', {variable: "data"})
    });
    NG.prototype.initialize = function (a) {
        KG.prototype.initialize.call(this);
        this.cs = a.cs;
        this.wq = a.wq;
        this.Oq = a.Oq;
        this.Pq = a.Pq;
        this.Qq = a.Qq;
        this.rh = a.rh;
        this.qd = a.qd
    };
    NG.prototype.render = function () {
        var a = moment(this.rh).fromNow();
        this.$el.html(this.template({
            documentDimensions: this.wq.print(),
            enableDocumentResize: this.Oq,
            enableMagicResize: this.Pq,
            layoutName: this.cs,
            magicResizeLabel: this.qd.format("editorFileMenuPaneMagicResize"),
            changeDimensionsLabel: this.qd.format("editorFileMenuPaneChangeDimensions"),
            saveLabel: this.qd.save(),
            makeACopyLabel: this.qd.format("editorFileMenuPaneMakeACopy"),
            waitingForSaveTitle: this.qd.format("editorFileMenuPaneWaitingForSave"),
            showUpgradeCta: this.Qq,
            resizeUpgradePrompt: this.qd.CG(),
            learnMoreButtonLabel: this.qd.ds(),
            lastSavedLabel: this.qd.SC(a)
        }));
        return this
    };
    function OG() {
    }

    OG = KG.extend({
        className: "dropdownPane documentResizePane",
        template: _.template('\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button customDimensionsPaneButton"\x3e\x3c%- data.useCustomDimensions %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizeButton" value\x3d"\x3c%- documentType.id %\x3e"\x3e\x3c%- documentType.displayName %\x3e \x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e', {variable: "data"})
    });
    OG.prototype.initialize = function (a) {
        KG.prototype.initialize.call(this);
        this.qk = {};
        this.ze = a.ze;
        this.kh = !1;
        this.De = a.De
    };
    OG.prototype.render = function () {
        this.$el.html(this.template({
            documentTypes: this.qk,
            fetchFailed: this.kh,
            useCustomDimensions: this.De.kz(),
            couldNotBeLoaded: this.De.hq(),
            tryLoadingAgain: this.De.du(),
            fetchingDesignTypes: this.De.Zq()
        }));
        if ("custom" !== this.ze)for (var a = this.$(".documentResizeButton"), b = 0; b < a.length; b++)if (a[b].value === this.ze) {
            a.eq(b).addClass("selected");
            break
        }
        return this
    };
    OG.prototype.xt = function (a) {
        this.kh = !1;
        this.qk = a
    };
    OG.prototype.yt = function () {
        this.kh = !0
    };
    function PG() {
    }

    PG = KG.extend({className: "dropdownPane customDimensionsPane"});
    PG.prototype.initialize = function (a) {
        KG.prototype.initialize.call(this);
        this.pq = a.pq;
        this.mq = a.mq;
        this.qf = a.qf;
        this.oq = a.oq;
        this.on("show", this.kC)
    };
    PG.prototype.render = function () {
        this.$el.html(this.template({
            defaultWidth: this.pq,
            defaultHeight: this.mq,
            actionResize: this.qf.Zz(),
            times: this.qf.times(),
            pixelsUnit: this.qf.Px(),
            dimOptions: Object.keys(al).map(function (a) {
                a = al[a];
                return {value: a, selected: a == this.oq, name: cl(a)}
            }.bind(this))
        }));
        return this
    };
    PG.prototype.kC = function () {
        var a = this;
        this.$el.one("transitionend", function () {
            a.$(".customDimensionsWidth").focus()
        })
    };
    PG.prototype.template = _.template('\x3cfieldset\x3e\x3cinput class\x3d"customDimensionsWidth textInput" type\x3d"number" value\x3d"\x3c%- defaultWidth %\x3e"\x3e \x3c%- times %\x3e \x3cinput class\x3d"customDimensionsHeight textInput" type\x3d"number" value\x3d"\x3c%- defaultHeight %\x3e"\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"customDimensionsUnits"\x3e\x3c% for (var i \x3d 0; i \x3c dimOptions.length; ++i) { %\x3e\x3coption value\x3d"\x3c%- dimOptions[i].value %\x3e" \x3c% if (dimOptions[i].selected) { %\x3e selected \x3c% } %\x3e \x3e\x3c%- dimOptions[i].name %\x3e\x3c/option\x3e\x3c% } %\x3e\x3c/select\x3e\x3cspan\x3e\x3c/fieldset\x3e\x3cfooter\x3e\x3cbutton class\x3d"button customDimensionsResizeButton"\x3e\x3c%- actionResize %\x3e\x3c/button\x3e\x3c/footer\x3e');
    function QG() {
    }

    QG = KG.extend({
        className: "dropdownPane magicResizePane",
        template: _.template('\x3cheader\x3e\x3ch3\x3e\x3c%- data.copyAndResize %\x3e\x3c/h3\x3e\x3c/header\x3e\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e.\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuOptionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" value\x3d"\x3c%- documentType.id %\x3e"\x3e \x3c%- documentType.displayName %\x3e \x3c% if (documentType.id \x3d\x3d data.currentDocumentTypeId) { %\x3e\x3cspan class\x3d"documentTypeCurrentDesign menuOptionsListSubLabel"\x3e\x3c%- data.currentDesignSize %\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/label\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button magicResizeButton disabled" disabled\x3e\x3cimg class\x3d"iconWand" src\x3d"https://static.canva.com/static/images/icon_wand.svg" alt\x3d"Magic wand" /\x3e\x3cimg class\x3d"iconWand black" src\x3d"https://static.canva.com/static/images/icon_wand_black.svg" alt\x3d"Magic wand" /\x3e \x3c%- data.abracadabraResize %\x3e\x3c/button\x3e\x3c/footer\x3e', {variable: "data"}),
        bG: _.template('\x3cp class\x3d"errorMessage"\x3e\x3cstrong\x3e\x3c%- data.ohSnap %\x3e\x3c/strong\x3e \x3c%- data.multipleTabs %\x3e\x3c/p\x3e', {variable: "data"})
    });
    f = QG.prototype;
    f.initialize = function (a) {
        KG.prototype.initialize.call(this);
        this.ze = a.ze;
        this.qk = {};
        this.kh = !1;
        this.dd = a.dd
    };
    f.render = function () {
        this.$el.html(this.template({
            documentTypes: this.qk,
            currentDocumentTypeId: this.ze,
            fetchFailed: this.kh,
            copyAndResize: this.dd.jB(),
            couldNotBeLoaded: this.dd.hq(),
            tryLoadingAgain: this.dd.du(),
            fetchingDesignTypes: this.dd.Zq(),
            currentDesignSize: this.dd.pB(),
            abracadabraResize: this.dd.Rz(),
            ohSnap: this.dd.qD(),
            multipleTabs: this.dd.oD()
        }));
        this.$('input:not([value\x3d"' + this.ze + '"])').slice(0, 3).prop("checked", !0);
        this.$('input[value\x3d"' + this.ze + '"]').prop("disabled", !0).parent("label").addClass("menuOptionsListDisabled");
        return this
    };
    f.xt = function (a) {
        this.kh = !1;
        this.qk = a
    };
    f.yt = function () {
        this.kh = !0
    };
    f.Jt = function () {
        this.$("footer").prepend(this.bG())
    };
    function pG() {
    }

    pG = X.extend();
    f = pG.prototype;
    f.events = function () {
        var a = X.prototype.events.call(this);
        a["click .buttonPaid"] = this.ZD;
        a["click .buttonFree"] = this.SD;
        return a
    };
    f.initialize = function (a) {
        this.No = a.No;
        var b = {title: "Please select a price", content: $(pG.Ug()), Lb: ""};
        X.prototype.initialize.call(this, _.extend({}, b, a))
    };
    f.render = function () {
        X.prototype.render.call(this);
        this.$(".buttonContainer").remove();
        return this
    };
    f.ZD = function () {
        $("#fileUpload").data("marketplacePaidMedia", !0);
        this.No(1);
        this.remove()
    };
    f.SD = function () {
        this.No(0);
        this.remove()
    };
    pG.Ug = _.template('\x3cp\x3eWhat price would you like to charge for these images?\x3c/p\x3e\x3cdiv class\x3d"priceButtons"\x3e\x3cbutton class\x3d"button buttonBlock buttonPaid"\x3e$1.00\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock buttonFree"\x3eFREE\x3c/button\x3e\x3c/div\x3e');
    function XG() {
    }

    XG = X.extend();
    f = XG.prototype;
    f.events = function () {
        var a = X.prototype.events.call(this);
        a["click .downloadPng"] = this.KD;
        a["click .downloadStandardPdf"] = this.MD;
        a["click .downloadPrintPdf"] = this.LD;
        a["click .downloadJpg"] = this.JD;
        a["click .optionsToggle \x3e a"] = this.YD;
        a["change .pageRangeOption \x3e input"] = this.zD;
        a["input .pageRange"] = this.GE;
        a["click .exportTransparentUpgradeCta.buttonLearnMore"] = this.PD;
        return a
    };
    f.initialize = function (a) {
        this.sa = a.sa;
        this.model = a.model;
        this.Ng = a.Ng;
        this.Yc = a.Yc;
        var b = this.F = a.F;
        b.ic || (b.ic = new Pc(b.Ga));
        this.ic = b.ic;
        a = _.defaults(a, {
            Lb: "", content: $(XG.Ug({
                displayRemoveCanvasOption: !!this.sa.Ta.get(Hd),
                showUpgradeCta: !this.sa.Ta.get(Hd) && Nd(this.sa),
                learnMoreLabel: this.ic.format("exportPopOverLearnMoreButton"),
                jpgLabel: this.ic.format("exportPopOverJpgButton"),
                pngLabel: this.ic.format("exportPopOverPngButton"),
                pdfStandardLabel: this.ic.format("exportPopOverPdfStandardButton"),
                pdfPrintLabel: this.ic.format("exportPopOverPdfPrintButton"),
                allPagesLabel: this.ic.dA(),
                pagesInRangeLabel: this.ic.format("exportPopOverInRangePagesLabel"),
                invalidPageRange: this.ic.LC("\x3cbr\x3e"),
                pagesInRangePlaceholder: this.ic.format("exportPopOverInRangePagesPlaceholder"),
                publishWithCropMarks: this.ic.pG(),
                makeBackgroundTransparent: this.ic.$C(),
                options: this.ic.format("exportPopOverOptions")
            })), title: this.ic.title()
        });
        X.prototype.initialize.call(this, a)
    };
    f.render = function () {
        function a() {
            Lj(this.model) || ($("\x3cb\x3e").text("OK, all done!").appendTo(this.$(".error")), this.$(".exportButtons \x3e button").removeClass("disabled").prop("disabled", !1), this.stopListening(this.model, "change", a))
        }

        X.prototype.render.call(this);
        this.$(".dialog").addClass("exportDialog");
        this.$(".buttonContainer").remove();
        var b = "";
        this.model.isEmpty() ? b = this.ic.format("exportPopOverEmptyDesignError") : Lj(this.model) && (b = this.ic.format("exportPopOverDownloadsInProgressError"),
            this.listenTo(this.model, "change", a));
        b && ($("\x3cp\x3e").addClass("error").text(b).insertBefore(this.$(".exportButtons")), this.$(".exportButtons \x3e button").addClass("disabled").prop("disabled", !0));
        return this
    };
    function YG(a, b, c) {
        var d = [], e = a.$(".pageRange").val(), g = Aj(a.model).length;
        if (XG.Ep.test(e))for (var e = e.split(","), h = 0; h < e.length; h++) {
            var k = e[h].split("-"), l = parseInt(k[0], 10);
            if (!isNaN(l)) {
                var m = l = Math.max(1, Math.min(l, g));
                1 < k.length && (m = parseInt(k[1], 10), m = isNaN(m) ? g : Math.max(1, Math.min(m, g)));
                var k = l, n = m;
                n < k && (k = m, n = l);
                for (l = 0; d[l] < k;)l++;
                for (; k <= n;)d[l] !== k && d.splice(l, 0, k), l++, k++
            }
        }
        g = !!a.$(".cropsAndBleed \x3e input").prop("checked");
        e = "JPG" != b ? !!a.$(".removeCanvas \x3e input").prop("checked") :
            !1;
        switch (a.model.Ha().G()) {
            case "facebookCover":
                a = "JPG" == b ? 100 : null;
                break;
            default:
                a = null
        }
        return {
            outputType: b,
            pageRange: d,
            includeCrops: g,
            includeBleed: g,
            removeCanvas: e,
            targetImageSizeKb: a,
            mediaDpi: c
        }
    }

    function ZG(a, b) {
        var c = ke(a.model.Ha().Ab()), c = new $G({zB: c.C(), yB: c.D(), Es: Aj(a.model).length, Ng: a.Ng, F: a.F});
        aH(c, b);
        bH(c, c.aa.wn);
        c.show();
        cH(c);
        a.ok()
    }

    function dH(a) {
        var b = a.$(".pageRange"), c = a.$(".pageRangeError");
        a = b.val().trim();
        "" === a || XG.Ep.test(a) ? (b.removeClass("hasError"), c.removeClass("on")) : (b.addClass("hasError"), c.addClass("on"), b.one("blur", function () {
            c.removeClass("on")
        }))
    }

    f.KD = function (a) {
        a.preventDefault();
        ZG(this, YG(this, "PNG", 96))
    };
    f.MD = function (a) {
        a.preventDefault();
        ZG(this, YG(this, "PDF", 96))
    };
    f.LD = function (a) {
        a.preventDefault();
        ZG(this, YG(this, "PDF", 300))
    };
    f.JD = function (a) {
        a.preventDefault();
        ZG(this, YG(this, "JPG", 96))
    };
    f.YD = function (a) {
        a.preventDefault();
        a = this.$(".exportOptions");
        var b = this.$(".optionsToggle");
        b.hasClass("on") ? (a.css("height", "0"), a.addClass("hidden"), b.removeClass("on")) : (a.css("height", a.find(".inner").prop("clientHeight") + "px"), a.removeClass("hidden"), b.addClass("on"), a = this.$(".pageRange"), "" === a.val().trim() && a.val(""), XG.Ep.test(a.val()) || this.$(".pageRangeOption \x3e input").eq(0).prop("checked", !0))
    };
    f.zD = function () {
        var a = this.$(".pageRange");
        this.$(".pageRangeOption \x3e input").eq(1).prop("checked") ? (a.focus().select(), dH(this)) : a.removeClass("hasError")
    };
    f.GE = function () {
        this.$(".pageRangeOption \x3e input").eq(1).prop("checked", !0);
        dH(this)
    };
    f.PD = function () {
        var a = this.Yc;
        a.analytics.track("learn_more_transparent_bg");
        Ji(a, eH)
    };
    XG.Ep = /^\s*\d+\s*(?:-\s*(?:\d+\s*)?)?(?:,\s*(?:\d+\s*(?:-\s*(?:\d+\s*)?)?)?)*$/;
    XG.Ug = _.template('\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock downloadJpg"\x3e\x3c%- jpgLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock downloadPng"\x3e\x3c%- pngLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock downloadStandardPdf"\x3e\x3c%- pdfStandardLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock downloadPrintPdf"\x3e\x3c%- pdfPrintLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"exportOptions hidden"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"pageRangeOption"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" value\x3d"all" checked\x3e \x3c%- allPagesLabel %\x3e\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"pageRangeOption pageRangeOptionEnter"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" value\x3d"custom"\x3e \x3c%- pagesInRangeLabel %\x3e\x3c/label\x3e\x3cinput type\x3d"text" class\x3d"pageRange textInput" placeholder\x3d"\x3c%- pagesInRangePlaceholder %\x3e"\x3e\x3cspan class\x3d"pageRangeError"\x3e\x3c%- invalidPageRange %\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"cropsAndBleed"\x3e\x3cinput type\x3d"checkbox" name\x3d"cropsAndBleed"\x3e \x3c%- publishWithCropMarks %\x3e\x3c/label\x3e\x3c/div\x3e\x3c% if (displayRemoveCanvasOption || showUpgradeCta) { %\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"removeCanvas \x3c%- showUpgradeCta ? "disabled" : "" %\x3e"\x3e\x3cinput type\x3d"checkbox" name\x3d"removeCanvas" \x3c%- showUpgradeCta ? "disabled": "" %\x3e\x3e \x3c%- makeBackgroundTransparent %\x3e \x3c/label\x3e\x3c% if (showUpgradeCta) { %\x3e\x3cbutton class\x3d"exportTransparentUpgradeCta button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"optionsToggle"\x3e\x3ca href\x3d"#"\x3e\x3c%- options %\x3e \x3cspan class\x3d"icon arrow"\x3e\x26#xe003;\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e');
    function fH() {
    }

    fH = X.extend();
    fH.prototype.events = function () {
        var a = X.prototype.events.call(this);
        a["click .resubmitLayout"] = this.aE;
        return a
    };
    fH.prototype.initialize = function (a) {
        this.FG = a.resubmit;
        var b = "in layout review";
        this.options.forSale && (b = "for sale as a layout");
        b = {title: b.charAt(0).toUpperCase() + b.slice(1), content: $(fH.Ug({status: b})), Lb: ""};
        X.prototype.initialize.call(this, _.extend({}, b, a))
    };
    fH.prototype.render = function () {
        X.prototype.render.call(this);
        this.$(".buttonContainer").remove();
        return this
    };
    fH.prototype.aE = function () {
        this.FG();
        this.remove()
    };
    fH.Ug = _.template('\x3cp\x3eThis design is \x3c%- status %\x3e.\x3c/p\x3e\x3cbr\x3e\x3cdiv class\x3d"layoutThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock resubmitLayout"\x3eResubmit\x3c/button\x3e\x3c/div\x3e');
    function gH() {
    }

    gH = Backbone.View.extend({className: "shareViaEmailForm", tagName: "form"});
    gH.prototype.events = function () {
        return {"click button": this.send, submit: this.send}
    };
    gH.prototype.initialize = function (a) {
        this.mode = a.mode;
        this.Jd = a.Jd;
        this.yb = a.yb
    };
    gH.prototype.render = function () {
        this.$el.html(gH.template({sendLabel: this.yb.send(), placeholder: this.yb.Dv()}));
        return this
    };
    gH.prototype.send = function (a) {
        a.preventDefault();
        a = this.$("input").val().replace(/[ ,;]+/g, ",").split(",").map(Ts).filter(Boolean);
        0 === a.length ? alert("Enter some email addresses!") : (this.$("button").prop("disabled", !0), this.trigger("sendClicked", {
            kg: a,
            mode: this.mode,
            Jd: this.Jd
        }))
    };
    gH.template = _.template('\x3cdiv data-input-placeholder\x3d"\x3c%- placeholder %\x3e"\x3e\x3cinput class\x3d"textInput" placeholder\x3d"\x3c%- placeholder %\x3e" type\x3d"text"\x3e\x3c/div\x3e\x3cbutton class\x3d"button"\x3e\x3c%- sendLabel %\x3e\x3c/button\x3e');
    function hH() {
    }

    hH = X.extend({className: "descriptionPopOver"});
    f = hH.prototype;
    f.initialize = function (a) {
        var b = {
            title: Jb(a.F).format("editorControlsPopoverHeadingDesignTitle"),
            content: $("\x3ctextarea\x3e").addClass("textInput")
        };
        a = _.extend({}, b, a);
        X.prototype.initialize.call(this, a);
        this.on("hide", this.hE)
    };
    f.events = function () {
        var a = X.prototype.events.apply(this, arguments);
        a["keydown textarea"] = this.SE;
        return a
    };
    f.render = function () {
        X.prototype.render.call(this);
        var a = this.model.La();
        yC(a) ? this.$("textarea").val("") : this.$("textarea").val(a.Lk());
        return this
    };
    f.je = function (a) {
        X.prototype.je.call(this, a);
        this.$("textarea").autosize({append: ""}).focus().select();
        return this
    };
    f.hE = function (a) {
        var b = this.$("textarea"), c = this.model.La(), b = b.val().trim();
        2 !== a && 0 !== a || b === c.Lk() || (H && (a = H, a.track("design", {
            title: b,
            source: "typed",
            template: a.rf
        })), zC(c, b))
    };
    f.SE = function (a) {
        var b = a.altKey || a.shiftKey;
        13 != a.which || b || (a.preventDefault(), this.ok())
    };
    function iH() {
    }

    iH = Pm.extend({id: "exportDialog"});
    f = iH.prototype;
    f.events = function () {
        var a = Pm.prototype.events.call(this);
        a["click .startExport"] = this.Rh;
        return a
    };
    f.initialize = function (a) {
        a = _.defaults({}, a, {ej: $.noop, fj: $.noop});
        Pm.prototype.initialize.call(this, _.extend(a, {wa: Cf}));
        this.ih = new jH(Ea);
        this.listenTo(this.ih, "change:state", this.ul);
        this.ej = this.ej || a.ej;
        this.fj = this.fj || a.fj;
        this.Fc = a.Fc
    };
    f.jr = function () {
        return Ol(Nl(Ml(new Ll, v.Pa()), v.qc()), Kl(Jl(new Hl, 96).rm("PNG"), "SCREEN").tm("PREVIEW"))
    };
    f.ul = function (a, b) {
        "complete" === b ? this.fj() : "error" === b ? (Sm(this, this.Fc.format("exportDialogTitlePublishingError")), this.$(".content").append(this.fi({
            buttonClass: "startExport",
            buttonText: this.Fc.format("exportDialogButtonTryAgain")
        })), this.$(".exporting").html(this.Lv({
            messagePleaseRetry: this.Fc.Rq(),
            htmlReportError: kH(this)
        }))) : "exporting" === b && lH(this)
    };
    f.remove = function () {
        Pm.prototype.remove.call(this);
        this.ih.cancel()
    };
    f.render = function () {
        Pm.prototype.render.call(this);
        this.$(".content").append('\x3cdiv class\x3d"exporting"\x3e');
        return this
    };
    f.show = function () {
        Pm.prototype.show.call(this);
        this.Rh();
        return this
    };
    function lH(a) {
        var b = a.$(".exporting"), c = 0, d = $('\x3cdiv class\x3d"progress"\x3e\x3c/div\x3e'), e = $('\x3cdiv class\x3d"progressValue"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3c/div\x3e');
        e.css("width", "2%");
        d.append(e);
        b.empty();
        a.ej();
        b.prepend(d);
        a.$(".buttonContainer").remove();
        var g = window.setInterval(function () {
            c++;
            50 < Math.floor(100 * Math.random()) && e.css("width", 10 * c + "%");
            10 === c && (e.css("width", "100%"), window.clearInterval(g))
        }, 400)
    }

    function kH(a) {
        var b = v.Pa();
        return a.Fc.format("exportDialogErrorReport", "mailto:support@canva.com?subject\x3dPublishing%20Error\x26body\x3d" + encodeURIComponent("I ran into trouble emailing the following design: " + JD(b, "view", void 0)))
    }

    f.Rh = function () {
        this.ih.Ko(this.jr())
    };
    f.fi = _.template('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button \x3c%- buttonClass %\x3e"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c/p\x3e');
    f.Lv = _.template("\x3cp\x3e\x3c%- messagePleaseRetry %\x3e\x3c/p\x3e\x3cp\x3e\x3c%\x3d htmlReportError %\x3e\x3c/p\x3e");
    function mH() {
    }

    mH = iH.extend({className: "shareExport"});
    f = mH.prototype;
    f.events = function () {
        var a;
        a = iH.prototype.events.call(this);
        a["click .share"] = this.JF;
        return a
    };
    f.initialize = function (a) {
        this.type = a.type;
        this.name = a.name;
        this.url = a.url;
        this.width = a.width;
        this.height = a.height;
        this.ff = a.ff;
        iH.prototype.initialize.call(this, {title: this.ff.title(this.name), Fc: a.Fc})
    };
    f.ej = function () {
        var a = $("\x3cp\x3e").text(this.ff.Ns(this.name));
        this.$(".exporting").empty().append(a)
    };
    f.fj = function () {
        var a = $("\x3cp\x3e").text(this.ff.qq());
        this.$(".content").append(this.fi({buttonClass: "share", buttonText: this.ff.format("shareDialogActionText")}));
        this.$(".exporting").empty().append(a)
    };
    f.JF = function (a) {
        a.preventDefault();
        nH.openWindow(this.url, this.width, this.height);
        this.ok()
    };
    function nH() {
    }

    nH = Backbone.View.extend({className: "shareView"});
    f = nH.prototype;
    f.events = function () {
        return {
            "click .buttonFacebook": this.QD,
            "click .buttonTwitter": this.dE,
            "click .shareButtonEmail": this.OD,
            "click .shareButtonPinterest": this.$D,
            "click .shareButtonLinkedIn": this.UD,
            "change .shareOptions input": this.AD,
            "focus .shareLink input": this.pE,
            "mousedown .shareLink input": this.XE
        }
    };
    f.initialize = function (a) {
        this.location = a.location;
        this.Kw = null;
        var b = v.context.Ek().Nk();
        if (b) {
            var c = v.Pa();
            this.Kw = JD(c, "share") + "?role\x3dVIEWER\x26token\x3d" + encodeURIComponent(b) + "\x26" + LD(c, this.location, "link")
        }
        this.Jw = null;
        if (b = Ik())c = v.Pa(), this.Jw = JD(c, "share") + "?role\x3dEDITOR\x26token\x3d" + encodeURIComponent(b) + "\x26" + LD(c, this.location, "link");
        this.jH = KD(v.Pa(), this.location, "link");
        b = v.Pa();
        this.MG = JD(b, "screen", Hk(v));
        this.pn = a.pn;
        this.Zo = a.Zo;
        this.uk = new gH({
            mode: "default", Jd: Hk(v),
            yb: a.yb
        });
        this.sa = a.sa;
        this.yb = a.yb;
        this.az = ["Take a look at my new @Canva creation!", "Check out my new @Canva design!", "I just made this fantastic design with @Canva!", "How great does my new @Canva design look?"]
    };
    f.render = function () {
        Backbone.View.prototype.render.call(this);
        var a = nH.Ug;
        this.$el.append(a({
            emailButton: this.pn,
            showSharingOptions: this.Zo,
            showFacebook: !!this.sa.Ta.get(vd),
            showTwitter: !!this.sa.Ta.get(wd),
            showEmail: !!this.sa.Ta.get(xd),
            showLinkedIn: !!this.sa.Ta.get(zd),
            showPinterest: !!this.sa.Ta.get(yd),
            shareOnFacebookTitle: this.yb.format("shareViewShareOnFacebook"),
            shareOnTwitterTitle: this.yb.format("shareViewShareOnTwitter"),
            shareOnPinterestTitle: this.yb.format("shareViewShareOnPinterest"),
            postLabel: this.yb.post(),
            tweetLabel: this.yb.format("shareViewTweet"),
            pinItLabel: this.yb.format("shareViewPinIt"),
            shareLabel: this.yb.Dt(),
            emailLabel: this.yb.email(),
            linkLabel: this.yb.link(),
            shareAsEditableDesign: this.yb.gH()
        }));
        this.$(".shareEmail").append(this.uk.render().el);
        this.listenTo(this.uk, "sendClicked", this.ND);
        this.listenTo(this, "emailSendingError", this.wB);
        this.$("#shareLinkDefault").val(this.jH);
        this.$("#shareLinkViewer").val(this.Kw || "");
        this.$("#shareLinkEditor").val(this.Jw || "");
        return this
    };
    f.Lg = function (a, b, c, d) {
        this.trigger("shareClicked", {type: a, url: b, height: c, width: d})
    };
    f.QD = function (a) {
        a.preventDefault();
        a = "https://www.facebook.com/sharer/sharer.php?u\x3d" + encodeURIComponent(KD(v.Pa(), this.location, "facebook"));
        this.Lg("facebook", a, 550, 420)
    };
    f.dE = function (a) {
        a.preventDefault();
        a = this.az[Math.floor(Math.random() * this.az.length)];
        a = "https://twitter.com/intent/tweet?url\x3d" + encodeURIComponent(KD(v.Pa(), this.location, "twitter")) + "\x26text\x3d" + encodeURIComponent(a);
        this.Lg("twitter", a, 550, 420)
    };
    f.$D = function (a) {
        a.preventDefault();
        a = "http://pinterest.com/pin/create/button/?url\x3d" + encodeURIComponent(KD(v.Pa(), this.location, "pinterest")) + "\x26media\x3d" + encodeURIComponent(this.MG);
        this.Lg("pinterest", a, 316, 744)
    };
    f.UD = function (a) {
        a.preventDefault();
        a = "https://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d" + encodeURIComponent(KD(v.Pa(), this.location, "linkedin"));
        this.Lg("linkedin", a, 606, 445)
    };
    f.OD = function (a) {
        a.preventDefault();
        this.$(".shareEmail").show();
        this.trigger("shareViewResize")
    };
    f.ND = function (a) {
        this.trigger("emailSend", a)
    };
    f.AD = function (a) {
        this.$(".shareLink").removeClass("default editor");
        if (a.currentTarget.checked) {
            a = this.uk;
            var b = Ik() || null;
            a.mode = "editor";
            a.Jd = b;
            this.$(".shareLink").addClass("editor");
            this.$(".shareLink label").attr("for", "shareLinkEditor")
        } else a = this.uk, b = Hk(v) || null, a.mode = "default", a.Jd = b, this.$(".shareLink").addClass("default"), this.$(".shareLink label").attr("for", "shareLinkDefault")
    };
    f.pE = function (a) {
        $(a.currentTarget).select()
    };
    f.XE = function (a) {
        $(a.currentTarget).focus();
        a.preventDefault()
    };
    f.wB = function (a) {
        var b = this.uk.$("button");
        b.prop("disabled", !1);
        b.attr("class", "");
        this.$(".shareEmail h2").append('\x3cp class\x3d"error"\x3e' + a + "\x3c/p\x3e");
        this.trigger("shareViewResize")
    };
    nH.Ug = _.template('\x3cdiv class\x3d"shareButtons"\x3e\x3c% if (showFacebook) { %\x3e\x3cbutton class\x3d"button buttonFacebook" title\x3d"\x3c%- shareOnFacebookTitle %\x3e"\x3e\x3c%- postLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showTwitter) { %\x3e\x3cbutton class\x3d"button buttonTwitter" title\x3d"\x3c%- shareOnTwitterTitle %\x3e"\x3e\x3c%- tweetLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showPinterest) { %\x3e\x3cbutton class\x3d"button shareButtonPinterest" title\x3d"\x3c%- shareOnPinterestTitle %\x3e"\x3e\x3c%- pinItLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showLinkedIn) { %\x3e\x3cbutton class\x3d"button shareButtonLinkedIn" title\x3d"\x3c%- shareOnLinkedInTitle %\x3e"\x3e\x3c%- shareLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (emailButton \x26\x26 showEmail) { %\x3e\x3cbutton class\x3d"button shareButtonEmail"\x3e\x3c%- emailLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"shareEmail" style\x3d"\x3c% if (!emailButton) { %\x3e display: block; \x3c% } %\x3e"\x3e\x3ch2\x3e\x3c%- emailLabel %\x3e\x3c/h2\x3e\x3c/div\x3e\x3c% if (showSharingOptions) { %\x3e\x3cdiv class\x3d"shareOptions toggle"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e \x3c%- shareAsEditableDesign %\x3e\x3c/label\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"shareLink default"\x3e\x3clabel for\x3d"shareLinkDefault"\x3e\x3c%- linkLabel %\x3e\x3c/label\x3e\x3cdiv\x3e\x3cinput id\x3d"shareLinkDefault" readonly type\x3d"text"\x3e\x3cinput id\x3d"shareLinkEditor" readonly type\x3d"text"\x3e\x3cinput id\x3d"shareLinkViewer" readonly type\x3d"hidden"\x3e\x3c/div\x3e\x3c/div\x3e');
    nH.openWindow = function (a, b, c) {
        window.open(a, "", "scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d" + b + ",height\x3d" + c + ",left\x3d445,top\x3d240")
    };
    function oH() {
    }

    oH = iH.extend({className: "shareExport shareViaEmail"});
    f = oH.prototype;
    f.events = function () {
        var a = iH.prototype.events.call(this);
        a["click .retryEmail"] = this.GG;
        return a
    };
    f.initialize = function (a) {
        iH.prototype.initialize.call(this, {title: "Emailing...", Fc: a.Fc});
        this.Zc = a.Zc;
        this.xq = a.xq;
        this.mode = a.mode;
        this.Jd = a.Jd;
        this.kg = a.kg;
        this.Nt = new xm(a.FC)
    };
    f.jr = function () {
        var a;
        a = iH.prototype.jr.call(this);
        a.sr().pages = [1];
        return a
    };
    f.ej = function () {
        var a = $("\x3cp\x3e").text(this.Zc.progress());
        Sm(this, this.Zc.title());
        this.$(".exporting").empty().append(a)
    };
    f.fj = function () {
        pH(this)
    };
    f.GG = function (a) {
        a.preventDefault();
        pH(this);
        lH(this)
    };
    function pH(a) {
        var b = Hm(Gm(Fm(Em(Dm(new Cm, a.xq), a.mode), a.Jd), a.kg), "sharebutton");
        zm(a.Nt, b).bind(a).then(a.qH).catch(a.cm)
    }

    f.cm = function () {
        Sm(this, this.Zc.format("emailDialogErrorTitle"));
        this.$(".content").append(this.fi({
            buttonClass: "retryEmail",
            buttonText: this.Fc.format("exportDialogButtonTryAgain")
        }));
        this.$(".exporting").html(this.Lv({messagePleaseRetry: this.Zc.Rq(), htmlReportError: kH(this)}))
    };
    f.qH = function () {
        var a = this.kg.length, b = this.kg[0], a = 1 === a ? this.Zc.format("emailDialogEmailSentToSingleAddress", b) : this.Zc.format("emailDialogEmailSentToMultipleAddresses", a), a = $("\x3cp\x3e").text(a);
        Sm(this, this.Zc.format("emailDialogSuccessTitle"));
        this.$(".content").append(this.fi({buttonClass: "done", buttonText: this.Zc.format("emailDialogButtonDone")}));
        this.$(".done").focus();
        this.$(".exporting").empty().append(a)
    };
    function qH() {
    }

    qH = X.extend();
    f = qH.prototype;
    f.defaults = function (a) {
        return {title: a.title(), Lb: ""}
    };
    f.initialize = function (a) {
        a = _.extend(this.defaults(Pb(a.F)), a);
        X.prototype.initialize.call(this, a);
        this.F = a.F;
        this.zj = new nH({
            location: "sharebutton",
            pn: !1,
            Zo: !(!Ik() || !v.context.Ek().Nk()),
            sa: nd(),
            yb: Pb(a.F)
        });
        this.listenTo(this.zj, {shareClicked: this.Lg, emailSend: this.Mq})
    };
    f.render = function () {
        X.prototype.render.call(this);
        this.$(".dialog").addClass("shareDialog");
        this.$(".buttonContainer").remove();
        this.$(".content").append(this.zj.render().el);
        return this
    };
    f.Lg = function (a) {
        this.ok();
        var b = {facebook: "Facebook", linkedin: "LinkedIn", pinterest: "Pinterest", twitter: "Twitter"}[a.type];
        if (void 0 === b)throw Error("Sharing type " + a.type + " not handled.");
        (new mH({
            name: b,
            type: a.type,
            url: a.url,
            height: a.height,
            width: a.width,
            Fc: Rb(this.F),
            ff: Tb(this.F)
        })).show();
        H && Sf(a.type, "sharebutton")
    };
    f.Mq = function (a) {
        this.ok();
        (new oH({xq: v.Pa(), mode: a.mode, Jd: a.Jd, kg: a.kg, FC: Ja, Zc: Vb(this.F), Fc: Rb(this.F)})).show();
        H && Sf("email", "sharebutton")
    };
    function aD() {
    }

    aD = Backbone.View.extend({el: "#canvaDocument"});
    aD.tB = function () {
        $("#addNewPage").remove();
        aD.aA = !0
    };
    f = aD.prototype;
    f.events = function () {
        return {
            "click #addNewPage": this.BA,
            "click \x3e .inner \x3e .page": function () {
                return !1
            },
            "mousedown \x3e .inner \x3e .page": this.ps,
            mousemove: this.mousemove,
            mouseout: this.mouseout,
            scroll: this.OG
        }
    };
    f.remove = function () {
        this.undelegateEvents();
        this.stopListening();
        this.Ea.forEach(function (a) {
            a.remove()
        })
    };
    f.initialize = function (a) {
        this.listenTo(this.model, {"page:add": this.OF, "page:move": this.PF, "page:remove": this.QF, resize: this.ar});
        this.listenTo(G, {
            "pageView:copyButton:click": this.Hx,
            "pageView:deleteButton:click": this.Hx,
            "pageView:toolbar:mouseout": this.TF
        });
        this.Ea = [];
        var b = this;
        this.model.aa.forEach(function (c) {
            b.Ea.push(new rH({model: c, yh: Lb(a.F)}))
        });
        this.F = a.F;
        this.fe = this.Vk = this.xc = this.Ts = 0;
        this.Op = !1;
        this.eD = qe(this);
        this.Ge = function () {
            var a = b.model.aa[0], a = Math.max(a.C(), a.D());
            return Math.max(1,
                Math.min(a / 1024))
        }();
        this.render()
    };
    f.render = function () {
        var a = this.$el.children(".inner"), b = this;
        this.Ea.forEach(function (c, d) {
            c.render();
            a.append(c.$el);
            c.df(sH(b, d));
            c.$el.addClass("on")
        });
        var c = this.Ea[this.Ea.length - 1].$el, d = this.$("#addNewPage");
        aD.aA ? (d.hide(), this.$el.removeClass("multiPage")) : (d.css("top", sH(this, this.Ea.length)), d.insertAfter(c), this.$el.removeClass("multiPage"), this.model.Ha().nr() && (this.$el.addClass("multiPage"), 1 < this.model.aa.length && 30 <= this.model.aa.length && this.$("#addNewPage").addClass("off")));
        var c =
            sH(this, 0), d = tH(this), e = VB();
        a.css("height", c + d + ($(window).height() - e.va()));
        this.ar();
        return this
    };
    f.BA = function (a) {
        a = $(a.currentTarget);
        if (!a.is(":animated") && !a.is(".off")) {
            a = Bj(this.model);
            var b = wy(a.serialize());
            b.pageIndex = T(this.model, a);
            y.register(new yy(1, b))
        }
        uH(this);
        return !1
    };
    f.OG = function () {
        var a = this.$el.scrollTop() || 0, b = sH(this, 0), c = VB(), d;
        d = this.model;
        d = T(d, J(d));
        var e = this.Ea[d].$el.offset(), g = this.Ts < a ? "down" : "up", h = -1;
        G.trigger("documentView:scroll", a);
        this.Ts = 1 * a;
        vH(this);
        window.clearTimeout(this.Vk);
        if (!this.$el.hasClass("modifying")) {
            d = $(window).height();
            if (ZB > d / 2)for (c = 0; c < this.Ea.length - 1; c++) {
                h = b + c * (ZB + $B);
                if (h < a) {
                    if (e = h + ZB - a, 0 >= e) {
                        h = c + 1;
                        continue
                    }
                } else e = a + d - h;
                h = e > a + d - (h + ZB) ? c : c + 1;
                break
            } else"up" == g && e.top + ZB > c.va() ? h = Math.floor((a + $(window).height() - (b - $B)) /
                    (ZB + $B)) - 1 : "down" == g && 0 > e.top && (h = Math.ceil((a - b) / (ZB + $B)));
            0 == a ? h = 0 : a >= this.$el.children(".inner").height() - this.$el.prop("clientHeight") && (h = this.model.aa.length - 1);
            0 <= h && (h = Math.min(this.model.aa.length - 1, h), h = Math.max(0, h), xj(this.model, h))
        }
    };
    f.mousemove = function (a) {
        this.eD.read(function () {
            var b = (void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY) + this.$el.scrollTop();
            this.Ea.forEach(function (a) {
                var d = a.qa();
                qe().write(function () {
                    b > d.O() && b < d.va() ? a.$el.addClass("pseudoHover") : a.$el.removeClass("pseudoHover")
                })
            })
        })
    };
    f.mouseout = function (a) {
        -1 < $(a.relatedTarget || a.toElement).parents().addBack().index(this.$el.children(".inner")) || this.Ea.forEach(function (a) {
            a.$el.removeClass("pseudoHover")
        })
    };
    f.ps = function (a) {
        function b(a) {
            var b = (void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX) - e;
            a = (void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY) - g;
            if (k || 4 < Math.abs(b) || 4 < Math.abs(a)) {
                k || (k = !0, d.$el.addClass("dragging doNotAnimate"), xj(q, T(q, r)));
                for (var b = -1, c = 0; c < m.length && !(h + a < m[c]); c++)b++;
                0 > b && (b = 0);
                Ej(q, r, b);
                b = a = h + a;
                a < x ? (b = (x - a) / (x - w), b = 2 >= b ? x - (x - a) * (1 - b / 4) : w) : a > C && (b = (a - C) / (z - C), b = 2 >= b ? C + (a - C) * (1 - b / 4) : z);
                d.df(b)
            }
            return !1
        }

        function c() {
            l.off("mousemove|touchmove",
                b).off("mouseup|touchend", c);
            if (k) {
                d.$el.removeClass("doNotAnimate");
                var a = r.ea(), e = sH(u, a);
                d.$el.animate({top: e}, 500, "easeOutBack", function () {
                    d.df(e);
                    d.$el.removeClass("dragging")
                });
                y.register(new yy(5, {pageIndex: a, oldPageIndex: p}))
            }
        }

        if (!(0 === $(a.target).closest(".pageToolbar").length || 0 < $(a.target).closest("a").length)) {
            var d = null;
            this.Ea.forEach(function (b) {
                b.$el.get(0) == a.currentTarget && (d = b)
            });
            var e = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX, g = void 0 !== a.clientY ? a.clientY :
                a.originalEvent.touches[0].clientY, h = d.nb(), k = !1, l = new V($(document));
            l.on("mousemove|touchmove", b).on("mouseup|touchend", c);
            for (var m = [], n = 0; n < this.Ea.length; n++)m.push(sH(this, n) - ZB / 2);
            var q = this.model, r = d.model, p = T(q, r), u = this, w = sH(this, -1), z = sH(this, this.Ea.length), x = sH(this, 0), C = sH(this, this.Ea.length - 1);
            return !1
        }
    };
    f.QF = function (a, b, c) {
        O();
        var d = this, e = this.Ea[c];
        window.clearTimeout(this.Vk);
        this.xc && xj(a, Math.min(a.aa.length - 1, c));
        b = {height: 0, top: sH(this, c) + this.fe * (ZB + $B)};
        this.xc && c == a.aa.length && (b.top += ZB);
        this.$el.addClass("modifying");
        e.$el.addClass("removing").animate(b, {
            duration: 500, Fe: "easeOutSine", queue: !1, complete: function () {
                e.remove();
                d.$el.removeClass("modifying");
                d.xc ? Xx && (d.Vk = window.setTimeout(function () {
                    vH(d)
                }, 1E3)) : wH(d)
            }
        });
        this.Ea.splice(c, 1);
        xH(this, c);
        this.$el.hasClass("holding") || yH(this,
            c)
    };
    f.OF = function (a, b, c, d) {
        O();
        30 <= this.model.aa.length && this.$("#addNewPage").addClass("off");
        a = !0;
        !1 === d && (a = !1);
        d = T(this.model, b);
        c = b.D() * M;
        var e = this.Ea[0];
        this.Ea.splice(d, 0, new rH({model: b, yh: Lb(this.F)}));
        var g = this.Ea[d];
        b = e.hb();
        var h = this, k = sH(this, d, this.model.aa.length - 1);
        zH(g, b, k + this.fe * (ZB + $B));
        g.$el.addClass("on").css("height", 0);
        window.clearTimeout(this.Vk);
        this.xc ? xj(this.model, d - 1) : a && xj(this.model, d);
        0 == d ? g.$el.insertBefore(e.$el) : g.$el.insertAfter(this.Ea[d - 1].$el);
        h.$el.addClass("modifying");
        var l =
            sH(this, d);
        g.$el.animate({height: c, top: l}, {
            duration: 500, Fe: "easeOutSine", queue: !1, complete: function () {
                g.df(l);
                h.$el.removeClass("modifying");
                h.xc && Xx && (h.Vk = window.setTimeout(function () {
                    vH(h)
                }, 1E3))
            }
        }).css("overflow", "");
        xH(this, d);
        a && !this.$el.hasClass("holding") && yH(this, d)
    };
    f.PF = function (a, b, c, d) {
        function e(a, b) {
            return function () {
                a.df(b)
            }
        }

        O();
        a = this.Ea[c];
        b = this.Ea[d];
        c < d ? a.$el.insertAfter(b.$el) : c > d && a.$el.insertBefore(b.$el);
        this.Ea.splice(d, 0, this.Ea.splice(c, 1)[0]);
        c > d && (a = c, c = d, d = a);
        for (; c <= d; c++)a = this.Ea[c], a.$el.hasClass("dragging") || (b = sH(this, c), a.$el.animate({top: b}, 500, e(a, b)));
        yH(this, d)
    };
    f.Hx = function () {
        O();
        this.xc = this.xc || this.model.aa.length;
        this.$el.addClass("holding");
        30 >= this.model.aa.length && this.$("#addNewPage").removeClass("off")
    };
    f.TF = function () {
        vH(this)
    };
    function vH(a) {
        a.xc && !a.$el.hasClass("modifying") && (a.xc = 0, a.fe = 0, xH(a, 0, !0), a.$el.removeClass("holding"))
    }

    function wH(a) {
        if (!vn) {
            var b = VB(), c = a.Ea[0], d = AH(c), e = BH(c), g;
            d.C() <= b.C() ? (g = b.Y() + Math.round((b.C() - d.C()) / 2), a.$el.children(".inner").css("width", "")) : (g = b.Y() + b.C() / 6, a.$el.children(".inner").css("width", g + e.C() + g));
            a.Ea.forEach(function (b, c) {
                var d = sH(a, c);
                zH(b, g, d)
            });
            e = BH(c);
            a.$("#addNewPage").css("top", sH(a, a.Ea.length)).css("left", e.Y()).css("width", e.C())
        }
    }

    function sH(a, b, c) {
        var d = ll(a.model.Ha()) * M;
        void 0 === c && (c = a.model.aa.length);
        a.xc && (c = a.xc);
        var e = VB(), g = Math.round(50 * M);
        a = tH(a, c);
        c = e.O();
        vn ? c = 0 : a <= e.D() && (c += (e.D() - a) / 2);
        return c + (d + g) * b
    }

    function tH(a, b) {
        var c, d = ll(a.model.Ha()) * M;
        void 0 === b && (b = a.model.aa.length);
        void 0 === c && (c = YB);
        a.xc && (b = Math.max(a.xc, b));
        c = XB[c];
        var e = a.$("#addNewPage"), d = b * d + 50 * (b - 1) * c;
        a.model.Pr() && !$("body").hasClass("blockDocument") && (d += 50 * c + e.outerHeight());
        return Math.round(d)
    }

    function CH(a, b) {
        var c = VB(), d = tH(a);
        d > c.D() ? (d = sH(a, 0) + d + (a.$el.prop("clientHeight") - c.va()), ZB > c.D() && (d += c.C() / 6)) : d = a.$el.prop("clientHeight");
        b ? a.$el.children(".inner").animate({height: d}, {
            duration: 500,
            Fe: "easeOutSine",
            queue: !1
        }) : a.$el.children(".inner").css("height", d)
    }

    function xH(a, b, c) {
        var d = ll(a.model.Ha());
        void 0 === b && (b = 0);
        void 0 === c && (c = 0 < a.xc);
        CH(a, c);
        var e = 0;
        a.xc && b == a.model.aa.length ? (c = (a.fe || a.xc) - b, a.fe != c - 1 && (c = a.fe + 1, a.fe = b), e += (d + 50 * M) * c, a.fe = c) : a.fe && (c = a.fe, e += (d + 50 * M) * c);
        a.$("#addNewPage").animate({top: sH(a, a.Ea.length) + e}, {duration: 500, Fe: "easeOutSine", queue: !1});
        var g = a.$el.scrollTop() || 0, h = g + a.$el.prop("clientHeight");
        a.Ea.forEach(function (a, b) {
            var c = sH(this, b) + e, n = c + d;
            !this.xc && !this.fe || n > g && c < h ? a.$el.addClass("transitioning").animate({top: c},
                {
                    duration: 500, Fe: "easeOutSine", queue: !1, complete: function () {
                    a.df(c)
                }
                }) : a.df(c)
        }, a);
        window.setTimeout(function () {
            for (var b = 0; b < a.Ea.length; b++)a.Ea[b].$el.removeClass("transitioning")
        }, 500)
    }

    function yH(a, b) {
        b = Math.max(0, Math.min(a.Ea.length - 1, b));
        var c = a.$el.scrollTop() || 0;
        if (b == a.Ea.length - 1)c = VB(), c = sH(a, a.model.aa.length) + a.$("#addNewPage").height() - c.va(); else {
            var d = sH(a, b), e = d + ZB, g = a.$el.prop("clientHeight"), g = c + g;
            g < e ? c += e - g + 48 : c > e && (c -= c - d + 48)
        }
        a.Op || c == a.$el.scrollTop() || (a.Op = !0, a.$el.animate({scrollTop: c}, 500, "easeOutSine", function () {
            a.Op = !1
        }))
    }

    f.ar = function (a) {
        a = a || J(this.model);
        var b = VB(), c = YB, d = BH(this.Ea[a.ea()]).scale(1 / M), c = d.C(), e = d.D();
        if (vn || 0 === c || 0 === e)c = XB.indexOf(1); else {
            d = b.C() / c;
            t && t.Pr && t.Pr() ? (d = (b.C() - $(".pageToolbar").outerWidth(!0)) / c, (e + 50) * d > b.D() - this.$("#addNewPage").outerHeight() && (d = (b.D() - this.$("#addNewPage").outerHeight()) / (e + 50))) : e * d > b.D() && (d = b.D() / e);
            -1 == tb.indexOf(An) && (b = XB.indexOf(An), XB.splice(b, 1));
            An = Math.min(d, 1);
            for (b = XB.length - 1; 0 <= b; b--)if (An < XB[b]) {
                XB.splice(b + 1, 0, An);
                break
            } else if (An == XB[b])break;
            c = XB.indexOf(An)
        }
        aC(this, c, a)
    };
    function rr(a) {
        for (var b = Sa, c = 0; c < b.Ea.length; c++)if (b.Ea[c].model == a)return b.Ea[c].qa();
        return null
    }

    function aC(a, b, c) {
        c = c || J(a.model);
        a.$el.addClass("zooming");
        c = a.Ea[c.ea()];
        YB = b;
        M = XB[b];
        $B = Math.round(50 * M);
        ZB = Math.round(AH(c).D());
        wA();
        G.trigger("documentView:zoom", b);
        wH(a);
        CH(a, !1);
        b = VB();
        var d = a.$el.children(".inner").width();
        c = DH(c);
        d > b.C() && (d = Math.round(c.Y() + c.C() / 2), d = Math.round(d - b.Y() - b.C() / 2), c.C() < b.C() && (d += (b.C() - c.C()) / 2), a.$el.scrollLeft(d));
        tH(a) > b.D() && (c = Math.round(c.O() + c.D() / 2), a.Ts = 1 * (a.$el.scrollTop() || 0), a.$el.scrollTop(Math.round(c - b.va() / 2)));
        a.model.oa().forEach(function (a) {
            a.Ba()
        });
        gv(Hb(a.F));
        a.$el.removeClass("zooming")
    }

    function uH(a) {
        a.$el.focus().blur();
        window.getSelection().removeAllRanges()
    };
    function pj() {
    }

    pj = X.extend();
    pj.prototype.initialize = function (a) {
        this.analytics = a.analytics;
        this.te = a.te;
        this.wd = a.wd;
        this.anchor = a.anchor;
        this.ak = a.ak;
        this.Sh = a.Sh;
        this.Ty = 0;
        a = _.extend({}, {Bj: !0, position: "topLeft", Od: {left: 10, top: -10}}, a);
        X.prototype.initialize.call(this, a);
        0 < this.Sh ? (this.listenTo(this.wd, "session:sync", this.tw), this.analytics && Tf(this.analytics, this.te, "header", "publish_pop_over")) : EH(this)
    };
    pj.prototype.tw = function (a) {
        2 == a && (a = 0 === $(".modalContent").length, this.Ty++, a && this.Ty >= this.Sh && (EH(this), this.stopListening(this.wd, "session:sync", this.tw)))
    };
    function EH(a) {
        a.je(a.anchor);
        FH(a);
        a.analytics && a.analytics.track("dialog_show", {
            type: a.te,
            section: "editor",
            subsection: "header",
            location: "publish_pop_over"
        })
    }

    function FH(a) {
        a.anchor.one("click", function () {
            a.analytics && Uf(a.analytics, a.ak, "header", a.te + "_dialog")
        })
    }

    pj.prototype.Gn = function () {
        return GH
    };
    pj.prototype.remove = function () {
        this.analytics && Vf(this.analytics, this.te, "header", "publish_pop_over");
        Pm.prototype.remove.call(this)
    };
    function HH(a, b, c) {
        this.context = a;
        this.active = !!c;
        this.eb = b
    }

    HH.prototype.getContext = function () {
        return this.context
    };
    function IH(a) {
        switch (a.context) {
            case "PUBLIC_STREAM":
                return a.eb.format("editorControlsPublicationPublic");
            case "TEAM_STREAM":
                return a.eb.format("editorControlsPublicationShowing");
            case "TEAM_TEMPLATE":
                return a.eb.format("editorControlsPublicationTemplated");
            case "MARKETPLACE_LAYOUT":
                return a.eb.format("editorControlsPublicationMarketplace");
            default:
                throw Error("Unknown EditorConfig.PublicationContext " + a.context);
        }
    }

    function JH(a) {
        switch (a.context) {
            case "PUBLIC_STREAM":
                return a.eb.format("editorControlsPublicationMakeActivePublic");
            case "TEAM_STREAM":
                return a.eb.format("editorControlsPublicationMakeActiveShowTeam");
            case "TEAM_TEMPLATE":
                return a.eb.format("editorControlsPublicationMakeActivePublishAsTemplate");
            case "MARKETPLACE_LAYOUT":
                return a.eb.format("editorControlsPublicationMakeActivePublishAsLayout");
            default:
                throw Error("Unknown EditorConfig.PublicationContext " + a.context);
        }
    }

    HH.prototype.toggle = function (a) {
        return new HH(this.context, this.eb, void 0 !== a ? a : !this.active)
    };
    var KH = {PUBLIC_STREAM: 2, TEAM_STREAM: 0, TEAM_TEMPLATE: 1}, LH = {
        PUBLIC_STREAM: "switchMakePublic",
        TEAM_STREAM: "switchShowTeam",
        TEAM_TEMPLATE: "switchPublishTemplate",
        MARKETPLACE_LAYOUT: "switchPublishLayout"
    };

    function MH() {
    }

    MH = X.extend({className: "docPublisherPopOver"});
    MH.prototype.initialize = function (a) {
        X.prototype.initialize.call(this, a);
        this.eb = a.eb
    };
    function NH(a, b) {
        function c(a, c) {
            return new HH(b[c].getContext(), d.eb, ND(a))
        }

        var d = a, e = b.map(function (a) {
            return new MD({on: a.active})
        }), g = e.map(function (a, c) {
            var e = $(d.KH({label: JH(b[c])}));
            e.addClass(LH[b[c].context]);
            a.render().$el.appendTo(e);
            return e
        }), h = a.$(".buttonContainer");
        g.forEach(function (a) {
            a.insertBefore(h)
        });
        return new P(function (a, b) {
            d.once("hide", function (d) {
                return 2 === d ? a(e.map(c)) : b(new OH)
            })
        })
    }

    MH.prototype.ni = _.template('\x3cp class\x3d"error"\x3e\x3c%- message %\x3e\x3c/p\x3e');
    MH.prototype.KH = _.template('\x3cdiv class\x3d"switchContainer"\x3e\x3clabel\x3e\x3c%- label %\x3e\x3c/label\x3e\x3c/div\x3e');
    function PH(a) {
        this.analytics = a.analytics;
        this.document = a.document;
        this.xa = a.xa;
        this.oc = a.oc;
        this.ng = a.ng;
        this.pj = [];
        var b = {};
        b.PUBLIC_STREAM = this.qj.bind(this);
        b.TEAM_STREAM = this.Tp.bind(this);
        b.TEAM_TEMPLATE = this.jm.bind(this);
        b.MARKETPLACE_LAYOUT = this.nG.bind(this);
        this.mG = b;
        b = {};
        b.PUBLIC_STREAM = this.Oj.bind(this);
        b.TEAM_STREAM = this.Vp.bind(this);
        b.TEAM_TEMPLATE = this.lm.bind(this);
        this.dI = b;
        this.ck = this.vm = null;
        this.eb = a.eb
    }

    f = PH.prototype;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.trigger = Backbone.Events.trigger;
    f.listenTo = Backbone.Events.listenTo;
    f.stopListening = Backbone.Events.stopListening;
    f.Su = function (a) {
        return 0 < a.filter(function (a) {
            return a.active
        }).length && this.document.isEmpty() ? P.reject(Error(this.eb.format("editorControlsPublishErrorNoContent"))) : P.resolve(a)
    };
    function QH(a, b) {
        var c = a.eb;
        a.ck = b.Xf.get("associatedMedia", null);
        a.pj = Be(b).map(function (a) {
            return new HH(a, c, 0 <= b.Xf.get("activePublicationContexts", []).indexOf(a))
        });
        return a
    }

    function RH(a) {
        return [].concat(a.pj).map(Object.freeze)
    }

    f.fz = function (a) {
        function b() {
            return a.some(function (a) {
                return a.active
            })
        }

        var c = this, d = function () {
            return a.map(function (a, b) {
                var d = a.active ? c.mG : c.dI;
                return a.active !== c.pj[b].active && d[a.getContext()]
            })
        }();
        if (0 === d.filter(function (a) {
                return !!a
            }).length)return P.resolve(a);
        this.trigger("processingStateChange", !0);
        return Bn(1E3).then(function () {
            var e = d.map(function (a) {
                return a ? a() : P.resolve(null)
            });
            return P.settle(e).then(function (d) {
                var e = d.filter(function (a) {
                    return a.isRejected()
                });
                c.pj = d.map(function (b,
                                       d) {
                    return (b.isFulfilled() ? a : c.pj)[d]
                });
                if (0 < e.length)throw e[0].reason();
                b() && SH(c);
                return c.pj
            })
        }).finally(function () {
            c.trigger("processingStateChange", !1)
        })
    };
    function TH(a) {
        var b = (new dq).Uj(!0);
        return a.ck ? Cr(Ga, a.ck, b).then(function (a) {
            return a.na().Hc()
        }) : null !== a.ck ? P.resolve("PENDING_REVIEW") : P.resolve(null)
    }

    f.Tp = function () {
        return this.xa.qj("BRAND")
    };
    f.qj = function () {
        return this.xa.qj("GLOBAL").tap(function () {
            var a = this.analytics, b = this.xa.Pa();
            a.track("design_public", {design: b, template: a.rf})
        }.bind(this))
    };
    f.jm = function () {
        return this.xa.jm().tap(function () {
            var a = this.analytics, b = this.xa.Pa();
            a.track("design_templatify", {design: b, template: a.rf})
        }.bind(this))
    };
    f.Vp = function () {
        return this.xa.Oj("BRAND")
    };
    f.Oj = function () {
        return this.xa.Oj("GLOBAL").tap(function () {
            var a = this.analytics, b = this.xa.Pa();
            a.track("design_private", {design: b, template: a.rf})
        }.bind(this))
    };
    f.lm = function () {
        return this.xa.lm().tap(function () {
            var a = this.analytics, b = this.xa.Pa();
            a.track("design_untemplatify", {design: b, template: a.rf})
        }.bind(this))
    };
    f.nG = function () {
        var a = this;
        return yC(this.document.La()) ? P.reject(Error("You cannot publish an untitled design as a layout - please title your design.")) : new P(function (b, c) {
            function d(c, d) {
                "submitted" == d && (jy(), b(new HH("MARKETPLACE_LAYOUT", a.eb, !0)))
            }

            var e = new UH(a.xa, a.oc), g = new VH({workflow: e});
            e.on("change:state", d);
            g.on("remove", function () {
                e.off("change:state", d);
                c(Error("No action specified"))
            });
            g.show()
        })
    };
    function WH(a) {
        var b = Jl(Kl(new Hl, "SCREEN").rm("PNG").tm("THUMBNAIL"), 96);
        return new P(function (c, d) {
            var e = Ol(Nl(Ml(new Ll, a.xa.Pa()), a.xa.qc()), b);
            a.ng.lk(e, c, d)
        })
    }

    function SH(a) {
        function b() {
            c.vm = null
        }

        var c = a;
        a.vm || (a.vm = WH(a), a.vm.finally(b))
    }

    function OH() {
        Error.captureStackTrace && Error.captureStackTrace(this, this.constructor);
        this.message = "Cancelled document publication"
    }

    OH.prototype = Object.create(Error.prototype);
    OH.prototype.constructor = OH;
    function XH(a, b) {
        return a.Xf.get("editorActions", []).map(function (a) {
            return (a = YH[a] || null) ? a(b) : null
        })
    }

    var YH = {
        UPGRADE: function (a) {
            var b = new ZH({eb: Jb(a.F)});
            b.on("click", function () {
                var b = new $H, d = Mm(Jm()).ta(), e = uC(), b = aI({
                    jb: Da,
                    analytics: a.analytics,
                    Sa: d,
                    lj: bI(b),
                    Qy: e,
                    Cj: !1,
                    Zg: !1,
                    F: a.F
                });
                b.on("signup", function () {
                    window.location = "/brand/onboarding/upgrader"
                });
                cI(b);
                Wf(H, "editor")
            });
            return b
        }, SHARE: function (a) {
            var b = Jb(a.F), c = new Backbone.View({
                tagName: "button",
                className: "button editorActionShare",
                events: {
                    click: function (b) {
                        (new qH({model: a.document, F: a.F})).je($(b.target))
                    }
                }
            });
            c.$el.text(b.Dt());
            return c
        },
        EXPORT: function (a) {
            var b, c;
            b = Jb(a.F);
            c = new Backbone.View({
                tagName: "button",
                className: "button editorActionExport",
                events: {
                    click: function (b) {
                        (new XG({
                            model: a.document,
                            sa: a.sa,
                            Ng: "DESIGN_TUTORIAL" === a.Ga.ge(),
                            Yc: a.ii,
                            F: a.F
                        })).je($(b.target))
                    }
                }
            });
            b = b.download();
            c.$el.text(b);
            return c
        }
    };
    YH.PUBLISH_TO_STREAM = function (a) {
        function b() {
            return RH(l).filter(function (a) {
                return a.active
            }).sort(function (a, b) {
                var c = KH[a.getContext()] || 0, d = KH[b.getContext()] || 0;
                return c === d ? 0 : c > d ? -1 : 1
            })[0]
        }

        function c(a) {
            null !== a && (a === Jr ? m.$el.addClass("publishToStreamSwitchForSale") : (m.$el.addClass("publishToStreamSwitchInReview"), jy()))
        }

        function d(b) {
            var c = Jb(a.F);
            b instanceof Error || (b = Error(c.format("editorControlsErrorFlippingSwitch")));
            (new $m({
                title: c.format("editorControlsPublishErrorTitle"), content: $("\x3cp\x3e" +
                    b.message + "\x3c/p\x3e")
            })).show().$el.addClass("docPublisherError")
        }

        function e(b) {
            var c = Jb(a.F), e = RH(l).map(function (a, d) {
                return new HH(a.getContext(), c, b && 0 === d ? b : a.active)
            }), h = new MH({Lb: c.format("editorControlsPublicationSaveChanges"), eb: c}), k = h.remove.bind(h);
            return NH(h.je(m.$el), e).then(l.Su.bind(l)).then(l.fz.bind(l)).finally(g).tap(k).catch(OH, k).catch(d)
        }

        function g() {
            var a = b() || RH(l)[0];
            if (a) {
                n = !0;
                try {
                    var c = m, d = IH(a);
                    c.pl = d;
                    c.$(".switchLabelOn").text(d);
                    m.toggle(a.active)
                } finally {
                    n = !1
                }
            }
        }

        function h(a) {
            var b = RH(l).map(function (b) {
                return b.toggle(a)
            });
            return l.Su(b).then(l.fz.bind(l)).finally(g).catch(d)
        }

        var k = Be(a.Ga), l = QH(new PH({
            analytics: a.analytics,
            xa: a.xa,
            document: a.document,
            oc: a.oc,
            ng: a.ng,
            eb: Jb(a.F)
        }), a.Ga), m = function () {
            var a = RH(l), c = a[0], d = b() || c;
            (a = d ? new MD({
                on: d.active,
                pl: IH(d),
                fo: JH(c),
                ei: 1 === a.length || !d.active
            }) : null) && a.$el.addClass("publishToStreamSwitch");
            return a
        }(), n = !1;
        if (!m)return null;
        0 <= k.indexOf("MARKETPLACE_LAYOUT") && TH(l).then(c);
        m.on("toggle", function (a) {
            var b =
                RH(l), c = 1 < b.length ? e : h;
            m.ei = 1 === b.length || !a;
            if (!n)return c(a)
        });
        m.on("click", function () {
            m.ei || e()
        });
        l.on("processingStateChange", function (a) {
            m.$el.toggleClass("switchProcessing", a)
        });
        return m
    };
    function ZH() {
    }

    ZH = Backbone.View.extend({tagName: "button", className: "button buttonUpgrade"});
    ZH.prototype.initialize = function (a) {
        this.eb = a.eb
    };
    ZH.prototype.events = function () {
        return {click: this.trigger.bind(this, "click")}
    };
    ZH.prototype.render = function () {
        this.$el.html(this.template({upgrade: this.eb.lI()}));
        return this
    };
    ZH.prototype.template = _.template('\x3cdiv class\x3d"buttonUpgradeSparkle"\x3e\x26starf;\x3c% _.times(5, function() { %\x3e\x3cspan\x3e\x3c/span\x3e\x3c% }); %\x3e\x3c/div\x3e\x3c%- upgrade %\x3e');
    function dz() {
    }

    dz = Backbone.View.extend({el: "#editorControls"});
    dz.prototype.initialize = function (a) {
        this.listenTo(this.model, "change:title", this.bu);
        this.listenTo(this.model, "resize", this.bu);
        this.listenTo(this.model, "change", this.AB);
        this.listenTo(G, "documentView:scroll", this.BB);
        this.listenTo(G, "documentView:zoom", this.CB);
        this.listenTo(G, "session:sync", this.ut);
        this.sa = a.sa;
        this.jg = a.jg;
        this.xa = a.xa;
        this.zq = 2;
        this.Aq = !1;
        this.rh = Date.now();
        this.np = a.np;
        this.Ip = a.Ip;
        this.jq = a.jq;
        this.F = a.F;
        this.render()
    };
    dz.prototype.events = function () {
        return {
            "click #documentFileMenuButton": this.GA,
            "click #documentTitle .content": this.KA,
            "mousedown #documentTitle .content": function (a) {
                a.stopPropagation();
                a.preventDefault();
                return !1
            },
            "click #documentFileMenuUndoButton": this.JA,
            "click #documentFileMenuRedoButton": this.IA,
            "click #editorLogo": this.HA
        }
    };
    dz.ov = function () {
        $(".helpMenuButton").remove();
        dz.zC = !0
    };
    dz.vB = function () {
        $("#yourDesigns").remove();
        dz.yI = !0
    };
    dz.fH = function (a) {
        $("#documentTitle").addClass("nonInteractive");
        $("#documentTitle .content").text(a);
        dz.Ny = a
    };
    dz.Cr = function () {
        return void 0 !== dz.Ny
    };
    dz.mC = function (a) {
        return "profileHeader" === a.model.Ha().G() ? new dI(a) : new dz(a)
    };
    f = dz.prototype;
    f.remove = function () {
        this.undelegateEvents();
        this.stopListening();
        return this
    };
    f.render = function () {
        this.bu();
        dz.zC && this.$(".helpMenuButton").remove();
        dz.Cr() && (this.$("#documentTitle").addClass("nonInteractive"), this.$("#documentTitle .content").text(dz.Ny));
        dz.yI && this.$("#yourDesigns").remove();
        this.Ip.forEach(function (a, b) {
            var c = a && $("\x3cli\x3e\x3c/li\x3e");
            a && (a.render().$el.addClass("prerollAnimation prerollDelay" + (b + 3)).appendTo(c), $("#documentMenu").append(c))
        });
        return this
    };
    f.GA = function (a) {
        a = $(a.target);
        var b = this.jq();
        b.je(a);
        this.listenTo(b, "documentSaveRequested", this.LG);
        this.listenTo(b, "documentResizeRequested", this.Mo)
    };
    f.KA = function (a) {
        dz.Cr() || (new hH({model: this.model, F: this.F})).je($(a.currentTarget))
    };
    f.JA = function () {
        $("#documentBlocker").hasClass("on") || sv()
    };
    f.IA = function () {
        $("#documentBlocker").hasClass("on") || rv()
    };
    f.HA = function () {
        -1 != Ae.indexOf(this.jg.ge()) && H && H.km("minichallenge_leave");
        this.$el.off("mouseout", "#documentMenu li")
    };
    f.AB = function () {
        0 < y.zc.length ? this.$("#primaryNavigation").removeClass("undoDisabled") : (this.$("#primaryNavigation").addClass("undoDisabled"), this.$("#documentFileMenuUndoButton").blur());
        0 < y.sj.length ? this.$("#primaryNavigation").removeClass("redoDisabled") : (this.$("#primaryNavigation").addClass("redoDisabled"), this.$("#documentFileMenuRedoButton").blur())
    };
    f.CB = function () {
        $("#zoomText").text(Math.round(1E3 * M) / 10 + "%")
    };
    f.BB = function (a) {
        var b = this.$("#documentMenu");
        a ? b.addClass("dark") : b.removeClass("dark")
    };
    f.bu = function () {
        var a = this.model.La();
        dz.Cr() || (this.$("#documentTitle .content").text(gz(a)), this.np && this.np(gz(a, {HC: !0})))
    };
    f.ut = function (a) {
        function b(a) {
            var b = Jb(c.F), g = $("#documentSyncStatus");
            0 === a && null != c.xa.ag ? g.text(b.format("editorControlsUnsavedChanges")) : 1 === a ? g.text(b.py()) : 2 === a ? g.text(b.Ju()) : g.text("")
        }

        var c = this;
        2 === a && (this.rh = Date.now());
        this.zq = a;
        this.Aq || (b(a), window.setTimeout(function () {
            c.zq !== a && b(c.zq);
            c.Aq = !1
        }, 600), this.Aq = !0)
    };
    f.LG = function () {
        this.xa.save();
        null == this.xa.ag || this.xa.Qe() || (this.ut(1), this.ut(2))
    };
    f.Mo = function (a) {
        var b = new Ay(2, {
            "new": {docType: a},
            old: {docType: this.model.Ha(), model: this.model.serialize()}
        }), c = this.model.La();
        c.rq = a.getName();
        c.trigger("change");
        O();
        y.register(b);
        b.Jf()
    };
    function dI() {
    }

    dI = dz.extend({});
    dI.prototype.initialize = function (a) {
        dz.prototype.initialize.apply(this, arguments);
        this.username = $("head").find("meta[name\x3dauthorUsername]").attr("content");
        $(".editorActionShare").hide();
        this.stopListening(this.model, "change:title");
        this.$(".editorActionExport").text("Publish");
        this.render()
    };
    function bD() {
    }

    bD = Backbone.View.extend({
        tagName: "div",
        id: "overlays",
        template: _.template('\x3cdiv class\x3d"mask"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotation align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotationGuide"\x3e\x3c/div\x3e')
    });
    f = bD.prototype;
    f.initialize = function (a) {
        this.Be = a.Be;
        this.F = a.F;
        G.on("documentView:zoom", this.Ql, this);
        this.listenTo(this.model, {"page:change:selected": this.render, resize: this.Ql});
        this.gl = this.gl.bind(this);
        this.Ym = this.Ym.bind(this);
        this.qn = this.qn.bind(this);
        this.Be.$el.on("mousedown", this.gl);
        this.Be.$el.on("touchstart", this.Ym);
        this.Be.$el.on("touchend", this.qn);
        this.$el.html(this.template());
        this.render();
        this.$el.prependTo(this.Be.$el.children(".inner"))
    };
    f.remove = function () {
        Backbone.View.prototype.remove.call(this);
        this.Be.$el.off("mousedown", this.gl);
        this.Be.$el.off("touchstart", this.Ym);
        this.Be.$el.off("touchend", this.qn)
    };
    f.render = function () {
        this.model.oa().forEach(function (a) {
            a.Ub && a.Ca()
        });
        return this
    };
    f.Ql = function () {
        var a = jl(this.model.Ha());
        this.$el.css("left", -a * M)
    };
    f.Ym = function () {
        this.Pw = !0
    };
    f.qn = function () {
        this.Pw = !1
    };
    f.gl = function (a, b) {
        function c(a) {
            m || a.shiftKey || O();
            m = !0;
            var b = e(a) - r;
            a = g(a) - p;
            0 > b && x.css("left", u + b);
            0 > a && x.css("top", w + a);
            x.css("display", "").css("width", Math.abs(b)).css("height", Math.abs(a));
            $(A).each(function (a, b) {
                zD.call(b)
            });
            return !1
        }

        function d(a) {
            C.off("mousemove|touchmove", c).off("mouseup|touchend", d);
            $("#marquee").remove();
            a.shiftKey && z.forEach(xD);
            m && (a = t.Da(), 0 === a.length ? O() : 1 == a.length ? (O(), Vd(a[0])) : gv(Hb(h.F)))
        }

        function e(a) {
            a = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX;
            a -= q.left;
            return a += n * M
        }

        function g(a) {
            a = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY;
            return a -= q.top
        }

        var h = this;
        if (h.Pw || 3 == a.which || a.ctrlKey)return !0;
        var k = $(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, .bg, .elements"), l = $(a.target).is(".elements .background.image.element, .elements .background.image.element img");
        if (!(k || l || b) || 0 < $(".dd-container.on").length)return !0;
        var m = !1, n = jl(this.model.Ha()), q = $("#canvaDocument").offset(), r = e(a), p = g(a), k = document.getElementById("canvaDocument"),
            u = r + k.scrollLeft, w = p + k.scrollTop, z = t.Da();
        $(a.target).is("input") || $("*:focus").blur();
        a.shiftKey || O();
        var x = $('\x3cdiv id\x3d"marquee"\x3e\x3c/div\x3e');
        x.css("display", "none").css("left", u).css("top", w).appendTo(this.$el);
        var C = new V($(document));
        C.on("mousemove|touchmove", c).on("mouseup|touchend", d);
        var A = $("#content .element");
        uH(h.Be);
        a.preventDefault()
    };
    function rH() {
    }

    rH = Backbone.View.extend({tagName: "section", className: "page"});
    rH.uB = function () {
        $(".pageToolbar").addClass("disabled").hide();
        $(".pageToolbarCopy").removeClass("enabled").addClass("disabled");
        rH.SF = !0
    };
    f = rH.prototype;
    f.events = function () {
        return {
            "mousedown \x3e .elements": this.ps,
            "mouseout .pageToolbar": this.fD,
            "click .pageToolbarCopy.enabled": this.ZA,
            "click .pageToolbarDelete.enabled": this.$A,
            "click .pageToolbarDown.enabled": this.aB,
            "click .pageToolbarUp.enabled": this.bB,
            click: this.TA
        }
    };
    f.initialize = function (a) {
        this.yh = a.yh;
        this.listenTo(G, "documentView:zoom", this.Bq);
        this.listenTo(this.model, {
            change: this.gB,
            "change:background": this.Pu,
            "change:selected": this.sy,
            "change:preview": this.iG,
            "element:add": this.MB,
            "element:move": this.OB,
            "element:remove": this.PB,
            resize: this.DG,
            willchange: this.hB
        });
        this.listenTo(this.model.$a, {"page:add": this.yq, "page:move": this.yq, "page:remove": this.yq});
        this.render()
    };
    f.render = function () {
        var a = this.model.$a, b = this.model.ea();
        this.$el.html(this.template({
            pageNumber: b + 1,
            isFirst: a && 0 == b,
            isLast: a && b == a.aa.length - 1,
            isPageNumMax: a && 30 <= a.aa.length,
            pageToolbarClass: rH.SF ? "disabled" : "",
            actionMoveUp: this.yh.Yz(),
            actionMoveDown: this.yh.Xz(),
            actionCopy: this.yh.Vz(),
            actionDelete: this.yh.Wz()
        }));
        this.Bq();
        this.sy(0, T(a, J(a)) === b);
        this.model.ma = this.$el;
        this.Pu();
        return this
    };
    f.hb = function () {
        return this.model.hb()
    };
    f.wt = function (a) {
        var b = jl(this.model.Ha()) * M;
        this.model.wt(a);
        this.$el.css("left", a - b)
    };
    f.nb = function () {
        return this.model.nb()
    };
    f.df = function (a) {
        var b = kl(this.model.Ha()) * M;
        this.model.df(a);
        this.$el.css("top", a - b)
    };
    function zH(a, b, c) {
        a.wt(b);
        a.df(c)
    }

    f.ps = function (a) {
        function b(a) {
            var b = (void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX) - e;
            a = (void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY) - g;
            !h && (4 < Math.abs(b) || 4 < Math.abs(a)) && (h = !0)
        }

        function c() {
            k.off("mousemove|touchmove", b).off("mouseup|touchend", c);
            h || 0 < d.Da().length || tv(Cj(d))
        }

        if (a.target === a.currentTarget || 0 !== $(a.target).closest(".element.background.image").length) {
            var d = this.model;
            if (!(0 < d.Da().length)) {
                var e = void 0 !== a.clientX ? a.clientX : a.originalEvent.touches[0].clientX,
                    g = void 0 !== a.clientY ? a.clientY : a.originalEvent.touches[0].clientY, h = !1, k = new V($(document));
                k.on("mousemove|touchmove", b).on("mouseup|touchend", c)
            }
        }
    };
    f.TA = function (a) {
        if (!(0 < $(a.target).parents(".pageToolbar").length)) {
            a = this.model.$a;
            var b = T(a, this.model);
            xj(a, b)
        }
    };
    f.bB = function () {
        var a = this.model.$a;
        if (a) {
            var b = this.model.ea();
            1 > b || (Ej(a, this.model, b - 1), y.register(new yy(5, {pageIndex: b - 1, oldPageIndex: b})), uH(Sa))
        }
    };
    f.aB = function () {
        var a = this.model.$a;
        if (a) {
            var b = this.model.ea();
            b >= a.aa.length - 1 || (Ej(a, this.model, b + 1), y.register(new yy(5, {
                pageIndex: b + 1,
                oldPageIndex: b
            })), uH(Sa))
        }
    };
    f.ZA = function () {
        G.trigger("pageView:copyButton:click");
        var a = this.model.ea(), b = this.model.clone();
        Ej(this.model.$a, b, a + 1);
        b = wy(b.serialize());
        b.pageIndex = a + 1;
        y.register(new yy(1, b));
        uH(Sa)
    };
    f.$A = function () {
        G.trigger("pageView:deleteButton:click");
        var a = this.model.ea();
        this.model.remove();
        var b = wy(this.model.serialize());
        b.pageIndex = a;
        y.register(new yy(2, b));
        uH(Sa)
    };
    f.fD = function (a) {
        0 == $(a.relatedTarget || a.toElement).closest(".pageToolbar").length && G.trigger("pageView:toolbar:mouseout")
    };
    f.hB = function () {
        this.El && this.El.remove();
        this.El = this.$el.clone();
        this.El.addClass("doNotAnimate").insertAfter(this.$el)
    };
    f.gB = function () {
        var a = this;
        this.$el.one("animationend", function () {
            a.$el.addClass("on").css("opacity", "");
            a.El.remove()
        }).css("opacity", 1).removeClass("on").insertAfter(this.El)
    };
    f.Pu = function () {
        this.model.Tn() ? this.$el.addClass("dark") : this.$el.removeClass("dark")
    };
    f.sy = function (a, b) {
        this.$el.toggleClass("selected", b)
    };
    f.MB = function (a, b, c, d) {
        function e() {
            O();
            g.removeClass("dropping");
            Vd(b);
            g.hasClass("text") && lv(g, !0)
        }

        var g = b.H(), h = eI(this, b), h = h && h.H();
        c && (g.one("animationend", e), b.setPosition((a.C() - b.C()) / 2, (a.D() - b.D()) / 2), g.addClass("dropping"));
        d && g.addClass("appearing");
        b instanceof bp ? g.appendTo(this.$el) : h && h.closest(".page").length ? g.insertBefore(h) : g.appendTo(this.$el.children(".elements"));
        b.Ub = this.$el;
        b.Ba()
    };
    function eI(a, b) {
        var c = a.model.elements.indexOf(b);
        return a.model.oa().slice(c + 1).filter(function (a) {
            return !(a instanceof bp) && !pp(a)
        })[0]
    }

    f.PB = function (a, b, c, d) {
        var e = b.H();
        b.Qd();
        d ? e.addClass("disappearing").delay(300, function () {
            e.remove()
        }) : e.remove()
    };
    f.OB = function (a, b) {
        var c = b.H(), d = eI(this, b);
        d ? c.insertBefore(d.H()) : c.appendTo(this.$el.children(".elements"))
    };
    f.yq = function () {
        this.$(".pageNumber").text((this.model.ea() + 1).toString());
        this.$("li").removeClass("disabled").addClass("enabled");
        var a = this.model.$a, b = this.model.ea(), c = a && 0 == b, a = a && b == a.aa.length - 1;
        c && this.$(".pageToolbarUp").removeClass("enabled").addClass("disabled");
        a && this.$(".pageToolbarDown").removeClass("enabled").addClass("disabled");
        c && a && this.$(".pageToolbarDelete").removeClass("enabled").addClass("disabled");
        30 <= Sa.model.aa.length && this.$(".pageToolbarCopy").removeClass("enabled").addClass("disabled")
    };
    f.Bq = function () {
        var a = this.model.D() * M, b = this.$(".pageToolbar");
        this.$el.css("width", this.model.C() * M).css("height", a);
        if (300 < a) {
            b.addClass("vertical");
            var c = a / 2 + Ra + 190;
            c > a ? b.css("margin-top", +Ra - (c - a)) : b.css("margin-top", "")
        } else b.removeClass("vertical").css("margin-top", "")
    };
    f.qa = function () {
        var a = this.$(".pageToolbar"), a = a.is(":visible") ? Math.round(a.outerWidth(!0)) : 0;
        return rh(DH(this), a, 0)
    };
    function AH(a) {
        var b = a.$(".pageToolbar"), b = b.is(":visible") ? Math.round(b.outerWidth(!0)) : 0;
        return rh(BH(a), b, 0)
    }

    function DH(a) {
        return new L(a.hb(), a.nb(), parseInt(a.$el.css("width"), 10), parseInt(a.$el.css("height"), 10))
    }

    function BH(a) {
        if (!a.model || !a.model.Ha())return new L(0, 0, 0, 0);
        var b = a.model.Ha(), c = ke(b.Ab()), d = ml(b) - c.C(), b = ll(b) - c.D(), d = parseInt(a.$el.css("width"), 10) + Math.round(d * M), b = parseInt(a.$el.css("height"), 10) + Math.round(b * M);
        if (isNaN(d) || !isFinite(d) || 0 >= d)d = c.C();
        if (isNaN(b) || !isFinite(b) || 0 >= b)b = c.D();
        return new L(a.hb(), a.nb(), d, b)
    }

    f.DG = function () {
        this.Bq();
        this.model.oa().forEach(function (a) {
            a.Ba()
        })
    };
    f.iG = function () {
        var a = this.model.Rs;
        a ? this.$el.css("background-image", "url(" + a + ")").css("background-size", "cover") : this.$el.css("background-image", "none").css("background-size", "")
    };
    f.template = _.template('\x3cdiv class\x3d"crops"\x3e\x3cdiv class\x3d"tlcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"trcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"brcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"blcrop"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e\x3cmenu class\x3d"pageToolbar \x3c%\x3d pageToolbarClass %\x3e"\x3e\x3cli class\x3d"pageToolbarUp \x3c%\x3d isFirst ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionMoveUp %\x3e"\x3e\x3c%- actionMoveUp %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDown \x3c%\x3d isLast ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionMoveDown %\x3e"\x3e\x3c%- actionMoveDown %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarCopy \x3c%\x3d isPageNumMax ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionCopy %\x3e"\x3e\x3c%- actionCopy %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDelete \x3c%\x3d isFirst \x26\x26 isLast ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionDelete %\x3e"\x3e\x3c%- actionDelete %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageNumber"\x3e\x3c%\x3d pageNumber %\x3e\x3c/li\x3e\x3c/menu\x3e');
    function WG() {
    }

    WG = Pm.extend({className: "popupBlocked"});
    WG.Jz = {Chrome: !0, IE: !0};
    WG.IH = function (a) {
        return a in WG.Jz
    };
    f = WG.prototype;
    f.initialize = function (a) {
        Pm.prototype.initialize.call(this, {wa: Cf, Aj: !1, Bj: !1});
        this.ue = a.ue
    };
    f.events = function () {
        return {"click .popupBlockedFileMenuLink": this.ok}
    };
    f.render = function () {
        Pm.prototype.render.call(this);
        this.$(".content").html(this.AC());
        var a = this.$(".popupBlockedStepDirections").eq(0);
        if ("Chrome" === this.ue)a.append(this.yA), this.$el.addClass("popupBlockedChrome"); else if ("IE" === this.ue)a.append(this.GC), this.$el.addClass("popupBlockedIE"); else throw Error('Unsupported browser "' + this.ue + '"');
        return this
    };
    f.show = function () {
        Pm.prototype.show.call(this);
        var a = this.$el.parent().prevAll(".modalContent:not(.modalContentPreviousSibling)");
        a.addClass("modalContentPreviousSibling");
        this.once("remove", function () {
            a.removeClass("modalContentPreviousSibling")
        });
        return this
    };
    f.AC = _.template('\x3cheader class\x3d"popupBlockedHeader"\x3e\x3ch1 class\x3d"popupBlockedTitle"\x3eYou\x26rsquo;re almost there!\x3c/h1\x3e\x3ch2 class\x3d"popupBlockedSubTitle"\x3eCanva just needs permission to open multiple tabs in your browser.\x3c/h2\x3e\x3c/header\x3e\x3col class\x3d"popupBlockedSteps"\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3eStep 1\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3eStep 2\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3eTry resizing again by hitting the magic button in the \x3cbutton class\x3d"buttonLink button popupBlockedFileMenuLink"\x3eFile menu\x3c/button\x3e\x3c/p\x3e\x3c/li\x3e\x3c/ol\x3e');
    f.yA = _.template("\x3cspan\x3eClick the pop-up blocker icon at the top of your browser and allow pop-ups.\x3c/span\x3e");
    f.GC = _.template("\x3cspan\x3eClick \x3cstrong\x3e\x26lsquo;Options for this site\x26rsquo;\x3c/strong\x3e and then \x3cstrong\x3e\x26lsquo;Always allow\x26rsquo;\x3c/strong\x3e in the Internet Explorer alert below.\x3c/span\x3e");
    function VH() {
    }

    VH = Backbone.View.extend({
        id: "submitLayoutDialog",
        template: _.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3ch2 class\x3d"dialogTitle"\x3e\x3c%\x3d title %\x3e\x3c/h2\x3e\x3cdiv class\x3d"flowProgress"\x3e\x3c/div\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c/div\x3e'),
        VC: _.template('\x3cfieldset class\x3d"appears layoutMetadata"\x3e\x3clabel\x3eTitle of your layout\x3c/label\x3e\x3cinput class\x3d"layoutMetadataTitle textInput" name\x3d"layoutTitle" value\x3d"\x3c%\x3d title %\x3e"\x3e\x3clabel\x3eKeywords (comma separated)\x3c/label\x3e\x3ctextarea class\x3d"layoutMetadataKeywords textInput" name\x3d"layoutKeywords" rows\x3d"3" placeholder\x3d"Help your layout to be found when searching"\x3e\x3c%\x3d keywords %\x3e\x3c/textarea\x3e\x3clabel\x3eLocale\x3c/label\x3e\x3cdiv class\x3d"submitLayoutClear"\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"layoutMetadataLocale"\x3e\x3c% Object.keys(locales).forEach(function(languageTag) { %\x3e\x3coption data-locale\x3d"\x3c%- languageTag %\x3e"\x3e\x3c%- locales[languageTag] %\x3e\x3c/option\x3e\x3c% }); %\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e'),
        NB: _.template('\x3cfieldset class\x3d"appears elementMetadata"\x3e\x3cdiv class\x3d"thumb"\x3e\x3c%\x3d thumb %\x3e\x3c/div\x3e\x3cdiv class\x3d"labels"\x3e\x3clabel for\x3d"elementTitle\x3c%\x3d index %\x3e"\x3eTitle\x3c/label\x3e\x3clabel for\x3d"elementDescription\x3c%\x3d index %\x3e"\x3eDescription\x3c/label\x3e\x3clabel for\x3d"elementKeywords\x3c%\x3d index %\x3e"\x3eKeywords\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"inputs"\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataMedia" name\x3d"elementMedia\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d media %\x3e" /\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataVersion" name\x3d"elementVersion\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d version %\x3e" /\x3e\x3cinput class\x3d"elementMetadataTitle" name\x3d"elementTitle\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataDescription" name\x3d"elementDescription\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataKeywords" name\x3d"elementKeywords\x3c%\x3d index %\x3e" /\x3e\x3c/div\x3e\x3cselect class\x3d"elementMetadataPrice" name\x3d"elementPrice\x3c%\x3d index %\x3e" id\x3d"elementPriceSelect"\x3e\x3coption value\x3d"0"\x3eFREE\x3c/option\x3e\x3coption value\x3d"1"\x3e$1.00\x3c/option\x3e\x3c/select\x3e\x3c/fieldset\x3e')
    });
    f = VH.prototype;
    f.events = function () {
        return {
            "click .button.ok": this.ok,
            "click .button.reviewElements": this.lt,
            "click .button.submitElementsMetadata": this.FH,
            "click .button.submitLayoutMetadata": this.GH,
            "click .close": this.cancel
        }
    };
    f.remove = function () {
        var a = this;
        this.$el.children(".dialog").addClass("disappearing");
        this.yc.hide();
        this.trigger("hide");
        window.setTimeout(function () {
            a.trigger("remove", a);
            Backbone.View.prototype.remove.call(a)
        }, 300)
    };
    f.initialize = function (a) {
        function b() {
            c.Dc.cancel();
            c.off("hide", b)
        }

        var c = this;
        this.yc = new Qm({style: Rm, wa: Cf});
        this.listenTo(this.yc, "maskClick", this.cancel);
        this.document = t;
        this.Dc = a.workflow;
        this.on("hide", b);
        this.Rt = Object.freeze([{$p: ["pricingLayout"], label: "Layout"}, {
            $p: ["reviewingElements"],
            label: "Elements"
        }, {$p: ["submitted"], label: "Review"}]);
        this.$w = new fI({Rt: this.Rt});
        this.listenTo(this.Dc, "change:state", this.ul)
    };
    f.render = function () {
        this.$el.html(this.template({title: "Submit your design as a layout"}));
        return this
    };
    function gI(a, b, c) {
        b = $('\x3cform class\x3d"metadataForm"\x3e' + b + "\x3c/form\x3e");
        a.$(".content").empty().append(b);
        hI(a);
        iI(a, c)
    }

    function jI(a) {
        kI(a.Dc, function (b) {
            var c = "Your layout does not contain any media that will affect the final price.";
            0 < b && (c = "Your layout contains priced media elements.", c += " The final price of your layout will be increased by " + ("$" + b / 100 + ".00") + ".");
            a.$(".dialog").css("height", "12em");
            a.$(".content").html("");
            window.setTimeout(function () {
                a.$(".content").html('\x3cdiv class\x3d"reviewNotice appears"\x3e\x3cp\x3e' + c + "\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");
                iI(a, "reviewElements")
            }, 300)
        })
    }

    function lI(a) {
        function b(a, b) {
            var c = a.na(), l = c.Tb()[Vp], m = new L(0, 0, l.C(), l.D());
            xe(m, e);
            m = "width:" + m.C() + "px;height:" + m.D() + "px;margin-top:" + m.O() + "px;margin-left:" + m.Y() + "px;";
            m = $('\x3cimg class\x3d"thumbImage" style\x3d"' + m + '"\x3e');
            m.attr("src", l.ia());
            return d.NB({
                media: a.G(),
                version: c.getVersion(),
                index: b,
                thumb: m.clone().wrap("\x3cdiv\x3e\x3c/div\x3e").parent().html()
            })
        }

        function c() {
            window.setTimeout(function () {
                d.$(".thumbImage").addClass("appeared")
            }, 1E3)
        }

        var d = a, e = new L(0, 0, 118, 118);
        mI(a.Dc,
            function (a) {
                if (a && 0 !== a.length) {
                    var e = a.length;
                    2 < a.length && (e = 2);
                    e = (14 * e + 2.5).toFixed(1);
                    d.$(".dialog").css("width", "45em").css("height", e + "em");
                    gI(d, a.map(b).join(""), "submitElementsMetadata");
                    2 < a.length && d.$(".metadataForm").css("height", "24em").addClass("scrolling");
                    c()
                } else a = d.Dc, a.Lq = [], a.za.transition("price")
            })
    }

    function hI(a) {
        window.setTimeout(function () {
            a.$(".appears").addClass("appeared")
        }, 300)
    }

    function nI(a) {
        a.$(".content").html('\x3cdiv class\x3d"reviewNotice appears"\x3e\x3cp\x3e\x3cstrong\x3eYour design is now in the hands of our reviewers.\x3c/strong\x3e\x3cbr\x3e\x3cbr\x3eOnce review is complete we\x26#8127;ll let you know and you can start looking for people who are using your layout in the wild!\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e');
        a.$(".dialog").css("width", "30em").css("height", "15em");
        hI(a);
        window.setTimeout(function () {
            var b = $('\x3cdiv class\x3d"appears button ok awesome"\x3eAwesome!\x3c/div\x3e');
            a.$(".content").append(b);
            hI(a)
        }, 300)
    }

    function iI(a, b) {
        var c = $('\x3cdiv class\x3d"appears button forward ' + b + '"\x3eNext \x26rarr;\x3c/div\x3e');
        window.setTimeout(function () {
            a.$(".content").append(c);
            hI(a)
        }, 300)
    }

    f.ul = function (a, b) {
        switch (b) {
            case "pricingLayout":
                this.$(".dialog").css("width", "30em").css("height", "22em");
                var c = this.document.La(), d = this.document.nh();
                0 === d.length && (d = xC(c));
                gI(this, this.VC({
                    title: c.Lk(),
                    keywords: d.join(", "),
                    locales: window.availableLocales
                }), "submitLayoutMetadata");
                break;
            case "pricingElements":
                lI(this);
                break;
            case "reviewingElements":
                jI(this);
                break;
            case "reviewingSubmission":
                oI(this.Dc);
                break;
            case "submitted":
                nI(this);
                break;
            case "failed":
                c = this.$(".content"), c.html('\x3cdiv class\x3d"reviewNotice appears"\x3e\x3cp\x3eSomething went wrong submitting your layout.\x3cbr\x3e\x3cbr\x3ePlease try again later.\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e'),
                    c.find(".reviewNotice").css("text-align", "center"), hI(this)
        }
        this.$w.render(b)
    };
    f.show = function () {
        var a = this;
        this.render();
        this.yc.show(this.el);
        this.$(".dialog").delay(20, function () {
            $(this).removeClass("preparing")
        });
        this.$w.show(this.$el.find(".flowProgress"));
        window.setTimeout(function () {
            a.Dc.start()
        }, 300)
    };
    f.cancel = function () {
        this.remove()
    };
    f.ok = function () {
        this.remove()
    };
    f.GH = function () {
        var a = this;
        pI(this.$(".layoutMetadata"), function (b) {
            qI(a.Dc, b)
        })
    };
    f.lt = function () {
        this.Dc.lt()
    };
    f.FH = function () {
        var a = [], b = this, c = this.$(".elementMetadata"), d = _.after(c.length, function () {
            var c = b.Dc;
            c.Lq = a;
            c.za.transition("price")
        });
        c.each(function () {
            var b = $(this);
            rI(b, function (b) {
                a.push(b);
                d()
            })
        })
    };
    function rI(a, b) {
        var c = "" + a.find(".elementMetadataMedia").val(), d = parseFloat("" + a.find(".elementMetadataVersion").val()), e = "" + a.find(".elementMetadataTitle").val(), g = "" + a.find(".elementMetadataDescription").val(), h = sI("" + a.find(".elementMetadataKeywords").val()), k = parseFloat("" + a.find(".elementMetadataPrice").val());
        isNaN(k) || 0 !== k && 1 !== k || !tI(h) ? alert("That's not valid data for an element.") : b({
            media: c,
            version: d,
            title: e,
            description: g,
            keywords: h,
            price: k
        })
    }

    function pI(a, b) {
        var c = a.find(".layoutMetadataTitle").val(), d = sI("" + a.find(".layoutMetadataKeywords").val()), e = a.find(".layoutMetadataLocale :selected").data("locale");
        tI(d) ? b({title: c, keywords: d, locale: e}) : alert("I don't understand your layout.")
    }

    function tI(a) {
        function b() {
            return !1
        }

        return Array.isArray(a) && 0 === a.filter(b).length
    }

    function sI(a) {
        return a ? a.split(",").map(function (a) {
            return a.trim().replace(/[^a-z0-9\s_-]/gi, "")
        }).filter(function (a) {
            return "" !== a
        }) : []
    };
    function uI(a) {
        this.Cm = a.Cm;
        this.Sa = a.Sa;
        this.Qc = a.Qc;
        this.tk = a.tk;
        this.element = $('\x3cdiv class\x3d"creditCardEditor"\x3e');
        this.le = a.le;
        this.zb = a.zb;
        this.view = new vI({Am: !1 !== a.Am, zb: a.zb});
        this.listenTo(this.view, "input", this.vs)
    }

    f = uI.prototype;
    f.listenTo = Backbone.Events.listenTo;
    f.off = Backbone.Events.off;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    f.render = function () {
        this.view.render().$el.appendTo(this.element);
        this.xj(this.tk);
        this.Qc && this.Hg(this.Qc);
        return this
    };
    f.getElement = function () {
        return this.element
    };
    f.remove = function () {
        this.stopListening();
        this.view.remove()
    };
    f.Hg = function (a) {
        this.Qc = a;
        this.view.Hg(a);
        return this
    };
    f.xj = function (a) {
        this.tk = a;
        this.view.xj(a);
        return this
    };
    f.Hn = P.method(function (a) {
        function b(a) {
            return a.mh()
        }

        return !this.Qc || this.view.ln || a ? (a = wI(this.view), xI(a), this.gI(a).then(b).tap(this.Hg.bind(this))) : this.Qc
    });
    f.vs = function () {
        this.Qc && !wI(this.view) && this.Hg(this.Qc);
        this.trigger("input", this.view.ln)
    };
    f.gI = P.method(function (a) {
        var b = this;
        return this.le.createToken({eh: a.eh, Hv: a.tn, Iv: a.un, th: a.th}).then(function (a) {
            return b.Cm.kB(b.Sa, a)
        })
    });
    function xI(a) {
        if (!a)throw new tC;
        if (!(a.eh && 3 <= a.eh.length && 4 >= a.eh.length))throw new lC;
        if (!function () {
                var b = a.tn && parseInt(a.tn, 10);
                return b && 1 <= b && 12 >= b
            }())throw new mC;
        if (!a.un || !parseInt(a.un, 10))throw new nC;
        if (!function () {
                var b = a.th && a.th.replace(/[\s-]+/g, "");
                return b && 13 <= b.length && 19 >= b.length
            }())throw new oC;
    };
    function vI() {
    }

    vI = Backbone.View.extend({className: "creditCardEditView"});
    f = vI.prototype;
    f.initialize = function (a) {
        this.ln = !1;
        this.zb = a.zb;
        this.Am = a.Am
    };
    f.events = function () {
        return {
            "click .cancelEditCreditCard": this.trigger.bind(this, "cancelEditCreditCard"),
            "keydown #expMonth": this.WE,
            "input #expMonth": this.VE,
            input: this.vs,
            "focus input:not([readonly])": this.ts,
            "blur input": this.rs
        }
    };
    function wI(a) {
        a = {
            eh: a.$("#cvc").val().trim(),
            tn: a.$("#expMonth").val().trim(),
            un: a.$("#expYear").val().trim(),
            th: a.$("#ccNumber").val().trim()
        };
        return a.eh.length || a.tn.length || a.un.length || a.th.length ? a : null
    }

    f.Hg = function (a) {
        this.$el.addClass("prefilled");
        this.$("#ccNumber").val("").attr("placeholder", "" + a.last4);
        this.$("#expMonth").val("").attr("placeholder", "");
        this.$("#expYear").val("").attr("placeholder", "");
        this.$("#cvc").val("").attr("placeholder", "");
        this.ln = !1
    };
    f.xj = function (a) {
        this.$("input").prop("readonly", !a);
        yI(this)
    };
    f.render = function () {
        var a = this.template({
            cardNumberPlaceholder: this.zb.Vu(),
            monthPlaceholder: this.zb.jx(),
            yearPlaceholder: this.zb.yz(),
            cvcPlaceholder: this.zb.iv()
        });
        this.$el.html(a);
        yI(this);
        return this
    };
    function yI(a) {
        var b = 0 === a.$("input").filter(function () {
                return this.readOnly
            }).length, c = a.$("#ccNumber");
        a.Am && b ? c.prop("autofocus", !0) : c.removeAttr("autofocus")
    }

    f.vs = function (a) {
        a = $(a.target);
        var b = a.data("oldValue"), c = a.val();
        b !== c ? (a.data("oldValue", c), a = !0) : a = !1;
        a && (this.$el.hasClass("prefilled") && (this.$("#ccNumber").attr("placeholder", this.zb.Vu()), this.$("#expMonth").attr("placeholder", this.zb.jx()), this.$("#expYear").attr("placeholder", this.zb.yz()), this.$("#cvc").attr("placeholder", this.zb.iv())), this.$el.removeClass("prefilled"), this.ln = !0, this.trigger("input"))
    };
    f.ts = function () {
        this.$el.addClass("focused")
    };
    f.rs = function () {
        this.$el.removeClass("focused")
    };
    f.WE = function (a) {
        var b = this.$("#expMonth"), c = b.val(), d = this.$("#expYear"), e = String.fromCharCode(a.which);
        "" === c && e.match(/[2-9]/) ? (a.preventDefault(), b.val("0" + e), d.focus()) : -1 < [191, 32, 9].indexOf(a.which) && (a.preventDefault(), 1 === c.length && b.val("0" + c), d.focus())
    };
    f.VE = function () {
        2 === this.$("#expMonth").val().length && this.$("#expYear").focus()
    };
    f.template = _.template('\x3cinput class\x3d"textInput" id\x3d"ccNumber" name\x3d"ccNumber" placeholder\x3d"\x3c%- cardNumberPlaceholder %\x3e" pattern\x3d"[0-9 -]{13,19}" type\x3d"text" maxlength\x3d"19" autocomplete\x3d"off" required /\x3e\x3cspan class\x3d"creditCardExpiry"\x3e\x3cinput class\x3d"textInput" id\x3d"expMonth" name\x3d"expMonth" placeholder\x3d"\x3c%- monthPlaceholder %\x3e" type\x3d"text" pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"off" required /\x3e\x3cinput class\x3d"textInput" id\x3d"expYear" name\x3d"expYear" placeholder\x3d"\x3c%- yearPlaceholder %\x3e" type\x3d"text" pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"off" required /\x3e\x3c/span\x3e\x3cinput class\x3d"textInput" id\x3d"cvc" name\x3d"cvc" placeholder\x3d"\x3c%- cvcPlaceholder %\x3e" type\x3d"text" pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"off" required /\x3e');
    function zI(a) {
        this.model = a.model;
        this.view = a.view
    }

    zI.prototype.Nk = function () {
        return this.view
    };
    zI.prototype.refresh = function () {
        return P.resolve()
    };
    function AI(a) {
        Backbone.View.call(this, a);
        this.da = a.da;
        this.template = a.template || this.template;
        this.sc = a.sc || this.sc
    }

    la(AI, Backbone.View);
    AI.prototype.render = function () {
        this.$el.html(this.template(this.Za()));
        return this
    };
    AI.prototype.Za = function () {
        return {}
    };
    AI.prototype.zd = function () {
        return {}
    };
    Object.defineProperties(AI, {
        extend: {
            configurable: !0, enumerable: !0, get: function () {
                return Backbone.View.extend.bind(AI)
            }
        }
    });
    function BI(a) {
        this.Vi = a.Vi;
        this.ij = a.ij;
        this.ha = a.ha
    }

    f = BI.prototype;
    f.Un = function () {
        return this.ij
    };
    f.Ow = function () {
        return this.ha
    };
    f.Mw = function () {
        return 0 == this.ae()
    };
    f.be = function () {
        return jg(this.Vi).kw()
    };
    f.OC = function () {
        return !/\.png$/.test(this.be())
    };
    f.ae = function () {
        return jg(this.Vi).ae()
    };
    f.La = function () {
        return jg(this.Vi).La()
    };
    f.Fn = function () {
        return jg(this.Vi).Fn()
    };
    f.serialize = function () {
        return {
            isPaid: this.Un(),
            isLayout: this.Ow(),
            isFree: this.Mw(),
            thumbnailUrl: this.be(),
            isThumbnailCover: this.OC(),
            price: this.ae(),
            title: this.La(),
            contributorName: this.Fn()
        }
    };
    function CI(a, b) {
        function c(a) {
            return a.Ow() ? 0 : a.Mw() ? 1 : a.Un() ? 2 : 3
        }

        return c(b) - c(a)
    }

    function DI(a) {
        this.il = a.il;
        this.xl = a.xl;
        this.Ys = []
    }

    DI.prototype.init = function () {
        var a = [].concat(ka(this.il), ka(this.xl)).filter(function (a) {
            return jg(a).kr()
        }).map(function (a) {
            return jg(a).kr()
        });
        this.Ys = [].concat(ka(this.il.map(EI(!1, a))), ka(this.xl.map(EI(!0, a))));
        this.Ys.sort(CI);
        return this
    };
    DI.prototype.ew = function () {
        return this.Ys
    };
    function EI(a, b) {
        return function (c) {
            return new BI({Vi: c, ij: a, ha: 0 <= b.indexOf(jg(c).bb())})
        }
    }

    function GI(a) {
        zI.call(this, {model: a.model});
        this.view = a.view;
        this.jb = a.jb;
        this.Fg = a.Fg
    }

    la(GI, zI);
    f = GI.prototype;
    f.init = function () {
        var a = this;
        this.view.on("creditPackChange", function (b, c) {
            a.model.creditPack = b ? c : !1
        });
        this.view.on("creditPackSelect", function (b, c, d) {
            a.model.creditPack = b;
            a.view.$("input[name\x3dpurchaseCreditPack][value\x3dyes]").prop("checked", !0);
            HI(a.view, c, d)
        });
        this.view.on("submitPayment", function () {
            return II(a)
        });
        this.view.on("clickDraft", function () {
            return a.trigger("clickDraft")
        });
        return this
    };
    f.refresh = function () {
        var a = this;
        return new P(function (b) {
            var c = a.model.billing, d = JI(a);
            mg(a.jb, bh(c)).then(function (e) {
                a.view.render({
                    totalCost: bh(c), totalCredits: ah(c), purchaseLicenses: d.map(function (a) {
                        return a.serialize()
                    }), usableCreditPacks: e.map(function (a) {
                        return {price: a.nj, credits: a.hi, name: a.name}
                    })
                });
                KI(a, e);
                b()
            })
        })
    };
    function JI(a) {
        a = a.model.billing;
        var b = a.$d();
        return (new DI({il: b, xl: a.paidItems})).init().ew()
    }

    function KI(a, b) {
        var c = a.model.billing;
        ch(c) ? (0 < b.length ? (HI(a.view, b[0].hi, b[0].nj), a.view.$("input[name\x3dpurchaseCreditPack][value\x3dno]").prop("checked", !0)) : a.view.$(".creditPacks").hide(), dh(c) ? a.view.hc.xj(!0) : (c = c.mh(), a.view.hc.Hg(c), a.view.hc.xj(!1)), a.view.$(".useCanvaCredits").hide()) : (a.view.$(".creditPacks").hide(), a.view.$(".creditCardContainer").hide())
    }

    function II(a) {
        LI(a.view);
        MI(a.view);
        var b = a.model.billing;
        ch(b) && dh(b) ? a.view.Hn().then(function () {
            return a.Fg(a.model.creditPack)
        }).catch(rC, function () {
            var b = a.view;
            b.cm(Qc(b.da));
            NI(a.view)
        }).catch(gC, function (b) {
            return a.ph(b)
        }).catch(function () {
            var b = a.view;
            b.cm(Qc(b.da));
            NI(a.view)
        }) : a.Fg()
    }

    f.ph = function (a) {
        var b = this.view;
        b.cm(sC(b.zb, a));
        NI(this.view)
    };
    f.on = Backbone.Events.on;
    f.off = Backbone.Events.off;
    f.trigger = Backbone.Events.trigger;
    function OI(a) {
        var b = {};
        AI.call(this, {
            da: a.da,
            template: OI.template,
            sc: OI.sc,
            className: "payment",
            events: (b["change input[name\x3dpurchaseCreditPack]"] = function (a) {
                a = "yes" == $(a.target).val();
                var b = this.$(".creditPackOptions option:selected").val();
                this.trigger("creditPackChange", a, b)
            }, b["change .creditPackOptions select"] = function (a) {
                a = $(a.target).find("option:selected");
                var b = parseInt(a.data("credits"), 10), e = parseInt(a.text().match(/[0-9]+/g)[0], 10);
                this.trigger("creditPackSelect", a.val(), b, e)
            }, b["submit .publishPagePaymentForm"] =
                function (a) {
                    a.preventDefault();
                    this.trigger("submitPayment")
                }, b["click .draft"] = function () {
                this.trigger("clickDraft")
            }, b)
        });
        this.hc = a.hc;
        this.zb = a.zb;
        this.yl = null
    }

    la(OI, AI);
    OI.prototype.Hn = function () {
        return this.hc.Hn()
    };
    OI.prototype.render = function (a) {
        this.$el.html(this.template(a));
        this.$(".creditCardContainer").html(this.hc.render().getElement());
        this.yl = this.$(".publishPagePaymentForm");
        return this
    };
    OI.prototype.remove = function () {
        this.hc.remove()
    };
    function HI(a, b, c) {
        a.$(".creditPackOptions .creditPackValue").html(b);
        a.$(".creditPackOptions .creditPackSaving").html("(save $" + (b - c) + ")")
    }

    OI.prototype.cm = function (a) {
        $('\x3cp class\x3d"error"\x3e').html(a).insertBefore(this.yl);
        this.trigger("contentResize")
    };
    function NI(a) {
        a.yl.find("button[type\x3dsubmit]").text(a.da.format("publishViewActionMakePayment")).removeClass("disabled")
    }

    function LI(a) {
        a.yl.find("button[type\x3dsubmit]").text(a.da.format("publishViewLabelPaying")).addClass("disabled")
    }

    function MI(a) {
        a.yl.prev(".error").remove();
        a.trigger("contentResize")
    }

    Object.defineProperties(OI, {
        template: {
            configurable: !0, enumerable: !0, get: function () {
                return _.template('\x3csection class\x3d"info"\x3e\n  \x3cp\x3e\n    This design can be used for personal or commercial use \x3cbr /\x3e\n    under our \x3ca href\x3d"http://about.canva.com/license-agreements/onetimelicense/" target\x3d"_blank"\x3eOne Time Use Licence\x3c/a\x3e.\n  \x3c/p\x3e\n\x3c/section\x3e\n\x3csection class\x3d"itemList"\x3e\n  \x3ctable id\x3d"itemList"\x3e\n  \x3c% _.each(purchaseLicenses, function(purchaseLicense) { %\x3e\n    \x3ctr class\x3d"license"\x3e\n      \x3ctd class\x3d"thumbnail"\x3e\x3cdiv class\x3d"inner \x3c%- purchaseLicense.isThumbnailCover ? \'cover\' : \'contain\' %\x3e" style\x3d"background-image: url(\'\x3c%- purchaseLicense.thumbnailUrl %\x3e\');"\x3e\x3c/div\x3e\x3c/td\x3e\n      \x3ctd class\x3d"info"\x3e\n      \x3c% if (purchaseLicense.isLayout) { %\x3e\n        \x3cdiv class\x3d"title"\x3eLayout Price\x3c/span\x3e\x3c/div\x3e\n      \x3c% } else { %\x3e\n        \x3cdiv class\x3d"title"\x3e\x3c%- purchaseLicense.title %\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"by"\x3eby \x3c%- purchaseLicense.contributorName %\x3e\x3c/div\x3e\n      \x3c% } %\x3e\n      \x3c/td\x3e\n      \x3ctd class\x3d"price"\x3e\x3cspan\x3e\x3c%- !purchaseLicense.isFree ? purchaseLicense.isPaid ? "Purchased" : "$" + purchaseLicense.price.toFixed(2) : "Free" %\x3e\x3c/span\x3e\x3c/td\x3e\n    \x3c/tr\x3e\n  \x3c% }); %\x3e\n  \x3c/table\x3e\n\x3c/section\x3e\n\x3csection class\x3d"total"\x3e\n  \x3cp class\x3d"amount"\x3eTotal: $\x3c%- totalCost.toFixed(2) %\x3e USD\x3c/p\x3e\n\x3c/section\x3e\n\x3csection class\x3d"creditPacks"\x3e\n  \x3cform\x3e\n    \x3cdiv class\x3d"prepay"\x3e\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"yes"\x3e Special offer:\x3c/label\x3e \n      \x3cdiv class\x3d"creditPackOptions"\x3e\n        \x3cselect\x3e\n        \x3c% _.each(usableCreditPacks, function(creditPack) { %\x3e\n          \x3coption value\x3d"\x3c%- creditPack.name %\x3e" data-credits\x3d"\x3c%- creditPack.credits %\x3e"\x3e$\x3c%- creditPack.price %\x3e USD\x3c/option\x3e\');\n        \x3c% }); %\x3e\n        \x3c/select\x3e \n        for \x3cspan class\x3d"creditPackValue"\x3e\x3c/span\x3e images \x3cstrong class\x3d"creditPackSaving"\x3e\x3c/strong\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"prepay"\x3e\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"no" checked\x3d"checked"\x3e Just pay\x3c/label\x3e $\x3c%- totalCost.toFixed(2) %\x3e USD\n    \x3c/div\x3e\n  \x3c/form\x3e\n\x3c/section\x3e\n\x3cform class\x3d"publishPagePaymentForm"\x3e\n  \x3cdiv class\x3d"useCanvaCredits"\x3e\n    \x3cp\x3eCredit remaining: $\x3c%- totalCredits.toFixed(2) %\x3e USD\x3c/p\x3e \n  \x3c/div\x3e\n  \x3cdiv class\x3d"creditCardContainer"\x3e\x3c/div\x3e\n  \x3cdiv class\x3d"actions"\x3e\n    \x3ca class\x3d"draft" href\x3d"#"\x3eDownload Watermarked Draft\x3c/a\x3e \x3cbutton class\x3d"button paymentPageSubmitButton" type\x3d"submit"\x3ePurchase and Download\x3c/button\x3e\n  \x3c/div\x3e\n\x3c/div\x3e')
            }
        }, sc: {
            configurable: !0,
            enumerable: !0, get: function () {
                return _.template("Purchase your premium elements")
            }
        }
    });
    function $G() {
    }

    $G = Backbone.View.extend({
        id: "exportDialog",
        template: _.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3ch2 class\x3d"center"\x3e\x3c%\x3d title %\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- actionCloseHint %\x3e"\x3e\x3c%- actionClose %\x3e\x3c/a\x3e\x3c/div\x3e')
    });
    f = $G.prototype;
    f.events = function () {
        var a = {};
        a["click a.close"] = this.cancel;
        a["click button.done"] = this.ok;
        return a
    };
    f.remove = function () {
        this.$el.children(".dialog").addClass("disappearing").forceLayout();
        this.yc.hide();
        window.setTimeout(function () {
            _.values(this.aa).forEach(function (a) {
                a instanceof zI ? a.Nk().remove() : a.remove()
            });
            Backbone.View.prototype.remove.call(this)
        }.bind(this), 330);
        this.trigger("remove")
    };
    f.initialize = function (a) {
        function b() {
            c.Dg.cancel();
            c.off("hide", b)
        }

        var c = this;
        this.yc = new Qm({style: Rm, wa: Cf});
        this.listenTo(this.yc, "maskClick", this.cancel);
        this.F = a.F;
        this.da = Xb(this.F);
        this.Ux = !1;
        this.Ng = a.Ng;
        this.state = {
            brand: Mm(Jm()).ta().G(),
            billing: null,
            sessionDate: null,
            exportUrl: null,
            outputType: null,
            isDraft: !1,
            includeCrops: !1,
            includeBleed: !1,
            pageRange: _.range(1, a.Es + 1),
            pageCount: a.Es,
            creditPack: null,
            errorMessage: null,
            showHomepageHints: a.Ng
        };
        this.jb = Da;
        this.le = uC();
        this.Dg = new PI(v, this.jb,
            Ea);
        this.aa = {
            QB: new QI({model: this.state, da: this.da}),
            gp: new $G.Ap({model: this.state, da: this.da}),
            mt: new RI({model: this.state, da: this.da}),
            pI: new SI({model: this.state, da: this.da}),
            sI: new TI({model: this.state, da: this.da}),
            Kx: (new GI({
                model: this.state,
                jb: this.jb,
                Fg: this.Dg.Fg.bind(this.Dg),
                view: new OI({
                    da: this.da,
                    zb: Zb(this.F),
                    hc: new uI({Sa: this.state.brand, Cm: this.jb, tk: !1, le: this.le, zb: Zb(this.F)})
                })
            })).init(),
            WF: new UI({model: this.state, da: this.da}),
            wn: new VI({model: this.state, da: this.da}),
            Kv: new WI({
                model: this.state,
                da: this.da, yb: Pb(this.F)
            }),
            XB: new XI({model: this.state, da: this.da}),
            iA: new YI({model: this.state, da: this.da})
        };
        this.Fb = this.aa.gp;
        this.Vm = null;
        this.Xx = 0;
        this.listenTo(this.Dg, "change:state", this.ul);
        this.listenTo(this.aa.Kx, "clickDraft", this.LA);
        this.on("hide", b)
    };
    f.Nd = function () {
        return this.state
    };
    f.gw = function () {
        return this.aa
    };
    function ZI(a) {
        return a.Vm ? a.Vm.refresh() : a.Fb.render() && P.resolve()
    }

    function bH(a, b) {
        a.stopListening(a.Fb);
        b instanceof zI ? (a.Fb = b.Nk(), a.Vm = b) : (a.Fb = b, a.Vm = null);
        a.listenTo(a.Fb, "contentResize", a.gq);
        a.listenTo(a.Fb, "close", a.ok)
    }

    f.render = function () {
        var a = this, b = this.$(".dialog"), c = b.data("class");
        if (0 === this.$(".content").length || this.$(".content").is(":empty"))ZI(this).then(function () {
            a.$el.html(a.template({title: a.Fb.sc(a.Fb.zd()), actionCloseHint: a.da.Uz(), actionClose: a.da.Eu()}));
            var c = a.$(".content");
            c.append(a.Fb.$el);
            c.data("height", c.outerHeight());
            b = a.$(".dialog");
            b.data("class", a.Fb.className)
        }); else if (c !== a.Fb.className) {
            var d = $('\x3cdiv class\x3d"content new"\x3e');
            this.$el.queue("pageQueue", function () {
                ZI(a).then(function () {
                    a.$(".dialog \x3e h2").html(a.Fb.sc(a.Fb.zd()));
                    b.data("class", a.Fb.className);
                    d.append(a.Fb.$el);
                    $I(b, d);
                    window.setTimeout(function () {
                        a.Xx--;
                        a.$el.dequeue("pageQueue")
                    }, 1E3)
                })
            });
            1 == ++this.Xx && this.$el.dequeue("pageQueue")
        }
        return this
    };
    f.gq = function () {
        var a = this.$(".dialog .content"), b = a.outerHeight(), c = a.data("height"), d = this.$(".dialog").outerHeight();
        this.$(".dialog").css("height", d - c + b);
        a.data("height", b)
    };
    function $I(a, b) {
        var c = a.outerHeight();
        a.addClass("preparing").css("height", c);
        var d = $(".content", a), e = d.outerHeight();
        d.one("transitionend", function () {
            $(this).remove()
        }).css("marginBottom", -e).addClass("replacing");
        b.appendTo(a).delay(20, function () {
            $(this).removeClass("new")
        });
        d = b.outerHeight();
        b.data("height", d);
        c = c + d - e;
        a.removeClass("preparing").css("height", c)
    }

    f.ul = function (a, b, c) {
        switch (b) {
            case "billing:required":
                this.state.billing = c;
                break;
            case "billing:notRequired":
                this.state.sessionDate = c;
                break;
            case "payment:gatheringInfo":
                bH(this, this.aa.Kx);
                this.render();
                break;
            case "payment:complete":
                this.state.sessionDate = c;
                this.Rh("PRINT");
                break;
            case "export:exporting":
                this.state.isDraft = "SCREEN" === c.sr().mediaQuality;
                this.Fb != this.aa.wn && (bH(this, this.aa.wn), this.render());
                break;
            case "export:complete":
                a = c.ia();
                this.state.exportUrl = a;
                bH(this, this.aa.Kv);
                this.render();
                this.Ux || (1 > $("#canvaDownloadIframe").length && $("\x3ciframe /\x3e", {id: "canvaDownloadIframe"}).appendTo("body"), $("#canvaDownloadIframe").attr("src", a), this.Ng && H && Uf(H, "download", "export_dialog", "first_time_publish"));
                H && (a = H, a.track("design_publish", {
                    format: this.state.outputType,
                    watermark: this.state.isDraft,
                    destination: "download",
                    design: a.Id,
                    template: a.rf
                }));
                break;
            case "error":
                a = c || {}, this.state.errorMessage = a.message, 2 === a.type || 3 === a.type ? bH(this, this.aa.WF) : 0 === a.type ? bH(this, this.aa.XB) : bH(this,
                    this.aa.iA), this.render()
        }
    };
    function cH(a) {
        function b() {
            "billing:checking" === c.Dg.za.Nd() ? (d *= 1.4, setTimeout(b, Math.min(15E3, d))) : c.Rh("PRINT")
        }

        var c = a, d = 300;
        aH(a, {});
        aJ(a) || ("billing:checking" === a.Dg.za.Nd() ? b() : a.Rh("PRINT"))
    }

    function aH(a, b) {
        for (var c in b)a.state[c] = b[c]
    }

    f.LA = function () {
        this.Rh("SCREEN")
    };
    f.Rh = function (a) {
        var b = v.Pa(), c = v.qc(), d = this.state.outputType, e = this.state.pageRange;
        if (0 === e.length)for (var g = 0, h = this.state.pageCount; g !== h; g++)e.push(g + 1);
        switch (a) {
            case "PREVIEW":
            case "SCREEN":
            case "THUMBNAIL":
            case "CUSTOM":
                g = "SCREEN";
                break;
            case "PRINT":
                g = "PRINT";
                break;
            default:
                throw Error("unknown export type: " + a);
        }
        b = Nl(Ml(new Ll, b), c);
        c = Kl(Jl(new Hl, this.state.mediaDpi), g);
        c.bleed = !!this.state.includeBleed;
        c.crops = !!this.state.includeCrops;
        c.removeCanvas = !!this.state.removeCanvas;
        c.pages = e;
        c.targetImageSizeKb = this.state.targetImageSizeKb;
        a = Ol(b, c.rm(d).tm(a));
        this.Dg.Ko(a)
    };
    f.show = function () {
        function a() {
            d.Dg.it(d.state.pageRange)
        }

        function b() {
            d.state.outputType ? (a(), cH(d)) : (bH(d, bJ(d) || e), d.render())
        }

        function c() {
            v.Qi() ? (bH(d, d.aa.mt), d.render(), d.$(".retry").one("click", function () {
                $(this).prop("disabled", !0);
                v.save();
                bH(d, d.aa.gp);
                d.render();
                Bn(3E4).then(a, c)
            })) : (bH(d, d.aa.sI), d.render())
        }

        var d = this, e = this.Fb;
        null === bJ(this) ? (a(), this.render()) : (bH(this, bJ(this)), this.render(), aJ(this) && Bn(3E4).then(b, c));
        this.yc.show(this.el);
        this.$(".dialog").delay(20, function () {
            $(this).removeClass("preparing")
        })
    };
    f.cancel = function () {
        this.remove()
    };
    f.ok = function () {
        this.remove()
    };
    function aJ(a) {
        return bJ(a) === a.aa.gp
    }

    function bJ(a) {
        var b = null;
        t.isEmpty() ? b = a.aa.QB : v.Qi() ? 0 < Ia.Mj.length ? b = a.aa.pI : v.Qe() && (b = a.aa.gp, v.save()) : b = a.aa.mt;
        return b
    }

    function QI() {
    }

    QI = AI.extend({
        className: "error emptyDocError",
        sc: _.template("\x3c%- title %\x3e"),
        template: _.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')
    });
    QI.prototype.Za = function () {
        return {errorMessage: this.da.format("publishViewErrorEmptyDesign"), actionOK: this.da.$h()}
    };
    QI.prototype.zd = function () {
        return {title: this.da.format("publishViewErrorEmptyDesignTitle")}
    };
    function RI() {
    }

    RI = AI.extend({
        className: "error savingError",
        sc: _.template("\x3c%- title %\x3e"),
        template: _.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- actionRetry %\x3e\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')
    });
    RI.prototype.Za = function () {
        return {errorMessage: this.da.format("publishViewErrorSavingDesign"), actionRetry: this.da.Hp()}
    };
    RI.prototype.zd = function () {
        return {title: this.da.format("publishViewErrorSavingDesignTitle")}
    };
    function TI() {
    }

    TI = AI.extend({
        className: "error versionConflictError",
        sc: _.template("\x3c%- title %\x3e"),
        template: _.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')
    });
    TI.prototype.Za = function () {
        return {errorMessage: this.da.format("publishViewErrorVersionConflict"), actionOK: this.da.$h()}
    };
    TI.prototype.zd = function () {
        return {title: this.da.format("publishViewErrorVersionConflictTitle")}
    };
    function SI() {
    }

    SI = AI.extend({
        className: "error uploadingError",
        sc: _.template("\x3c%- title %\x3e"),
        template: _.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')
    });
    SI.prototype.Za = function () {
        return {errorMessage: this.da.format("publishViewErrorUploading"), actionOK: this.da.$h()}
    };
    SI.prototype.zd = function () {
        return {title: this.da.format("publishViewErrorUploadingTitle")}
    };
    $G.Ap = AI.extend({
        className: "publishing",
        sc: _.template("\x3c%- title %\x3e"),
        template: _.template('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e')
    });
    $G.Ap.prototype.Za = function () {
        return {message: this.da.format("publishViewBillingCheck")}
    };
    $G.Ap.prototype.zd = function () {
        return {title: this.da.format("publishViewBillingCheckTitle")}
    };
    function VI() {
    }

    VI = AI.extend({
        className: "exporting",
        sc: _.template("\x3c%- title %\x3e"),
        template: _.template('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue" style\x3d"width: 15%;"\x3e\x3cspan class\x3d"text"\x3e15%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e')
    });
    VI.eA = function (a) {
        a.delay(600, function () {
            $(this).css("width", "45%").children(".text").text("45%").parent().delay(4800, function () {
                $(this).css("width", "67%").children(".text").text("67%").parent().delay(4800, function () {
                    $(this).css("width", "95%").children(".text").text("95%")
                })
            })
        })
    };
    VI.prototype.Za = function () {
        return {message: this.da.Ns(1, 24)}
    };
    VI.prototype.zd = function () {
        return {title: this.da.format("publishViewTitlePreparingDesign")}
    };
    VI.prototype.render = function () {
        function a(a) {
            a = (a + 864E5 - Date.now()) / 36E5;
            var c = Math.round(a % 1 * 60);
            a = 1 > a ? b.da.format("publishViewExportingMinutesRemaining", c) : 24 > Math.round(a) ? b.da.format("publishViewExportingHoursRemaining", a) : b.da.format("publishViewExportingInitial", 24);
            return $("\x3cp\x3e").text(a)
        }

        var b = this;
        this.$el.html(this.template(this.Za()));
        var c = this.model.billing;
        c && !this.model.isDraft ? (c = c.Hk(), null !== c && (this.$el.find(".progress").nextAll().remove(), this.$el.append($("\x3ch3\x3e").text(b.da.format("publishViewExportingOneTimeLicenseHeader"))).append(a(c)))) :
        c && this.model.isDraft && (this.$el.find(".progress").nextAll().remove(), this.$el.append($("\x3cp\x3e").text(b.da.format("publishViewExportingWatermarked", 1))));
        VI.eA(this.$(".progressValue"));
        return this
    };
    function XI() {
    }

    XI = AI.extend({
        className: "exporting error",
        sc: _.template("\x3c%- titleErrorPage %\x3e"),
        template: _.template('\x3cp\x3e\x3c%\x3d errorPageHtml %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e')
    });
    XI.prototype.Za = function () {
        return {errorPageHtml: this.da.VB("http://status.canva.com"), actionOK: this.da.$h()}
    };
    XI.prototype.zd = function () {
        return {titleErrorPage: this.da.RH()}
    };
    function WI() {
    }

    WI = AI.extend({className: "exporting complete", sc: _.template("\x3c%- title %\x3e")});
    f = WI.prototype;
    f.initialize = function (a) {
        this.Nt = new xm(Ja);
        this.zj = new nH({location: "publish", pn: !0, Zo: !1, sa: nd(), yb: a.yb});
        this.listenTo(this.zj, {shareClicked: this.Lg, emailSend: this.Mq, shareViewResize: this.gq})
    };
    f.render = function () {
        AI.prototype.render.call(this);
        this.$el.append(this.zj.render().el);
        this.model.showHomepageHints && (this.$el.append(this.DC({
            hintEditable: this.da.format("publishViewHintDesignsEditable"),
            hintSeeAllDesigns: this.da.CC()
        })), this.$(".homepageHintCta \x3e a").click(function () {
            H && Uf(H, "see_your_designs", "export_complete_dialog", "first_time_publish")
        }));
        return this
    };
    f.gq = function () {
        this.trigger("contentResize")
    };
    f.close = function () {
        this.trigger("close");
        this.model.showHomepageHints && H && Vf(H, "export_complete", "export_dialog", "first_time_publish")
    };
    f.Lg = function (a) {
        this.close();
        nH.openWindow(a.url, a.width, a.height);
        this.trigger("close");
        var b = this.model.showHomepageHints ? "first_time_publish" : "publish";
        H && Sf(a.type, b)
    };
    f.Mq = function (a) {
        var b = this;
        this.$(".shareViaEmailForm button").addClass("sending");
        H && Sf("email", "publish");
        a = Hm(Gm(Fm(Em(Dm(new Cm, v.Pa()), a.mode), a.Jd), a.kg), "publish");
        zm(this.Nt, a).bind(this).finally(function () {
            this.$(".shareViaEmailForm button").removeClass("sending")
        }).then(function () {
            this.$(".shareViaEmailForm button").addClass("sent");
            setTimeout(function () {
                this.trigger("close")
            }.bind(this), 600)
        }).catch(function () {
            this.zj.trigger("emailSendingError", b.da.format("publishViewEmailSendingError"))
        })
    };
    f.zd = function () {
        return {title: this.model.showHomepageHints ? this.da.format("publishViewFirstDesignCompleted") : this.da.qq()}
    };
    f.Za = function () {
        return {downloadStartedHtml: this.da.format("publishViewDownloadStarted", this.model.exportUrl)}
    };
    f.template = _.template("\x3cp\x3e\x3c%\x3d downloadStartedHtml %\x3e\x3c/p\x3e");
    f.DC = _.template('\x3cdiv class\x3d"homepageHint"\x3e\x3cp class\x3d"homepageHintMessage"\x3e\x3c%- hintEditable %\x3e\x3c/p\x3e\x3ch3 class\x3d"homepageHintCta"\x3e\x3ca href\x3d"/"\x3e\x3c%- hintSeeAllDesigns %\x3e\x3c/a\x3e\x3c/h3\x3e\x3c/div\x3e');
    function cJ() {
        this.listener = null
    }

    cJ = AI.extend({
        className: "exporting complete",
        sc: _.template("\x3c%- title %\x3e"),
        template: _.template('\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e\x3cp class\x3d"useExportButton"\x3e\x3ca class\x3d"button" tabindex\x3d"0"\x3e\x3c%- actionClose %\x3e\x3c/a\x3e\x3c/p\x3e')
    });
    cJ.prototype.render = function () {
        AI.prototype.render.call(this);
        var a = this;
        window.setTimeout(function () {
            a.remove && a.remove();
            a.listener && a.listener()
        }, 1E3);
        return this
    };
    cJ.prototype.events = function () {
        return {
            "click .useExportButton": function () {
                this.remove && this.remove();
                this.listener && this.listener()
            }
        }
    };
    cJ.prototype.Za = function () {
        return {message: this.da.format("publishViewExportCompleteEmbedded"), actionClose: this.da.Eu()}
    };
    cJ.prototype.zd = function () {
        var a = this.model.outputType;
        return {title: null == a || "PNG" == a || "JPG" == a ? this.da.format("publishViewExportCompleteImage") : this.da.format("publishViewExportCompletePdf")}
    };
    function UI() {
    }

    UI = AI.extend({
        className: "payment error",
        sc: _.template("\x3c%- title %\x3e"),
        template: _.template('\x3cp\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e')
    });
    UI.prototype.Za = function () {
        return {errorMessage: this.da.format("publishViewErrorPayment"), actionOK: this.da.$h()}
    };
    UI.prototype.zd = function () {
        return {title: this.da.format("publishViewErrorPaymentTitle")}
    };
    UI.prototype.render = function () {
        this.$el.html(this.template(this.Za()));
        this.model.errorMessage && $('\x3cp class\x3d"error"\x3e' + this.model.errorMessage + "\x3c/p\x3e").insertBefore(this.$(".buttonContainer"));
        return this
    };
    function YI() {
    }

    YI = AI.extend({
        className: "backgroundTask error",
        sc: _.template("\x3c%- title %\x3e"),
        template: _.template('\x3cp\x3e\x3c%\x3d errorMessageHtml %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e')
    });
    YI.prototype.Za = function () {
        return {
            errorMessageHtml: this.da.format("publishViewErrorBackgroundTaskHtml", "http://status.canva.com"),
            actionOK: this.da.$h()
        }
    };
    YI.prototype.zd = function () {
        return {title: this.da.format("publishViewErrorBackgroundTaskTitle")}
    };
    function fI() {
    }

    fI = Backbone.View.extend({className: "linearProgress"});
    function dJ(a, b) {
        a.Ky = (100 / b.length).toFixed(4) + "%";
        return $("\x3cul\x3e" + b.map(function (a) {
                return '\x3cli class\x3d"stage ' + a.$p.join(" ") + '"\x3e\x3cspan class\x3d"label"\x3e\x3cspan class\x3d"text"\x3e' + a.label + '\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"wipe"\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"bar"\x3e\x3c/span\x3e\x3cspan class\x3d"light"\x3e\x3c/span\x3e\x3c/li\x3e'
            }).join("") + "\x3c/ul\x3e")
    }

    fI.prototype.initialize = function (a) {
        this.Ky = "0%";
        this.$el.html(dJ(this, a.Rt))
    };
    fI.prototype.render = function (a) {
        if ("error" === a)return this.$el.addClass("out"), this.$el.addClass("error"), this;
        var b = this.$el.find(".stage." + a);
        if (b.hasClass("active"))return this;
        b.addClass("preparing");
        window.setTimeout(function () {
            b.addClass("active").removeClass("preparing")
        }, 800);
        b.prevAll().addClass("past").removeClass("active");
        return this
    };
    fI.prototype.show = function (a) {
        a.append(this.$el);
        var b = this;
        this.$(".stage:first-child").addClass("appear").addClass("preparing");
        window.setTimeout(function () {
            b.$(".stage:first-child").addClass("active").removeClass("preparing")
        }, 1E3);
        this.$(".stage:not(:first-child)").each(function (a) {
            var d = $(this);
            d.css("width", b.Ky);
            window.setTimeout(function () {
                d.addClass("appear")
            }, 100 * a)
        })
    };
    fI.prototype.remove = function () {
    };
    function eJ() {
    }

    eJ = Backbone.View.extend({tagName: "menu", className: "textToolbar"});
    f = eJ.prototype;
    f.events = function () {
        function a(a) {
            a.preventDefault()
        }

        return {
            "click .textToolbar a": a,
            "click .textToolbarBold.disabled a": a,
            "click .textToolbarItalic.disabled a": a,
            "click .textToolbarBold:not(.disabled) a": this.EA,
            "click .textToolbarItalic:not(.disabled) a": this.QA,
            "click .textToolbarUpload a": this.hz,
            "change .textToolbarFontFamily": this.tA,
            "change .textToolbarFontSize": this.uA
        }
    };
    f.initialize = function (a) {
        this.model = a.model;
        this.Mm = !!a.Mm;
        this.mv = a.mv;
        this.root = a.root;
        this.Bv = a.Bv;
        this.lh = a.lh;
        this.dr = a.dr;
        this.md = a.md;
        this.F = a.F;
        this.listenTo(this.model, "change", this.render)
    };
    f.remove = function () {
        this.$(".dd-container").ddslick("destroy");
        Backbone.View.prototype.remove.call(this)
    };
    f.render = function () {
        function a(a, b, c) {
            a.toggleClass("on", b && c).toggleClass("enabled", c).toggleClass("disabled", !c)
        }

        var b = this, c = ib.map(function (a) {
            return '\x3coption data-text\x3d"' + a + '"\x3e' + a + "\x3c/option\x3e"
        }).join(""), d = $.extend(!0, this.mv.serialize(), this.model.serialize()), e = go(this.lh, d.fontFamily);
        d.fontFamilyOptGroupsHtml = function () {
            function a(b) {
                var c = b.name || b.family, d = b.displayName || c;
                b = b.N;
                var e = $("\x3coption\x3e");
                e.attr("data-image-src", b).val(c).text(d);
                return e
            }

            function c(a) {
                return function (b) {
                    b.appendTo(a)
                }
            }

            var d = zu(b.lh), e = wu(b.lh), g = $('\x3cselect class\x3d"textToolbarFontFamily"\x3e\x3coptgroup class\x3d"textToolbarFontGroup user"\x3e\x3c/optgroup\x3e\x3coptgroup class\x3d"textToolbarFontGroup all"\x3e\x3c/optgroup\x3e\x3c/select\x3e'), h = g.find("optgroup.user"), p = g.find("optgroup.all");
            e.map(a).forEach(c(h));
            d.map(a).forEach(c(p));
            return "" + g.html()
        }();
        d.fontSizeOptionsHtml = c;
        d.displayName = d.fontFamily;
        e && e.displayName && (d.displayName = e.displayName);
        d.canUpload = this.Mm;
        this.$el.removeClass("subdued");
        this.$el.html(this.template(d));
        this.Mm && this.$el.addClass("withUploadButton");
        this.Bv && this.$el.addClass("pointer");
        this.$(".textToolbarFontFamily").val(this.model.fontFamily);
        this.$(".textToolbarFontSize").val(this.model.wc());
        fJ(this);
        var g = d.fontFamily, c = this.$el.children(".textToolbarBold"), d = this.$el.children(".textToolbarItalic"), e = Bu(this.lh, g), h = Cu(this.lh, g), g = Du(this.lh, g);
        a(c, !(!this.model.vi() || !e), !!(this.model.Ai() && g || !this.model.Ai() && e));
        a(d, !(!this.model.Ai() || !h), !!(this.model.vi() &&
        g || !this.model.vi() && h));
        return this
    };
    function fJ(a) {
        function b() {
            var a = $(this).siblings(".textToolbarFontFamily");
            $("#overlays \x3e .mask").addClass("on ddslick");
            a.ddslick("open");
            return !1
        }

        function c(a) {
            var b = $(this).siblings(".textToolbarFontSize"), c = $(this).find("input");
            if (b.hasClass("on"))a.target === a.currentTarget && b.ddslick("close"); else return c.select(), $("#overlays \x3e .mask").addClass("on ddslick"), b.ddslick("open"), !1
        }

        function d() {
            $("#overlays \x3e .mask").removeClass("on ddslick")
        }

        function e(a) {
            $("#overlays \x3e .mask").removeClass("on ddslick");
            $("#null").focus();
            if (!a.didSelectAnOption) {
                var b = g.model.wc(), c = m.find("input"), d = parseFloat(c.val()), e = a.lastKeyBeforeSelect;
                "enter" != e && "tab" != e || isNaN(d) ? (c.val(sB(b)), "enter" == e && (a.cancel = !0, c.select())) : (-1 === ib.indexOf(d) && $(this).ddslick("deselect"), g.model.Lc(Math.max(Math.min(400, d), 1)))
            }
        }

        var g = a, h = {}, k = a.$(".textToolbarFontFamily"), l = a.$(".textToolbarFontFamilySpan");
        k.hasClass("dd-container") || (h = {onClose: d}, k.ddslick(h));
        h = new V(l);
        h.on("mousedown", b);
        h.on("touchstart", b);
        var l = a.$(".textToolbarFontSize"),
            m = a.$(".textToolbarFontSizeSpan");
        $(l).hasClass("dd-container") || (h = {
            onClose: e,
            width: "6em",
            align: "bottom",
            linkedControl: m.find("input").get(0)
        }, $(l).ddslick(h));
        h = new V(m);
        h.on("mousedown", c);
        h.on("touchstart", c);
        k = k.find("optgroup.user option").last().index();
        a.$(".textToolbarFontFamily .dd-options li").eq(k).addClass("endOfGroup");
        a.$(".textToolbarFontFamily .dd-option-selected").slice(1).removeClass("dd-option-selected")
    }

    f.tA = function (a) {
        a = $(a.currentTarget);
        this.model.ef(a.val())
    };
    f.uA = function (a) {
        a = $(a.currentTarget);
        a = parseInt(a.val(), 10);
        this.model.Lc(a)
    };
    f.EA = function (a) {
        var b = this.model;
        b.Gg(!b.bold);
        a.preventDefault()
    };
    f.QA = function (a) {
        var b = this.model;
        b.Ig(!b.o);
        a.preventDefault()
    };
    f.hz = function () {
        if (!this.Mm || !this.dr)return !1;
        this.$el.addClass("subdued");
        this.trigger("upload");
        this.dr.hz();
        return !1
    };
    f.template = _.template('\x3cli class\x3d"textToolbarFont"\x3e\x3cselect class\x3d"textToolbarFontFamily"\x3e\x3c%\x3d fontFamilyOptGroupsHtml %\x3e\x3c/select\x3e\x3cspan class\x3d"textToolbarFontFamilySpan"\x3e\x3c%- displayName %\x3e\x3c/span\x3e\x3cselect class\x3d"textToolbarFontSize"\x3e\x3c%\x3d fontSizeOptionsHtml %\x3e\x3c/select\x3e\x3cspan class\x3d"textToolbarFontSizeSpan"\x3e\x3cinput type\x3d"text" autocomplete\x3d"off" value\x3d"\x3c%- fontSize %\x3e"\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarBold \x3c%- bold ? "on" : "" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Bold"\x3eBold\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarItalic \x3c%- italic ? "on" : "" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Italic"\x3eItalic\x3c/a\x3e\x3c/li\x3e\x3c% if (canUpload) { %\x3e\x3cli class\x3d"textToolbarUpload"\x3e\x3ca href\x3d"#"\x3eUpload a font\x3c/a\x3e\x3c/li\x3e\x3c% } %\x3e');
    function wB() {
    }

    wB = Backbone.View.extend({tagName: "div", className: "fxPanel"});
    f = wB.prototype;
    f.events = function () {
        var a = {};
        a["click .preset"] = this.UA;
        a["click .presets .scrollLeft"] = this.PG;
        a["click .presets .scrollRight"] = this.QG;
        a["input .range .trackContainer \x3e input[type\x3drange]"] = this.vx;
        a["change .range .trackContainer \x3e input[type\x3drange]"] = this.vx;
        a["click .hex"] = this.PA;
        a["click .toggleAdvanced"] = this.UH;
        return a
    };
    f.initialize = function (a) {
        this.Os = a.Os;
        this.um = this.model.filter.name;
        this.Io = null;
        this.Mr = !1;
        this.Sx = {};
        this.tu = this.Mf = 0;
        this.Xc = a.Xc;
        this.listenTo(this.model, "change", this.refresh);
        this.listenTo(y, "beforeOperationStackPop", this.Jl);
        this.listenTo(G, "hideContextualControlsRequested", this.remove);
        this.render()
    };
    f.render = function () {
        var a = this;
        $("#editorLogo").addClass("noAnimate");
        $(".imageToolbarCrop").removeClass("enabled").addClass("disabled");
        this.$el.html(this.template({
            advancedOptionsMsg: Hc(this.Xc),
            filterCodeMsg: this.Xc.format("editorToolbarFilterCode")
        }));
        Zt(this.model);
        window.setTimeout(function () {
            gJ(a);
            hJ(a);
            iJ(a);
            a.refresh()
        }, 300);
        this.Io = this.model.Mt;
        return this
    };
    f.remove = function () {
        $("#editorLogo").removeClass("noAnimate");
        $("#canvaDocument").off("scroll", this.zG);
        this.Jl();
        $(".imageToolbarCrop").removeClass("disabled").addClass("enabled");
        this.model && $p(this.model);
        Backbone.View.prototype.remove.call(this)
    };
    function lB(a, b, c) {
        function d() {
            var a = $("#canvaDocument").scrollTop();
            e.$el.css("margin-top", g - a)
        }

        a.$el.css("top", b.top).css("left", b.left - 400).css("margin-top", 0);
        c ? a.$el.addClass("underneath") : a.$el.removeClass("underneath");
        var e = a, g = $("#canvaDocument").scrollTop();
        $("#canvaDocument").on("scroll", d);
        a.zG = d
    }

    f.refresh = function () {
        this.um = this.model.filter.name;
        this.oJ || jJ(this);
        kJ(this);
        lJ(this);
        var a = "Normal" == this.model.filter.name, b = !this.model.Qr();
        this.$el.toggleClass("hideIntensity", a);
        this.$el.toggleClass("disableIntensity", b);
        this.$el.find(".range_intensity .sliderInput").prop("disabled", b || a);
        iJ(this)
    };
    function mJ() {
        return "intensity brightness contrast saturation tint blur x-process vignette".split(" ")
    }

    function gJ(a) {
        var b = a.$el.find(".presets .presetsButtons");
        b.empty();
        $("#editorLogo").addClass("noAnimate");
        var c = a.model.vb();
        if (c) {
            var c = c[Vp].ia(), d = $(_.template('\x3cli class\x3d"preset preset_Normal"\x3e\x3cdiv class\x3d"image"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"title"\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/li\x3e')({label: Ic(a.Xc, "Normal")})), e = d.find("img");
            e.css("opacity", 0);
            e.one("load", function () {
                var a = $(e).get(0).naturalWidth, b = $(e).get(0).naturalHeight,
                    a = new L(0, 0, a, b);
                th(a, new L(0, 0, 52, 52));
                e.css(a.serialize());
                e.css("opacity", 1)
            });
            Hp(Ip, e, c);
            b.append(d);
            b.find("." + nJ(a.um)).addClass("active")
        }
        a.Os.sort(function (b, c) {
            var d = Ic(a.Xc, b.name), e = Ic(a.Xc, c.name);
            return d < e ? -1 : 1
        }).forEach(function (c, d) {
            var e = $('\x3cli class\x3d"preset ' + oJ(a, c) + '"\x3e\x3c/li\x3e');
            b.append(e);
            window.setTimeout(function () {
                pJ(a, e, c)
            }, 300 * d)
        })
    }

    function pJ(a, b, c) {
        a.model.Hq(c, !0, function (d) {
            var e = $('\x3cimg src\x3d"' + d.src + '" /\x3e');
            e.css("opacity", 0);
            e.one("load", function () {
                var a = $(e).get(0).naturalWidth, b = $(e).get(0).naturalHeight, a = new L(0, 0, a, b);
                th(a, new L(0, 0, 52, 52));
                e.css(a.serialize());
                e.css("opacity", 1)
            });
            var g = $('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e'), h = $('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'), k = $('\x3cdiv class\x3d"image"\x3e\x3c/div\x3e');
            h.css("background-image", "radial-gradient(" + d.tI + ")");
            k.append(g);
            g.append(e);
            g.append(h);
            b.append(k);
            b.append($('\x3cspan class\x3d"title"\x3e\x3c/span\x3e').text(Ic(a.Xc, c.name)));
            c.name === a.um && b.addClass("active")
        })
    }

    function lJ(a) {
        var b = a.$el.find(".presets .presetsButtons");
        b.find(".preset").removeClass("active");
        b.find("." + nJ(a.um)).addClass("active");
        0 === a.Mf ? a.$el.find(".scrollLeft").addClass("disabled") : a.$el.find(".scrollLeft").removeClass("disabled");
        a.Mf === a.$el.find(".preset").length - 5 ? a.$el.find(".scrollRight").addClass("disabled") : a.$el.find(".scrollRight").removeClass("disabled")
    }

    function hJ(a) {
        function b(a) {
            var b = 0, c = 100;
            "vignette" !== a && "intensity" !== a && (b = -100, c = 100);
            return $('\x3cinput class\x3d"sliderInput" type\x3d"range" step\x3d"1" min\x3d"' + b + '" max\x3d"' + c + '" value\x3d"0" /\x3e')
        }

        var c = a.$el.find(".ranges");
        c.empty();
        mJ().forEach(function (d) {
            var e = Jc(a.Xc, d), e = $(_.template('\x3cli class\x3d"range \x3c%- rangeClass %\x3e"\x3e\x3clabel\x3e\x3c%- rangeName %\x3e\x3c/label\x3e\x3c/li\x3e')({
                    rangeClass: qJ(d),
                    rangeName: e
                })), g = b(d), h = $("\x3cspan\x3e").addClass("rangeTrack"),
                k = $('\x3cspan class\x3d"valueDisplay"\x3e0\x3c/span\x3e'), l = $('\x3cdiv class\x3d"trackContainer"\x3e\x3c/div\x3e');
            l.append(g);
            l.append(h);
            ("vignette" != d ? [0] : []).forEach(function (a) {
                var b = $('\x3cspan class\x3d"snapGuide"\x3e\x3c/span\x3e');
                b.css("margin-left", a);
                l.append(b)
            });
            e.append(l);
            e.append(k);
            c.append(e)
        })
    }

    function jJ(a) {
        var b = a.$el.find(".ranges");
        mJ().forEach(function (c) {
            b.find("." + qJ(c) + " input").val(a.model.getByName(c.replace(/[^a-z]/gi, "")) || 0)
        })
    }

    function kJ(a) {
        var b = a.$el.find(".ranges");
        mJ().forEach(function (c) {
            var d = b.find("." + qJ(c) + " .valueDisplay");
            c = parseInt(a.model.getByName(c.replace(/[^a-z]/gi, "")), 10);
            isNaN(c) && (c = 0);
            d.html(0 < c ? "+" + c : "" + c)
        })
    }

    function iJ(a) {
        a.$el.find("input.hex").val(a.model.filter.ka())
    }

    function oJ(a, b) {
        var c = nJ(b.name);
        a.Sx[c] = b;
        return c
    }

    function nJ(a) {
        return "preset_" + a.replace(/[^a-z0-9]/gi, "")
    }

    function qJ(a) {
        return "range_" + a.replace(/[^a-z0-9]/gi, "")
    }

    f.UA = function (a) {
        var b = this, c = $(a.target);
        c.hasClass("preset") || (c = c.parents(".preset").first());
        c.hasClass("active") || (c.addClass("transitioning"), window.setTimeout(function () {
            c.removeClass("transitioning").addClass("active")
        }, 50));
        a = c.attr("class").split(/\s+/).filter(function (a) {
            return /preset_[a-z0-9]+/gi.test(a)
        });
        if (1 === a.length) {
            a = a[0];
            if ("preset_Normal" == a)cu(this.model); else {
                var d = this.Sx[a];
                window.setTimeout(function () {
                    bu(b.model, d)
                }, 150)
            }
            window.clearTimeout(this.tu)
        }
    };
    f.vx = function (a) {
        function b() {
            $.data(d, "FxPanelView:snapRange", 0);
            $.data(d, "FxPanelView:snapReset", 0)
        }

        var c = this, d = a.target;
        a = d.valueAsNumber;
        var e = /(?:^|\s)range_(\S+)/.exec(d.parentNode.parentNode.className), g = $.data(d, "FxPanelView:snapRange") || 0, h = $.data(d, "FxPanelView:snapReset") || 0;
        0 < a * g && 14 >= a * g ? (a = 0, d.value = a, 0 == h && (h = window.setTimeout(b, 750), $.data(d, "FxPanelView:snapReset", h))) : 0 != a && $.data(d, "FxPanelView:snapRange", 0 > a ? 1 : -1);
        e && (this.model.To(e[1], a), window.clearTimeout(this.tu), this.tu =
            window.setTimeout(function () {
                c.model.update(!0)
            }, 400))
    };
    f.PA = function () {
        function a() {
            d.off("blur");
            d.off("keypress");
            var a = d.val().replace(/[^a-z0-9]/gi, "");
            d.val(a).blur();
            var b = c.model, a = Nt(a);
            isNaN(a.blur * a.brightness * a.contrast * a.saturation * a.Sc * a.vignette * a.jd) || (b.filter = a, b.Xd = !0, b.update(!0));
            c.Mr = !1
        }

        function b(b) {
            13 == b.which && a()
        }

        if (!this.Mr) {
            this.Mr = !0;
            var c = this, d = this.$el.find("input.hex");
            d.val(this.model.ka()).select().focus();
            d.on("blur", a);
            d.on("keypress", b)
        }
    };
    f.PG = function () {
        0 !== this.Mf && (this.Mf -= 3, rJ(this))
    };
    f.QG = function () {
        var a = parseInt($(".preset").length, 10);
        this.Mf < a - 5 && (this.Mf += 3, rJ(this))
    };
    function rJ(a) {
        var b = -63 * a.Mf;
        a.$el.find(".preset").css("-webkit-transform", "translateX(" + b + "px)").css("transform", "translateX(" + b + "px)");
        lJ(a)
    }

    f.UH = function () {
        this.$el.hasClass("showAdvanced") ? (this.$el.find(".toggleAdvanced .text").text(Hc(this.Xc)), this.$el.find(".filterCode").removeClass("big").addClass("compact"), this.$el.removeClass("in").removeClass("showAdvanced")) : (this.$el.find(".toggleAdvanced .text").text(this.Xc.format("editorToolbarFilterOptionSimpler")), this.$el.addClass("showAdvanced").delay(300, function () {
            $(this).addClass("in")
        }), this.$el.find(".filterCode").removeClass("compact").addClass("big"))
    };
    f.Jl = function () {
        var a = J(t).Da()[0], b = this.model.Mt, c = !a, d = _.isEqual(b, this.Io);
        c || d || (a = {
            placeholderIndex: a.ub(),
            elementIndex: a.ea(),
            pageIndex: T(t, a.ca()),
            "new": {filter: b},
            old: {filter: this.Io}
        }, y.register(new U(11, a)), this.Io = b)
    };
    f.template = _.template('\x3cul class\x3d"presets"\x3e\x3cli class\x3d"scrollLeft"\x3e\x26#xe000;\x3c/li\x3e\x3cli class\x3d"scrollRight"\x3e\x26#xe000;\x3c/li\x3e\x3cli\x3e\x3cul class\x3d"presetsButtons"\x3e\x3c/ul\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"rangesContainer"\x3e\x3cul class\x3d"ranges"\x3e\x3c/ul\x3e\x3cdiv\x3e\x3cdiv class\x3d"toggleAdvanced"\x3e\x3cspan class\x3d"text"\x3e\x3c%- advancedOptionsMsg %\x3e\x3c/span\x3e \x3cspan class\x3d"arrow"\x3e\x26#xe000;\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"filterCode compact"\x3e\x3cspan class\x3d"text"\x3e\x3c%- filterCodeMsg %\x3e #\x3c/span\x3e\x3cinput name\x3d"hex" class\x3d"hex" maxlength\x3d"16"/\x3e\x3c/div\x3e');
    function UH(a, b) {
        WB.call(this, [{name: "start", from: "none", to: "pricingLayout"}, {
            name: "price",
            from: "pricingLayout",
            to: "pricingElements"
        }, {name: "price", from: "pricingElements", to: "reviewingSubmission"}, {
            name: "submit",
            from: "reviewingSubmission",
            to: "submitted"
        }, {name: "submit", from: "submitted", to: "submitted"}, {
            name: "error",
            from: "pricingLayout",
            to: "failed"
        }, {name: "error", from: "reviewingSubmission", to: "failed"}, {
            name: "error",
            from: "submitted",
            to: "failed"
        }]);
        this.document = t;
        this.Ue = Aa;
        this.xa = a;
        this.oc = b;
        this.Lq =
            []
    }

    UH.prototype = new WB;
    UH.prototype.start = function () {
        this.za.start()
    };
    function qI(a, b) {
        b.title && zC(a.document.La(), b.title);
        b.keywords && zj(a.document, b.keywords);
        b.locale && a.document.setLocale(b.locale);
        Bn(3E4).then(function () {
            a.za.transition("price")
        }, function () {
            a.za.transition("error")
        })
    }

    UH.prototype.lt = function () {
        this.za.transition("review")
    };
    function oI(a) {
        var b = av().vp(a.document.Gk());
        a.Lq.forEach(function (a) {
            var d = (a.keywords || []).map(Nr), e = new bv;
            e.media = a.media;
            e = e.Vd(a.version);
            e.title = a.title;
            a = e.pz(a.description).tp(d).wu(Yu(a.price));
            b.publicifyMediaRequests.push(a)
        });
        Su(a.oc, a.xa.Pa(), a.xa.qc(), b, function (b) {
            200 != b && a.za.transition("error")
        }, a.document.Ha().G());
        a.za.transition("submit")
    }

    function mI(a, b) {
        function c(a, c) {
            200 === a && c && c.media && 0 !== c.media.length ? b(c.media) : b && b([])
        }

        var d = Jj(a.document).map(function (a) {
            return a.G()
        });
        0 === d.length ? b && b([]) : (d = Ur(Vr((new Tr).Sg(!0).Yf(!1), [Zd, ae]).vu(), !1).sp(d), zr(Ga, d, c))
    }

    function sJ(a, b) {
        function c(a, c) {
            200 === a && c && c.media && 0 !== c.media.length ? b(c.media) : b && b([])
        }

        var d = Jj(a.document);
        0 === d.length ? b && b([]) : (d = $r(new Zr, d).vu(), Dr(Ga, d, c))
    }

    function kI(a, b) {
        sJ(a, function (a) {
            a = a.reduce(function (a, b) {
                return a + (b && b.na() && Qr(b.na()) && 100 * Qr(b.na()).ONE_USE || 0)
            }, 0);
            b(a)
        })
    };
    function jH(a) {
        WB.call(this, [{name: "start", from: "none", to: "exporting"}, {
            name: "complete",
            from: "exporting",
            to: "complete"
        }, {name: "fail", from: "exporting", to: "error"}, {name: "start", from: "error", to: "exporting"}]);
        this.ng = a;
        this.vn = this.Mv = null
    }

    jH.prototype = new WB;
    jH.prototype.Ko = function (a) {
        var b = this;
        if (null !== this.tb)return !1;
        this.Mv = Cl(a);
        this.za.start();
        this.tb = this.ng.lk(a, function (a) {
            b.tb = null;
            b.vn = a;
            b.za.transition("complete")
        }, function (a) {
            b.tb = null;
            b.vn = a;
            b.za.fail()
        });
        return !0
    };
    jH.prototype.vl = function (a, b) {
        switch (b) {
            case "error":
                this.trigger("change:state", this, b, {type: 0, message: this.gh, data: this.vn});
                break;
            case "exporting":
                this.trigger("change:state", this, b, this.Mv);
                break;
            case "complete":
                this.trigger("change:state", this, b, this.vn)
        }
    };
    function tJ(a, b) {
        WB.call(this, [{name: "start", from: "none", to: "gatheringInfo"}, {
            name: "pay",
            from: "gatheringInfo",
            to: "paying"
        }, {name: "payWithCreditPack", from: "gatheringInfo", to: "payingForCreditPack"}, {
            name: "pay",
            from: "payingForCreditPack",
            to: "paying"
        }, {name: "fail", from: "payingForCreditPack", to: "error"}, {
            name: "fail",
            from: "gatheringInfo",
            to: "error"
        }, {name: "complete", from: "paying", to: "complete"}, {name: "fail", from: "paying", to: "error"}]);
        this.ji = a;
        this.jb = b;
        this.wj = null;
        this.za.start()
    }

    tJ.prototype = new WB;
    tJ.prototype.Fg = function (a, b) {
        if (null !== this.tb)return !1;
        this.eg = a;
        this.Ms(this.eg, b);
        return !0
    };
    tJ.prototype.Ms = function (a, b) {
        function c(b, c) {
            e.tb = null;
            l = !0;
            var h;
            200 === b ? (e.za.transition("pay"), h = ig(e.jb, g, a.$d(), d), e.tb = h) : (e.gh = c, e.za.fail())
        }

        function d(a, b) {
            e.tb = null;
            l = !0;
            200 === a ? (e.wj = b.Hk(), e.za.transition("complete")) : e.za.fail()
        }

        var e = this, g = this.ji.Pa(), h = a.$d().length, k = bh(a);
        this.analytics && this.analytics.track("license_purchase", {quantity_new_items: h, value_new_items: k});
        var l = !1;
        b ? (this.za.transition("payWithCreditPack"), h = ng(this.jb, b, c)) : (this.za.transition("pay"), h = ig(this.jb,
            g, a.$d(), d));
        l || (this.tb = h)
    };
    tJ.prototype.vl = function (a, b, c) {
        switch (b) {
            case "error":
                this.trigger("change:state", this, b, {type: "gatheringInfo" === c ? 2 : 3, message: this.gh});
                break;
            case "gatheringInfo":
                this.trigger("change:state", this, b, this.eg);
                break;
            case "paying":
            case "payingForCreditPack":
                this.trigger("change:state", this, b);
                break;
            case "complete":
                this.trigger("change:state", this, b, this.wj)
        }
    };
    function uJ(a, b) {
        WB.call(this, [{name: "start", from: "none", to: "checking"}, {
            name: "pay",
            from: "checking",
            to: "payingForFreeItems"
        }, {name: "complete", from: "payingForFreeItems", to: "notRequired"}, {
            name: "fail",
            from: "payingForFreeItems",
            to: "error"
        }, {name: "dontRequire", from: "checking", to: "notRequired"}, {
            name: "require",
            from: "checking",
            to: "required"
        }, {name: "fail", from: "checking", to: "error"}]);
        this.jb = a;
        this.ji = b;
        this.wj = this.eg = null
    }

    uJ.prototype = new WB;
    uJ.prototype.it = function (a) {
        if (null !== this.tb)return !1;
        var b = this, c = this.ji.Pa(), d = this.ji.qc(), e = !1;
        this.za.start();
        a = this.jb.En(c, a, function (a, c) {
            b.tb = null;
            e = !0;
            200 === a ? (b.eg = c, b.wj = c.Hk(), c.documentVersion !== d ? (b.gh = "Your design changed during the billing check. Someone else may be editing it.", b.za.fail()) : 0 < bh(c) ? b.za.transition("require") : 0 === bh(c) && 0 < c.$d().length ? b.Ms(c) : b.za.transition("dontRequire")) : b.za.fail()
        });
        e || (this.tb = a);
        return !0
    };
    uJ.prototype.Ms = function (a, b) {
        function c(b, c) {
            e.tb = null;
            l = !0;
            var h;
            200 === b ? (e.za.transition("pay"), h = ig(e.jb, g, a.$d(), d), e.tb = h) : (e.gh = c, e.za.fail())
        }

        function d(a, b) {
            e.tb = null;
            l = !0;
            200 === a ? (e.wj = b.Hk(), e.za.transition("complete")) : e.za.fail()
        }

        var e = this, g = this.ji.Pa(), h = a.$d().length, k = bh(a);
        this.analytics && this.analytics.track("license_purchase", {quantity_new_items: h, value_new_items: k});
        var l = !1;
        b ? (this.za.transition("payWithCreditPack"), h = ng(this.jb, b, c)) : (this.za.transition("pay"), h = ig(this.jb,
            g, a.$d(), d));
        l || (this.tb = h)
    };
    uJ.prototype.vl = function (a, b) {
        switch (b) {
            case "error":
                this.trigger("change:state", this, b, {type: 1, message: this.gh});
                break;
            case "required":
                this.trigger("change:state", this, b, this.eg);
                break;
            case "notRequired":
                this.trigger("change:state", this, b, this.wj)
        }
    };
    function PI(a, b, c) {
        this.Dm = new uJ(b, a);
        this.Fs = new tJ(a, b);
        this.ih = new jH(c);
        this.ji = a;
        this.Em = this.vI = null;
        WB.call(this, [{name: "start", from: "none", to: "billing:checking"}, {
            name: "export",
            from: "none",
            to: "export:exporting"
        }, {name: "export", from: "billing:required", to: "payment:gatheringInfo"}, {
            name: "export",
            from: "billing:notRequired",
            to: "export:exporting"
        }, {name: "export", from: "billing:error", to: "error"}, {
            name: "export",
            from: "payment:gatheringInfo",
            to: "export:exporting"
        }, {
            name: "export", from: "payment:complete",
            to: "export:exporting"
        }, {name: "fail", from: "payment:error", to: "error"}, {
            name: "fail",
            from: "export:error",
            to: "error"
        }], [{name: "billing", Dc: this.Dm}, {name: "payment", Dc: this.Fs}, {name: "export", Dc: this.ih}])
    }

    PI.prototype = new WB;
    f = PI.prototype;
    f.it = function (a) {
        this.za.start();
        return this.Dm.it(a)
    };
    f.Ko = function (a) {
        this.za.transition("export");
        return "export:exporting" === this.za.Nd() && this.ih.Ko(a)
    };
    f.Fg = function (a) {
        return this.Fs.Fg(this.eg, a)
    };
    f.As = function (a, b, c, d) {
        WB.prototype.As.apply(this, arguments);
        var e = Array.prototype.slice.call(arguments, 2), g = a === this.ih && "error" === b;
        a === this.Fs && "error" === b || g ? (e = ["change:state", this, "error"].concat(e), Wz(this.za, "error"), this.trigger.apply(this, e)) : a === this.Dm && "required" === b || "notRequired" === b ? this.eg = c : a === this.Dm && "error" === b && (this.Em = c)
    };
    f.vl = function (a, b, c) {
        "payment:gatheringInfo" === b ? this.trigger("change:state", this, b, this.eg) : "export:exporting" === b && "none" === c ? this.trigger("change:state", this, b, this.vI) : "error" === b && "billing:error" === c && this.trigger("change:state", this, b, this.Em)
    };
    function $H() {
        this.Vx = window.pricingPlans
    }

    function bI(a) {
        return [Object.freeze(E(Jg, a.Vx.paidMonthly)), Object.freeze(E(Jg, a.Vx.paidYearly))]
    };
    function vJ(a) {
        this.plan = a.$F;
        this.title = a.title;
        this.pricePerIntervalText = a.jG;
        this.summaryText = a.HH
    }

    function wJ(a, b) {
        function c(a, c) {
            if ("MONTHLY" === c)return b.format("canvaForWorkUpgradePlanSummaryMonthly", a);
            if ("YEARLY" === c)return b.format("canvaForWorkUpgradePlanSummaryYearly", a);
            throw Error("unrecognised BillingInterval");
        }

        var d = a.slice(0).sort(function (a, b) {
            return Lg(b) - Lg(a)
        })[0];
        return a.map(function (a) {
            var g;
            if ("MONTHLY" === Kg(a))g = b.format("canvaForWorkUpgradePlanMonthly"); else if ("YEARLY" === Kg(a))g = b.format("canvaForWorkUpgradePlanYearly"); else throw Error("unrecognised plan billing interval");
            var h = c(a.ae(), Kg(a)), k;
            k = "YEARLY" === Kg(a) ? b.format("canvaForWorkUpgradePlanPercentSaving", ((Lg(d) - Lg(a)) / Lg(d) * 100).toFixed(0) / 100) : c(Lg(a), "YEARLY");
            return new vJ({$F: a, title: g, jG: h, HH: k})
        })
    };
    function xJ() {
    }

    xJ = Backbone.View.extend({tagName: "ul", className: "textIconList"});
    xJ.prototype.initialize = function (a) {
        this.items = a.items
    };
    xJ.prototype.render = function () {
        this.$el.html(this.items.map(this.Yr).join(""));
        return this
    };
    xJ.prototype.Yr = _.template('\x3cli class\x3d"textIconItem"\x3c% if (icon) { %\x3e data-icon\x3d"\x3c%- icon %\x3e"\x3c% } %\x3e\x3e\x3ch3\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isHtml) { %\x3e\x3c%\x3d content %\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- content %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e');
    function yJ() {
    }

    yJ = Backbone.View.extend({className: "priceOptions", tagName: "ul"});
    f = yJ.prototype;
    f.initialize = function (a) {
        this.zh = a.zh
    };
    f.events = function () {
        return {click: this.RA}
    };
    f.render = function () {
        this.$el.html(this.zh.map(this.kG).join(""));
        return this
    };
    f.RA = function (a) {
        a = $(a.target).closest("li");
        zJ(this, a.index())
    };
    function zJ(a, b) {
        0 <= b && b < a.zh.length && (a.$("li").eq(b).find("input").prop("checked", !0), a.trigger("selectPlan", a.zh[b].plan))
    }

    f.st = function () {
        function a(a) {
            switch (Kg(a)) {
                case "MONTHLY":
                    return a.ae();
                case "YEARLY":
                    return Lg(a);
                default:
                    throw Error("unknown billing interval");
            }
        }

        var b = [].concat(this.zh).sort(function (b, d) {
            return a(b.plan) - a(d.plan)
        }), b = this.zh.indexOf(b[0]);
        zJ(this, b)
    };
    f.kG = _.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerBillingInterval"\x3e\x3c%- pricePerIntervalText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3c/li\x3e');
    function AJ(a) {
        return _.template("\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- subTitle %\x3e\x3c/p\x3e")({
            title: a.format("canvaForWorkUpgradeWelcomeTitle"),
            subTitle: a.format("canvaForWorkUpgradeWelcomeSubTitle")
        })
    }

    _.template('\x3cul\x3e\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"https://support.canva.com/hc/requests/new"\x3e\x3c%- linkCustomerHappiness %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"https://support.canva.com/hc"\x3e\x3c%- linkHelpCenter %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e');
    _.template("\x3ch2\x3e\x3c%\x3d createTeamWelcomeTitleHtml %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- createTeamWelcomeDescription %\x3e\x3c/p\x3e");
    var BJ = _.template("\x3cul\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint1Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- createTrialPeriodPoint2 %\x3e\x3c/li\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint3Html %\x3e\x3c/li\x3e\x3c/ul\x3e");

    function CJ(a, b, c) {
        this.title = a;
        this.content = b;
        this.icon = c || "";
        this.isHtml = !1
    };
    function DJ(a) {
        return [new CJ(Lc(a), a.format("canvaForWorkUpgradeTeamBrandKitsDescription"), "teamBrandKits"), new CJ(Mc(a), a.format("canvaForWorkUpgradeLayoutCreatorsDescription"), "layoutCreators"), new CJ(Nc(a), a.format("canvaForWorkUpgradeMagicallyResizeDescription"), "magicResize"), new CJ(Oc(a), a.format("canvaForWorkUpgradePhotoFoldersDescription"), "photoFolders")]
    }

    function EJ(a) {
        return [new CJ(Lc(a), a.format("canvaForWorkUpgradeTeamBrandKitsShortDescription"), "teamBrandKits"), new CJ(Nc(a), a.format("canvaForWorkUpgradeMagicallyResizeShortDescription"), "magicResize"), new CJ(Mc(a), a.format("canvaForWorkUpgradeLayoutCreatorsShortDescription"), "layoutCreators"), new CJ(Oc(a), a.format("canvaForWorkUpgradePhotoFoldersShortDescription"), "photoFolders")]
    };
    function FJ(a) {
        this.jC = a.iC;
        this.UC = a.TC;
        this.Og = a.Ly.map(function (a) {
            return new GJ(a)
        });
        this.Og.forEach(function (a) {
            this.listenTo(a, {willAdvance: this.Aw, advance: this.vF, finish: this.xF, reset: this.yF, die: this.wF})
        }, this);
        this.Ks = a.Ks.map(function (a) {
            return _.defaults({}, a, {position: "leftTop", Pd: 0})
        });
        this.Wx = !1;
        this.$o = new HJ({qs: a.Ly.length, Vb: a.Vb})
    }

    f = FJ.prototype;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.off = Backbone.Events.off;
    f.listenTo = Backbone.Events.listenTo;
    f.listenToOnce = Backbone.Events.listenToOnce;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    function qj(a) {
        var b = [], c = [], d = a.Vb;
        b.push([{Yb: "#documentFileMenuButton", kd: 10}, {
            Yb: ".dropdownMenuPopoverContainer .documentResizePaneButton",
            pv: !0,
            Pd: 500,
            cg: 142,
            kd: 18
        }]);
        c.push({
            Yb: ".documentResizeButton[value\x3dpinterest]",
            xm: -170,
            Pd: 500,
            text: d.format("starOnboardingStepResizingText"),
            title: d.format("starOnboardingStepResizingTitle"),
            Lb: fd(d)
        });
        b.push([{Yb: "#objectPanel menu .uploads a", Wg: "#objectPanel.stage6", cg: 15, kd: 15}, {
            Yb: "#resultsUpload .newUploadsFolder", Ji: "#objectPanel:not(.stage6)",
            Ps: function () {
                $("#objectPanel").find(".uploadsFolder[title\x3dUploads].uploadsFolderOpen .uploadsFolderThumbnail").first().click()
            }, Pd: 500
        }]);
        c.push({
            Yb: "#resultsUpload .newUploadsFolderThumbnail",
            Pd: 500,
            text: d.format("starOnboardingStepPhotoFoldersText"),
            title: d.format("starOnboardingStepPhotoFoldersTitle"),
            Lb: fd(d)
        });
        a.Wm && (b.push([{
            Yb: "#objectPanel menu .layout a",
            Wg: "#objectPanel.stage2",
            cg: 15,
            kd: 15
        }, {Yb: "#resultsLayout .layoutsTabs \x3e li:last-child a", kd: 10, Ji: "#objectPanel:not(.stage2)", Pd: 500}]),
            c.push({
                Yb: "#resultsLayout .layoutsTabs \x3e li:last-child a",
                text: d.format("starOnboardingStepDesignsInEditorText"),
                title: d.format("starOnboardingStepDesignsInEditorTitle"),
                Lb: fd(d)
            }));
        b.push([{
            Yb: "#objectPanel menu .backgrounds a",
            Wg: "#objectPanel.stage5",
            cg: 15,
            kd: 15
        }, {
            Yb: "#resultsBackground .colorPaletteBrandSingle .colorPaletteEntry",
            Wv: !0,
            Ji: "#objectPanel:not(.stage5)",
            es: !0,
            Pd: 500
        }]);
        c.push({
            Yb: "#resultsBackground .colorPaletteBrandSingle .colorPaletteEntry",
            text: d.format("starOnboardingStepBrandKitText"),
            title: d.format("starOnboardingStepBrandKitTitle"),
            Lb: fd(d)
        });
        b.push([{
            Yb: "#objectPanel menu .uploads a",
            Wg: "#objectPanel.stage6",
            cg: 15,
            kd: 15
        }, {
            Yb: "#resultsUpload .uploadsFolder[title\x3dLogos] .uploadsFolderThumbnail",
            Ji: "#objectPanel:not(.stage6)",
            Ps: function () {
                $("#objectPanel").find(".uploadsFolder[title\x3dUploads].uploadsFolderOpen .uploadsFolderThumbnail").first().click()
            },
            Pd: 500
        }]);
        c.push({
            Yb: "#resultsUpload .uploadsFolder[title\x3dLogos] .uploadsFolderThumbnail",
            Pd: 500,
            text: d.format("starOnboardingStepLogoText"),
            title: d.format("starOnboardingStepLogoTitle"),
            Lb: fd(d)
        });
        a.oG && (b.push([{Yb: ".publishToStreamSwitch", cg: 5, kd: 5}, {
            Yb: ".switchPublishTemplate",
            Pd: 500
        }]), c.push({
            Yb: ".docPublisherPopOver .switchPublishTemplate",
            position: "rightTop",
            text: d.format("starOnboardingStepTemplatifyText"),
            title: d.format("starOnboardingStepTemplatifyTitle"),
            Lb: fd(d)
        }));
        var e = "C4W_UPGRADED_USER" === a.ge;
        a = e ? [d.format("starOnboardingActionSetupTeam"), dd(d)] : [d.format("starOnboardingActionGotoTeamSpace"), dd(d)];
        b = new FJ({
            iC: {
                Qu: [d.format("starOnboardingActionFindTheStars")],
                fp: d.format("starOnboardingFirstScreenSubtitle"),
                title: d.format("starOnboardingFirstScreenTitle"),
                nt: "",
                Vb: d
            },
            TC: {
                Qu: a,
                fp: d.format("starOnboardingLastScreenSubtitle"),
                title: d.format("starOnboardingLastScreenTitle"),
                nt: e ? "starFinderSplashScreenNewUser" : void 0,
                Vb: d
            },
            Ly: b,
            Ks: c,
            Vb: d
        });
        b.once("finish", function (a) {
            "solo" === a ? (null != H && H.track("upgrade_onboarding_finish_solo"), window.location = "/brand/create/featuredoc") : "team" === a && (null != H && H.track("upgrade_onboarding_finish_team"), window.location = "/brand#members")
        });
        return b
    }

    f.start = function () {
        var a = this;
        IJ(this).then(function () {
            a.$o.render().$el.appendTo(document.body);
            JJ(a)
        })
    };
    f.remove = function () {
        this.stopListening();
        this.$o.remove();
        this.Og.forEach(function (a) {
            a.remove()
        })
    };
    f.Aw = function (a) {
        this.Og.forEach(function (b) {
            b !== a && b.toggle(!1)
        })
    };
    f.vF = function (a) {
        this.Aw(a);
        this.Wx || (this.Wx = !0, KJ(a.Wc))
    };
    f.xF = function (a) {
        function b() {
            a.toggle(!1);
            LJ(d.$o)
        }

        function c() {
            MJ(d)
        }

        var d = this, e = this.Og.indexOf(a), g = this.Ks[e];
        P.delay(g.Pd).then(function () {
            var a = new NJ(g);
            a.je($(g.Yb));
            d.listenToOnce(a, "hide", b);
            d.listenToOnce(a, "remove", c)
        });
        OJ(this)
    };
    function MJ(a) {
        a.Og.every(function (a) {
            return PJ(a)
        }) ? QJ(a).then(a.remove.bind(a)) : RJ(a)
    }

    f.yF = function () {
        RJ(this)
    };
    f.wF = function () {
        LJ(this.$o);
        MJ(this)
    };
    function RJ(a) {
        a.Og.forEach(function (a) {
            PJ(a) || a.toggle(!0)
        })
    }

    function OJ(a) {
        a.Og.filter(function (a) {
            return !PJ(a)
        }).forEach(function (a, c) {
            a.$l(2 * c + 1)
        })
    }

    function JJ(a) {
        OJ(a);
        a.Og.forEach(function (a) {
            a.start()
        })
    }

    function IJ(a) {
        var b = new SJ(a.jC);
        b.render().show();
        a.listenToOnce(b, "next", function () {
            b.remove()
        });
        return new P(function (c) {
            a.listenToOnce(b, "remove", function () {
                null != H && H.track("upgrade_onboarding_start_stars");
                c()
            })
        })
    }

    function QJ(a) {
        var b, c = new SJ(a.UC);
        c.render().show();
        a.listenToOnce(c, "next", function (a) {
            b = a;
            c.remove()
        });
        return new P(function (d) {
            a.listenToOnce(c, "remove", function () {
                a.trigger("finish", b);
                d()
            })
        })
    };
    function NJ() {
    }

    NJ = X.extend({className: "starFinderPopOver"});
    NJ.prototype.initialize = function (a) {
        a = _.defaults({}, a, {xm: 0, cg: 0, Lb: a.Lb});
        X.prototype.initialize.call(this, a);
        this.options = a
    };
    NJ.prototype.Gn = function () {
        return TJ
    };
    NJ.prototype.render = function () {
        X.prototype.render.call(this);
        this.$(".buttonContainer .buttonBlock").removeClass("buttonBlock");
        this.$(".content").prepend($("\x3cp\x3e").text(this.options.text));
        return this
    };
    NJ.prototype.hf = function () {
        X.prototype.hf.call(this);
        var a = this.$(".dialog");
        a.css("left", parseInt(a.css("left"), 10) + this.options.xm).css("top", parseInt(a.css("top"), 10) + this.options.kd);
        return this
    };
    function HJ() {
    }

    HJ = Backbone.View.extend({className: "starFinderProgress"});
    HJ.prototype.initialize = function (a) {
        this.qs = a.qs;
        this.Vb = a.Vb
    };
    HJ.prototype.render = function () {
        this.$el.html(this.template({progressTitle: this.Vb.lG()}));
        for (var a = 0; a < this.qs; a++)this.$(".starFinderProgressList").append(this.Yr());
        return this
    };
    function LJ(a) {
        a.$("li:not(.starFinderProgressItemOn)").first().addClass("starFinderProgressItemOn")
    }

    HJ.prototype.Yr = _.template('\x3cli class\x3d"starFinderProgressItem"\x3e\x26starf;\x3c/li\x3e');
    HJ.prototype.template = _.template('\x3ch2 class\x3d"starFinderProgressTitle"\x3e\x3c%- progressTitle %\x3e\x3c/h2\x3e\x3col class\x3d"starFinderProgressList"\x3e\x3c/ol\x3e');
    function SJ() {
    }

    SJ = Backbone.View.extend({className: "starFinderSplashScreen"});
    f = SJ.prototype;
    f.events = function () {
        return {"click .buttonNext": this.XD}
    };
    f.initialize = function (a) {
        this.wa = Cf;
        this.options = a;
        this.yc = new Qm({wa: this.wa, style: Rm});
        this.fp = a.fp;
        this.title = a.title;
        this.Vb = a.Vb
    };
    f.render = function () {
        var a = $(this.gA());
        this.$el.html(this.template(this.Za()));
        this.$(".starFinderAstronautPlaceholder").replaceWith(a);
        this.options.Qu.forEach(function (a, c) {
            var d = $(this.fi({text: a}));
            d.toggleClass("buttonSecondary", 0 < c);
            this.$(".starFinderButtonWrapper").append(d)
        }, this);
        this.options.nt && this.$el.addClass(this.options.nt);
        return this
    };
    f.show = function () {
        var a = this, b = Wp(Ip, this.$(".starFinderStarImage img").prop("src")), c = Wp(Ip, this.$(".starFinderAstronaut img").prop("src"));
        this.yc.show(this.$el);
        P.all([b, c]).then(function () {
            a.$(".starFinderStarAndAstronaut").addClass("loaded")
        })
    };
    f.remove = function () {
        var a = this;
        this.$el.addClass("starFinderSplashScreenDisappearing");
        this.yc.hide();
        this.wa.setTimeout(function () {
            a.trigger("remove");
            Backbone.View.prototype.remove.call(a)
        }, 300)
    };
    f.Za = function () {
        return {
            subtitle: this.options.fp,
            title: this.options.title,
            specialInstructionsTitle: this.Vb.xH(),
            specialInstructionsHtml: this.Vb.vH(),
            specialInstructionsQuestionText: this.Vb.wH(),
            responseSolo: this.Vb.format("starOnboardingSpecialInstructionsResponseSolo"),
            responseTeam: this.Vb.format("starOnboardingSpecialInstructionsResponseTeam")
        }
    };
    f.XD = function (a) {
        var b = $(a.target), c;
        b.hasClass("starFinderSplashScreenButton") ? c = "splash" : b.hasClass("starOnboardingUserSoloButton") ? c = "solo" : b.hasClass("starOnboardingUserTeamButton") && (c = "team");
        this.trigger("next", c);
        a.preventDefault()
    };
    f.gA = _.template('\x3cdiv class\x3d"starFinderStarAndAstronaut"\x3e\x3cdiv class\x3d"starFinderStarOuter"\x3e\x3cdiv class\x3d"starFinderStarInner"\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderStarImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/star.png"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderAstronaut"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/astronaut.png"\x3e\x3c/div\x3e\x3c/div\x3e');
    f.fi = _.template('\x3cbutton class\x3d"button buttonNext starFinderSplashScreenButton"\x3e\x3c%- text %\x3e\x3c/button\x3e');
    f.template = _.template('\x3cdiv class\x3d"starFinderBackground"\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderContent"\x3e\x3cdiv class\x3d"starFinderAstronautPlaceholder"\x3e\x3c/div\x3e\x3ch2 class\x3d"starFinderTitle"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp class\x3d"starFinderSubtitle"\x3e\x3c%- subtitle %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderButtonWrapper"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderSpecialInstructions"\x3e\x3ch2\x3e\x3c%- specialInstructionsTitle %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%\x3d specialInstructionsHtml %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderSpecialInstructionsUserSelect"\x3e\x3ch3\x3e\x3c%- specialInstructionsQuestionText %\x3e\x3c/h3\x3e\x3cul\x3e\x3cli class\x3d"starOnboardingUserSolo"\x3e\x3ca href\x3d"/brand/create/featuredoc" class\x3d"button buttonNext starOnboardingUserSoloButton"\x3e\x3c%- responseSolo %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"starOnboardingUserTeam"\x3e\x3ca href\x3d"/brand#members" class\x3d"button buttonNext starOnboardingUserTeamButton"\x3e\x3c%- responseTeam %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e');
    function GJ(a) {
        this.active = !1;
        this.nf = 0;
        this.Wc = new UJ(a[0]);
        VJ(this);
        this.Xs = 0;
        this.em = a;
        this.Ee = new vz({
            attributes: !0,
            attributeFilter: ["class", "style"],
            childList: !0,
            characterData: !1,
            subtree: !0
        });
        a = _.throttle(this.iE.bind(this), 100, {trailing: !1});
        this.Ee.on("attrModified", a);
        this.Ee.on("subtreeModified", a)
    }

    f = GJ.prototype;
    f.on = Backbone.Events.on;
    f.off = Backbone.Events.off;
    f.listenTo = Backbone.Events.listenTo;
    f.listenToOnce = Backbone.Events.listenTo;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    f.start = function () {
        this.Wc.show();
        this.active = !0
    };
    f.remove = function () {
        this.stopListening();
        xz(this.Ee);
        this.Wc.remove();
        this.active = !1
    };
    function PJ(a) {
        return a.nf === a.em.length
    }

    f.$l = function (a) {
        this.Xs = a;
        0 === this.nf && this.Wc.$l(a)
    };
    function VJ(a) {
        a.listenTo(a.Wc, "advance", a.uF);
        a.listenTo(a.Wc, "die", a.zF)
    }

    f.toggle = function (a) {
        PJ(this) || (this.active = a, this.Wc.toggle(a))
    };
    f.uF = function () {
        function a() {
            c.Ee.observe(document.body)
        }

        function b() {
            c.active ? c.trigger("advance", c) : c.reset(!0)
        }

        if (this.active) {
            var c = this;
            xz(this.Ee);
            this.nf++;
            this.Wc.remove();
            PJ(this) ? this.trigger("finish", this) : (this.trigger("willAdvance", this), WJ(this).then(b).then(a).catch(function () {
            }))
        }
    };
    f.zF = function () {
        this.active && (xz(this.Ee), this.Wc.remove(), this.toggle(!1), this.nf = this.em.length, this.trigger("die", this))
    };
    f.iE = function () {
        var a;
        if (a = this.active && 0 < this.nf) {
            var b = XJ(this.Wc);
            if (PJ(this) || !b.is(":visible"))a = !1; else if (a = this.em[this.nf].Ji)a = 0 < $(a).length ? !1 : !0; else {
                a = b.get(0);
                var b = b.offset(), b = document.elementFromPoint(b.left, b.top), c = this.Wc.el;
                a = a === b || c === b || b && $.contains(a, b) || b && $.contains(c, b)
            }
            a = !a
        }
        a && this.reset()
    };
    f.reset = function (a) {
        xz(this.Ee);
        this.nf = 0;
        this.Wc.remove();
        WJ(this);
        a || this.trigger("reset", this)
    };
    function WJ(a) {
        var b = _.extend({}, a.em[a.nf], {filled: a.nf === a.em.length - 1});
        a.Wc = new UJ(b);
        VJ(a);
        a.Xs && a.$l(a.Xs);
        return a.Wc.show()
    };
    function UJ() {
    }

    UJ = Backbone.View.extend({className: "starFinderStarContainer starFinderStarHidden starFinderStarInactive"});
    UJ.prototype.events = function () {
        return {"click .starFinderStar": this.Gf}
    };
    UJ.prototype.initialize = function (a) {
        a = _.defaults({}, a, {xm: 0, cg: 0, kd: 0, pv: !1, filled: !1, Wv: !1, es: !1, position: 3, Pd: 0});
        this.Rr = !1;
        this.options = a;
        this.Do = 0;
        this.uh = this.uh.bind(this);
        this.ll = this.ll.bind(this);
        this.gj = _.throttle(this.gj.bind(this), 100);
        $(document).on("click", this.gj);
        $(window).on("resize", this.gj)
    };
    UJ.Au = 1600;
    UJ.Dp = 500;
    f = UJ.prototype;
    f.render = function () {
        this.$el.toggleClass("starFinderStarInert", this.options.pv);
        this.$el.toggleClass("starFinderStarFilled", this.options.filled);
        this.$el.html(this.template({filled: this.options.filled}));
        return this
    };
    f.Ql = function () {
        function a() {
            var a = d.outerWidth();
            if (-1 < [2, 0].indexOf(c.options.position))return Math.round(e.left - a + c.options.xm);
            if (-1 < [3, 1].indexOf(c.options.position))return Math.round(e.left + d.outerWidth() - c.options.cg)
        }

        function b() {
            var a = d.outerHeight();
            if (-1 < [2, 3].indexOf(c.options.position))return Math.round(e.top + c.options.kd);
            if (-1 < [0, 1].indexOf(c.options.position))return Math.round(e.top + a / 2 + c.options.kd)
        }

        var c = this, d = XJ(this), e = d.offset();
        0 < d.length && this.$(".starFinderStar").css("left",
            a()).css("top", b())
    };
    f.remove = function () {
        $(document).off("click", this.gj);
        $(window).off("resize", this.gj);
        XJ(this).off("click", this.uh).off("mousedown", this.ll);
        window.clearInterval(this.Do);
        Backbone.View.prototype.remove.call(this)
    };
    f.show = function () {
        this.render().$el.appendTo(document.body);
        if (this.options.Ji && 0 < $(this.options.Ji).length)return P.resolve();
        this.$el.toggleClass("starFinderStarInactive", !1);
        return P.delay(this.options.Pd).then(function () {
            this.options.Ps && this.options.Ps();
            if (0 === XJ(this).length)return this.trigger("die", this), P.reject();
            YJ(this, !0);
            this.Ql();
            if (this.options.es)XJ(this).off("mousedown", this.ll).on("mousedown", this.ll); else XJ(this).off("click", this.uh).on("click", this.uh);
            this.options.Wg && 0 < $(this.options.Wg).length &&
            this.trigger("advance", this)
        }.bind(this))
    };
    f.$l = function (a, b) {
        function c() {
            KJ(e)
        }

        function d() {
            KJ(e);
            e.$l(a, e.Rr)
        }

        var e = this, g = 0 !== this.Do, h = 1E3 * a;
        this.Rr = !!b;
        window.clearInterval(this.Do);
        this.Do = g ? window.setInterval(c, h + (UJ.Au + (b ? 2 * UJ.Dp : 0))) : window.setTimeout(d, h)
    };
    function KJ(a) {
        function b() {
            d.$el.addClass("starFinderPulsate");
            return P.delay(UJ.Au).then(function () {
                d.$el.removeClass("starFinderPulsate")
            })
        }

        function c() {
            YJ(d, !1);
            return P.delay(UJ.Dp)
        }

        var d = a;
        a.Rr ? (YJ(d, !0), P.delay(UJ.Dp).then(b).then(c)) : b()
    }

    f.toggle = function (a) {
        this.$el.toggleClass("starFinderStarInactive", !a);
        YJ(this, a);
        this.options.Wg && 0 < $(this.options.Wg).length && this.trigger("advance", this)
    };
    function XJ(a) {
        return $(a.options.Yb)
    }

    function YJ(a, b) {
        a.$el.toggleClass("starFinderStarHidden", !b)
    }

    f.uh = function () {
        this.trigger("advance", this)
    };
    f.ll = function () {
        var a = this;
        XJ(this).one("mouseup", function () {
            a.uh()
        })
    };
    f.Gf = function () {
        function a(a) {
            var d = XJ(b).offset();
            a = new jQuery.Event(a);
            a.clientX = d.left;
            a.clientY = d.top;
            return a
        }

        var b = this;
        this.options.Wv ? (XJ(b).trigger(a("mousedown")).trigger(a("mouseup")), b.options.es || b.uh()) : XJ(this).click()
    };
    f.gj = function () {
        P.delay(300).bind(this).then(this.Ql)
    };
    f.template = _.template('\x3cdiv class\x3d"starFinderStar"\x3e\x3c%\x3d filled ? "\x26starf;" : "\x26star;" %\x3e\x3c/div\x3e');
    function ZJ(a) {
        this.analytics = a.analytics;
        this.jb = a.jb;
        this.Sa = a.Sa;
        this.Qc = null;
        this.hc = a.hc;
        this.listenTo(this.hc, "input", this.gE);
        this.ty = null;
        this.Cj = a.Cj;
        this.Gp = a.Gp || null;
        this.F = a.F;
        this.view = a.view;
        this.listenTo(this.view, {
            selectPlan: this.hI,
            resize: this.trigger.bind(this, "resize"),
            retry: this.mF,
            revert: this.oF,
            submit: this.AF
        })
    }

    f = ZJ.prototype;
    f.listenTo = Backbone.Events.listenTo;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.off = Backbone.Events.off;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    function $J(a) {
        var b = a.lj.slice(0).sort(function (a, b) {
            return Lg(a) - Lg(b)
        }), b = new yJ({zh: wJ(b, Nb(a.F))});
        return new aK({compact: a.compact, Gl: b, gd: a.gd || 0 < a.lj.length && a.lj[0].vr() || 30, F: a.F})
    }

    f.appendTo = function (a) {
        this.view.render().$el.appendTo(a);
        this.view.st();
        bK(this.view, !1);
        this.hc.render();
        this.hc.getElement().prependTo(this.view.$(".teamBillingCreditCardContainer"))
    };
    f.remove = function () {
        this.stopListening();
        this.hc.remove();
        this.view.remove()
    };
    f.Kj = function (a) {
        this.view.Kj(a)
    };
    f.Qv = function () {
        function a(a) {
            return 404 === a
        }

        var b = this, c = this.Sa.G();
        this.Kj(!1);
        return function () {
            return b.Gp ? P.resolve(b.Gp) : eg(b.jb, c).catch(a, function () {
                return cg({})
            })
        }().bind(this).then(function (a) {
            a.mh() && (this.Qc = a.mh(), this.hc.xj(!0).Hg(this.Qc))
        }).catch(function () {
            var a = this.view;
            a.$el.html(a.HG({billingError: a.me.Em(), tryAgain: a.me.$H()}))
        }).finally(function () {
            this.Kj(!0)
        })
    };
    f.gE = function (a) {
        this.Qc && bK(this.view, a)
    };
    f.mF = function () {
        this.Qv()
    };
    f.oF = function () {
        this.Qc && (this.hc.Hg(this.Qc), bK(this.view, !1))
    };
    f.AF = function () {
        this.Kj(!1);
        this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner", !0);
        this.hc.Hn().bind(this).then(function () {
            if (!this.Cj) {
                var a = (new Mg).Zh(this.Sa.G());
                a.plan = this.ty.G();
                return this.jb.iI(a)
            }
        }).then(function (a) {
            var b = this.analytics;
            b.ga && b.ga("send", "event", {eventCategory: "Subscription", eventAction: "Upgraded"});
            this.trigger("signup", a)
        }).catch(gC, function (a) {
            this.analytics.track("upgrade_onboarding_card_error", {message: a.message});
            a = sC(Zb(this.F), a);
            this.view.It(a)
        }).catch(function () {
            this.view.It("An error occured while trying to subscribe")
        }).finally(function () {
            this.Kj(!0)
        });
        this.analytics.track("upgrade_onboarding_card_submit")
    };
    f.hI = function (a) {
        this.ty = a
    };
    function aK() {
    }

    aK = Backbone.View.extend({className: "teamBillingSignup"});
    f = aK.prototype;
    f.events = function () {
        return {
            "click .teamBillingCreditCardRevert": this.trigger.bind(this, "revert"),
            "click .teamBillingCreditCardSubmit": this.trigger.bind(this, "submit"),
            "click .teamBillingRetryButton": this.trigger.bind(this, "retry")
        }
    };
    f.initialize = function (a) {
        this.compact = a.compact;
        this.Gl = a.Gl;
        this.listenTo(this.Gl, "selectPlan", this.trigger.bind(this, "selectPlan"));
        this.oj = new xJ({items: DJ(Nb(a.F))});
        this.gd = a.gd;
        a = this.F = a.F;
        a.me || (a.me = new cd(a.Ga));
        this.me = a.me
    };
    f.render = function () {
        var a = moment().add(this.gd, "days").format("MMMM Do, YYYY"), b;
        b = this.F;
        b.Yt || (b.Yt = new bd(b.Ga));
        b = b.Yt;
        this.$el.html(this.template({
            compact: this.compact,
            claimHtml: this.me.zA(this.gd),
            revertCard: this.me.JG(),
            startTrial: this.me.CH(),
            itemsTitle: this.me.PC(),
            encryption: this.me.SB(),
            trialPeriodInfoItemsHtml: BJ({
                createTrialPeriodPoint1Html: b.mB(a),
                createTrialPeriodPoint2: b.nB(),
                createTrialPeriodPoint3Html: b.oB()
            })
        }));
        this.compact || this.oj.render().$el.appendTo(this.$(".teamBillingPromoItems"));
        this.Gl.render().$el.appendTo(this.$(".teamBillingPriceOptions"));
        return this
    };
    f.st = function () {
        this.Gl.st()
    };
    f.It = function (a) {
        alert(a)
    };
    function bK(a, b) {
        var c = a.$(".teamBillingCreditCardRevert");
        b ? c.show() : c.hide();
        a.trigger("resize")
    }

    f.Kj = function (a) {
        this.$el.toggleClass("enabled", a)
    };
    f.template = _.template('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2\x3e\x3c%\x3d claimHtml %\x3e\x3c/h2\x3e\x3c%\x3d trialPeriodInfoItemsHtml %\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cbutton class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c%- startTrial %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e\x3c%- revertCard %\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e\x3c%- encryption %\x3e\x3c/p\x3e\x3c/div\x3e\x3c% if (!compact) { %\x3e\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e\x3c%- itemsTitle %\x3e\x3c/h4\x3e\x3c/div\x3e\x3c% } %\x3e');
    f.HG = _.template('\x3cp class\x3d"teamBillingRetry"\x3e\x3c%- billingError %\x3e\x3cbr/\x3e\x3cbutton class\x3d"button teamBillingRetryButton"\x3e\x3c%- tryAgain %\x3e\x3c/button\x3e\x3c/p\x3e');
    function cK() {
    }

    cK = Backbone.View.extend({className: "promotion"});
    cK.prototype.initialize = function (a) {
        this.Er = a.oj ? new xJ({items: a.oj}) : null;
        this.Ws = a.Ws || "";
        this.Bh = a.Bh || "";
        this.Fd = a.Fd || ""
    };
    cK.prototype.events = function () {
        return {"click .promoActions button": this.trigger.bind(this, "next")}
    };
    cK.prototype.render = function () {
        this.$el.html(this.template({promoHeaderHtml: this.Bh, promoIntroHtml: this.Ws, buttonText: this.Fd}));
        this.Er && this.Er.render().$el.appendTo(this.$(".promoContent"));
        return this
    };
    cK.prototype.template = _.template('\x3c% if (promoHeaderHtml) { %\x3e\x3cdiv class\x3d"promoHeader"\x3e\x3c%\x3d promoHeaderHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoBody"\x3e\x3c% if (promoIntroHtml) { %\x3e\x3cdiv class\x3d"promoIntro"\x3e\x3c%\x3d promoIntroHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoContent"\x3e\x3c/div\x3e\x3c% if (buttonText) { %\x3e\x3cdiv class\x3d"promoActions"\x3e\x3cbutton class\x3d"button"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e');
    function dK() {
    }

    dK = Backbone.View.extend({className: "promotionVideo promotion"});
    dK.prototype.initialize = function (a) {
        this.lz = a.lz;
        this.Er = new xJ({items: a.oj});
        this.Bh = a.Bh || "";
        this.Fd = a.Fd || ""
    };
    dK.prototype.events = function () {
        return {"click .promoActions button": this.trigger.bind(this, "next")}
    };
    dK.prototype.render = function () {
        this.$el.html(this.template({promoHeaderHtml: this.Bh, buttonText: this.Fd, videoId: this.lz}));
        return this
    };
    dK.prototype.template = _.template('\x3c% if (promoHeaderHtml) { %\x3e\x3cdiv class\x3d"promoHeader"\x3e\x3c%\x3d promoHeaderHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoBody"\x3e\x3cdiv class\x3d"promoContent"\x3e\x3ciframe class\x3d"promoVideo" type\x3d"text/html" width\x3d"650" height\x3d"369" src\x3d"https://www.youtube.com/embed/\x3c%- videoId %\x3e?autoplay\x3d1\x26modestbranding\x3d1\x26controls\x3d2\x26rel\x3d0\x26loop\x3d1" frameborder\x3d"0" allowfullscreen\x3d"false"/\x3e\x3c/div\x3e\x3c% if (buttonText) { %\x3e\x3cdiv class\x3d"promoActions"\x3e\x3cbutton class\x3d"button"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e');
    function eK(a) {
        this.Nh = a.Nh;
        this.Zb = null;
        this.gd = a.gd || 0;
        this.we = void 0 === a.we || a.we;
        this.Zg = void 0 === a.Zg || a.Zg;
        this.ed = void 0 === a.ed || a.ed;
        this.analytics = a.analytics;
        this.TB = _.once(this.Nh.Qv).bind(this.Nh);
        this.Nh.once("signup", this.tF.bind(this));
        this.Wf = a.rA
    }

    var MA = 0, oG = 1, UG = 2, eH = 3;

    function aI(a) {
        var b = new uI({Cm: a.jb, Sa: a.Sa.G(), le: a.Qy, tk: !0, zb: Zb(a.F)}), b = new ZJ({
            analytics: a.analytics,
            jb: a.jb,
            Sa: a.Sa,
            hc: b,
            Cj: a.Cj,
            F: a.F,
            view: $J({compact: !0, lj: a.lj, gd: a.gd, F: a.F})
        });
        return new eK({analytics: a.analytics, Zg: a.Zg, we: a.we, rA: Nb(a.F), ed: a.ed, gd: a.gd, Nh: b})
    }

    f = eK.prototype;
    f.listenTo = Backbone.Events.listenTo;
    f.listenToOnce = Backbone.Events.listenToOnce;
    f.on = Backbone.Events.on;
    f.once = Backbone.Events.once;
    f.off = Backbone.Events.off;
    f.stopListening = Backbone.Events.stopListening;
    f.trigger = Backbone.Events.trigger;
    f.remove = function () {
        this.Zb && this.Zb.remove()
    };
    f.show = function () {
        fK(this, [])
    };
    function cI(a) {
        var b = [], c = a.Wf;
        b.push(new cK({Fd: gK(a), Bh: AJ(c), oj: DJ(c)}));
        fK(a, b)
    }

    function Ki(a, b) {
        var c = [], d = a.Wf, e = new cK({
            Fd: gK(a),
            Bh: _.template("\x3ch2\x3e\x3c%- text %\x3e\x3c/h2\x3e")({text: d.format("canvaForWorkUpgradeIntroducingCanvaForWork")}),
            Ws: function () {
                switch (b) {
                    case oG:
                        return d.format("canvaForWorkUpgradeHighlightPhotoFolders");
                    case MA:
                        return d.format("canvaForWorkUpgradeHighlightFontUpload");
                    case UG:
                        return d.format("canvaForWorkUpgradeHighlightDocumentResize");
                    case eH:
                        return d.format("canvaForWorkUpgradeHighlightExportTransparentBackground");
                    default:
                        return ""
                }
            }(),
            oj: EJ(d)
        });
        a.listenToOnce(e, "next", function () {
            Wf(this.analytics, "learn_more")
        });
        c.push(e);
        fK(a, c)
    }

    function fK(a, b) {
        var c = new Backbone.View({className: "upgradeDialogSignup"});
        b.push(c);
        a.Zb = new Wm({Yq: ["upgradeDialog"], we: a.we, ed: a.ed, aa: b});
        a.Zb.on("hide", function () {
            a.Zb.remove();
            a.Zb = null;
            a.Nh.remove();
            a.trigger("hide")
        });
        a.TB();
        a.Zb.show();
        a.analytics && a.analytics.track("upgrade_dialog_loaded");
        a.Nh.appendTo(c.$el);
        c.$el.append(a.qG({
            meganKelleyQuote: a.Wf.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),
            meganKelleyCite: a.Wf.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),
            donnaMoritzQuote: a.Wf.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),
            donnaMoritzCite: a.Wf.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),
            travisBernardQuote: a.Wf.format("canvaForWorkUpgradeQuoteTravisBernardContent"),
            travisBernardCite: a.Wf.format("canvaForWorkUpgradeQuoteTravisBernardCite")
        }))
    }

    function gK(a) {
        var b = a.Wf;
        return 0 === a.gd ? b.format("canvaForWorkUpgradeGetCanvaForWork") : b.format("canvaForWorkUpgradeStartYourTrial", a.gd)
    }

    f.tF = function () {
        this.Zg && this.Zb && this.Zb.remove();
        this.trigger("signup")
    };
    f.qG = _.template('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e\x3c%- meganKelleyQuote %\x3e\x3ccite\x3e\x3c%- meganKelleyCite %\x3e\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e\x3c%- donnaMoritzQuote %\x3e\x3ccite\x3e\x3c%- donnaMoritzCite %\x3e\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e\x3c%- travisBernardQuote %\x3e\x3ccite\x3e\x3c%- travisBernardCite %\x3e\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e');
    _.template('\x3cdiv class\x3d"upgradeDialogSpecific"\x3e\x3cdiv class\x3d"upgradeDialogSpecific__image upgradeDialogSpecific__image--\x3c%- splashImageClass %\x3e"\x3e\x3c/div\x3e\x3ch2 class\x3d"upgradeDialogSpecific__primaryText"\x3e\x3c%- primaryText %\x3e\x3c/h1\x3e\x3cp class\x3d"upgradeDialogSpecific__secondaryHtml"\x3e\x3c%\x3d secondaryHtml %\x3e\x3c/p\x3e\x3c/div\x3e');
    function hK() {
    }

    function Sw(a) {
        return Object.freeze(E(hK, a))
    }

    function Rx(a) {
        if (a.magic)return Object.freeze(E(iK, a.magic))
    }

    function iK() {
    }

    iK.prototype.xf = function () {
        return this.color
    };
    iK.prototype.dc = function () {
        return this.thumbnail
    };
    function rE(a, b, c) {
        function d() {
            return b.map(function (b) {
                return rE(a, b, c)
            })
        }

        function e() {
            return Object.keys(b).reduce(function (a, d) {
                a[d] = rE(d, b[d], c);
                return a
            }, {})
        }

        return Array.isArray(b) ? d() : "object" === typeof b && null !== b ? e() : a && -1 < a.toLowerCase().indexOf("color") && "string" === typeof b ? c[b] || b : b
    };
    function FD(a, b) {
        var c = b.serialize();
        c && jK(a, c)
    }

    function jK(a, b) {
        _.each(a, function (a) {
            "object" === typeof a && null !== a && jK(a, b)
        });
        "mediaId"in a && "mediaVersion"in a && (a.origin = b)
    };
    function kK(a, b) {
        this.VF = (this.Ou = "PUBLIC" !== a) ? a : "*";
        this.LH = b
    }

    kK.prototype.init = function (a) {
        window.addEventListener("message", function (b) {
            b = b.data;
            b.isCanvaApi && (a[b.type] || $.noop)(b)
        }, !1);
        this.sendMessage({type: "Init", authenticated: this.Ou})
    };
    kK.prototype.sendMessage = function (a) {
        a.isCanvaApi = !0;
        this.LH.postMessage(a, this.VF)
    };
    function lK(a, b) {
        function c(a) {
            a.preventDefault();
            z ? (u.sendMessage({type: "PublishRequested", designId: v.Pa(), untouched: h()}), k()) : (O(), g())
        }

        var d = Ka, e = Ma;

        function g() {
            var a = !1, b = new Pm({
                wa: Cf,
                hk: !1,
                content: $('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e'),
                Aj: !1,
                ed: !1,
                title: "Saving your design..."
            });
            !z && v.Qe() && (b.show(), a = !0);
            Bn(2E4).then(function () {
                a &&
                b.remove();
                u.sendMessage({type: "Close", designId: v.Pa(), untouched: h()})
            }, function () {
                var c = new Pm({
                    wa: Cf,
                    title: "Saving failed",
                    content: $('\x3cp\x3eSorry, but we had some trouble saving your design. You may still be in the middle of uploading some images, someone else might be editing your design at the moment, or our servers might be having issues. Please try again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOk\x3c/button\x3e\x3c/p\x3e')
                });
                a && b.remove();
                c.show()
            })
        }

        function h() {
            return 1 === v.qc() && t.isEmpty()
        }

        function k() {
            $(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")
        }

        function l() {
            $(document.body).removeClass("modalContentVisible modalContentBlurAndDarkenVisible")
        }

        function m(a) {
            var c = a.layout;
            return c ? b.Ha((new nl).re(c)).then(function (a) {
                a = a.docType ? gj(a.docType) : void 0;
                return a
            }, function () {
                return n(a)
            }) : n(a)
        }

        function n(a) {
            a = a.pages && a.pages[0];
            return hl(a ? a.width : 0, a ? a.height : 0)
        }

        function q(a) {
            return new P(function (b) {
                var c =
                    Array.isArray(a) && a || null, c = xq(c) || [], c = xw(Ia, c);
                Vv(c, b)
            })
        }

        function r() {
            return XH(a, {Ga: a, ii: Na, sa: Ka, analytics: H, document: t, xa: v, oc: Va, ng: Ea, F: Ma})
        }

        function p() {
            var a = ke(t.Ha().Ab()), b = new $G({zB: a.C(), yB: a.D(), Es: t.zf(), F: e});
            b.Ux = !0;
            a = new cJ({model: b.Nd(), da: Xb(e)});
            a.listener = function () {
                var a = b.Nd().exportUrl, c = b.Nd().thumbnailUrl;
                u.sendMessage({type: "Published", designId: v.Pa(), exportUrl: a, thumbnailUrl: c, untouched: h()});
                b.remove()
            };
            b.aa.Kv = a;
            a = {outputType: "PNG", mediaDpi: 96};
            w && (a.outputType = "PDF");
            aH(b, a);
            bH(b, b.aa.wn);
            b.show();
            cH(b)
        }

        var u = new kK(window.CANVA_EMBED.embedDomain, window.parent), w = !1, z = !0;
        u.init({
            setDoneButtonText: function (a) {
                var b = $(".editorActionExport");
                0 !== b.length && b.text(a.text)
            }, blur: k, close: g, focus: l, publish: function () {
                try {
                    p()
                } catch (a) {
                    l()
                }
            }, loadDocumentFromJson: function (b) {
                var c;
                try {
                    c = JSON.parse(b.text)
                } catch (g) {
                    return
                }
                var h = "object" === typeof c && c || {}, k = Ni(), l = new Pl(Ja);
                P.all([m(h), q(h.media)]).spread(function (c) {
                    var g = null, m = Om(Jm().user);
                    try {
                        g = ej()
                    } catch (n) {
                    }
                    (new fj({
                        li: k,
                        Yc: Na, Kc: l, sa: d, F: e, analytics: H, wd: G, uc: g, dh: m
                    })).go(h, c, a, null, r, null);
                    !0 === b.killInterface && (wn = !0, $("#objectPanel").css("display", "none"), $("#editorControls").css("display", "none"), $("#canvaDocument").css("left", "0"))
                })
            }, setExportEnabled: function (a) {
                z = !!a.enabled
            }, setMultipagePdf: function (a) {
                a.enabled ? w = !0 : (rH.uB(), aD.tB())
            }, setStaticTitle: function (a) {
                dz.fH(a.title)
            }, upload: function (a) {
                ax.call($("#objectPanel .uploads a"), e);
                nw(new jw({
                    source: "third_party_editor", Z: Bb(e), wl: function (a) {
                        var d = J(t).C(),
                            e = J(t).D(), g = b, h = c, k = g / h;
                        e < h && (h = e, g *= k);
                        d < g && (g = d, h *= k);
                        a = {
                            type: "image",
                            isBackground: !1,
                            isRecolorable: !1,
                            mediaId: a.G(),
                            mediaVersion: a.na().getVersion(),
                            isCutout: !1,
                            width: g,
                            height: h
                        };
                        a = Sd(a);
                        J(t).addElement(a, !0);
                        u.sendMessage({type: "Upload", status: "done"})
                    }
                }), a.dataUri);
                var b = a.width, c = a.height
            }
        });
        v ? u.sendMessage({type: "Editor", designId: v.Pa()}) : u.sendMessage({type: "Editor"});
        $(".homeLink").click(function (a) {
            a.preventDefault();
            g()
        });
        $("#editorLogo").click(function (a) {
            window.open("https://www.canva.com/about");
            a.preventDefault();
            a.stopPropagation();
            return !1
        });
        dz.ov();
        dz.vB();
        $("#documentMenuUpgrade").remove();
        YH.EXPORT = function () {
            var a = new Backbone.View({tagName: "button", className: "button editorActionExport", events: {click: c}});
            a.$el.text("Publish");
            return a
        }
    };
    $(function (a, b) {
        function c() {
            t && v ? (v.Xi(t.serialize()), setInterval(function () {
                t && v && Gk(v, t.serialize()) && t.trigger("change")
            }, 3E5)) : setTimeout(c, 15E3)
        }

        function d() {
            return XH(h, {Ga: h, ii: Na, sa: Ka, analytics: H, document: t, xa: v, oc: Va, ng: Ea, F: Ma})
        }

        function e(a) {
            var b = jm(a);
            return b && (a = go(La, b.family || "")) ? {
                fontFamily: a.family,
                fontSize: b.Gi(),
                bold: b.vi(),
                italic: b.Ai()
            } : null
        }

        function g(a) {
            return function (b) {
                return b.getName() === a
            }
        }

        var h = new ze(b || window.viewConfig), k = Nm(Mm(Jm()));
        $("body").toggleClass("highDpi",
            jb);
        if (!window.cmsg)throw Error("window['cmsg'] isn't defined");
        Ma = new Ab;
        Ka = nd();
        Xx && (jQuery.event.props.push("touches"), jQuery.event.props.push("changedTouches"), $("html").addClass("touch"));
        mK();
        nK();
        var l = window.csrfTokens, m = nf();
        Ja = m;
        var n = If(Hf(new uf(m)));
        Ff(n, "init-start");
        Od = new Ys({Ga: mt(), ba: Ja});
        Od.init().then(function () {
            $("#objectPanel .content .buttonFacebook").prop("disabled", !1)
        });
        Pd = new rt({aq: window.googleConfig.clientId, Oo: ["https://www.googleapis.com/auth/drive.readonly"], dj: !1});
        Pd.load().then(function () {
            $("#objectPanel .content .buttonGoogleDrive").prop("disabled", !1)
        });
        H = $f(window.analyticsConfig || null);
        Na = new Ii({
            analytics: H, kq: function () {
                var a = bI(new $H), b = Mm(Jm()).ta(), c = uC();
                return aI({jb: Da, analytics: H, Sa: b, lj: a, Qy: c, Cj: !1, gd: a[0].vr(), Zg: !1, F: Ma})
            }, window: window
        });
        Ca = new Vj(Ja);
        Ea = new wl(Ja);
        Da = new ag(Ja);
        Va = new Ru;
        Ga = new tn(Ja);
        Aa = new Tv(window.mediaMap, Ga);
        Ba = new Tv(window.fontMediaMap, Ga);
        Ia = new ww(Ja, Ga, Va, Aa, new Fw);
        Ha = new Pl(Ja);
        var q = Jm(), r = Om(q.user);
        gb = window.localStorage ?
            new pi(window.localStorage, q.user.G()) : new pi;
        La = new vu(uu, Ga, window.WebFont, Ba, window.cmsg.localePrecedence[0]);
        Ka.Ta.get(Cd) && xu();
        window.scrollTo(0, 0);
        var p = function () {
            var a = Nm(Mm(Jm()));
            return (a = a && dm(a)) && a[0] ? gm(a[0]) || [] : []
        }(), u = {};
        Lu(La, p, function () {
            var a = oK(p);
            Ka.Ta.get(Cd) && 0 < a.length && (La.Us = a, u = {
                title: p.filter(g("title")).map(e)[0],
                subtitle: p.filter(g("subtitle")).map(e)[0],
                body: p.filter(g("body")).map(e)[0]
            }, Object.keys(u).forEach(function (a) {
                u[a] || delete u[a]
            }))
        });
        Ka.Ta.get(Dd) && (ub =
            ["#000000", "#ffffff"]);
        var w = window.csession, q = window.cdoc, z = window.cdocType;
        if (q) {
            var x = null;
            try {
                x = ej()
            } catch (fa) {
            }
            (new fj({li: Ni(), Yc: Na, Kc: Ha, sa: Ka, F: Ma, analytics: H, wd: G, uc: x, dh: r})).go(q, z, h, k, d, n);
            window.history.replaceState("", document.title, window.location.pathname + window.location.search);
            var C = Yy(w, q);
            setTimeout(c, 15E3);
            var A = q.id, B = Date.now(), k = window.CANVA_EMBED, F = l.session, l = !!navigator.sendBeacon, r = new Cn({
                ba: Ja,
                Bs: B,
                Id: A,
                xa: C,
                Nq: k,
                Zt: Ia,
                Rp: l,
                Jq: F
            });
            $(window).resize(on).on("beforeunload",
                r.KG.bind(r));
            if (!k && l) {
                var I = location.protocol + "//" + location.hostname + (location.port ? ":" + location.port : "");
                $(window).on("unload", function () {
                    var a = Math.floor((Date.now() - B) / 1E3) + "", a = JSON.stringify({
                        docId: A,
                        session: w,
                        durationSecs: a,
                        docMetrics: {sync: C.Wt.serialize()},
                        csrfToken: F
                    });
                    navigator.sendBeacon(I + "/session/editor/" + encodeURIComponent(A) + "?close", a)
                })
            }
        }
        on();
        window.CANVA_EMBED && lK(h, new Sk(m));
        hb = new gi($("#canvaDocument"));
        hb.render();
        H && q && Rf(q.id, q.designType);
        Ff(n, "init-end")
    });
    function oK(a) {
        return a.sort(function (a) {
            for (var c = {}, d = 0; d < a.length; d++)c[a[d]] = d;
            return function (a, b) {
                var d = a.getName(), k = b.getName();
                return c[d] - c[k] || d.localeCompare(k)
            }
        }(["title", "subtitle", "body"])).map(function (a) {
            var c;
            jm(a) && (c = jm(a).family);
            return go(La, c || "")
        }).filter(Boolean)
    }

    function nK() {
        $(document).on("mouseover", "a", function () {
            "#" == $(this).attr("href") && $(this).removeAttr("href")
        })
    }

    function nn() {
        function a(a) {
            a.stopPropagation();
            a.preventDefault();
            a = fp($(a.currentTarget).data("canvaElement"));
            rb.test(a) ? window.open(a) : pK(a)
        }

        t.oa().filter(function (a) {
            a = fp(a);
            return mb.test(a) || sb.test(a) || rb.test(a)
        }).forEach(function (b) {
            b.H().on("mousedown", a).on("touchstart", a).attr("data-has-onboarding-link", "true")
        })
    }

    function pK(a) {
        function b() {
            d.addClass("disappearing").delay(500, function () {
                $(this).remove()
            });
            $("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");
            $("body \x3e .mask").addClass("off").delay(500, function () {
                $(this).removeClass("on off white")
            });
            $("body \x3e .mask").off("click");
            $("#videoLightboxClose").remove()
        }

        var c = {
            "video-tut2-tip1": "Yy9P90W987c",
            "video-tut2-tip2": "ALLmXFaYzbo",
            "video-tut2-tip3": "JziV33Lgq8c",
            "video-tut2-tip4": "XTTtTbVdjU0"
        }, d;
        if ("#" === a.charAt(0)) {
            a = a.substring(1);
            if (!c.hasOwnProperty(a))return;
            c = c[a]
        } else if (sb.test(a))c = a.match(sb)[1]; else return;
        $("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");
        $("body \x3e .mask").addClass("white").forceLayout().addClass("on").on("click", b);
        d = $('\x3cdiv id\x3d"videoLightbox" class\x3d"dialog"\x3e\x3c/div\x3e');
        d.append('\x3ciframe width\x3d"640" height\x3d"480" src\x3d"//www.youtube.com/embed/' + c + "?" + $.param({
                rel: 0,
                autoplay: 1,
                modestbranding: 1,
                fs: 0,
                showinfo: 0
            }) + '" frameborder\x3d"0"\x3e\x3c/iframe\x3e').append('\x3ca id\x3d"videoLightboxClose" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e').appendTo("body").addClass("playing");
        $("#videoLightboxClose").on("click", b)
    }

    function mK() {
        function a(a) {
            a.stopPropagation();
            a.preventDefault();
            b();
            $("#touchDevice").addClass("on");
            ky();
            H && H.track("touch_device_notice")
        }

        function b() {
            document.removeEventListener("touchstart", a, !0);
            document.removeEventListener("mousedown", b)
        }

        Xx && (document.addEventListener("touchstart", a, !0), document.addEventListener("mousedown", b))
    };
    function qK() {
    }

    qK = X.extend({className: "editorHintPopOver"});
    qK.prototype.initialize = function (a) {
        _.extend(a, {Lb: "Show me!"});
        X.prototype.initialize.call(this, a)
    };
    function sn(a, b, c, d) {
        this.sa = a;
        this.analytics = b;
        this.profiles = c;
        this.media = d;
        this.Bw = {UploadImages: this.rH.bind(this)}
    }

    sn.prototype.rH = function () {
        return new P(function (a, b) {
            function c(c, e) {
                if (200 === c && e && 0 >= e.total) {
                    var k = new qK({
                        position: "left",
                        title: "Upload your own photos",
                        content: "Use photos in your designs by uploading from your computer or from Facebook."
                    }), l = $(".uploads a");
                    k.on("hide", function (a) {
                        2 === a && l.click()
                    });
                    k.je(l);
                    d.analytics.km("experiment_hints_upload_image_shown");
                    a()
                } else b()
            }

            if (this.sa.Ta.get(Ad)) {
                var d = this, e = Vr(Ur((new Tr).Sg(!0).Yf(!1).Rg(), !0), [Zd, ae]).sm(0, 0);
                zr(this.media, e, c)
            } else b()
        }.bind(this))
    };
    function rn(a) {
        function b() {
            function a() {
                Sl(d.profiles, "Hint::" + h)
            }

            function g() {
                b()
            }

            if (!(0 >= c.length)) {
                var h = c.pop();
                d.Bw[h]().then(a).catch(g)
            }
        }

        var c, d = a;
        Rl(a.profiles).then(function (a) {
            c = _.filter(_.keys(d.Bw), function (b) {
                return !a["Hint::" + b]
            }, this);
            b()
        })
    };
    $(function () {
        function a() {
            zE(function () {
                var a = Jm(), e = Mm(a).ta(), a = a.user;
                zE.identify({name: c(a), email: a.Zv(), externalId: a.G(), organization: d(e) || void 0});
                zE.setLocale(a.Gk());
                $(".helpMenuButton").click(b)
            })
        }

        function b() {
            zE && zE.activate({hideOnClose: !0});
            return !zE
        }

        function c(a) {
            var b = a.ac();
            a = a.oh();
            return b ? b : a
        }

        function d(a) {
            var b = a.ac();
            a = a.brandname;
            return b ? b : a
        }

        var e = $f(window.analyticsConfig);
        !nd().Ta.get(Id) || window.brandPageConfig && window.brandPageConfig.brandOnboardingSettings || a();
        (function () {
            $("#editorHelpMenuButton").click(function () {
                Qf(e,
                    "need_help", "editor", "canvas", "bottom_right")
            })
        })()
    });
    $(document).on("wheel", ".dd-options, .disableAncestorScroll", function (a) {
        var b = a.originalEvent && a.originalEvent.deltaY, c = a.currentTarget, d = 0 > b && 0 === c.scrollTop, b = 0 < b && Math.ceil(c.scrollTop + c.getBoundingClientRect().height) === c.scrollHeight;
        (d || b) && a.preventDefault()
    });
    function Qm(a) {
        this.wa = a.wa;
        this.element = $(this.template());
        this.element.addClass(rK(a.style));
        this.element.on("click", ".modalContentMask", function (a) {
            this.trigger("maskClick", a)
        }.bind(this));
        this.style = a.style;
        this.wm = ""
    }

    f = Qm.prototype;
    f.off = Backbone.Events.off;
    f.on = Backbone.Events.on;
    f.trigger = Backbone.Events.trigger;
    function rK(a) {
        switch (a) {
            case Rm:
                return "modalContentBlurAndDarken";
            case bn:
                return "modalContentDarken";
            case TJ:
                return "modalContentClear";
            case GH:
                return "modalContentNone";
            default:
                throw Error();
        }
    }

    f.hide = function () {
        $("body").removeClass(this.wm).attr("data-modal-levels", $("body").attr("data-modal-levels") - 1);
        "0" === $("body").attr("data-modal-levels") && $("body").css("margin-right", "");
        this.element.removeClass("modalContentOn");
        this.wa.setTimeout(function () {
            this.element.detach()
        }.bind(this), 300)
    };
    f.show = function (a) {
        this.element.children(":not(.modalContentMask)").remove();
        this.element.append(a).appendTo("body");
        Df(function () {
            var a = this, c = parseInt($("body").attr("data-modal-levels"), 10) || 0, d = window.innerWidth - $(window).width();
            $("body").attr("data-modal-levels", c + 1);
            0 === c && $("body").css("margin-right", d);
            this.element.addClass("modalContentOn");
            ["modalContentVisible", rK(this.style) + "Visible"].forEach(function (c) {
                $("body").hasClass(c) || (a.wm += c + " ")
            });
            $("body").addClass(this.wm)
        }.bind(this))
    };
    f.template = _.template('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e');
    var Rm = "BLUR_AND_DARKEN", bn = "DARKEN", TJ = "CLEAR", GH = "NONE";
})();